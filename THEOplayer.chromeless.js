/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2023.1.2 (4.8.0)
 Created: 2023-02-12T07:02:40.809Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,e,r=t.window,s=t.document,u=t.location,o=t.navigator,a=t.setTimeout,h=t.clearTimeout,c=t.setInterval,f=t.clearInterval,v=t.Error,l=t.TypeError,d=t.SyntaxError,_=t.Object,w=t.Math,g=t.parseInt,y=t.parseFloat,m=t.isNaN,p=t.Uint8Array,k=t.Worker,b=(t.WorkerGlobalScope,t.XMLHttpRequest);function A(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),_.defineProperty(t,e.key,e)}}function T(t,n,i){return n&&A(t.prototype,n),i&&A(t,i),_.defineProperty(t,"prototype",{writable:!1}),t}function S(t,n){return(S=_.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function E(t,n){t.prototype=_.create(n.prototype),t.prototype.constructor=t,S(t,n)}!function(t){t.l="web",t.g="android",t.I="android-tv",t.R="ios",t.N="tvos",t.M="chromecast"}(e||(e={}));var I=o?o.userAgent:"",R=I.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),N=I.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),C=I.match(/Android ([0-9\.]+)/i),D=I.match(/Windows NT ([0-9\.]+)/i),P=I.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),B=I.match(/Firefox\/([0-9\.]+)/i),x=I.match(/OPR\/(\d+\.\d+)/i),O=I.match(/Tizen ([0-9\.]+)/i),L=I.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),M=function(){function n(){this.F=Boolean("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch||o&&o.msMaxTouchPoints),this.U=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(I)||/(macintosh|mac(?=_powerpc)\s)/i.test(I),this.j=/Windows NT/i.test(I),this.V=D?y(D[1]):0,this.q=/Android/i.test(I),this.G=C?y(C[1]):0,this.Y=/windows phone (8|8\.1)/i.test(I),this.K=/iPhone/i.test(I),this.Z=/iPad/i.test(I),this.J=this.U&&this.F&&!this.Z,this.nt=/iPod/i.test(I),this.ut=/Mobile Safari/i.test(I),this.ot=/EOSSTB/i.test(I),this.ct=(this.K||this.Z||this.J||this.nt)&&!this.Y,this.ft=L?y(L[2]):0,this.vt=this.Y||this.ct||this.q||this.ut,this.dt=/CriOS/i.test(I),this._t=Boolean(t.chrome&&/google/i.test(o.vendor))||this.dt,this.wt=this._t&&/Edg\//i.test(o.userAgent),this.yt=N?g(N[1],10):0,this.kt=Boolean(t.chrome||/Chrome/i.test(I)||/CriOS/i.test(I)),this.bt=R?g(R[1],10):0,this.At=/SMART-TV.*Tizen/i.test(I),this.Tt=O?y(O[1]):0,this.St=/webos|web0s/i.test(I),this.Et=/Edge\/\d+/i.test(I),this.It=/Trident/i.test(I),this.Rt=this.It&&!t.ActiveXObject&&"ActiveXObject"in t,this.Nt=/Vivaldi/i.test(I),this.Ct=/Firefox/i.test(I)&&!/Seamonkey/i.test(I),this.Dt=B?y(B[1]):0,this.Pt=/Safari/i.test(I)&&!/Chrome/i.test(I)&&!this.Y&&!this.At,this.Bt=P?y(P[2]):0,this.xt=Boolean(x),this.Ot=x?y(x[1]):0,this.Lt=/CrKey/.test(I),this.Mt=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(I),this.Ft="web"===e.I,this.Ut="web"===e.g,this.jt=this.Ut||this.Ft,this.Ht="web"===e.R,this.Xt="web"===e.N,this.zt="web"===e.M}return T(n,[{key:"Vt",get:function(){return this.F}},{key:"qt",get:function(){return this.U}},{key:"Wt",get:function(){return this.j}},{key:"Gt",get:function(){return this.V}},{key:"Yt",get:function(){return this.q}},{key:"$t",get:function(){return this.G}},{key:"Qt",get:function(){return this.Y}},{key:"Kt",get:function(){return this.K}},{key:"Zt",get:function(){return this.Z}},{key:"Jt",get:function(){return this.J}},{key:"in",get:function(){return this.nt}},{key:"un",get:function(){return this.ct}},{key:"hn",get:function(){return this.ft}},{key:"cn",get:function(){return this.ot}},{key:"fn",get:function(){return this.ut}},{key:"vn",get:function(){return this.vt}},{key:"dn",get:function(){return this.dt}},{key:"_n",get:function(){return this._t}},{key:"wn",get:function(){return this.bt}},{key:"yn",get:function(){return this.wt}},{key:"pn",get:function(){return this.yt}},{key:"An",get:function(){return this.At}},{key:"Tn",get:function(){return this.Tt}},{key:"Sn",get:function(){return this.St}},{key:"En",get:function(){return this.Et}},{key:"In",get:function(){return this.It}},{key:"Rn",get:function(){return this.Rt}},{key:"Nn",get:function(){return this.Nt}},{key:"Cn",get:function(){return this.Ct}},{key:"Dn",get:function(){return this.Dt}},{key:"Pn",get:function(){return this.Pt}},{key:"Bn",get:function(){return this.Bt}},{key:"xn",get:function(){return this.xt}},{key:"On",get:function(){return this.Ot}},{key:"Ln",get:function(){return this.Lt}},{key:"Mn",get:function(){return this.Mt}},{key:"Fn",get:function(){return!(!this.Sn&&!this.An)&&this.wn<=56}},{key:"Un",get:function(){return this.Ft}},{key:"jn",get:function(){return this.Ut}},{key:"Hn",get:function(){return this.jt}},{key:"Xn",get:function(){return this.Ht}},{key:"zn",get:function(){return this.Xt}},{key:"Vn",get:function(){return this.zt}},{key:"qn",get:function(){return this.kt}}]),n}();M.Wn=new M;var F=M.Wn,U={}.hasOwnProperty,j={}.toString;function H(t){return null!=t}function X(t){return void 0===t}var z=Array.isArray||function(t){return"[object Array]"===j.call(t)};function V(t){return q(t)&&U.call(t,"length")&&K(t.length)}function q(t){return"object"==typeof t&&null!==t}function W(t){return q(t)&&t.constructor&&t.constructor===_}function G(t){return"string"==typeof t}function Y(t){return"boolean"==typeof t}function $(t){return Boolean(t)&&"function"==typeof t.then}function Q(t){return"[object Date]"===j.call(t)}function K(t){return"number"==typeof t}var Z=function(){},J=function(t){return t};function tt(t,n){var e=-1/0;return function(){var r=i.Gn();r-e>=n&&(t.apply(void 0,arguments),e=r)}}function nt(t,n,e){var r;return function(){for(var s=arguments.length,u=new Array(s),o=0;o<s;o++)u[o]=arguments[o];var a=this,h=e&&!r;void 0!==r&&i.Yn(r),r=i.$n(function(){r=void 0,e||t.apply(a,u)},n),h&&t.apply(a,u)}}var it=!(F.In&&!F.Rn),et=t.console;function rt(t){if(q(t))try{return JSON.stringify(t)}catch(t){}return t}function st(t){return t.map(rt).join(" ")}function ut(t){var n=et&&et[t];return n?n.bind&&it?n.bind(et):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];et[t](st(i))}:void 0}var ot,at=ut("log")||Z,ht=ut("warn")||at.bind(void 0,"WARNING:"),ct=ut("error")||at.bind(void 0,"ERROR:"),ft=(ot=et&&et.assert)?ot.bind&&it?ot.bind(et):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];et.assert(t,st(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ct.apply(void 0,["Assertion failed:"].concat(i))}},vt=null;try{vt=new WebAssembly.Instance(new WebAssembly.Module(new p([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function lt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function dt(t){return!0===(t&&t.Qn)}function _t(t){var n=w.clz32(t&-t);return t?31-n:n}lt.prototype.Qn,_.defineProperty(lt.prototype,"Qn",{value:!0}),lt.isLong=dt;var wt={},gt={};function yt(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=gt[t])?e:(i=pt(t,0,!0),r&&(gt[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=wt[t])?e:(i=pt(t,t<0?-1:0,!1),r&&(wt[t]=i),i)}function mt(t,n){if(m(t))return n?Nt:Rt;if(n){if(t<0)return Nt;if(t>=St)return xt}else{if(t<=-Et)return Ot;if(t+1>=Et)return Bt}return t<0?mt(-t,n).neg():pt(t%Tt|0,t/Tt|0,n)}function pt(t,n,i){return new lt(t,n,i)}lt.fromInt=yt,lt.fromNumber=mt,lt.fromBits=pt;var kt=w.pow;function bt(t,n,i){if(0===t.length)throw v("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?Nt:Rt;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw v("interior hyphen");if(0===e)return bt(t.substring(1),n,i).neg();for(var r=mt(kt(i,8)),s=Rt,u=0;u<t.length;u+=8){var o=w.min(8,t.length-u),a=g(t.substring(u,u+o),i);if(o<8){var h=mt(kt(i,o));s=s.mul(h).add(mt(a))}else s=(s=s.mul(r)).add(mt(a))}return s.unsigned=n,s}function At(t,n){return"number"==typeof t?mt(t,n):"string"==typeof t?bt(t,n):pt(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}lt.fromString=bt,lt.fromValue=At;var Tt=4294967296,St=Tt*Tt,Et=St/2,It=yt(1<<24),Rt=yt(0);lt.ZERO=Rt;var Nt=yt(0,!0);lt.UZERO=Nt;var Ct=yt(1);lt.ONE=Ct;var Dt=yt(1,!0);lt.UONE=Dt;var Pt=yt(-1);lt.NEG_ONE=Pt;var Bt=pt(-1,2147483647,!1);lt.MAX_VALUE=Bt;var xt=pt(-1,-1,!0);lt.MAX_UNSIGNED_VALUE=xt;var Ot=pt(0,-2147483648,!1);lt.MIN_VALUE=Ot;var Lt=lt.prototype;Lt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Lt.toNumber=function(){return this.unsigned?(this.high>>>0)*Tt+(this.low>>>0):this.high*Tt+(this.low>>>0)},Lt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Ot)){var n=mt(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=mt(kt(t,6),this.unsigned),s=this,u="";;){var o=s.div(r),a=(s.sub(o.mul(r)).toInt()>>>0).toString(t);if((s=o).isZero())return a+u;for(;a.length<6;)a="0"+a;u=""+a+u}},Lt.getHighBits=function(){return this.high},Lt.getHighBitsUnsigned=function(){return this.high>>>0},Lt.getLowBits=function(){return this.low},Lt.getLowBitsUnsigned=function(){return this.low>>>0},Lt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ot)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Lt.isZero=function(){return 0===this.high&&0===this.low},Lt.eqz=Lt.isZero,Lt.isNegative=function(){return!this.unsigned&&this.high<0},Lt.isPositive=function(){return this.unsigned||this.high>=0},Lt.isOdd=function(){return 1==(1&this.low)},Lt.isEven=function(){return 0==(1&this.low)},Lt.equals=function(t){return dt(t)||(t=At(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Lt.eq=Lt.equals,Lt.notEquals=function(t){return!this.eq(t)},Lt.neq=Lt.notEquals,Lt.ne=Lt.notEquals,Lt.lessThan=function(t){return this.comp(t)<0},Lt.lt=Lt.lessThan,Lt.lessThanOrEqual=function(t){return this.comp(t)<=0},Lt.lte=Lt.lessThanOrEqual,Lt.le=Lt.lessThanOrEqual,Lt.greaterThan=function(t){return this.comp(t)>0},Lt.gt=Lt.greaterThan,Lt.greaterThanOrEqual=function(t){return this.comp(t)>=0},Lt.gte=Lt.greaterThanOrEqual,Lt.ge=Lt.greaterThanOrEqual,Lt.compare=function(t){if(dt(t)||(t=At(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Lt.comp=Lt.compare,Lt.negate=function(){return!this.unsigned&&this.eq(Ot)?Ot:this.not().add(Ct)},Lt.neg=Lt.negate,Lt.add=function(t){dt(t)||(t=At(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,a=0,h=0,c=0,f=0;return c+=(f+=r+(65535&t.low))>>>16,h+=(c+=e+o)>>>16,a+=(h+=i+u)>>>16,a+=n+s,pt((c&=65535)<<16|(f&=65535),(a&=65535)<<16|(h&=65535),this.unsigned)},Lt.subtract=function(t){return dt(t)||(t=At(t)),this.add(t.neg())},Lt.sub=Lt.subtract,Lt.multiply=function(t){if(this.isZero())return this;if(dt(t)||(t=At(t)),vt)return pt(vt.mul(this.low,this.high,t.low,t.high),vt.get_high(),this.unsigned);if(t.isZero())return this.unsigned?Nt:Rt;if(this.eq(Ot))return t.isOdd()?Ot:Rt;if(t.eq(Ot))return this.isOdd()?Ot:Rt;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(It)&&t.lt(It))return mt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,a=65535&t.low,h=0,c=0,f=0,v=0;return f+=(v+=r*a)>>>16,c+=(f+=e*a)>>>16,f&=65535,c+=(f+=r*o)>>>16,h+=(c+=i*a)>>>16,c&=65535,h+=(c+=e*o)>>>16,c&=65535,h+=(c+=r*u)>>>16,h+=n*a+i*o+e*u+r*s,pt((f&=65535)<<16|(v&=65535),(h&=65535)<<16|(c&=65535),this.unsigned)},Lt.mul=Lt.multiply,Lt.divide=function(t){if(dt(t)||(t=At(t)),t.isZero())throw v("division by zero");var n,i,e;if(vt)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?pt((this.unsigned?vt.div_u:vt.div_s)(this.low,this.high,t.low,t.high),vt.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Nt:Rt;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Nt;if(t.gt(this.shru(1)))return Dt;e=Nt}else{if(this.eq(Ot))return t.eq(Ct)||t.eq(Pt)?Ot:t.eq(Ot)?Ct:(n=this.shr(1).div(t).shl(1)).eq(Rt)?t.isNegative()?Ct:Pt:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(Ot))return this.unsigned?Nt:Rt;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=Rt}for(i=this;i.gte(t);){n=w.max(1,w.floor(i.toNumber()/t.toNumber()));for(var r=w.ceil(w.log(n)/w.LN2),s=r<=48?1:kt(2,r-48),u=mt(n),o=u.mul(t);o.isNegative()||o.gt(i);)o=(u=mt(n-=s,this.unsigned)).mul(t);u.isZero()&&(u=Ct),e=e.add(u),i=i.sub(o)}return e},Lt.div=Lt.divide,Lt.modulo=function(t){return dt(t)||(t=At(t)),vt?pt((this.unsigned?vt.rem_u:vt.rem_s)(this.low,this.high,t.low,t.high),vt.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Lt.mod=Lt.modulo,Lt.rem=Lt.modulo,Lt.not=function(){return pt(~this.low,~this.high,this.unsigned)},Lt.countLeadingZeros=function(){return this.high?w.clz32(this.high):w.clz32(this.low)+32},Lt.clz=Lt.countLeadingZeros,Lt.countTrailingZeros=function(){return this.low?_t(this.low):_t(this.high)+32},Lt.ctz=Lt.countTrailingZeros,Lt.and=function(t){return dt(t)||(t=At(t)),pt(this.low&t.low,this.high&t.high,this.unsigned)},Lt.or=function(t){return dt(t)||(t=At(t)),pt(this.low|t.low,this.high|t.high,this.unsigned)},Lt.xor=function(t){return dt(t)||(t=At(t)),pt(this.low^t.low,this.high^t.high,this.unsigned)},Lt.shiftLeft=function(t){return dt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?pt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):pt(0,this.low<<t-32,this.unsigned)},Lt.shl=Lt.shiftLeft,Lt.shiftRight=function(t){return dt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?pt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):pt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Lt.shr=Lt.shiftRight,Lt.shiftRightUnsigned=function(t){return dt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?pt(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):pt(32===t?this.high:this.high>>>t-32,0,this.unsigned)},Lt.shru=Lt.shiftRightUnsigned,Lt.shr_u=Lt.shiftRightUnsigned,Lt.rotateLeft=function(t){var n;return dt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?pt(this.high,this.low,this.unsigned):t<32?(n=32-t,pt(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),pt(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},Lt.rotl=Lt.rotateLeft,Lt.rotateRight=function(t){var n;return dt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?pt(this.high,this.low,this.unsigned):t<32?(n=32-t,pt(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),pt(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},Lt.rotr=Lt.rotateRight,Lt.toSigned=function(){return this.unsigned?pt(this.low,this.high,!1):this},Lt.toUnsigned=function(){return this.unsigned?this:pt(this.low,this.high,!0)},Lt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Lt.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Lt.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},lt.fromBytes=function(t,n,i){return i?lt.fromBytesLE(t,n):lt.fromBytesBE(t,n)},lt.fromBytesLE=function(t,n){return new lt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},lt.fromBytesBE=function(t,n){return new lt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Mt=9007199254740991,Ft=w.pow(2,-52);function Ut(t,n,i){return w.min(w.max(t,n),i)}function jt(t,n,i){return t===n||w.abs(t-n)<=i}function Ht(t,n){if(t===n)return!0;var i=w.abs(t-n);return i<Ft||i<w.max(w.abs(t),w.abs(n))*Ft}function Xt(t){return t!=t}function zt(t,n){return t===n||Xt(t)&&Xt(n)}function Vt(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function qt(t){return!m(t.getTime())}function Wt(){return Date.now()||(new Date).getTime()}function Gt(t){return t/1e3}function Yt(t){return 1e3*t}var $t,Qt=1/6,Kt=lt.fromNumber(Mt);function Zt(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(Kt))return t.toNumber()/n;var i=t.divide(n),e=t.subtract(i.multiply(n));return i.toNumber()+e.toNumber()/n}function Jt(t){return t.Kn===$t.Zn}function tn(t){return t.Kn===$t.Jn}function nn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.Zn=1]="Zn",t[t.ni=2]="ni",t[t.Jn=3]="Jn",t[t.ei=4]="ei",t[t.ri=9]="ri"}($t||($t={}));var en=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];v.apply(this,n)};(en.prototype=_.create(v.prototype)).constructor=en;var rn=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,v.captureStackTrace&&v.captureStackTrace(nn(e),e.constructor),e}return E(n,t),T(n,[{key:"name",get:function(){return"BaseError"}}]),n}(en),sn=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return E(n,t),n}(rn),un=function(){function t(){}return t.prototype.ui=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new sn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new sn;return new ln(n)},t}(),on=function(){function t(t){this.oi=void 0,this.oi=t}var n=t.prototype;return n.ai=function(t){return this.oi.isEqualNode(t.oi)},n.ci=function(n){return new t(this.oi.cloneNode(n))},T(t,[{key:"Kn",get:function(){return $t.ni}},{key:"di",get:function(){var t;return null!=(t=this.oi.localName)?t:wn(this.oi.nodeName)}},{key:"_i",get:function(){return this.oi.nodeName}},{key:"wi",get:function(){var t;return null!=(t=this.oi.namespaceURI)?t:void 0}},{key:"gi",get:function(){var t;return null!=(t=this.oi.prefix)?t:void 0}},{key:"Ai",get:function(){return this.oi.nodeValue}}]),t}(),an=function(){function t(t){this.Ti=void 0,this.Si=void 0,this.Ti=t}var n=t.prototype;return n.Ei=function(t){return this.Ii.filter(function(n){return dn(n)&&n.Ri===t})},n.Ni=function(t,n){return this.Ii.filter(function(i){return dn(i)&&i.di===n&&i.wi===t})},n.Ci=function(t){this.Ti.appendChild(t.Di),this.Si&&this.Si.push(t)},n.ai=function(t){return this.Ti.isEqualNode(t.Di)},T(t,[{key:"Ii",get:function(){return void 0===this.Si&&(this.Si=function(t){for(var n=[],i=0;i<t.length;i++){var e=_n(t.item(i));e&&n.push(e)}return n}(this.Ti.childNodes)),this.Si}},{key:"Pi",get:function(){return this.Ii.filter(dn)}},{key:"Di",get:function(){return this.Ti}}]),t}(),hn=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.Bi=function(t){if(this.Ti.hasAttribute(t))return this.Ti.getAttribute(t)},i.xi=function(t,n){if(this.Ti.hasAttributeNS(t,n))return this.Ti.getAttributeNS(t,n)},i.Oi=function(t){this.Ti.removeAttribute(t)},i.Li=function(t,n){this.Ti.removeAttributeNS(t,n)},i.Mi=function(t,n){this.Ti.setAttribute(t,n)},i.Fi=function(t,n,i){this.Ti.setAttributeNS(t,n,i)},i.ci=function(t){return new n(this.Ti.cloneNode(t))},T(n,[{key:"Kn",get:function(){return $t.Zn}},{key:"di",get:function(){var t;return null!=(t=this.Ti.localName)?t:wn(this.Ti.nodeName)}},{key:"wi",get:function(){var t;return null!=(t=this.Ti.namespaceURI)?t:void 0}},{key:"gi",get:function(){var t;return null!=(t=this.Ti.prefix)?t:void 0}},{key:"Ri",get:function(){return this.Ti.nodeName}},{key:"Ui",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new on(t.item(i)));return n}(this.Ti.attributes)}},{key:"ji",get:function(){return this.Ti.textContent}}]),n}(an),cn=function(){function t(t){this.Ti=void 0,this.Ti=t}return t.prototype.ai=function(t){return this.Hi===t.Hi},T(t,[{key:"Hi",get:function(){return this.Ti.nodeValue}},{key:"Di",get:function(){return this.Ti}}]),t}(),fn=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.ci=function(t){return new n(this.Ti.cloneNode(t))},T(n,[{key:"Kn",get:function(){return $t.Jn}}]),n}(cn),vn=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.ci=function(t){return new n(this.Ti.cloneNode(t))},T(n,[{key:"Kn",get:function(){return $t.ei}}]),n}(cn),ln=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.ci=function(t){return new n(this.Ti.cloneNode(t))},T(n,[{key:"Kn",get:function(){return $t.ri}},{key:"Xi",get:function(){return new hn(this.Ti.documentElement)}}]),n}(an);function dn(t){return Jt(t)}function _n(t){switch(t.nodeType){case $t.Zn:return new hn(t);case $t.Jn:return new fn(t);case $t.ei:return new vn(t)}}function wn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function gn(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),_.defineProperty(t,e.key,e)}}function yn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){mn(t,n,r,e);var s=t;t=e,e=s}return t}(t,n);return i!==t&&mn(i,null,t.length,t),t}function mn(t,n,i,e){var r,s,u,o,a,h=t.length,c=0,f=2*i;for(r=0;r<h;r+=f)for(u=(s=r+i)+i,s>h&&(s=h),u>h&&(u=h),o=r,a=s;;)if(o<s&&a<u)n(t[o],t[a])<=0?e[c++]=t[o++]:e[c++]=t[a++];else if(o<s)e[c++]=t[o++];else{if(!(a<u))break;e[c++]=t[a++]}}var pn=/[a-zA-Z]/,kn=/[0-9]/,bn=/[0-9a-fA-F]/,An=/^0x/i,Tn=/^[0-9]+$/,Sn=/^[0-9a-fA-F]+$/,En=/^[0-7]+$/,In=_.prototype.toString,Rn=Array.isArray||function(t){return"[object Array]"===In.call(t)},Nn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function Cn(t){return Rn(t)?t:Array.from(t)}function Dn(t){return t>=65&&t<=90}function Pn(t){return Dn(t)||function(t){return t>=97&&t<=122}(t)}function Bn(t){return t>=48&&t<=57}function xn(t){return Bn(t)||Pn(t)}function On(t){return Bn(t)||t>=65&&t<=70||t>=97&&t<=102}function Ln(t){return Dn(t)?t+32:t}function Mn(t){return Bn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Fn(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Un=w.min,jn=String.fromCharCode,Hn=16384;function Xn(t){for(var n=t.length,i=[],e=0;e<n;e+=Hn){var r=Un(e+Hn,n);i.push(jn.apply(null,t.slice(e,r)))}return i.join("")}var zn=/[^\0-\x7E]/,Vn=/[\x2E\u3002\uFF0E\uFF61]/g,qn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Wn=w.floor,Gn=String.fromCharCode;function Yn(t){throw new RangeError(qn[t])}function $n(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}var Qn,Kn,Zn,Jn=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},ti=function(t,n,i){var e=0;for(t=i?Wn(t/700):t>>1,t+=Wn(t/n);t>455;e+=36)t=Wn(t/35);return Wn(e+36*t/(t+38))},ni=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(Vn,".")).split("."),n).join(".");return e+r}(t,function(t){return zn.test(t)?"xn--"+function(t){for(var n=[],i=(t=$n(t)).length,e=128,r=0,s=72,u=0,o=t;u<o.length;u++){var a=o[u];a<128&&n.push(Gn(a))}var h=n.length,c=h;for(h&&n.push("-");c<i;){for(var f=2147483647,v=0,l=t;v<l.length;v++){var d=l[v];d>=e&&d<f&&(f=d)}var _=c+1;f-e>Wn((2147483647-r)/_)&&Yn("overflow"),r+=(f-e)*_,e=f;for(var w=0,g=t;w<g.length;w++){var y=g[w];if(y<e&&++r>2147483647&&Yn("overflow"),y==e){for(var m=r,p=36;;p+=36){var k=p<=s?1:p>=s+26?26:p-s;if(m<k)break;var b=m-k,A=36-k;n.push(Gn(Jn(k+b%A,0))),m=Wn(b/A)}n.push(Gn(Jn(m,0))),s=ti(r,_,c==h),r=0,++c}}++r,++e}return n.join("")}(t):t})};function ii(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Xn(n)}function ei(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ri(t,n){return t>>n&63|128}function si(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(ei(t),n.push(t>>12&15|224),n.push(ri(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ri(t,12)),n.push(ri(t,6))),n.push(63&t|128)):n.push(t)}function ui(t){for(var n=[],i=0;i<t.length;i++){si(t[i],n)}return n}function oi(){if(Zn>=Kn)throw new v("Invalid byte index");var t=255&Qn[Zn];if(Zn++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function ai(){var t,n;if(Zn>Kn)throw new v("Invalid byte index");if(Zn===Kn)return!1;if(t=255&Qn[Zn],Zn++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|oi())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|oi()<<6|oi())>=2048)return ei(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|oi()<<12|oi()<<6|oi())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}function hi(t){return[37,Fn(t>>4),Fn(15&t)]}function ci(t){return function(t){return t>=0&&t<=31}(t)||t>126}function fi(t){return ci(t)||32===t||34===t||60===t||62===t||96===t}function vi(t){return fi(t)||35===t||63===t||123===t||125===t}function li(t){return vi(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function di(t){return t<33||t>126||34===t||35===t||60===t||62===t}function _i(t){return di(t)||39===t}function wi(t,n){if(!n(t))return[t];for(var i=ui([t]),e=[],r=0;r<i.length;r++){var s=i[r];e.push.apply(e,hi(s))}return e}function gi(t,n){for(var i=[],e=0,r=$n(t);e<r.length;e++){var s=r[e];i.push.apply(i,wi(s,n))}return ii(i)}function yi(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&On(t[e+1])&&On(t[e+2])){var s=Mn(t[e+1])<<4|Mn(t[e+2]);n.push(s),e+=2}else n.push(r)}return n}(ui(t))}function mi(t){return ii(function(t){Qn=t.slice(),Kn=Qn.length,Zn=0;for(var n,i=[];!1!==(n=ai());)i.push(n);return i}(yi($n(t))))}function pi(t){var n,i,e,r,s=t.length,u=[0,0,0,0,0,0,0,0],o=0,a=null,h=0;if(h<s&&":"===t[h]){if(!(h+1<s&&":"===t[h+1]))throw new l;h+=2,a=o+=1}for(;h<s;){if(8===o)throw new l("Too many groups");if(":"!==t[h]){for(var c=0,f=0;f<4&&h<s&&bn.test(t[h]);)c=c<<4|g(t[h],16),h+=1,f+=1;if("."===t[h]){if(0===f)throw new l;if(h-=f,o>6)throw new l;for(var v=0;h<s;){var d=null;if(v>0){if(!("."===t[h]&&v<4))throw new l;h+=1}if(!kn.test(t[h]))throw new l;for(;h<s&&kn.test(t[h]);){var _=g(t[h],10);if(null===d)d=_;else{if(0===d)throw new l;if((d=10*d+_)>255)throw new l}h+=1}u[o]=u[o]<<8|d,2!==(v+=1)&&4!==v||(o+=1)}if(4!==v)throw new l;break}if(":"===t[h]){if((h+=1)===s)throw new l}else if(h<s)throw new l;u[o]=c,o+=1}else{if(null!==a)throw new l("Too many :: groups");h+=1,a=o+=1}}if(null!==a){var w=o-a;for(o=7;0!==o&&w>0;)e=a+w-1,r=void 0,r=(n=u)[i=o],n[i]=n[e],n[e]=r,o-=1,w-=1}else if(8!==o)throw new l;return u}function ki(t){var n=10,i=Tn;return An.test(t)?(t=t.slice(2),n=16,i=Sn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=En),""===t?0:i.test(t)?g(t,n):void 0}var bi={zi:4},Ai=/[\0\t\n\r #%/:?@\[\\\]]/,Ti=/[\0\t\n\r #/:?@\[\\\]]/;function Si(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new l("Invalid IPv6 address");return{zi:2,Vi:pi(t.slice(1,-1))}}if(!n)return function(t){if(Ti.test(t))throw new l("Invalid code point in opaque host");var n=gi(t,ci);return""===n?bi:{zi:3,qi:n}}(t);var i=function(t){return function(t){return ni(t.toLowerCase())}(t)}(mi(t));if(Ai.test(i))throw new l("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var s=ki(r);if(void 0===s)return;i.push(s)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new l;if(i[i.length-1]>=w.pow(256,5-i.length))throw new l;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*w.pow(256,3-a);return o}}(i);return void 0!==e?{zi:1,Vi:e}:""===i?bi:{zi:0,Wi:i}}function Ei(t){switch(t.zi){case 0:return t.Wi;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Vi);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,s=0;s<8;s++)0===t[s]?(0===r&&(e=s),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.Vi)+"]";case 3:return t.qi;case 4:return""}}var Ii=/\+/g;function Ri(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var s=r.indexOf("="),u=void 0,o=void 0;-1!==s?(u=r.slice(0,s),o=r.slice(s+1)):(u=r,o=""),u=u.replace(Ii," "),o=o.replace(Ii," ");var a=mi(u),h=mi(o);i.push([a,h])}}return i}function Ni(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=Ci(ui($n(e[0])))+"="+Ci(ui($n(e[1])))}return n}function Ci(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||xn(n)?i.push(r):i.push.apply(i,hi(r))}return Xn(i)}var Di=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Pi(t){var n=""+t,i=Di.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var s=t.charCodeAt(r);if(xi(s))if(Oi(s)||r===i-1)e.push(Bi);else{var u=t.charCodeAt(r+1);Oi(u)?(e.push(s,u),r++):e.push(Bi)}else e.push(s)}return t.slice(0,n)+Xn(e)}(n,i.index):n}var Bi=65533,xi=function(t){return 55296==(63488&t)},Oi=function(t){return 0!=(1024&t)};function Li(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function Mi(t){t.Gi.length=0}function Fi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Gi,Ri(n))}function Ui(t){if(t.Yi){var n=Ni(t.Gi);""===n&&(n=null),t.Yi.Yi.$i=n}}var ji=function(){function t(t){if(void 0===t&&(t=void 0),this.Yi=null,null==t)this.Gi=[];else if("object"==typeof t||"function"==typeof t)if((s=t)instanceof ji&&Rn(s.Gi)&&(!Nn||s[Symbol.iterator]===Hi))this.Gi=t.Gi.slice();else if(function(t){return null!=t&&(!!Rn(t)||!!Nn&&"function"==typeof t[Symbol.iterator])}(t)){this.Gi=[];for(var n=0,i=Cn(t);n<i.length;n++){var e=Cn(i[n]);if(2!==e.length)throw new l("Invalid name-value pair");this.Gi.push([Pi(e[0]),Pi(e[1])])}}else for(var r in this.Gi=[],t)_.prototype.hasOwnProperty.call(t,r)&&this.Gi.push([Pi(r),Pi(t[r])]);else(t=Pi(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Gi=Ri(t);var s}var n=t.prototype;return n.append=function(t,n){t=Pi(t),n=Pi(n),this.Gi.push([t,n]),Ui(this)},n.delete=function(t){t=Pi(t);for(var n=this.Gi,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Ui(this)},n.get=function(t){t=Pi(t);for(var n=this.Gi,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=Pi(t);for(var n=this.Gi,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=Pi(t);for(var n=this.Gi,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Pi(t),n=Pi(n);for(var i=this.Gi,e=!1,r=0;r<i.length;){var s=i[r];s[0]===t?e?i.splice(r,1):(s[1]=n,e=!0,r++):r++}e||i.push([t,n]),Ui(this)},n.sort=function(){yn(this.Gi,Li),Ui(this)},n.toString=function(){return Ni(this.Gi)},n.entries=function(){return new qi(this.Gi,Xi)},n.keys=function(){return new qi(this.Gi,zi)},n.values=function(){return new qi(this.Gi,Vi)},n.forEach=function(t){var n=this;this.Gi.forEach(function(i){return t(i[1],i[0],n)})},t}(),Hi=ji.prototype.entries;Nn&&(ji.prototype[Symbol.iterator]=Hi);var Xi=function(t){return[t[0],t[1]]},zi=function(t){return t[0]},Vi=function(t){return t[1]},qi=function(){function t(t,n){this.Qi=0,this.Gi=t,this.Ki=n}return t.prototype.next=function(){return this.Qi<this.Gi.length?{done:!1,value:this.Ki(this.Gi[this.Qi++])}:{done:!0,value:void 0}},t}(),Wi="null";var Gi=_.create(null);Gi.ftp=21,Gi.file=0,Gi.gopher=70,Gi.http=80,Gi.https=443,Gi.ws=80,Gi.wss=443;var Yi=/^(?:\.|%2e)$/i,$i=/^(?:\.|%2e){2}$/i;function Qi(t){return Yi.test(t)}function Ki(t){return $i.test(t)}function Zi(t){return void 0!==Gi[t]}function Ji(t){return Zi(t.Zi)}function te(t){return""!==t.Ji||""!==t.re}function ne(t){var n=t.length;if(!(n>=2))return!1;if(!ee(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function ie(t){return 2===t.length&&pn.test(t[0])&&(":"===t[1]||"|"===t[1])}function ee(t){return 2===t.length&&ie(Xn(t))}function re(t){return ie(t)&&":"===t[1]}function se(t){var n=t.ue;0!==n.length&&("file"===t.Zi&&1===n.length&&re(n[0])||n.pop())}function ue(t){return null===t.oe||bi===t.oe||t.fe||"file"===t.Zi}var oe=-1,ae=/\t|\n|\r/g,he=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function ce(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new ve,t=t.replace(he,""));var r=null!==e?e:0;n=n||null;for(var s=[],u=!1,o=!1,a=!1,h=$n(t=t.replace(ae,"")),c=h.length,f=0;f<=c;){var v=f<c?h[f]:oe;switch(r){case 0:if(!Pn(v)){if(null===e){s.length=0,r=2;continue}throw new l("Invalid scheme")}s.push(Ln(v)),r=1;break;case 1:if(xn(v)||43===v||45===v||46===v)s.push(Ln(v));else{if(58!==v){if(null===e){s.length=0,r=2,f=0;continue}throw new l("Invalid scheme")}var d=ii(s);if(null!==e){if(Zi(i.Zi)&&!Zi(d))return;if(!Zi(i.Zi)&&Zi(d))return;if((te(i)||null!==i._e)&&"file"===d)return;if("file"===i.Zi&&(i.oe===bi||null===i.oe))return}if(i.Zi=d,null!==e)return void(Ji(i)&&i._e===Gi[i.Zi]&&(i._e=null));s.length=0,"file"===i.Zi?r=13:Ji(i)&&n&&n.Zi===i.Zi?r=3:Ji(i)?r=7:47===h[f+1]?(r=4,f+=1):(i.fe=!0,i.ue.push(""),r=18)}break;case 2:if(!n||n.fe&&35!==v)throw new l("Invalid scheme");n.fe&&35===v?(i.Zi=n.Zi,i.ue=n.ue.slice(),i.$i=n.$i,i.we="",i.fe=!0,r=20):"file"!==n.Zi?(r=5,f-=1):(r=13,f-=1);break;case 3:47===v&&47===h[f+1]?r=8:(r=5,f-=1);break;case 4:47===v?r=9:(r=17,f-=1);break;case 5:i.Zi=n.Zi,oe===v?(i.Ji=n.Ji,i.re=n.re,i.oe=n.oe,i._e=n._e,i.ue=n.ue.slice(),i.$i=n.$i):47===v?r=6:63===v?(i.Ji=n.Ji,i.re=n.re,i.oe=n.oe,i._e=n._e,i.ue=n.ue.slice(),i.$i="",r=19):35===v?(i.Ji=n.Ji,i.re=n.re,i.oe=n.oe,i._e=n._e,i.ue=n.ue.slice(),i.$i=n.$i,i.we="",r=20):92===v&&Ji(i)?r=6:(i.Ji=n.Ji,i.re=n.re,i.oe=n.oe,i._e=n._e,i.ue=n.ue.slice(),i.ue.pop(),r=17,f-=1);break;case 6:!Ji(i)||47!==v&&92!==v?47===v?r=9:(i.Ji=n.Ji,i.re=n.re,i.oe=n.oe,i._e=n._e,r=17,f-=1):r=8;break;case 7:if(47!==v||47!==h[f+1]){r=8;continue}r=8,f+=1;break;case 8:47!==v&&92!==v&&(r=9,f-=1);break;case 9:if(64===v){u&&s.unshift(37,52,48),u=!0;for(var _=0;_<s.length;_++){var w=s[_];if(58!==w||a){var y=ii(wi(w,li));a?i.re+=y:i.Ji+=y}else a=!0}s.length=0}else if(oe===v||47===v||63===v||35===v||Ji(i)&&92===v){if(u&&0===s.length)throw new l("Invalid host");f-=s.length+1,s.length=0,r=10}else s.push(v);break;case 10:case 11:if(null!==e&&"file"===i.Zi)f-=1,r=15;else if(58!==v||o)if(oe===v||47===v||63===v||35===v||Ji(i)&&92===v){if(f-=1,Ji(i)&&0===s.length)throw new l("Invalid host");if(null!==e&&0===s.length&&(te(i)||null!==i._e))return;var m=Si(ii(s),Ji(i));if(i.oe=m,s.length=0,r=16,null!==e)return}else 91===v?o=!0:93===v&&(o=!1),s.push(v);else{if(0===s.length)throw new l("Invalid host");var p=Si(ii(s),Ji(i));if(i.oe=p,s.length=0,r=12,11===e)return}break;case 12:if(Bn(v))s.push(v);else{if(!(oe===v||47===v||63===v||35===v||Ji(i)&&92===v||null!==e))throw new l("Invalid port");if(0!==s.length){var k=g(ii(s),10);if(k>65535)throw new l("Invalid port");i._e=k===Gi[i.Zi]?null:k,s.length=0}if(null!==e)return;r=16,f-=1}break;case 13:i.Zi="file",47===v||92===v?r=14:n&&"file"===n.Zi?oe===v?(i.oe=n.oe,i.ue=n.ue.slice(),i.$i=n.$i):63===v?(i.oe=n.oe,i.ue=n.ue.slice(),i.$i="",r=19):35===v?(i.oe=n.oe,i.ue=n.ue.slice(),i.$i=n.$i,i.we="",r=20):(ne(h.slice(f))||(i.oe=n.oe,i.ue=n.ue.slice(),se(i)),r=17,f-=1):(r=17,f-=1);break;case 14:47===v||92===v?r=15:(n&&"file"===n.Zi&&!ne(h.slice(f))&&(re(n.ue[0])?i.ue.push(n.ue[0]):i.oe=n.oe),r=17,f-=1);break;case 15:if(oe===v||47===v||92===v||63===v||35===v)if(f-=1,null===e&&ee(s))r=17;else if(0===s.length){if(i.oe=bi,null!==e)return;r=16}else{var b=Si(ii(s),Ji(i));if(0===b.zi&&"localhost"===b.Wi&&(b=bi),i.oe=b,null!==e)return;s.length=0,r=16}else s.push(v);break;case 16:Ji(i)?(r=17,47!==v&&92!==v&&(f-=1)):null===e&&63===v?(i.$i="",r=19):null===e&&35===v?(i.we="",r=20):oe!==v&&(r=17,47!==v&&(f-=1));break;case 17:if(oe===v||47===v||Ji(i)&&92===v||null===e&&(63===v||35===v)){var A=ii(s);if(Ki(A)?(se(i),47===v||Ji(i)&&92===v||i.ue.push("")):!Qi(A)||47===v||Ji(i)&&92===v?Qi(A)||("file"===i.Zi&&0===i.ue.length&&ee(s)&&(bi!==i.oe&&null!==i.oe&&(i.oe=bi),s[1]=58,A=ii(s)),i.ue.push(A)):i.ue.push(""),s.length=0,"file"===i.Zi&&(oe===v||63===v||35===v))for(;i.ue.length>1&&""===i.ue[0];)i.ue.shift();63===v?(i.$i="",r=19):35===v&&(i.we="",r=20)}else s.push.apply(s,wi(v,vi));break;case 18:63===v?(i.$i="",r=19):35===v?(i.we="",r=20):oe!==v&&(i.ue[0]+=ii(wi(v,ci)));break;case 19:null===e&&35===v?(i.we="",r=20):oe!==v&&(i.$i+=ii(wi(v,Ji(i)?_i:di)));break;case 20:oe===v||0===v||(i.we+=ii(wi(v,fi)))}f++}return i}function fe(t,n,i,e){try{ce(t,n,i,e)}catch(t){}}var ve=function(){this.Zi="",this.Ji="",this.re="",this.oe=null,this._e=null,this.ue=[],this.$i=null,this.we=null,this.fe=!1};function le(t){switch(t.Zi){case"blob":var n;try{n=ce(t.ue[0],null)}catch(t){return Wi}return le(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Zi,e=t.oe,r=t._e,i+"://"+Ei(e)+(null===r?"":":"+r);case"file":default:return Wi}var i,e,r}var de,_e,we,ge,ye,me,pe=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof pe&&"object"==typeof i.Yi)r=n.Yi;else try{r=ce(String(n),null)}catch(t){throw new l("Invalid base URL: "+t.message)}try{e=ce(String(t),r)}catch(t){throw new l("Invalid URL: "+t.message)}var s=e.$i;this.Yi=e,this.$i=function(t){var n=new ji;return null!==t&&Fi(n,t),n}(s),this.$i.Yi=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Zi+":";if(null!==t.oe?(i+="//",te(t)&&(i+=t.Ji,""!==t.re&&(i+=":"+t.re),i+="@"),i+=Ei(t.oe),null!==t._e&&(i+=":"+t._e)):null===t.oe&&"file"===t.Zi&&(i+="//"),t.fe)i+=t.ue[0];else for(var e=0,r=t.ue;e<r.length;e++)i+="/"+r[e];return null!==t.$i&&(i+="?"+t.$i),n||null===t.we||(i+="#"+t.we),i}(this.Yi)},set:function(t){var n;try{n=ce(String(t),null)}catch(t){throw new l("Invalid URL: "+t.message)}this.Yi=n,Mi(this.$i);var i=this.Yi.$i;null!==i&&Fi(this.$i,i)}},{key:"origin",get:function(){return le(this.Yi)}},{key:"protocol",get:function(){return this.Yi.Zi+":"},set:function(t){fe(t+":",null,this.Yi,0)}},{key:"username",get:function(){return this.Yi.Ji},set:function(t){ue(this.Yi)||(this.Yi.Ji=gi(t,li))}},{key:"password",get:function(){return this.Yi.re},set:function(t){ue(this.Yi)||(this.Yi.re=gi(t,li))}},{key:"host",get:function(){var t=this.Yi,n=t.oe;if(null===n)return"";var i=t._e,e=Ei(n);return null!==i&&(e+=":"+i),e},set:function(t){this.Yi.fe||fe(t,null,this.Yi,10)}},{key:"hostname",get:function(){var t=this.Yi.oe;return null===t?"":Ei(t)},set:function(t){this.Yi.fe||fe(t,null,this.Yi,11)}},{key:"port",get:function(){var t=this.Yi._e;return null===t?"":""+t},set:function(t){ue(this.Yi)||(""===t?this.Yi._e=null:fe(t,null,this.Yi,12))}},{key:"pathname",get:function(){var t=this.Yi.ue;return this.Yi.fe?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Yi.fe||(this.Yi.ue.length=0,fe(t,null,this.Yi,16))}},{key:"search",get:function(){var t=this.Yi.$i;return null===t||""===t?"":"?"+t},set:function(t){t=Pi(t);var n=this.Yi;if(""===t)return n.$i=null,void Mi(this.$i);"?"===t[0]&&(t=t.slice(1)),n.$i="",fe(t,null,n,19),Fi(this.$i,t)}},{key:"searchParams",get:function(){return this.$i}},{key:"hash",get:function(){var t=this.Yi.we;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Yi.we="",fe(t,null,this.Yi,20)):this.Yi.we=null}}])&&gn(n.prototype,i),e&&gn(n,e),t}();function ke(t){return t.document&&t.document.baseURI||t.location.href||""}var be=a;function Ae(t){return Boolean(t&&void 0!==t.length)}function Te(){}function Se(t){if(!(this instanceof Se))throw new l("Promises must be constructed via new");if("function"!=typeof t)throw new l("not a function");this.ye=0,this.me=!1,this.pe=void 0,this.ke=[],De(t,this)}function Ee(t,n){for(;3===t.ye;)t=t.pe;0!==t.ye?(t.me=!0,Se.Ae(function(){var i=1===t.ye?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.pe)}catch(t){return void Re(n.promise,t)}Ie(n.promise,e)}else(1===t.ye?Ie:Re)(n.promise,t.pe)})):t.ke.push(n)}function Ie(t,n){try{if(n===t)throw new l("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof Se)return t.ye=3,t.pe=n,void Ne(t);if("function"==typeof i)return void De((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.ye=1,t.pe=n,Ne(t)}catch(n){Re(t,n)}var e,r}function Re(t,n){t.ye=2,t.pe=n,Ne(t)}function Ne(t){2===t.ye&&0===t.ke.length&&Se.Ae(function(){t.me||Se.Te(t.pe)});for(var n=0,i=t.ke.length;n<i;n++)Ee(t,t.ke[n]);t.ke=null}function Ce(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function De(t,n){var i=!1;try{t(function(t){i||(i=!0,Ie(n,t))},function(t){i||(i=!0,Re(n,t))})}catch(t){if(i)return;i=!0,Re(n,t)}}Se.prototype.catch=function(t){return this.then(null,t)},Se.prototype.then=function(t,n){var i=new this.constructor(Te);return Ee(this,new Ce(t,n,i)),i},Se.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},Se.all=function(t){return new Se(function(n,i){if(!Ae(t))return i(new l("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var o=u.then;if("function"==typeof o)return void o.call(u,function(n){s(t,n)},i)}e[t]=u,0==--r&&n(e)}catch(t){i(t)}}for(var u=0;u<e.length;u++)s(u,e[u])})},Se.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new l(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var u=i.then;if("function"==typeof u)return void u.call(i,function(n){s(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var u=0;u<e.length;u++)s(u,e[u])})},Se.resolve=function(t){return t&&"object"==typeof t&&t.constructor===Se?t:new Se(function(n){n(t)})},Se.reject=function(t){return new Se(function(n,i){i(t)})},Se.race=function(t){return new Se(function(n,i){if(!Ae(t))return i(new l("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)Se.resolve(t[e]).then(n,i)})},Se.Ae="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){be(t,0)},Se.Te=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var Pe=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),Be=o?o.userAgent:"",xe=Be.match(/Firefox\/([0-9]+)/i),Oe=null!=xe,Le=xe?Number(xe[1]):0,Me=Be.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Fe=null!=Me,Ue=Me?Number(Me[3]):0,je=function(){function t(t){this.Se=0,this.Ee=0,this.qi=[],this.Ie=t}return t.prototype.Re=function(t){var n=this.length();this.Ne(n+1);var i=this.Ee+n&this.Ie-1;this.qi[i]=t,this.Se=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.Ie<n)this.Re(t);else{var i=this.Ee+n-1,e=this.Ie-1;this.qi[i&e]=t,this.Se=n}},t.prototype.shift=function(){var t=this.Ee,n=this.qi[t];return this.qi[t]=void 0,this.Ee=t+1&this.Ie-1,this.Se--,n},t.prototype.length=function(){return this.Se},t.prototype.Ne=function(t){this.Ie<t&&this.Ce(this.Ie<<1)},t.prototype.Ce=function(t){var n=this.Ie;this.Ie=t;var i=this.Ee+this.Se&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.qi,0,n,i)},t}();var He="unhandledrejection",Xe=t.PromiseRejectionEvent,ze=t.CustomEvent;function Ve(t){return new Xe(He,{reason:t,promise:Pe.reject(t).catch(function(){}),cancelable:!0})}function qe(t){var n=new ze(He,{detail:{reason:t},cancelable:!0});return _.defineProperty(n,"reason",{value:t}),n}function We(t){var n=s.createEvent("CustomEvent");return n.initCustomEvent(He,!1,!0,{reason:t}),n}var Ge,Ye,$e,Qe,Ke,Ze,Je,tr,nr=function(t){return(nr=function(){try{var t=Pe.resolve(),n=new Xe(He,{reason:"error",promise:t});return He===n.type&&"error"===n.reason}catch(t){}return!1}()?Ve:function(){try{var t=new ze(He,{detail:{reason:"error"}});return He===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?qe:We)(t)};if(Pe&&!(Oe&&Le<60||Fe&&Ue<15))Ye=Pe,$e=function(){};else{Ye=Se;var ir=null!==(Ge=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=Pe;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==Ge?Ge:Se.Ae,er=(Qe=ir,Ke=new je(16),Ze=!1,{De:function(t){Ke.push(t),Ze||(Ze=!0,Qe(Je))},Pe:Je=function(){for(;Ke.length()>0;)Ke.shift()();Ze=!1}});$e=er.Pe,Se.Ae=er.De,Se.Te=function(n){try{var i=nr(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}a(function(){throw new v("Unhandled promise rejection: ".concat(n))},0)}}function rr(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function sr(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=function(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&function(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}(t,(i+" "+n).trim())}}function ur(t,n){F.An&&F.Tn<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function or(t){return new Ye(function(n,i){var e=s.createElement("script");e.onload=function(){return n()},e.onerror=function(t){return i((null==t?void 0:t.error)||t)},e.type="text/javascript",e.src=t,(s.head||s.documentElement).appendChild(e)})}function ar(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function hr(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function cr(t){t.removeAttribute("title")}function fr(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function vr(t){t.src&&(t.removeAttribute("src"),t.load())}function lr(){return void 0!==s?s.createElement("video"):void 0}function dr(){return tr||(tr=lr()),tr}var _r=!!("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch)||!(!o||!o.msMaxTouchPoints),wr=dr(),gr=!(!wr||!wr.webkitShowPlaybackTargetPicker),yr=function(){function t(){this.Be=void 0,this.xe=!1,this.Vt=_r,this.vn=!1,this.Oe=!0}var n=t.prototype;return n.Le=function(){return 0},n.Me=function(t,n){return!0},n.Fe=function(t){return t>=2*Qt},T(t,[{key:"Ue",get:function(){return void 0===this.Be&&(this.Be=this.Le()),this.Be}},{key:"je",get:function(){return!F.Mn}},{key:"He",get:function(){}},{key:"Xe",get:function(){return r.devicePixelRatio||1}},{key:"ze",get:function(){return gr}},{key:"Ve",get:function(){return!1}},{key:"qe",get:function(){return!0}},{key:"We",get:function(){return F.Pn||F.un}},{key:"Ge",get:function(){return!0}},{key:"Ye",get:function(){return!0}},{key:"$e",get:function(){return!1}},{key:"Qe",get:function(){}},{key:"Ke",get:function(){return!0}},{key:"Ze",get:function(){return!1}}]),t}(),mr=function(){var t=lr();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(F.Jt)return!1;var t=lr();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var pr=function(t){function n(n){var i;return(i=t.call(this)||this).Je=void 0,i.Je=n,i.Je&&(i.xe=i.Je.xe,i.Vt=i.Je.Vt,i.Oe=mr&&i.Je.Oe),i}E(n,t);var i=n.prototype;return i.Le=function(){return this.Je?this.Je.Ue:t.prototype.Le.call(this)},i.Me=function(n,i){return this.Je?this.Je.Me(n,i):t.prototype.Me.call(this,n,i)},i.Fe=function(n){return this.Je?this.Je.Fe(n):t.prototype.Fe.call(this,n)},T(n,[{key:"Qe",get:function(){var t;return null==(t=this.Je)?void 0:t.Qe}},{key:"Ke",get:function(){var t,n;return null==(t=null==(n=this.Je)?void 0:n.Ke)||t}}]),n}(yr),kr=function(t){function n(n){var i;return(i=t.call(this,n)||this).xe=!0,i.vn=!0,i}return E(n,t),T(n,[{key:"$e",get:function(){return F.un}}]),n}(pr),br=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Le=function(){return ge.MediaSource?t.prototype.Le.call(this):1},T(n,[{key:"$e",get:function(){return!0}}]),n}(kr),Ar=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).ir=void 0,n}return E(n,t),n.prototype.Me=function(n,i){return t.prototype.Me.call(this,n,i)},T(n,[{key:"Ve",get:function(){return F.Tn<3}},{key:"qe",get:function(){return F.Tn>=3}},{key:"He",get:function(){var t=this;return r.tizen&&!this.ir&&r.tizen.systeminfo.getPropertyValue("DISPLAY",function(n){var i=n.resolutionWidth,e=n.resolutionHeight;1===i&&1===e||(t.ir={width:i,height:e})}),this.ir}},{key:"Ze",get:function(){return F.Tn<3}}]),n}(pr),Tr=function(t){function n(){return t.call(this)||this}return E(n,t),n}(yr),Sr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Me=function(t,n){if(t&&t.rr&&n&&n.rr){var i=Er(t.rr,"mp4a.40.2")&&Er(n.rr,"mp4a.40.5"),e=Er(t.rr,"mp4a.40.5")&&Er(n.rr,"mp4a.40.2"),r=Er(t.rr,"mp4a.40.2")&&Er(n.rr,"mp4a.40.34"),s=Er(t.rr,"mp4a.40.34")&&Er(n.rr,"mp4a.40.2"),u=Er(t.rr,"mp4a.40.5")&&Er(n.rr,"mp4a.40.34"),o=Er(t.rr,"mp4a.40.34")&&Er(n.rr,"mp4a.40.5");return!(i||e||r||s||u||o)}return!0},T(n,[{key:"Qe",get:function(){if(F.qt)return 4096}}]),n}(Tr);function Er(t,n){return t.indexOf(n)>-1}var Ir=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Fe=function(t){return t>=2},n}(Tr),Rr=function(t){function n(){var n;return(n=t.call(this)||this).xe=F.Bn>=11,n.Oe=F.Pn&&!(F.un&&F.Bn<10),n}return E(n,t),n}(Tr),Nr=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).ir=void 0,n}return E(n,t),T(n,[{key:"He",get:function(){var t=this;return r.webOS&&!this.ir&&r.webOS.deviceInfo(function(n){t.ir={width:n.screenWidth,height:n.screenHeight}}),this.ir}},{key:"Ge",get:function(){return!1}}]),n}(pr),Cr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),T(n,[{key:"Ke",get:function(){return!F.Wt||(F.yn?92!==F.pn:F.wn>=100)}}]),n}(Tr),Dr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),T(n,[{key:"$e",get:function(){return!0}}]),n}(pr),Pr=function(){function n(){var n;this.Gn=void 0,this.dr=new un,this._r=new Br,this.wr=(n=function(){if(F.Cn)return new Sr;if(F.En||F.In)return new Ir;if(F.Pn)return new Rr;if(F._n)return new Cr;return new Tr}(),F.un?new br(n):F.vn?new kr(n):F.An?new Ar(n):F.Sn?new Nr(n):F.qt?new Dr(n):new pr(n)),this.gr=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.Gn=function(){return t.performance.now()}:this.Gn=Wt}var i=n.prototype;return i.yr=function(){at.apply(void 0,arguments)},i.pr=function(){ht.apply(void 0,arguments)},i.Ar=function(){ct.apply(void 0,arguments)},i.Tr=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ft.apply(void 0,[t].concat(i))},i.$n=function(t,n){return a(t,n)},i.Sr=function(t,n){return c(t,n)},i.Yn=function(t){h(t)},i.Er=function(t){f(t)},i.ui=function(t){return this.dr.ui(t)},i.Ir=function(){return this.Rr.Ir()},i.Nr=function(){return this.Rr.Nr()},i.Cr=function(){return this.Rr.Cr()},i.Dr=function(){return this.Rr.Dr()},i.Pr=function(){return this.Rr.Pr()},i.Br=function(t,n){return this.Rr.Br(t,n)},i.xr=function(t){return this.Rr.xr(t)},i.Or=function(t,n){var i;return void 0===n&&(n=ke(ge)),i="object"!=typeof n||n instanceof pe?n:n.href,new pe(t,i)},i.Lr=function(n,i){if(void 0===i&&(i=ke(ge)),this.gr){var e=G(i)?i:i.toString();return new t.URL(n,e).href}return this.Or(n,i).href},T(n,[{key:"Mr",get:function(){return this._r}},{key:"Fr",get:function(){return this.wr}},{key:"Ur",get:function(){return{jr:o&&o.userAgent.match(/Android /i)?"Android":"other",Hr:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}},{key:"Xr",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"zr",get:function(){return"languages"in o?o.languages.slice():[o.language]}}]),n}(),Br=function(){function t(){}return T(t,[{key:"Vr",get:function(){return o.oscpu}},{key:"Fr",get:function(){return o.platform}},{key:"qr",get:function(){return o.vendor}},{key:"Wr",get:function(){return o.vendorSub}}]),t}();var xr="undefined"!=typeof globalThis?globalThis:void 0!==r?r:"undefined"!=typeof global?global:void 0!==t?t:{};function Or(t){return t&&t.__esModule&&_.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lr={exports:{}};!function(t){var n,i=_.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",u=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function a(t,n,i,e){var r=n&&n.prototype instanceof y?n:y,s=_.create(r.prototype),u=new D(e||[]);return s.Gr=function(t,n,i){var e=c;return function(r,s){if(e===d)throw new v("Generator is already running");if(e===w){if("throw"===r)throw s;return B()}for(i.method=r,i.arg=s;;){var u=i.delegate;if(u){var o=R(u,i);if(o){if(o===g)continue;return o}}if("next"===i.method)i.sent=i.Yr=i.arg;else if("throw"===i.method){if(e===c)throw e=w,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=d;var a=h(t,n,i);if("normal"===a.type){if(e=i.done?w:f,a.arg===g)continue;return{value:a.arg,done:i.done}}"throw"===a.type&&(e=w,i.method="throw",i.arg=a.arg)}}}(t,i,u),s}function h(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var c="suspendedStart",f="suspendedYield",d="executing",w="completed",g={};function y(){}function p(){}function k(){}var b={};b[s]=function(){return this};var A=_.getPrototypeOf,T=A&&A(A(P([])));T&&T!==i&&e.call(T,s)&&(b=T);var S=k.prototype=y.prototype=_.create(b);function E(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Gr(n,t)}})}function I(t){var n;this.Gr=function(i,r){function s(){return new Ye(function(n,s){!function n(i,r,s,u){var o=h(t[i],t,r);if("throw"!==o.type){var a=o.arg,c=a.value;return c&&"object"==typeof c&&e.call(c,"$r")?Ye.resolve(c.$r).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):Ye.resolve(c).then(function(t){a.value=t,s(a)},function(t){return n("throw",t,s,u)})}u(o.arg)}(i,r,n,s)})}return n=n?n.then(s,s):s()}}function R(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,R(t,i),"throw"===i.method))return g;i.method="throw",i.arg=new l("The iterator does not provide a 'throw' method")}return g}var r=h(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,g;var s=r.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,g):s:(i.method="throw",i.arg=new l("iterator result is not an object"),i.delegate=null,g)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function C(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function P(t){if(t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!m(t.length)){var r=-1,u=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return u.next=u}}return{next:B}}function B(){return{value:n,done:!0}}p.prototype=S.constructor=k,k.constructor=p,k[o]=p.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return _.setPrototypeOf?_.setPrototypeOf(t,k):(t.__proto__=k,o in t||(t[o]="GeneratorFunction")),t.prototype=_.create(S),t},t.awrap=function(t){return{$r:t}},E(I.prototype),I.prototype[u]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,e,r){var s=new I(a(n,i,e,r));return t.isGeneratorFunction(i)?s:s.next().then(function(t){return t.done?t.value:s.next()})},E(S),S[o]="Generator",S[s]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=P,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Yr=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(C),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!m(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s],o=u.completion;if("root"===u.tryLoc)return r("end");if(u.tryLoc<=this.prev){var a=e.call(u,"catchLoc"),h=e.call(u,"finallyLoc");if(a&&h){if(this.prev<u.catchLoc)return r(u.catchLoc,!0);if(this.prev<u.finallyLoc)return r(u.finallyLoc)}else if(a){if(this.prev<u.catchLoc)return r(u.catchLoc,!0)}else{if(!h)throw new v("try statement without catch or finally");if(this.prev<u.finallyLoc)return r(u.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var u=s?s.completion:{};return u.type=t,u.arg=n,s?(this.method="next",this.next=s.finallyLoc,g):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),g},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),C(i),g}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;C(i)}return r}}throw new v("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:P(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),g}}}(Lr.exports);var Mr=Lr.exports;function Fr(){return(Fr=_.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)_.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function Ur(){var t=_.create(null);return t.Qr=void 0,delete t.Qr,t}function jr(){return new Wr}function Hr(){return new $r}function Xr(t){var n=jr();for(var i in t)U.call(t,i)&&n.set(i,t[i]);return n}function zr(t){var n=[];return t.forEach(function(t){return n.push(t)}),n}var Vr,qr="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,Wr=qr||(Vr=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=_.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=Ur(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=Ur(),this.size=0},n.keys=function(){return new Vr(this.data,function(t,n){return n})},n.values=function(){return new Vr(this.data,function(t,n){return t[n]})},n.entries=function(){return new Vr(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Gr,Yr,$r=qr||(Gr=function(){function t(t,n){this.Kr=void 0,this.Zr=void 0,this.Kr=t,this.Zr=n}var n=t.prototype;return n.next=function(){var t=this.Kr.next();return t.done?t:{value:this.Zr(t.value),done:!1}},t}(),function(){function t(){this.Jr=jr()}var n=t.prototype;return n.get=function(t){return this.Jr.get(""+t)},n.set=function(t,n){return this.Jr.set(""+t,n),this},n.has=function(t){return this.Jr.has(""+t)},n.delete=function(t){return this.Jr.delete(""+t)},n.clear=function(){this.Jr.clear()},n.keys=function(){return new Gr(this.Jr.keys(),function(t){return Number(t)})},n.values=function(){return this.Jr.values()},n.entries=function(){return new Gr(this.Jr.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.Jr.forEach(function(n,i){t(n,Number(i))})},T(t,[{key:"size",get:function(){return this.Jr.size}}]),t}());!function(t){t.ns="9a04f079-9840-4286-ab92-e65be0885f95",t.rs="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.us="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.hs="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(Yr||(Yr={}));var Qr,Kr="urn:mpeg:dash:mp4protection:2011",Zr="cenc",Jr="sinf",ts="skd",ns=Yr.ns,is="urn:uuid:"+ns,es="com.microsoft.playready",rs=Yr.rs,ss="urn:uuid:"+rs,us=Yr.us,os="urn:uuid:"+us,as=Yr.hs,hs="urn:uuid:"+as,cs="com.apple.fps.1_0",fs="com.apple.streamingkeydelivery";!function(t){t.ns="playready",t.rs="widevine",t.hs="fairplay",t.us="clearkey",t.fs="aes128"}(Qr||(Qr={}));var vs={vs:Qr.ns,ls:es,ds:"cenc",_s:ns,gs:is,ys:"PlayReady"},ls={vs:Qr.rs,ls:"com.widevine.alpha",ds:"cenc",_s:rs,gs:ss,ys:"Widevine"},ds={vs:Qr.hs,ls:cs,ds:"skd",_s:as,gs:hs,ys:"FairPlay"},_s={vs:Qr.hs,ls:"com.apple.fps",ds:"sinf",_s:as,gs:hs,ys:"FairPlay"},ws={vs:Qr.us,ls:"org.w3.clearkey",ds:"cenc",_s:us,gs:os,ys:"ClearKey"},gs=[vs,ls,ds,ws];function ys(t){return gs.filter(function(n){return n.gs===t.toLowerCase()})}function ms(t,n,i){return t.split(n).join(i)}function ps(t,n){return null!=t&&-1!==t.indexOf(n)}function ks(t,n){return null!=t&&t.substr(0,n.length)===n}function bs(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function As(t,n){return t.toUpperCase()===n.toUpperCase()}function Ts(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}function Ss(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=Ts(e,r/e.length)),e.slice(0,r)+t)}function Es(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Rs(n)}var Is=16384;function Rs(t){var n=t.length;if(n<=Is)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Is)i.push(String.fromCharCode.apply(String,t.slice(e,e+Is)));return i.join("")}var Ns=F._n&&F.wn>=42||F.Cn&&F.Dn>=38||F.En||F.Rn||F.xn&&F.On>=29;function Cs(t,n){return ps(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Fr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Fr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function Ds(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess}function Ps(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var Bs,xs=function(){function t(t){this.As=void 0,this.Ts=jr(),this.Ss=void 0,this.As=t}var n=t.prototype;return n.Pr=function(){return this.xr(ls)},n.Nr=function(){return this.xr(ws)},n.Dr=function(){return this.xr(vs)},n.Cr=function(){return this.xr(ds)},n.xr=function(t){var n=t.gs,i=this.Ts.get(n);if(i)return i;var e=this.Br(t,'video/mp4; codecs="avc1.42000a"');return this.Ts.set(n,e),e},n.Br=function(t,n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Mr.awrap(this.As.Es(t.ls,[Cs(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,Mr.awrap(this.As.Es(t.ls,[Cs(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],Ye)},n.Ir=function(){return this.Ss||(this.Ss=this.Is()),this.Ss},n.Is=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==ye.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Ns){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,Mr.awrap(this.Nr());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,Ye)},t}();function Os(t,n){return Ms(t.slice(),n)}function Ls(t,n){var i=Ms(t,n);return i!==t&&Fs(i,void 0,t.length,t),t}function Ms(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),s=1;s<e;s*=2){Fs(i,n,s,r);var u=i;i=r,r=u}return i}function Fs(t,n,i,e){var r,s,u,o,a,h=t.length,c=0,f=2*i;for(s=0;s<h;s+=f)for(r=(u=s+i)+i,u>h&&(u=h),r>h&&(r=h),o=s,a=u;;)if(o<u&&a<r)n&&n(t[o],t[a])<=0?e[c++]=t[o++]:e[c++]=t[a++];else if(o<u)e[c++]=t[o++];else{if(!(a<r))break;e[c++]=t[a++]}}!function(t){t[t.Rs=0]="Rs",t[t.Ns=1]="Ns",t[t.Cs=-1]="Cs"}(Bs||(Bs={}));var Us=function(t,n){return(0|t)-(0|n)},js=function(t,n){return t===n?Bs.Rs:t<n?Bs.Cs:t>n?Bs.Ns:m(t)?m(n)?Bs.Rs:Bs.Ns:Bs.Cs};function Hs(t,n,i){return jt(t,n,i)?Bs.Rs:js(t,n)}var Xs=function(t,n){return Ht(t,n)?Bs.Rs:js(t,n)};function zs(t,n,i){var e=qs(t,n,i);return-1===e?void 0:t[e]}function Vs(t,n,i){var e=function(t,n,i){for(var e=t.length-1;e>=0;e-=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function qs(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}function Ws(t,n){var i=t.indexOf(n);return-1!==i&&(Gs(t,i),!0)}function Gs(t,n){t.splice(n,1)}function Ys(t,n){return-1!==t.indexOf(n)}function $s(t,n){for(var i=0;i<n.length;i++){if(!Ys(t,n[i]))return!1}return!0}function Qs(t){t.length=0}function Ks(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++){if(!Ys(n,t[i]))return!1}return!0}function Zs(t,n){for(var i=[],e=0;e<t.length;e++)i.push.apply(i,n(t[e],e));return i}function Js(t,n){return nu(t,function(t,i){return js(n(t),n(i))})}function tu(t,n){return function(t,n){return nu(t,function(t,i){return n(i,t)})}(t,function(t,i){return js(n(t),n(i))})}function nu(t,n){if(0!==t.length)return t.reduce(function(t,i){return n(t,i)<=0?t:i})}function iu(t,n){return Ye.all(t.map(n)).then(function(n){return t.filter(function(t,i){return n[i]})})}function eu(t,n){var i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:i=0;case 1:if(!(i<t.length)){r.next=10;break}return e=t[i],r.next=5,Mr.awrap(n(e));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:i++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,null,null,Ye)}function ru(t,n,i){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(!i(t[e],n[e]))return!1;return!0}var su=function(){function t(){this.Ds=!1,this.Ps=!1,this.Bs=[],this.xs=[]}var n=t.prototype;return n.Os=function(){if(!this.Ds&&!this.Ps){this.Ds=!0;for(var t=0,n=this.Bs.slice();t<n.length;t++){(0,n[t])()}this.Ls()}},n.Ls=function(){if(!this.Ps){this.Ps=!0;for(var t=0,n=this.xs.slice();t<n.length;t++){(0,n[t])()}Qs(this.Bs),Qs(this.xs)}},n.Ms=function(t){this.Ps||this.Bs.push(t)},n.Fs=function(t){this.Ps||Ws(this.Bs,t)},n.Us=function(t){this.Ps||this.xs.push(t)},n.js=function(t){this.Ps||Ws(this.xs,t)},t}(),uu=function(){function t(){this.Hs=new su}var n=t.prototype;return n.Xs=function(){this.Hs.Os()},n.Ls=function(){this.Hs.Ls()},n.zs=function(t){var n=this.Hs;if(!n.Ds)if(t.Ds)n.Os();else if(!n.Ps&&!t.Ps){var i=function(){e(),n.Os()},e=function e(){t.Fs(i),t.js(e),n.Fs(i),n.js(e)};t.Ms(i),t.Us(e),n.Ms(i),n.Us(e)}},n.Vs=function(){var n=new t,i=new t,e=n.qs,r=i.qs,s=this.Hs,u=function(){e.Ds&&r.Ps||r.Ds&&e.Ps?s.Os():e.Ps&&r.Ps&&s.Ls()};e.Ms(u),r.Ms(u),e.Us(u),r.Us(u),n.zs(s),i.zs(s);return s.Us(function(){e.Fs(u),r.Fs(u),e.js(u),r.js(u)}),[n,i]},T(t,[{key:"qs",get:function(){return this.Hs}}]),t}(),ou=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return E(n,t),T(n,[{key:"name",get:function(){return"AbortError"}}]),n}(rn);function au(t){return t instanceof v&&"AbortError"===t.name}function hu(t){if(t&&t.Ds)throw new ou}function cu(t){if(au(t))throw t}function fu(t){if(!au(t))throw t}function vu(t,n){return n?new Ye(function(i,e){if(n.Ds)return t.catch(Z),e(new ou);var r=function t(){n.Fs(t),e(new ou)};n.Ms(r),t.then(function(t){n.Fs(r),i(t)},function(t){n.Fs(r),e(t)})}):t}function lu(t,n){return t.then(function(t){return n.Ls(),t},function(t){throw n.Ls(),t})}function du(t,n){var i=new uu;return n&&i.zs(n),t(i.qs).then(function(t){return i.Xs(),t},function(t){throw i.Xs(),t})}var _u=Ye.resolve();function wu(t){_u.then(t)}function gu(t){t.then(Z,Z)}function yu(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Mr.awrap(Ye.all(t));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,Mr.awrap(Ye.all(t.map(function(t){return t.catch(Z)})));case 10:throw n.t0;case 11:case"end":return n.stop()}},null,null,[[0,6]],Ye)}function mu(t,n){return new Ye(function(e,r){if(void 0!==n&&n.Ds)r(new ou);else{var s=i.$n(function(){void 0!==n&&n.Fs(u),e()},t),u=function(){i.Yn(s),r(new ou)};void 0!==n&&n.Ms(u)}})}function pu(t,n){var i=new uu;return Ye.race([t,mu(n,i.qs).then(function(){throw new v("Timeout")})]).then(function(t){return i.Xs(),t},function(t){throw i.Xs(),t})}function ku(t){return t&&"function"!=typeof t?t.slice():t}function bu(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var Au,Tu=function(){function t(t){var n=this;this.Ws=Ur(),this.Gs=void 0,this.Ys=void 0,this.$s=function(t){n.Qs(t)},this.Ys=t||this}var n=t.prototype;return n.Ks=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Zs(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Zs(e,n)}},n.Zs=function(t,n){var i=this.Ws[t];i?"function"==typeof i?this.Ws[t]=[i,n]:i.push(n):this.Ws[t]=n},n.Js=function(t){if("function"==typeof t){var n=this.Gs;n?"function"==typeof n?this.Gs=[n,t]:n.push(t):this.Gs=t}},n.tu=function(){this.Ws=Ur(),this.Gs=void 0},n.Qs=function(t){var n=ku(this.Ws[t.type]),i=ku(this.Gs);bu(this.Ys,t,n),bu(this.Ys,t,i)},n.nu=function(t,n){if("function"==typeof n)if("string"==typeof t)this.uu(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.uu(e,n)}},n.uu=function(t,n){var i=this.Ws[t];i&&("function"==typeof i?i===n&&(this.Ws[t]=void 0):Ws(i,n))},n.ou=function(t){if("string"==typeof t)this.Ws[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Ws[i]=void 0}},n.au=function(t){var n=this.Gs;n&&("function"==typeof n?n===t&&(this.Gs=void 0):Ws(n,t))},n.fu=function(t,n){var i=this;return new Ye(function(e,r){if(n&&n.Ds)return r(new ou);var s=function(t){o(),e(t)},u=function(){o(),r(new ou)},o=function(){i.nu(t,s),n&&n.Fs(u)};i.Ks(t,s),n&&n.Ms(u)})},t}(),Su=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Qs=function(n){var i=this;wu(function(){t.prototype.Qs.call(i,n)})},n}(Tu),Eu=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Iu=["cenc"],Ru=["cbcs","cbcs-1-9"],Nu=function(t){function n(n){var i;return(i=t.call(this,"du")||this).vu=n,i}return E(n,t),n}(Eu),Cu=function(t){function n(n,i,e,r){var s;return(s=t.call(this,"_u")||this).vu=n,s.wu=i,s._u=e,s.yu=r,s}return E(n,t),n}(Eu),Du=function(t){function n(){return t.call(this,"mu")||this}return E(n,t),n}(Eu);!function(t){t.pu="bu",t.Au="Tu"}(Au||(Au={}));var Pu=function(t){function n(n,i){var e;return(e=t.call(this,Au.pu)||this).ds=n,e.Su=i,e}return E(n,t),n}(Eu),Bu=function(t){function n(){return t.call(this,Au.Au)||this}return E(n,t),n}(Eu),xu=new p([0]).buffer,Ou=function(){function t(){this.Eu=void 0,this.Eu=[]}var n=t.prototype;return n.Iu=function(t){for(var n=0,i=this.Eu;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.Ru=function(t){for(var n=0,i=this.Eu;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.Nu=function(t,n){this.Eu.forEach(function(n){return t(n[1],n[0])},n)},n.Cu=function(t,n){this.Eu.push([t,n])},n.Du=function(){Qs(this.Eu)},T(t,[{key:"Pu",get:function(){return this.Eu.length}}]),t}(),Lu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Mu=16383,Fu=/[\t\n\f\r ]/g;function Uu(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:ju()}function ju(){throw new v("Invalid base64 input")}function Hu(t){var n=t;Fu.test(n)&&(n=n.replace(Fu,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return ju();for(var r,s=0===e?0:4-e,u=new p(function(t,n){return 3*(t+n)/4-n}(i,s)),o=s>0?i-4:i,a=0,h=0;a<o;a+=4)r=Uu(n.charCodeAt(a))<<18|Uu(n.charCodeAt(a+1))<<12|Uu(n.charCodeAt(a+2))<<6|Uu(n.charCodeAt(a+3)),u[h++]=r>>16&255,u[h++]=r>>8&255,u[h++]=255&r;return 2===s?(r=Uu(n.charCodeAt(a))<<2|Uu(n.charCodeAt(a+1))>>4,u[h++]=255&r):1===s&&(r=Uu(n.charCodeAt(a))<<10|Uu(n.charCodeAt(a+1))<<4|Uu(n.charCodeAt(a+2))>>2,u[h++]=r>>8&255,u[h++]=255&r),u}function Xu(t,n,i){for(var e,r,s,u=[],o=n;o<i;o+=3)u.push((e=t[o],r=t[o+1],s=t[o+2],Lu[e>>2]+Lu[(3&e)<<4|r>>4]+Lu[(15&r)<<2|s>>6]+Lu[63&s]));return u.join("")}function zu(t){for(var n=t.length,i=n%3,e=[],r=n-i,s=0;s<r;s+=Mu)e.push(Xu(t,s,w.min(r,s+Mu)));if(1===i){var u=t[n-1];e.push(Lu[u>>2]+Lu[(3&u)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];e.push(Lu[o>>2]+Lu[(3&o)<<4|a>>4]+Lu[(15&a)<<2]+"=")}return e.join("")}var Vu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],qu=ArrayBuffer.isView||function(t){return t&&Ys(Vu,j.call(t))};function Wu(t,n){return t===n||t.byteLength===n.byteLength&&Gu(new p(t),new p(n))}function Gu(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}function Yu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return $u(t,n)}function $u(t,n){for(var i=new p(n),e=0,r=0;r<t.length;r++){var s=t[r];i.set(s,e),e+=s.byteLength}return i}function Qu(t,n,i){var e=new p(t.byteLength+n.byteLength),r=Wo(t,0,i),s=Wo(t,i);return e.set(r),e.set(n,i),e.set(s,i+n.byteLength),e}function Ku(t){return Hu(t).buffer}function Zu(t){return zu(new p(t))}function Ju(t){return zu(Fo(t))}function to(t,n){var i=n.Bu,e=t.getUint8(i>>3),r=1<<7-(7&i);return n.xu(1),(e&r)===r?1:0}function no(t,n,i){for(var e=0,r=0;r<i;r++)e=2*e+to(t,n);return e}var io=function(){function t(t){void 0===t&&(t=0),this.Ou=t}var n=t.prototype;return n.xu=function(t){this.Ou+=t},n.Lu=function(t){this.Ou=t},n.Mu=function(){return new t(this.Bu)},T(t,[{key:"Bu",get:function(){return this.Ou}}]),t}();function eo(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ro(t,n){return t>>n&63|128}function so(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(eo(t),n.push(t>>12&15|224),n.push(ro(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ro(t,12)),n.push(ro(t,6))),n.push(63&t|128)):n.push(t)}function uo(t,n){if(n.Bu>=t.length)throw new v("Invalid byte index");var i=255&t[n.Bu];if(n.xu(1),128==(192&i))return 63&i;throw new v("Invalid continuation byte")}function oo(t,n){var i=n.Bu;if(i>t.length)throw new v("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.xu(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|uo(t,n);if(r>=128)return r;throw new v("Invalid continuation byte")}if(224==(240&e)){var s=(15&e)<<12|uo(t,n)<<6|uo(t,n);if(s>=2048)return eo(s),s;throw new v("Invalid continuation byte")}if(240==(248&e)){var u=(7&e)<<18|uo(t,n)<<12|uo(t,n)<<6|uo(t,n);if(u>=65536&&u<=1114111)return u}throw new v("Invalid UTF-8 detected")}var ao=65279;var ho=[128,64,32,16,8,4,2,1],co=function(){function t(t){this.Fu=t}return t.prototype.Uu=function(t){return fo(this.Fu,t)},t}();function fo(t,n){return(t&n)===n}function vo(t,n){return fo(t,ho[n])}function lo(t,n){var i=t.getUint8(n.Bu);return n.xu(1),i}function _o(t,n,i){t.setUint8(n.Bu,i),n.xu(1)}function wo(t,n,i){var e=Wo($o(t),n.Bu,n.Bu+i);return n.xu(e.byteLength),e}function go(t,n,i){$o(t).set($o(i),n.Bu),n.xu(i.byteLength)}function yo(t,n,i){return n.Bu+i<=t.byteLength}function mo(t,n,i,e){return void 0===e&&(e=!1),e?function(t,n,i){for(var e=0,r=1,s=0;s<i;s++)e+=lo(t,n)*r,r*=256;return e}(t,n,i):function(t,n,i){for(var e=0,r=0;r<i;r++)e=256*e+lo(t,n);return e}(t,n,i)}function po(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.Bu,i);return n.xu(2),e}function ko(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.Bu,i,e),n.xu(2)}function bo(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.Bu,i);return n.xu(4),e}function Ao(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.Bu,i,e),n.xu(4)}function To(t,n,i){void 0===i&&(i=!1);var e=bo(t,n,i),r=bo(t,n,i),s=i?r:e,u=i?e:r;return lt.fromBits(u,s,!0)}function So(t,n,i,e){void 0===e&&(e=!1);var r=i.getHighBitsUnsigned(),s=i.getLowBitsUnsigned(),u=e?r:s;Ao(t,n,e?s:r,e),Ao(t,n,u,e)}function Eo(t,n){return No(t,n)}function Io(t,n,i){return Rs(ta(wo(t,n,i)))}function Ro(t,n){var i,e=lo(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&lo(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&lo(t,n))+(63&lo(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&lo(t,n))+64*(63&lo(t,n))+(63&lo(t,n))),i}function No(t,n){return Co(t,n,!0)}function Co(t,n,i){for(var e=[];n.Bu<t.byteLength;){var r=lo(t,n);if(i&&!r)break;e.push(r)}return Rs(e)}function Do(t,n,i){for(var e=i.length,r=0;r<e;r+=1){_o(t,n,i.charCodeAt(r))}}function Po(t,n){if(n.Bu+2<=t.byteLength){var i=t.getUint8(n.Bu),e=t.getUint8(n.Bu+1);return(254!==i||255!==e)&&(255===i&&254===e||void 0)}}function Bo(t,n){var i=Po(t,n);return void 0!==i&&n.xu(2),xo(t,n,!0===i)}function xo(t,n,i){return void 0===i&&(i=!1),Oo(t,n,i,!0)}function Oo(t,n,i,e){for(var r=[];n.Bu+2<=t.byteLength;){var s=po(t,n,i);if(e&&!s)break;r.push(s)}return Rs(r)}function Lo(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,s=0;s<r;s+=1){ko(t,n,i.charCodeAt(s),e)}}function Mo(t){return Co(Yo(t),new na,!1)}function Fo(t){var n=new p(t.length);return Do(Yo(n),new na,t),n}function Uo(t,n){return void 0===n&&(n=!1),Oo(Yo(t),new na,n,!1)}function jo(t,n){void 0===n&&(n=!1);var i=new p(2*t.length);return Lo(Yo(i),new na,t,n),i}function Ho(t,n){return n.Bu+3<=t.byteLength&&(239===t.getUint8(n.Bu)&&187===t.getUint8(n.Bu+1)&&191===t.getUint8(n.Bu+2))}function Xo(t,n){return function(t,n,i){var e=[];Ho(t,n)&&n.xu(3);for(;n.Bu<t.byteLength;){var r=Ro(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return Es(e)}(t,n,!0)}function zo(t){return Es(function(t,n){var i,e=[],r=new na;if(!n){if(!1===(i=oo(t,r)))return e;i===ao||e.push(i)}for(;!1!==(i=oo(t,r));)e.push(i);return e}($o(t)))}function Vo(t){return new p(function(t){for(var n=[],i=0;i<t.length;i++)so(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function qo(t,n){if(Ho(t,n))return Xo(t,n);if(void 0!==Po(t,n))return Bo(t,n);if(n.Bu+4<=t.byteLength){if(0===t.getUint8(n.Bu)&&0===t.getUint8(n.Bu+2))return xo(t,n,!1);if(0===t.getUint8(n.Bu+1)&&0===t.getUint8(n.Bu+3))return xo(t,n,!0)}return Xo(t,n)}function Wo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new p(t.buffer,t.byteOffset+n,i-n)}function Go(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Yo(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function $o(t){return new p(t.buffer,t.byteOffset,t.byteLength)}function Qo(t){return t instanceof ArrayBuffer||qu(t)}function Ko(t){return t instanceof ArrayBuffer?new p(t):$o(t)}function Zo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Jo(Wo(t,n,i))}function Jo(t){if(t.slice)return t.slice(0);var n=new p(t.byteLength);return n.set(t,0),n}function ta(t){return[].slice.call(t)}var na=function(){function t(t){void 0===t&&(t=0),this.Ou=t}var n=t.prototype;return n.xu=function(t){this.Ou+=t},n.Lu=function(t){this.Ou=t},n.Mu=function(){return new t(this.Bu)},n.ju=function(){return new io(this.Bu<<3)},T(t,[{key:"Bu",get:function(){return this.Ou}}]),t}();function ia(t){var n=t.toLowerCase(),i=0,e=0;ks(n,"0x")&&(n=n.substring(2));var r=new p(w.ceil(n.length/2));for(1==(1&n.length)&&(i=1,r[e++]=g(n[0],16));i<n.length;i+=2)r[e++]=g(n.substr(i,2),16);return r}var ea=function(){function t(){var t=this;this.Hu=void 0,this.Xu=void 0,this.Vu=void 0,this.Hu=new Ye(function(n,i){t.Xu=n,t.Vu=i})}var n=t.prototype;return n.Wu=function(t){this.Xu&&(this.Xu(t),this.Ls())},n.Gu=function(t){this.Vu&&(this.Vu(t),this.Ls())},n.Xs=function(){this.Hu.catch(Z),this.Gu(new ou)},n.Ls=function(){this.Xu=void 0,this.Vu=void 0},t}();function ra(){return new p([8,4]).buffer}function sa(t){return Wu(t,ra())}function ua(t,n){return t===es?function(t){if(t.byteLength<2*oa.length)return t;if(Uo(new DataView(t,0,2*oa.length),!0)===oa)return t;return n=t,jo('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Zu(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var oa="<PlayReady";var aa=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,r)||this).Yu=void 0,s.$u=void 0,s.Yu=i,s.$u=e,s}return E(n,t),n}(rn),ha=function(t,n){return(ha=_.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)_.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function ca(t,n){if("function"!=typeof n&&null!==n)throw new l("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}ha(t,n),t.prototype=null===n?_.create(n):(i.prototype=n.prototype,new i)}function fa(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}function va(t,n,i){return w.min(w.max(t,n),i)}function la(t,n){return t>>8-n}function da(t,n){return t&(1<<n)-1}!function(){function t(t,n){this.Qu=t,this.Ku=n}t.prototype.get=function(t){var n=this.Qu.get(t);if(0===this.Ku||void 0===n)return n;var i=this.Qu.get(t+1)||0,e=n&(1<<8-this.Ku)-1,r=i>>8-this.Ku;return(e<<this.Ku)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Qu.get(w.floor((t+this.Ku)/8));if(void 0!==n)return(n&1<<7-this.Ku-t%8)>0?1:0}},_.defineProperty(t.prototype,"bitLength",{get:function(){return this.Qu.bitLength-this.Ku},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"length",{get:function(){return this.Qu.length},enumerable:!1,configurable:!0})}();var _a=function(){function t(t){this.Zu=t,this.Ju=0,this.uo=0}return _.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.Ju+this.uo},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"done",{get:function(){return this.Ju===this.Zu.length&&0===this.uo},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"location",{get:function(){return{byte:this.Ju,bit:this.uo}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.Zu);return n.seek(this.Ju,this.uo),n},t.prototype.canReadBits=function(t){return 8*this.Ju+t+this.uo<=8*this.Zu.length},t.prototype.canReadBytes=function(t){return 0===this.uo?this.Ju+t<=this.Zu.length:this.Ju+t<this.Zu.length},t.prototype.incBit=function(){this.uo++,this.uo>7&&(this.Ju++,this.uo=0)},t.prototype.seek=function(t,n){this.Ju=t,this.uo=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new v("Cannot read past end of buffer.");return this.Zu.get(this.Ju)>>7-this.uo&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new v("Cannot read past end of buffer.");if(0===this.uo)return this.Zu.get(this.Ju++);var t=da(this.Zu.get(this.Ju),8-this.uo),n=la(this.Zu.get(this.Ju+1),this.uo);return this.Ju++,t<<this.uo|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=0;if(0===this.uo&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-w.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new v("Skipping over the buffer edge is not allowed.");var n=this.uo+t;this.Ju+=n>>3,this.uo=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}(),wa=function(t,n){return t===n?0:t<n?-1:t>n?1:m(t)?m(n)?0:1:-1},ga=function(){function t(){this.oo=[],this.ao=[],this.Se=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,s=n;r<s.length;r++){var u=s[r];e.pushRange(u)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new v("The buffer length must be positive.");if(0!==i){if(0===this.ao.length)this.ao.push(0);else{var e=this.ao[this.ao.length-1]+this.oo[this.oo.length-1].length;this.ao.push(e)}this.oo.push(t.subarray(n,n+i)),this.Se+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,s=this.oo;r<s.length;r++){var u=s[r];t.set(u,e),i+=u.length,e+=u.length}return i},t.prototype.clear=function(){this.oo=[],this.ao=[],this.Se=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.ao[n];return this.oo[n][i]}},_.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.oo.length<1)return-1;if(this.oo.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.oo[0];return"number"==typeof t?fa(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,s=0;s<=r&&!((s=fa(t,i,s))<0||s>r);s++){for(var u=s+1,o=s+e,a=1;u<o&&t[u]===n[a];u++,a++);if(u===o)return s}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var s=w.ceil((e+r)/2);i(t[s],n)<=0?e=s:r=s-1}return e}}}(this.ao,t,wa)},t.prototype.join=function(){if(1===this.oo.length)return this.oo[0];var t=new p(this.length);return this.copyInternal(t,0),t},_.defineProperty(t.prototype,"length",{get:function(){return this.Se},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new v("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new v("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*w.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=va(n,0,this.length),r=va(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var s=new t,u=this.findContainingBufferIndex(e),o=this.oo[u],a=e,h=a-this.ao[u];a+o.length-h<r;)s.pushRange(o,h,o.length-h),u+=1,h=(a+=o.length-h)-this.ao[u],o=this.oo[u];var c=r-a;return s.pushRange(o,h,c),s},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.oo.length-1,e=this.oo[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.oo[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),ya=function(){function t(n){this.do=n||t.BUFFER_CHUNK_SIZE,this._o=!1,this.mo=new ga,this.Zu=new p(this.do),this.po=0,this.Ao=0,this.uo=7}return t.prototype.closeByte=function(){this.Zu[this.po++]=this.Ao,this.po>=this.do&&this.closeBuffer(),this.Ao=0,this.uo=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.po&&(this.mo.pushRange(this.Zu,0,this.po),t&&(this.Zu=new p(this.do)),this.po=0)},_.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.uo},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this._o)throw new v("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this._o=!0,this.mo},t.prototype.writeBit=function(t){if(this._o)throw new v("Cannot write to a closed BitWriter.");this.Ao|=t<<this.uo,0===this.uo?this.closeByte():this.uo--},t.prototype.writeByte=function(t){if(this._o)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.Ao=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.uo;this.Ao|=la(t,n+1),this.closeByte(),this.Ao=da(t,8-n)<<n+1,this.uo=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this._o)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.po+t.length<=this.do?(this.Zu.set(t,this.po),this.po+=t.length,this.po===this.do&&this.closeBuffer()):(this.closeBuffer(),this.mo.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.uo;this.Ao|=la(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=da(t[i-1],8-n),r=la(t[i],n+1);this.Ao=e<<n+1|r,this.closeByte()}this.Ao=da(t[t.length-1],8-n)<<n+1,this.uo=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new v("Received a negative number.");if(n>32)throw new v("The max bitlength that can be provided is 32.");if(t>=w.pow(2,n))throw new v("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new v("The max bitlength that can be provided is 32.");if(w.abs(t)>=w.pow(2,n-1))throw new v("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+w.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new v("Received a negative number.");for(var n=w.floor(w.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new p(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),ma=function(){function t(t){this.rb=new ga,this.To=t}return t.prototype.closeWriter=function(){void 0!==this.To&&(this.rb=this.rb.concat(this.To.close()),this.To=void 0)},_.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.To&&(this.To=new ya),this.To},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),pa=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new v("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(w.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new ma;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=w.pow(2,32),t}();function ka(t,n){return t instanceof lt?64===n:t<w.pow(2,n)}function ba(t,n){return w.round(t*w.pow(2,n))}function Aa(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function Ta(t,n){return t/w.pow(2,n)}var Sa=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!ka(i,8))throw new v("the provided version cannot fit in 8 bits.");return r.flags=e,r}return ca(n,t),_.defineProperty(n.prototype,"flags",{get:function(){return this.So},set:function(t){this.So=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(pa),Ea=function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}return ca(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(ga.from(this.data))},n}(pa),Ia=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();var Ra=16384;function Na(t){var n=t.length;if(n<=Ra)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Ra)i.push(String.fromCharCode.apply(String,t.slice(e,e+Ra)));return i.join("")}var Ca=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function Da(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function Pa(t,n,i){var e=Ua(Ha(t),n.offset,n.offset+i);return n.shift(e.byteLength),e}function Ba(t,n,i){return n.offset+i<=t.byteLength}function xa(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function Oa(t,n,i){void 0===i&&(i=!1);var e=xa(t,n,i),r=xa(t,n,i),s=i?r:e,u=i?e:r;return lt.fromBits(u,s,!0)}function La(t,n,i){var e,r=Pa(t,n,i);return Na((e=r,[].slice.call(e)))}function Ma(t,n){var i,e=Da(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&Da(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&Da(t,n))+(63&Da(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&Da(t,n))+64*(63&Da(t,n))+(63&Da(t,n))),i}function Fa(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=Ma(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return function(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Na(n)}(e)}(t,n,!0)}function Ua(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new p(t.buffer,t.byteOffset+n,i-n)}function ja(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ha(t){return new p(t.buffer,t.byteOffset,t.byteLength)}var Xa=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new Ia(this.offset<<3)},t}(),za=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return Da(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return xa(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=xa(t,n,i),r=xa(t,n,i),s=i?r:e,u=i?e:r;return lt.fromBits(u,s,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return Oa(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return Pa(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(xa(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return La(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return Fa(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function Va(t,n){return t.type===n}var qa=8;function Wa(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var e=Ga(t,n);if(!e.complete)return{complete:!1,boxes:i};i.push(e.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new v("Data incomplete");return n.boxes}function Ga(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!Ba(t,n,qa)){var e=n.offset+qa;return{complete:!1,neededOffset:e}}var r=xa(t,n),s=La(t,n,4);if(1===r){if(!Ba(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=Oa(t,n).toNumber()}if("uuid"===s){if(!Ba(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}s=La(t,n,16)}var u=n.offset;return{complete:!0,header:{type:s,size:r,headerSize:u-i}}}(t,n);if(!e.complete)return e;var r=e.header,s=r.size;0===s&&(s=t.byteLength-i);var u=i+s;if(u>t.byteLength){var o=u;return n.seek(i),{complete:!1,neededOffset:o}}var a,h,c,f={type:r.type,offset:i,data:new za((a=t,h=i,c=u,void 0===h&&(h=0),void 0===c&&(c=a.byteLength),new DataView(a.buffer,a.byteOffset+h,c-h)),new Xa(r.headerSize))};return n.seek(u),{complete:!0,box:f}}function Ya(t){return{version:t>>24,flags:new Ca(16777215&t)}}function $a(t,n){var i,e,r,s;return 1===n?(i=t.nextUint64(),e=t.nextUint64(),r=t.nextUint32(),s=t.nextUint64()):(i=t.nextUint32(),e=t.nextUint32(),r=t.nextUint32(),s=t.nextUint32()),{creation:i,modification:e,scale:r,duration:s}}function Qa(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function Ka(t){var n=t.nextUint32Array(9);return{a:Ta(n[0],16),b:Ta(n[1],16),u:Ta(n[2],30),c:Ta(n[3],16),d:Ta(n[4],16),v:Ta(n[5],30),x:Ta(n[6],16),y:Ta(n[7],16),w:Ta(n[8],30)}}function Za(t){return new Ea(t.type,Ua(Ha(t.data.data),t.data.cursor.offset))}var Ja=function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var s=t.call(this,"hdlr",e,r)||this;return s.name=i,s.handlerType=n,s}return ca(n,t),_.defineProperty(n.prototype,"handlerType",{get:function(){return this.Eo},set:function(t){this.Eo=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(Sa);function th(t){var n=t.data,i=Ya(n.nextUint32()),e=i.version,r=i.flags;n.skip(4);var s=n.nextChars(4);n.skip(12);var u=n.nextUTF8String();return new Ja(s,u,e,r.raw)}!function(t){function n(){return t.call(this,"mdir")||this}ca(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(Ja);var nh=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},_.defineProperty(t.prototype,"tag",{get:function(){return this.Io},set:function(t){if(!ka(t,8))throw new v("Provided tag does not fit in 8 bits.");this.Io=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}();!function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var a=t.call(this,4,o.fixed28BitMode)||this;return a.upStream=e,a.decoderSpecificInfo=u,a.objectTypeIndication=n,a.streamType=i,a.bufferSizeDb=r,a.maxBitrate=s.max,a.avgBitrate=s.avg,a}ca(n,t),_.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.Ro},set:function(t){if(!ka(t,8))throw new v("Provided objectTypeIndication does not fit in 8 bits.");this.Ro=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"streamType",{get:function(){return this.No},set:function(t){if(!ka(t,6))throw new v("Provided streamType does not fit in 6 bits.");this.No=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Co},set:function(t){if(!ka(t,24))throw new v("Provided bufferSizeDb does not fit in 24 bits.");this.Co=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.Do},set:function(t){if(!ka(t,32))throw new v("Provided maxBitrate does not fit in 32 bits.");this.Do=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.Po},set:function(t){if(!ka(t,32))throw new v("Provided avgBitrate does not fit in 32 bits.");this.Po=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(nh),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}ca(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(ga.from(this.data))}}(nh);var ih=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return ca(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(nh);!function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,3,r.fixed28BitMode)||this;return s.decoderConfigDescriptor=e,s.esId=n,s.streamPriority=i,s.dependsOnEsId=null==r?void 0:r.dependsOnEsId,s.urlString=null==r?void 0:r.url,s.ocrEsId=null==r?void 0:r.ocrEsId,s.slConfigDescriptor=new ih(r.fixed28BitMode),s}ca(n,t),_.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"esId",{get:function(){return this.Bo},set:function(t){if(!ka(t,16))throw new v("Provided esId does not fit in 16 bits.");this.Bo=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"streamPriority",{get:function(){return this.xo},set:function(t){if(!ka(t,5))throw new v("Provided streamPriority does not fit in 5 bits.");this.xo=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.Oo},set:function(t){if(t&&!ka(t,16))throw new v("Provided dependsOnEsId does not fit in 16 bits.");this.Oo=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.Lo},set:function(t){if(t&&!ka(t,16))throw new v("Provided ocrEsId does not fit in 16 bits.");this.Lo=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(nh);var eh=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return ca(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(pa),rh=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return ca(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(eh),sh=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return ca(n,t),_.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.Mo},set:function(t){if(!ka(t,16))throw new v("Provided dataReferenceIndex does not fit in 16 bits.");this.Mo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(rh),uh=function(t){function n(n,i,e,r){var s,u,o=this;return(o=t.call(this,n,i)||this).extra=r,o.channelCount=null!==(s=e.channelCount)&&void 0!==s?s:2,o.sampleSize=null!==(u=e.sampleSize)&&void 0!==u?u:16,o.sampleRate=e.sampleRate,o}return ca(n,t),_.defineProperty(n.prototype,"channelCount",{get:function(){return this.Fo},set:function(t){if(!ka(t,16))throw new v("Provided channelCount does not fit in 16 bits.");this.Fo=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"sampleSize",{get:function(){return this.Uo},set:function(t){if(!ka(t,16))throw new v("Provided sampleSize does not fit in 16 bits.");this.Uo=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"sampleRate",{get:function(){return this.jo},set:function(t){if(!ka(ba(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.jo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(ba(this.sampleRate,16),32),this.extra&&Aa(n.writer,this.extra)},n}(sh);!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}ca(n,t),_.defineProperty(n.prototype,"entries",{get:function(){return this.Ho},set:function(t){if(!ka(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ka(t,32)}))throw new v("Not all entries can be represented in 32 bits.");this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(Sa),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}ca(n,t),_.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.Xo},set:function(t){if(!ka(t,32))throw new v("Provided cleanApertureWidthN does not fit in 32 bits.");this.Xo=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.zo},set:function(t){if(!ka(t,32))throw new v("Provided cleanApertureWidthD does not fit in 32 bits.");this.zo=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.Vo},set:function(t){if(!ka(t,32))throw new v("Provided cleanApertureHeightN does not fit in 32 bits.");this.Vo=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.qo},set:function(t){if(!ka(t,32))throw new v("Provided cleanApertureHeightD does not fit in 32 bits.");this.qo=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"horizOffN",{get:function(){return this.Wo},set:function(t){if(!ka(t,32))throw new v("Provided horizOffN does not fit in 32 bits.");this.Wo=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"horizOffD",{get:function(){return this.Go},set:function(t){if(!ka(t,32))throw new v("Provided horizOffD does not fit in 32 bits.");this.Go=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"vertOffN",{get:function(){return this.Yo},set:function(t){if(!ka(t,32))throw new v("Provided vertOffN does not fit in 32 bits.");this.Yo=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"vertOffD",{get:function(){return this.$o},set:function(t){if(!ka(t,32))throw new v("Provided vertOffD does not fit in 32 bits.");this.$o=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(pa),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}ca(n,t),_.defineProperty(n.prototype,"entries",{get:function(){return this.Ho},set:function(t){if(!ka(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ka(t.sampleCount,32)||!ka(t.sampleOffset,32)}))throw new v("Not all entries can be represented in 64 bits.");this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(Sa),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}ca(n,t),_.defineProperty(n.prototype,"location",{get:function(){return this.Qo},set:function(t){this.flags=void 0===t?1:0,this.Qo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(Sa),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}ca(n,t),_.defineProperty(n.prototype,"location",{get:function(){return this.Qo},set:function(t){if(1&this.flags)throw new v("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Qo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(Sa),function(t){function n(){return t.call(this,"dinf")||this}ca(n,t)}(rh);var oh=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!ka(i,8))throw new v("the provided version cannot fit in 8 bits.");return r.flags=e,r}return ca(n,t),_.defineProperty(n.prototype,"flags",{get:function(){return this.So},set:function(t){this.So=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(eh);!function(t){function n(){return t.call(this,"dref",0,0)||this}ca(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(oh);var ah=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return ca(n,t),_.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"entries",{get:function(){return this.Ho},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!ka(e.segmentDuration,this.bitSize))throw new v("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!ka(e.mediaTime,this.bitSize))throw new v("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!ka(e.mediaRateInteger,16))throw new v("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!ka(e.mediaRateFraction,16))throw new v("Provided mediaRateFraction does not fit in 16 bits.")}this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(Sa),hh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return ca(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(ah),ch=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return ca(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(ah);function fh(t){for(var n=t.data,i=Ya(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=[],o=0;o<s;o++){var a=void 0,h=void 0;0===e?(a=n.nextUint32(),h=n.nextInt32()):(a=n.nextUint64(),h=n.nextInt64());var c=n.nextInt16(),f=n.nextInt16();u.push({segmentDuration:a,mediaTime:h,mediaRateFraction:f,mediaRateInteger:c})}return 0===e?new hh(u,r.raw):new ch(u,r.raw)}var vh=function(t){function n(){return t.call(this,"edts")||this}return ca(n,t),n}(rh);function lh(t){for(var n=new vh,i=0,e=Wa(t.data);i<e.length;i++){var r=e[i];Va(r,"elst")?n.boxes.push(fh(r)):n.boxes.push(Za(r))}return n}var dh=function(t){function n(n,i,e,r){var s=t.call(this,n)||this;return s.majorBrand=i,s.minorVersion=e,s.compatibleBrands=r,s}return ca(n,t),_.defineProperty(n.prototype,"majorBrand",{get:function(){return this.Ko},set:function(t){if(4!==t.length)throw new v("the provided major brand does not conform to the 4 character requirement");this.Ko=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"minorVersion",{get:function(){return this.Zo},set:function(t){if(!ka(t,32))throw new v("the provided minor version does not fit in 32 bits.");this.Zo=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.Jo},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new v("Some of the compatible brands do not conform to the 4 character requirement");this.Jo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(pa),_h=function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}return ca(n,t),n}(dh);function wh(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new _h(i,e,r)}var gh=function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}return ca(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(ga.from(this.data))},n}(pa),yh=function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=t.call(this,"mdhd",e,r)||this;return s.creationTime=n.creation,s.modificationTime=n.modification,s.timescale=n.scale,s.duration=n.duration,s.language=i,s}return ca(n,t),_.defineProperty(n.prototype,"creationTime",{get:function(){return this.ea},set:function(t){if(!ka(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ra},set:function(t){if(!ka(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ra=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"timescale",{get:function(){return this.ua},set:function(t){if(!ka(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.ua=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"duration",{get:function(){return this.oa},set:function(t){if(!ka(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.oa=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"language",{get:function(){return this.va},set:function(t){if(!bh(t))throw new v("Expected an ISO-639-2/T language code");this.va=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(Sa),mh=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}return ca(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(yh),ph=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}return ca(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(yh);function kh(t){var n=t.data,i=Ya(n.nextUint32()),e=i.version,r=i.flags,s=$a(n,e),u=new _a(ga.from(n.nextUint8Array(2)));u.skipBits(1);for(var o=[],a=0;a<3;a++)o.push(u.readUInt(5));var h=o.map(function(t){return String.fromCharCode(t+96)}).join("");return bh(h)||(h="und"),n.skip(2),0===e?new mh(s,h,r.raw):new ph(s,h,r.raw)}function bh(t){return/^[a-z]{3}$/.test(t)}var Ah=function(t){function n(){return t.call(this,"mdia")||this}return ca(n,t),n}(rh);function Th(t){for(var n=new Ah,i=0,e=Wa(t.data);i<e.length;i++){var r=e[i];Va(r,"mdhd")?n.boxes.push(kh(r)):Va(r,"hdlr")?n.boxes.push(th(r)):n.boxes.push(Za(r))}return n}var Sh,Eh=function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new ga,n}return ca(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)},n}(pa);function Ih(t){var n=t.data,i=n.nextUint8Array(n.data.byteLength-n.cursor.offset),e=new Eh;return e.data.pushRange(i),e}!function(t){function n(){return t.call(this,"minf")||this}ca(n,t)}(rh),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}ca(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(oh),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(Sh||(Sh={}));var Rh,Nh,Ch={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function Dh(t,n){n.writer.writeUInt(ba(t.a,16),32),n.writer.writeUInt(ba(t.b,16),32),n.writer.writeUInt(ba(0,30),32),n.writer.writeUInt(ba(t.c,16),32),n.writer.writeUInt(ba(t.d,16),32),n.writer.writeUInt(ba(0,30),32),n.writer.writeUInt(ba(t.x,16),32),n.writer.writeUInt(ba(t.y,16),32),n.writer.writeUInt(ba(1,30),32)}function Ph(t,n){var i,e,r,s;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:Rh.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:Nh.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:Nh.UNKNOWN,2),n.writer.writeUInt(null!==(s=t.sampleHasRedundancy)&&void 0!==s?s:Nh.UNKNOWN,2)}function Bh(t,n){var i,e,r;n.writer.writeUInt(0,4),Ph(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(Rh||(Rh={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(Nh||(Nh={}));var xh=function(){return function(){}}(),Oh=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return ca(n,t),_.defineProperty(n.prototype,"systemId",{get:function(){return this._a},set:function(t){if(16!==t.length)throw new v("Provided systemId length is not 16.");this._a=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"data",{get:function(){return this.qi},set:function(t){if(!ka(t.length,32))throw new v("Provided data length does not fit in 32 bits.");this.qi=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(ga.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(ga.from(this.data))},n}(Sa),Lh=function(t){function n(n,i){return t.call(this,0,n,i)||this}return ca(n,t),n}(Oh),Mh=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return ca(n,t),_.defineProperty(n.prototype,"kIds",{get:function(){return this.ya},set:function(t){if(!ka(t.length,32))throw new v("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new v("Not all provided key ids are 16 bytes long.");this.ya=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(ga.from(e))}},n}(Oh);function Fh(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),s=0;s<r;s++)e.push(t.data.nextUint8Array(16));var u=t.data.nextUint32(),o=t.data.nextUint8Array(u);return 1===n?new Mh(i,o,e):new Lh(i,o)}var Uh=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return ca(n,t),_.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.ma},set:function(t){if(!ka(t,this.bitSize))throw new v("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.ma=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(Sa),jh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return ca(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(Uh),Hh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return ca(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(Uh);function Xh(t){var n=t.data,i=Ya(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new jh(n.nextUint32(),r.raw):new Hh(n.nextUint64(),r.raw)}var zh=function(t){function n(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var s,u,o,a=this;return(a=t.call(this,"trex",e,r)||this).trackId=n,a.defaultSampleDescriptionIndex=null!==(s=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==s?s:0,a.defaultSampleDuration=null!==(u=i.sampleDuration)&&void 0!==u?u:0,a.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,a.defaultSampleFlags=i.sampleFlags,a}return ca(n,t),_.defineProperty(n.prototype,"trackId",{get:function(){return this.Aa},set:function(t){if(!ka(t,32))throw new v("Provided track id does not fit in 32 bits.");this.Aa=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Ta},set:function(t){if(!ka(t,32))throw new v("Provided default sample description index does not fit in 32 bits.");this.Ta=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Sa},set:function(t){if(!ka(t,32))throw new v("Provided default sample duration does not fit in 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Ea},set:function(t){if(!ka(t,32))throw new v("Provided default sample size does not fit in 32 bits.");this.Ea=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Ia},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!ka(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!ka(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Ia=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),Bh(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(Sa);function Vh(t){var n=t.data,i=Ya(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=n.nextUint32(),o=n.nextUint32(),a=n.nextUint32(),h=Qa(new _a(ga.from(n.nextUint8Array(4))));return new zh(s,{sampleDescriptionIndex:u,sampleDuration:o,sampleSize:a,sampleFlags:h},e,r.raw)}var qh=function(t){function n(){return t.call(this,"mvex")||this}return ca(n,t),n}(rh);function Wh(t){for(var n=new qh,i=0,e=Wa(t.data);i<e.length;i++){var r=e[i];Va(r,"mehd")?n.boxes.push(Xh(r)):Va(r,"trex")?n.boxes.push(Vh(r)):n.boxes.push(Za(r))}return n}var Gh=function(t){function n(i,e,r,s,u){void 0===u&&(u=0);var o,a,h,c=this;return(c=t.call(this,"mvhd",s,u)||this).creationTime=i.creation,c.modificationTime=i.modification,c.timescale=i.scale,c.duration=i.duration,c.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,c.volume=null!==(a=r.volume)&&void 0!==a?a:n.DEFAULT_VOLUME,c.matrix=null!==(h=r.matrix)&&void 0!==h?h:Ch,c.Ra=e,c}return ca(n,t),_.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"creationTime",{get:function(){return this.ea},set:function(t){if(!ka(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ra},set:function(t){if(!ka(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ra=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"timescale",{get:function(){return this.ua},set:function(t){if(!ka(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.ua=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"duration",{get:function(){return this.oa},set:function(t){if(!ka(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.oa=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"rate",{get:function(){return this.Na},set:function(t){if(!ka(ba(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.Na=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"volume",{get:function(){return this.Ca},set:function(t){if(!ka(ba(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Ca=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"matrix",{get:function(){return this.Da},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Da=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.Ra},set:function(t){if(0===t)throw new v("NextTrackId cannot be 0.");if(!ka(t,32))throw new v("NextTrackId cannot exceed 32 bits.");this.Ra=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(ba(this.rate,16),32),n.writer.writeUInt(ba(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),Dh(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(Sa),Yh=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}return ca(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Gh),$h=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}return ca(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Gh);function Qh(t){var n=t.data,i=Ya(n.nextUint32()),e=i.version,r=i.flags,s=$a(n,e),u=Ta(n.nextUint32(),16),o=Ta(n.nextUint16(),8);n.skip(2),n.skip(8);var a=Ka(n);n.skip(24);var h=n.nextUint32();return 0===e?new Yh(s,h,{rate:u,volume:o,matrix:a},r.raw):new $h(s,h,{rate:u,volume:o,matrix:a},r.raw)}var Kh=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var a,h,c,f=this;return(f=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this).creationTime=i.creation,f.modificationTime=i.modification,f.trackId=e,f.duration=i.duration,f.volume=r,f.width=s,f.height=u,f.layer=null!==(a=o.layer)&&void 0!==a?a:0,f.alternateGroup=null!==(h=o.alternateGroup)&&void 0!==h?h:0,f.matrix=null!==(c=o.matrix)&&void 0!==c?c:Ch,f}return ca(n,t),_.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"creationTime",{get:function(){return this.ea},set:function(t){if(!ka(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ra},set:function(t){if(!ka(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ra=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"trackId",{get:function(){return this.Aa},set:function(t){if(0===t)throw new v("trackId cannot be 0.");if(!ka(t,32))throw new v("trackId cannot exceed 32 bits.");this.Aa=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"duration",{get:function(){return this.oa},set:function(t){if(!ka(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.oa=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"volume",{get:function(){return this.Ca},set:function(t){if(!ka(ba(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Ca=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"width",{get:function(){return this.Pa},set:function(t){if(!ka(ba(t,16),32))throw new v("Provided width does not fit in 32 bits (fixed 16.16).");this.Pa=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"height",{get:function(){return this.Ba},set:function(t){if(!ka(ba(t,16),32))throw new v("Provided height does not fit in 32 bits (fixed 16.16).");this.Ba=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"layer",{get:function(){return this.xa},set:function(t){if(!ka(t,16))throw new v("Provided layer does not fit in 16 bits.");this.xa=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Oa},set:function(t){if(!ka(t,16))throw new v("Provided alternateGroup does not fit in 16 bits.");this.Oa=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"matrix",{get:function(){return this.Da},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Da=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(ba(this.volume,8),16),n.writer.writeUInt(0,16),Dh(this.matrix,n),n.writer.writeUInt(ba(this.width,16),32),n.writer.writeUInt(ba(this.height,16),32)},n}(Sa),Zh=function(t){function n(n,i,e,r,s,u){return t.call(this,0,n,i,e,r,s,u)||this}return ca(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(Kh),Jh=function(t){function n(n,i,e,r,s,u){return t.call(this,1,n,i,e,r,s,u)||this}return ca(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Kh);function tc(t){var n,i,e,r,s=t.data,u=Ya(s.nextUint32()),o=u.version,a=u.flags,h=a.isSet(8),c=a.isSet(4),f=a.isSet(2),v=a.isSet(1);0===o?(n=s.nextUint32(),i=s.nextUint32(),e=s.nextUint32(),s.skip(4),r=s.nextUint32()):(n=s.nextUint64(),i=s.nextUint64(),e=s.nextUint32(),s.skip(4),r=s.nextUint64()),s.skip(8);var l=s.nextInt16(),d=s.nextInt16(),_=Ta(s.nextInt16(),8);s.skip(2);var w=Ka(s),g=Ta(s.nextUint32(),16),y=Ta(s.nextUint32(),16);return 0===o?new Zh({creation:n,modification:i,duration:r},e,_,g,y,{layer:l,matrix:w,alternateGroup:d,trackSizeIsAspectRatio:h,trackEnabled:v,trackInPreview:c,trackInMovie:f}):new Jh({creation:n,modification:i,duration:r},e,_,g,y,{layer:l,matrix:w,alternateGroup:d,trackSizeIsAspectRatio:h,trackEnabled:v,trackInPreview:c,trackInMovie:f})}var nc=function(t){function n(){return t.call(this,"trak")||this}return ca(n,t),n}(rh);function ic(t){for(var n=new nc,i=0,e=Wa(t.data);i<e.length;i++){var r=e[i];Va(r,"tkhd")?n.boxes.push(tc(r)):Va(r,"mdia")?n.boxes.push(Th(r)):Va(r,"edts")?n.boxes.push(lh(r)):n.boxes.push(Za(r))}return n}var ec=function(t){function n(){return t.call(this,"moov")||this}return ca(n,t),n}(rh);function rc(t){for(var n=new ec,i=0,e=Wa(t.data);i<e.length;i++){var r=e[i];Va(r,"mvhd")?n.boxes.push(Qh(r)):Va(r,"trak")?n.boxes.push(ic(r)):Va(r,"mvex")?n.boxes.push(Wh(r)):Va(r,"pssh")?n.boxes.push(Fh(r)):n.boxes.push(Za(r))}return n}var sc=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return ca(n,t),_.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.La},set:function(t){if(!ka(t,this.bitSize))throw new v("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.La=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(Sa),uc=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return ca(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(sc),oc=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return ca(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(sc);function ac(t){var n=t.data,i=Ya(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new uc(n.nextUint32(),r.raw):new oc(n.nextUint64(),r.raw)}var hc=function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}return ca(n,t),_.defineProperty(n.prototype,"trackId",{get:function(){return this.Aa},set:function(t){if(!ka(t,32))throw new v("Provided track id does not fit in 32 bits.");this.Aa=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.Ma},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is not set.");if(t&&!ka(t,64))throw new v("Provided baseDataOffset does not fit in 32 bits.");this.Ma=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.Fa},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is not set.");if(t&&!ka(t,32))throw new v("Provided sampleDescriptionIndex does not fit in 32 bits.");this.Fa=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Sa},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is not set.");if(t&&!ka(t,32))throw new v("Provided defaultSampleDuration does not fit in 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Ea},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is not set.");if(t&&!ka(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Ea=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Ia},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!ka(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!ka(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Ia=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&Bh(this.defaultSampleFlags,n)},n}(Sa);function cc(t){var n=t.data,i=n.nextUint8(),e=new _a(ga.from(n.nextUint8Array(3)));e.skipBits(6);var r=Boolean(e.readBit()),s=Boolean(e.readBit());e.skipBits(10);var u=Boolean(e.readBit()),o=Boolean(e.readBit()),a=Boolean(e.readBit());e.skipBits(1);var h=Boolean(e.readBit()),c=Boolean(e.readBit()),f=n.nextUint32(),v=c?n.nextUint64():void 0,l=h?n.nextUint32():void 0,d=a?n.nextUint32():void 0,_=o?n.nextUint32():void 0,w=u?Qa(new _a(ga.from(n.nextUint8Array(4)))):void 0;return new hc({trackId:f,defaultBaseIsMoof:r,durationIsEmpty:s,baseDataOffset:v,sampleDescriptionIndex:l,defaultSampleDuration:d,defaultSampleSize:_,defaultSampleFlags:w},i)}var fc=function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}return ca(n,t),_.defineProperty(n.prototype,"dataOffset",{get:function(){return this.Ua},set:function(t){if(t&&!ka(t,32))throw new v("Provided data offset does not fit in 32 bits.");this.Ua=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.Ha},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!ka(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!ka(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Ha=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"samples",{get:function(){return this.Xa},set:function(t){var n,i;if(!ka(t.length,32))throw new v("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var s=r[e];if(void 0===s.duration&&this.flags.sampleDurationPresent)throw new v("The sample duration present flag is set.");if(void 0!==s.duration&&!this.flags.sampleDurationPresent)throw new v("The sample duration present flag is not set.");if(s.duration&&!ka(s.duration,32))throw new v("Provided sample duration does not fit in 32 bits.");if(void 0===s.size&&this.flags.sampleSizePresent)throw new v("The sample size present flag is set.");if(void 0!==s.size&&!this.flags.sampleSizePresent)throw new v("The sample size present flag is not set.");if(s.size&&!ka(s.size,32))throw new v("Provided sample size does not fit in 32 bits.");if(void 0===s.flags&&this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is set.");if(void 0!==s.flags&&!this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is not set.");if((null===(n=s.flags)||void 0===n?void 0:n.samplePaddingValue)&&!ka(s.flags.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null===(i=s.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!ka(s.flags.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");if(void 0===s.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is set.");if(void 0!==s.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is not set.");if(s.compositionTimeOffset&&!ka(s.compositionTimeOffset,32))throw new v("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.Xa=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&Bh(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&Bh(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}},n}(Sa);function vc(t){var n=t.data,i=n.nextUint8(),e=new _a(ga.from(n.nextUint8Array(3)));e.skipBits(12);var r=Boolean(e.readBit()),s=Boolean(e.readBit()),u=Boolean(e.readBit()),o=Boolean(e.readBit());e.skipBits(5);var a=Boolean(e.readBit());e.skipBits(1);var h=Boolean(e.readBit()),c=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:u,sampleFlagsPresent:s,sampleCompositionTimeOffsetsPresent:r};h&&(f.dataOffset=n.nextInt32()),a&&(f.firstSampleFlags=Qa(new _a(ga.from(n.nextUint8Array(4)))));for(var v=[],l=0;l<c;l++){var d={};o&&(d.duration=n.nextUint32()),u&&(d.size=n.nextUint32()),s&&(d.flags=Qa(new _a(ga.from(n.nextUint8Array(4))))),r&&(d.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),v.push(d)}return new fc(i,f,v)}var lc=function(t){function n(){return t.call(this,"traf")||this}return ca(n,t),n}(rh);function dc(t){for(var n=new lc,i=0,e=Wa(t.data);i<e.length;i++){var r=e[i];Va(r,"tfhd")?n.boxes.push(cc(r)):Va(r,"tfdt")?n.boxes.push(ac(r)):Va(r,"trun")?n.boxes.push(vc(r)):n.boxes.push(Za(r))}return n}var _c=function(t){function n(){return t.call(this,"moof")||this}return ca(n,t),n}(rh);function wc(t){for(var n=new _c,i=0,e=Wa(t.data);i<e.length;i++){var r=e[i];Va(r,"traf")?n.boxes.push(dc(r)):Va(r,"pssh")?n.boxes.push(Fh(r)):n.boxes.push(Za(r))}return n}!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}ca(n,t),_.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.Va},set:function(t){if(!ka(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.Va=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(Sa);var gc=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return ca(n,t),_.defineProperty(n.prototype,"codingName",{get:function(){return this.qa},set:function(t){if(4!==t.length)throw new v("Provided coding name was not 4 characters long.");this.qa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(pa);!function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}ca(n,t),_.defineProperty(n.prototype,"hSpacing",{get:function(){return this.Wa},set:function(t){if(!ka(t,32))throw new v("Provided hSpacing does not fit in 32 bits.");this.Wa=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"vSpacing",{get:function(){return this.Ga},set:function(t){if(!ka(t,32))throw new v("Provided vSpacing does not fit in 32 bits.");this.Ga=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(pa),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}ca(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(rh),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new gc(n),r}ca(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(pa);var yc=function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return ca(n,t),_.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"entries",{get:function(){return this.Ho},set:function(t){var n=this;if(!ka(t.length,32))throw new v("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!ka(t,n.bitSize)}))throw new v("Not all provided entries fit in ".concat(this.bitSize," bits."));this.Ho=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Ya},set:function(t){if(void 0===t)this.flags=0;else{if(!ka(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!ka(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Ya=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(Sa);!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}ca(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(yc),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}ca(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(yc),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}ca(n,t),_.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.$a},set:function(t){if(!ka(t,8))throw new v("Provided defaultSampleInfoSize does not fit in a single byte.");this.$a=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.Qa},set:function(t){if(!ka(t.length,32))throw new v("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!ka(t,8)}))throw new v("Not all provided sampleInfoSizes fit in a byte.");this.Qa=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Ya},set:function(t){if(void 0===t)this.flags=0;else{if(!ka(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!ka(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Ya=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new v("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(Sa),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}ca(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){Ph(e[i],n)}}}(Sa),function(t){function n(n){return t.call(this,"stsd",n,0)||this}ca(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(oh);var mc=function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return ca(n,t),_.defineProperty(n.prototype,"groupingType",{get:function(){return this.Ka},set:function(t){if(4!==t.length)throw new v("The provided groupingType does not equal 4 characters.");this.Ka=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(Sa);!function(t){function n(n,i){return t.call(this,0,n,i)||this}ca(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(mc),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}ca(n,t),_.defineProperty(n.prototype,"defaultLength",{get:function(){return this.Za},set:function(t){if(!ka(t,32))throw new v("The provided defaultLength does not fit in 32 bits.");this.Za=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(mc),function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=this;if(n<2)throw new v("This constructor is only meant for versions 2 and up.");return(s=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,s}ca(n,t),_.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Ta},set:function(t){if(!ka(t,32))throw new v("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Ta=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(mc),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}ca(n,t),_.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.Ja},set:function(t){if(!ka(t.length,32))throw new v("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!ka(t,32)}))throw new v("Not all sampleSizes can be represented in 32 bits.");this.Ja=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(Sa),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}ca(n,t),_.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Ea},set:function(t){if(!ka(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Ea=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"samples",{get:function(){return this.Xa},set:function(t){if(!ka(t,32))throw new v("Number of allowed samples cannot fit in 32 bits.");this.Xa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(Sa),function(t){function n(){return t.call(this,"stbl")||this}ca(n,t)}(rh),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}ca(n,t),_.defineProperty(n.prototype,"entries",{get:function(){return this.Ho},set:function(t){if(!ka(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ka(t.firstChunk,32)||!ka(t.sampleDescriptionIndex,32)||!ka(t.samplesPerChunk,32)}))throw new v("Not all entries can be represented in 96 bits.");this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(Sa),function(t){function n(){return t.call(this,"schi")||this}ca(n,t)}(rh),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}ca(n,t),_.defineProperty(n.prototype,"schemeType",{get:function(){return this.nh},set:function(t){if(4!==t.length)throw new v("The provided schemeType does not have a length of 4.");this.nh=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.ih},set:function(t){if(!ka(t,32))throw new v("The provided schemeVersion does not fit in 23 bits.");this.ih=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"schemeUri",{get:function(){return this.eh},set:function(t){if(t&&4!==t.length)throw new v("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.eh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(Sa);var pc=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o=0);var a=t.call(this,"sidx",n,o)||this;return a.referenceId=i,a.timescale=e,a.earliestPresentationTime=r,a.firstOffset=s,a.references=u,a}return ca(n,t),_.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"referenceId",{get:function(){return this.rh},set:function(t){if(!ka(t,32))throw new v("Provided referenceId does not fit in 32 bits.");this.rh=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"timescale",{get:function(){return this.ua},set:function(t){if(!ka(t,32))throw new v("Provided timescale does not fit in 32 bits.");this.ua=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.sh},set:function(t){if(!ka(t,this.bitSize))throw new v("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.sh=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"firstOffset",{get:function(){return this.uh},set:function(t){if(!ka(t,this.bitSize))throw new v("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.uh=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"references",{get:function(){return this.oh},set:function(t){if(!ka(t.length,16))throw new v("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!ka(e.referencedSize,31))throw new v("Provided referenced size does not fit in 31 bits.");if(!ka(e.subsegmentDuration,32))throw new v("Provided subsegment duration does not fit in 31 bits.");if(!ka(e.sapType,3))throw new v("Provided SAP type does not fit in 3 bits.");if(!ka(e.sapDeltaTime,28))throw new v("Provided SAP delta time does not fit in 28 bits.")}this.oh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(Sa),kc=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,0,n,i,e,r,s,u)||this}return ca(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(pc),bc=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,1,n,i,e,r,s,u)||this}return ca(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(pc);var Ac=function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}return ca(n,t),n}(dh);function Tc(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new Ac(i,e,r)}!function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}ca(n,t),_.defineProperty(n.prototype,"balance",{get:function(){return this.ah},set:function(t){if(t<-1||t>1)throw new v("Provided balance does not fit in the allowed range [-1, 1].");if(!ka(ba(t,8),16))throw new v("Provided balance does not fit in 16 bits (fixed 8.8).");this.ah=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(ba(this.balance,8),16),n.writer.writeUInt(0,16)}}(Sa),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}ca(n,t),_.defineProperty(n.prototype,"entries",{get:function(){return this.Ho},set:function(t){if(!ka(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ka(t,32)}))throw new v("Not all entries can be represented in 32 bits.");this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(Sa),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}ca(n,t),_.defineProperty(n.prototype,"entries",{get:function(){return this.Ho},set:function(t){if(!ka(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ka(t.sampleCount,32)||!ka(t.sampleDelta,32)}))throw new v("Not all entries can be represented in 64 bits.");this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(Sa),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}ca(n,t),_.defineProperty(n.prototype,"trackId",{get:function(){return this.Aa},set:function(t){if(!ka(t,32))throw new v("The provided trackId does not fit in 32 bits.");this.Aa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(oh),function(t){function n(){return t.call(this,"udta")||this}ca(n,t)}(rh);var Sc={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=Sc);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}ca(n,t),_.defineProperty(n.prototype,"opColor",{get:function(){return this.hh},set:function(t){if(!ka(t.red,16)||!ka(t.green,16)||!ka(t.blue,16))throw new v("Not all colors could be represented in 16 bits.");this.hh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(Sa);var Ec=function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u,o,a,h,c,f=this;return(f=t.call(this,n,i)||this).width=e.width,f.height=e.height,f.horizontalResolution=null!==(u=e.horizontal)&&void 0!==u?u:72,f.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,f.compressorName=null!==(a=r.compressorName)&&void 0!==a?a:"",f.frameCount=null!==(h=r.frameCount)&&void 0!==h?h:1,f.depth=null!==(c=r.depth)&&void 0!==c?c:24,f.clap=r.clap,f.pasp=r.pasp,f.extra=s,f}return ca(n,t),_.defineProperty(n.prototype,"width",{get:function(){return this.Pa},set:function(t){if(!ka(t,16))throw new v("Provided width does not fit in 16 bits.");this.Pa=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"height",{get:function(){return this.Ba},set:function(t){if(!ka(t,16))throw new v("Provided height does not fit in 16 bits.");this.Ba=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.fh},set:function(t){if(!ka(ba(t,16),32))throw new v("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.fh=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.vh},set:function(t){if(!ka(ba(t,16),32))throw new v("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.vh=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"compressorName",{get:function(){return this.lh},set:function(t){if(t.length>31)throw new v("The provided compressorName should at most be 31 characters long.");this.lh=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"frameCount",{get:function(){return this.dh},set:function(t){if(!ka(t,16))throw new v("Provided frameCount does not fit in 16 bits.");this.dh=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"depth",{get:function(){return this._h},set:function(t){if(!ka(t,16))throw new v("Provided depth does not fit in 16 bits.");this._h=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,s,u;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(u=null===(s=this.extra)||void 0===s?void 0:s.length)&&void 0!==u?u:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(ba(this.horizontalResolution,16),32),n.writer.writeUInt(ba(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&Aa(n.writer,this.extra)},n}(sh);!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}ca(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof p?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof p?n.concat(ga.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(Sa),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}ca(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(uh),function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,"mp4v",n,i,r)||this;return s.esDescriptor=e,s}ca(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Ec),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}ca(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(sh),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}ca(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(pa),function(){function t(t,n,i,e,r,s){void 0===s&&(s=1),this.lengthSizeMinusOne=i,this.version=s,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}_.defineProperty(t.prototype,"version",{get:function(){return this.wh},set:function(t){if(!ka(t,8))throw new v("Provided version does not fit in 8 bits.");this.wh=t},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"profileIndication",{get:function(){return this.gh},set:function(t){if(!ka(t,8))throw new v("Provided profileIndication does not fit in 8 bits.");this.gh=t},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.yh},set:function(t){if(!ka(t,8))throw new v("Provided profileCompatibility does not fit in 8 bits.");this.yh=t},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"levelIndication",{get:function(){return this.ph},set:function(t){if(!ka(t,8))throw new v("Provided levelIndication does not fit in 8 bits.");this.ph=t},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"spsSets",{get:function(){return this.kh},set:function(t){if(!ka(t.length,5))throw new v("Provided number of spsSets exceeds the max (32)");this.kh=t},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"ppsSets",{get:function(){return this.Ah},set:function(t){if(!ka(t.length,8))throw new v("Provided number of ppsSets exceeds the max (256)");this.Ah=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(ga.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,s=this.ppsSets;r<s.length;r++){var u=s[r];t.writer.writeUInt(u.length,16),t.concat(ga.from(u))}}}(),function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u=t.call(this,"avc1",n,i,r)||this;return u.configurationBox=e,u.bitrateBox=s,u}ca(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(Ec),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}ca(n,t),_.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Co},set:function(t){if(!ka(t,32))throw new v("Provided bufferSizeDb does not fit in 32 bits.");this.Co=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"max",{get:function(){return this.Th},set:function(t){if(!ka(t,32))throw new v("Provided max does not fit in 32 bits.");this.Th=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"avg",{get:function(){return this.Sh},set:function(t){if(!ka(t,32))throw new v("Provided avg does not fit in 32 bits.");this.Sh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(pa);var Ic=function(t){function n(n,i){var e,r,s,u,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new v("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(s=i.isProtected)&&void 0!==s?s:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(u=i.constantIv)&&void 0!==u?u:new p(0),o}return ca(n,t),_.defineProperty(n.prototype,"isProtected",{get:function(){return this.Eh},set:function(t){if(!ka(t,8))throw new v("Provided isProtected does not fit in 1 byte.");this.Eh=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.Ih},set:function(t){if(![8,16].includes(t))throw new v("Provided perSampleIvSize does not match any allowed value [8, 16].");this.Ih=t,this.Rh=new p(0)},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"kId",{get:function(){return this.Nh},set:function(t){if(16!==t.length)throw new v("Provided kId length is not 16.");this.Nh=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"constantIv",{get:function(){return this.Rh},set:function(t){if(![8,16].includes(t.length))throw new v("Provided constant IV length does not match any allowed value [8, 16].");this.Rh=t,this.Ih=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),Aa(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),Aa(t.writer,this.constantIv))},n}(Sa);!function(t){function n(n){return t.call(this,0,n)||this}ca(n,t)}(Ic);var Rc=function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return ca(n,t),_.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.Ch},set:function(t){if(!ka(t,4))throw new v("Provided cryptByteBlocks does not fit in 4 bits.");this.Ch=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.Dh},set:function(t){if(!ka(t,4))throw new v("Provided skipByteBlocks does not fit in 4 bits.");this.Dh=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(Ic);function Nc(t){return void 0!==t.iv}function Cc(t){return void 0!==t.subsamples}!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new Rc(n),i}ca(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(xh),function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}ca(n,t),_.defineProperty(n.prototype,"samples",{get:function(){return this.Xa},set:function(t){var n;if(!ka(t.length,32))throw new v("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(Nc(r)&&![8,16].includes(r.iv.length))throw new v("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=Cc(r)),!0===n&&!Cc(r)||!1===n&&Cc(r))throw new v("Mix of samples with and without subsamples detected.");if(Cc(r)){if(!ka(r.subsamples.length,16))throw new v("Subsample length of one of the provided samples does not fit in 16 bits.");for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];if(!ka(o.clearData,16))throw new v("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!ka(o.protectedData,23))throw new v("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.Xa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];Nc(r)&&(n+=r.iv.length),Cc(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(Nc(r)&&Aa(n.writer,r.iv),Cc(r)){n.writer.writeUInt(r.subsamples.length,16);for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(Sa),function(t){function n(n,i,e,r,s){var u=t.call(this,"emsg",0,0)||this;return u.schemeIdUri=n,u.value=i,u.data=s,u.id=e,u.timescale=r.timescale,u.presentationTimeDelta=r.presentationTimeDelta,u.eventDuration=r.eventDuration,u}ca(n,t),_.defineProperty(n.prototype,"timescale",{get:function(){return this.ua},set:function(t){if(!ka(t,32))throw new v("The provided timescale does not fit in 32 bits.");this.ua=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.Ph},set:function(t){if(!ka(t,32))throw new v("The provided presentationTimeDelta does not fit in 32 bits.");this.Ph=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"eventDuration",{get:function(){return this.Bh},set:function(t){if(!ka(t,32))throw new v("The provided eventDuration does not fit in 32 bits.");this.Bh=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"id",{get:function(){return this.Oh},set:function(t){if(!ka(t,32))throw new v("The provided id does not fit in 32 bits.");this.Oh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(ga.from(this.data))}}(Sa);var Dc=function(){function t(){this.boxes=[]}return t.prototype.serialize=function(){for(var t=new ma,n=0,i=this.boxes;n<i.length;n++){var e=i[n];t.concat(e.serialize())}return t.toRangedBuffer()},t}();function Pc(t,n){return function(i){var e=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=Ga(i,e);if(!r.complete)return;if(Va(r.box,n))return r.box}}(new za(ja(i),new Xa),t);if(!e)throw new v("".concat(t," box not found"));return n(e)}}var Bc=Pc("moov",rc),xc=Pc("sidx",function(t){var n,i,e=t.data,r=Ya(e.nextUint32()),s=r.version,u=r.flags,o=e.nextUint32(),a=e.nextUint32();0===s?(n=e.nextUint32(),i=e.nextUint32()):(n=e.nextUint64(),i=e.nextUint64()),e.skip(2);for(var h=e.nextUint16(),c=[],f=0;f<h;f++){var v=new _a(ga.from(e.nextUint8Array(12))),l=v.readBit(),d=v.readUInt(31),_=v.readUInt(32),w=Boolean(v.readBit()),g=v.readUInt(3),y=v.readUInt(28);c.push({referenceType:l,referencedSize:d,subsegmentDuration:_,startsWithSap:w,sapType:g,sapDeltaTime:y})}return 0===s?new kc(o,a,n,i,c,u.raw):new bc(o,a,n,i,c,u.raw)}),Oc=Pc("moof",wc),Lc=Pc("pssh",Fh);function Mc(t){return function(t){for(var n=new Dc,i=0,e=Wa(t);i<e.length;i++){var r=e[i];Va(r,"ftyp")?n.boxes.push(wh(r)):Va(r,"styp")?n.boxes.push(Tc(r)):Va(r,"moov")?n.boxes.push(rc(r)):Va(r,"moof")?n.boxes.push(wc(r)):Va(r,"mdat")?n.boxes.push(Ih(r)):n.boxes.push(Za(r))}return n}(new za(ja(t),new Xa))}var Fc=function(t){function n(n,i){var e;(e=t.call(this)||this).Lh=void 0,e.Mh=!1,e.Fh=void 0,e.Uh=void 0,e.jh=function(){e.Hh()},e.Xh=function(t){e.Qs(new Cu(nn(e),t.messageType,ua(e.Vh,t.message)))},e.qh=function(){e.Mh=!0,e.Lh.Pu>0&&(e.Lh.Du(),e.Qs(new Nu(nn(e)))),e.Wh.removeEventListener("keystatuseschange",e.jh),e.Wh.removeEventListener("message",e.Xh)},e.Wh=n,e.Vh=i,e.Wh.addEventListener("keystatuseschange",e.jh),e.Wh.addEventListener("message",e.Xh),e.Lh=new Ou;var r=[];return e.Wh.closed&&r.push(Ye.resolve(e.Wh.closed)),e.Uh=new ea,r.push(e.Uh.Hu),e.Fh=Ye.race(r).then(e.qh,e.qh),e.Hh(),e}E(n,t);var i=n.prototype;return i.Gh=function(){if(this.Mh)return this.Fh;var t=[];return t.push(Ye.resolve(this.Wh.close())),t.push(mu(1e3)),this.Uh.Wu(Ye.race(t).catch(Uc)),this.Mh=!0,this.Fh},i.Yh=function(t,n,i){if(F.cn){var e=Lc(Ko(n));if(1===e.version)n=new Lh(e.systemId,e.data).serialize().join()}return Ye.resolve(this.Wh.generateRequest(t,n)).catch(Uc)},i.$h=function(t){return Ye.resolve(this.Wh.load(t)).catch(Uc)},i.Qh=function(){return Ye.resolve(this.Wh.remove()).catch(Uc)},i.Kh=function(t){return Ye.resolve(this.Wh.update(t)).catch(Uc)},i.Hh=function(){var t=this;this.Lh.Du(),this.Wh.keyStatuses.forEach(function(n,i){t.Zh(i,n)}),this.Qs(new Nu(this))},i.Zh=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=Ko(t);if(this.Vh===es&&16===e.byteLength){var r=Yo(e),s=r.getUint32(0,!0),u=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,s,!1),r.setUint16(4,u,!1),r.setUint16(6,o,!1)}this.Vh===es&&"status-pending"===n&&(n="usable"),this.Lh.Cu(e,n)},T(n,[{key:"Jh",get:function(){return this.Fh}},{key:"tc",get:function(){return this.Wh.expiration}},{key:"nc",get:function(){return this.Lh}},{key:"ic",get:function(){return this.Wh.sessionId}}]),n}(Tu);function Uc(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|g(i[1],16))}throw new aa(t.message,void 0,n,t)}var jc=function(){function t(t,n,i){this.ec=t,this.rc=n,this.uc=i}var n=t.prototype;return n.ac=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Fc(this.ec.createSession(t),this.rc));case 1:case"end":return n.stop()}},null,this,null,Ye)},n.hc=function(t){return Ye.resolve(this.ec.setServerCertificate(t))},n.cc=function(t){return Ye.resolve(t.setMediaKeys(this.ec))},n.fc=function(t){return Ye.resolve(t.setMediaKeys(null))},t}(),Hc=function(){function t(t,n,i){this.vc=t,this.Vh=n,this.lc=i}var n=t.prototype;return n.dc=function(){var t;return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(this.vc.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new jc(t,this.Vh,this.lc));case 4:case"end":return n.stop()}},null,this,null,Ye)},n._c=function(){return this.lc},T(t,[{key:"rc",get:function(){return this.vc.keySystem}}]),t}(),Xc={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function zc(t){return ps(t,Xc.APPLICATION_MP4)||ps(t,Xc.VIDEO_MP4)||ps(t,Xc.AUDIO_MP4)}var Vc=function(){function t(t,n){this.vs=void 0,this.wc=void 0,this.vs=t,this.wc=n}return t.prototype.gc=function(t){for(var n=0,i=this.wc;n<i.length;n++){var e=i[n],r=e[0],s=e[1];if(r.toLowerCase()===t.toLowerCase())return s}},t}();function qc(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new Vc(n,[]);for(var e=n.substr(0,i).trim(),r=n.substr(i+1).trim(),s=[],u=0,o=!1,a=0;a<r.length;a++){var h=r[a];if(o||";"!==h)'"'===h&&(o=!o);else{var c=Wc(r.substr(u,a));c&&s.push(c),u=a+1}}if(u!==r.length){var f=Wc(r.substr(u));f&&s.push(f)}return new Vc(e,s)}function Wc(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),e=t.substr(n+1).trim();return'"'===e[0]&&(e=e.substring(1,e.length-1)),[i,e]}}function Gc(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function Yc(t){var n=t,i=n.match(/^avc1\.(\d+)\.(\d+)$/);i&&(n="avc1."+Ss((Number(i[1])<<16|Number(i[2])).toString(16),6,"0"));return n}function $c(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var s={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,yc:e.yc},u=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(s.audioCapabilities=o.filter(function(e){return Qc(t,n,i,e)}),u=!0,s.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var a=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});a.length&&(s.videoCapabilities=a.filter(function(e){return Qc(t,n,i,e)}),u=!0,s.videoCapabilities.length&&(r=!0))}return u||(r=t(i,"video/mp4")),r?s:void 0}}function Qc(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!Ys(n,e.encryptionScheme))&&(!e.robustness&&t(i,Gc(e.contentType))))}function Kc(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,s=t.audioCapabilities;r<s.length;r++){var u=s[r];if(u.contentType)return u.contentType}}function Zc(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function Jc(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(tf))||!(!t.videoCapabilities||!t.videoCapabilities.some(tf))}function tf(t){return!t.robustness}function nf(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(Fr({},r,{robustness:n}))}return i}var ef=function(){function t(){}return t.prototype.Es=function(t,n){var i,e,r,s,u,a,h,c;return Mr.async(function(f){for(;;)switch(f.prev=f.next){case 0:for(n=n.filter(function(t){return!t.yc}),i=0,e=n;i<e.length;i++)(r=e[i]).audioCapabilities&&(r.audioCapabilities=Zc(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=Zc(r.videoCapabilities));if("com.widevine.alpha"!==t||!n.some(Jc)){f.next=14;break}return s=n.map(function(t){return i="SW_SECURE_CRYPTO",Fr({},n=t,{videoCapabilities:n.videoCapabilities?nf(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?nf(n.audioCapabilities,i):void 0});var n,i}),f.prev=4,f.next=7,Mr.awrap(o.requestMediaKeySystemAccess(t,s));case 7:return u=f.sent,a=u.getConfiguration(),f.abrupt("return",new Hc(u,t,a));case 12:f.prev=12,f.t0=f.catch(4);case 14:return f.next=16,Mr.awrap(o.requestMediaKeySystemAccess(t,n));case 16:return h=f.sent,c=h.getConfiguration(),f.abrupt("return",new Hc(h,t,c));case 19:case"end":return f.stop()}},null,null,[[4,12]],Ye)},t.mc=function(){return Ds()},t}(),rf=function(t){function n(n,i){var e;return(e=t.call(this)||this).Mh=!1,e.pc=void 0,e.kc=void 0,e.bc=void 0,e.Ac=void 0,e.Tc=void 0,e.qh=function(){e.Mh=!0,e.pc.Wu(void 0),e.Tc&&(e.Tc.removeEventListener("mskeyclose",e.qh),e.Tc.removeEventListener("mskeymessage",e.Sc),e.Tc.removeEventListener("mskeyerror",e.Ec),e.Tc.removeEventListener("mskeyadded",e.Ic))},e.Sc=function(t){e.bc&&(e.bc.Wu(void 0),e.bc=void 0),e.Qs(new Cu(nn(e),"license-request",Jo(t.message).buffer,t.destinationURL||void 0))},e.Ec=function(){var t=e.Tc&&e.Tc.error;if(t){var n=new aa("Unknown CDM error",t.code,t.systemCode);if(e.bc)e.bc.Gu(n),e.bc=void 0;else if(e.kc)e.kc.Gu(n),e.kc=void 0;else switch(n.Yu){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Rc("output-not-allowed");break;default:e.Rc("internal-error")}}},e.Ic=function(){e.bc&&(e.Rc("usable"),e.bc.Wu(void 0),e.bc=void 0),e.kc&&(e.Rc("usable"),e.kc.Wu(void 0),e.kc=void 0)},e.Nc=n,e.Cc=i,e.pc=new ea,e.Ac=new Ou,e}E(n,t);var i=n.prototype;return i.Yh=function(t,n,i){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Dc(),this.bc=new ea,this.ac(Ko(n),i),t.next=5,Mr.awrap(this.bc.Hu);case 5:case"end":return t.stop()}},null,this,null,Ye)},i.ac=function(t,n){if(!t)throw new l("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Pc;return(i=n?this.Nc.createSession(this.Cc,t,e):this.Nc.createSession(this.Cc,t)).addEventListener("mskeyclose",this.qh),i.addEventListener("mskeymessage",this.Sc),i.addEventListener("mskeyerror",this.Ec),i.addEventListener("mskeyadded",this.Ic),this.Tc=i,this.Rc("status-pending"),i},i.$h=function(t){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Dc(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},null,this,null,Ye)},i.Kh=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.kc=new ea,this.Dc(),this.Tc){i.next=4;break}return i.abrupt("return",Ye.resolve());case 4:if(0!==(n=Ko(t)).byteLength){i.next=7;break}throw new l("Cannot call update with an empty response.");case 7:return this.Tc.update(n),i.next=10,Mr.awrap(this.kc.Hu);case 10:case"end":return i.stop()}},null,this,null,Ye)},i.Gh=function(){return!this.Mh&&this.Tc&&(this.Mh=!0,this.Tc.close()),this.pc.Hu},i.Qh=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Dc(),t.abrupt("return");case 2:case"end":return t.stop()}},null,this,null,Ye)},i.Dc=function(){if(this.Mh)throw new l("Already closing or closed.")},i.Rc=function(t){this.Ac.Du(),this.Ac.Cu(xu,t),this.Qs(new Nu(this))},T(n,[{key:"ic",get:function(){return this.Tc&&this.Tc.sessionId||""}},{key:"tc",get:function(){return NaN}},{key:"Jh",get:function(){return this.pc.Hu}},{key:"nc",get:function(){return this.Ac}}]),n}(Tu),sf=function(){function t(t,n,i){this.Cc=void 0,this.Nc=t,this.rc=n,this.uc=i;var e=Kc(i)||"video/mp4";this.Cc=Gc(e)}var n=t.prototype;return n.ac=function(t){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new rf(this.Nc,this.Cc));case 1:case"end":return t.stop()}},null,this,null,Ye)},n.hc=function(t){return Ye.resolve(!1)},n.cc=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Nc):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Nc),t.removeEventListener("loadedmetadata",i)}),Ye.resolve()},n.fc=function(t){return Ye.resolve()},t}(),uf=function(){function t(t,n){this.Vh=t,this.Bc=n}var n=t.prototype;return n._c=function(){return this.Bc},n.dc=function(){var t=new ge.MSMediaKeys(this.Vh);return Ye.resolve(new sf(t,this.Vh,this.Bc))},T(t,[{key:"rc",get:function(){return this.Vh}}]),t}(),of=function(){function t(){}return t.prototype.Es=function(t,n){try{return Ye.resolve(function(t,n){if(!af())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=$c(hf,Iu,t,e);if(r)return new uf(t,r)}throw new l("Unsupported key system configuration for "+t)}(t,n))}catch(t){return Ye.reject(t)}},t.mc=function(){return af()},t}();function af(){return void 0!==ge.MSMediaKeys&&"function"==typeof ge.MSMediaKeys.isTypeSupported}function hf(t,n){return ge.MSMediaKeys.isTypeSupported(t,n)}var cf,ff,vf=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).pc=new ea,r.xc=void 0,r.Ac=new Ou,r.Oc=void 0,r.Lc=new ea,r.Ec=function(){var t=r.Oc&&r.Oc.error;if(t){var n=new aa("Unknown CDM error",t.code,t.systemCode);r.xc?(r.xc.Gu(n),r.xc=void 0):n.Yu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Rc("output-not-allowed"):r.Rc("internal-error"),r.Qs(new Du)}},r.Sc=function(t){r.Qs(new Cu(nn(r),"license-request",Jo(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Ic=function(){r.xc&&(r.xc.Wu(void 0),r.xc=void 0),r.Rc("usable")},r.Mc=n,r.Cc=i,r.Fc=e,r}E(n,t);var i=n.prototype;return i.Yh=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.Uc;if(!e)throw new l("Expected FairPlay contentId to be defined but was "+e+".");var r=function(t,n,i){var e=zo(t),r=2*e.length,s=2*n.length,u=new ArrayBuffer(4+r+4+s+4+i.byteLength),o=new DataView(u),a=new na;return Ao(o,a,r,!0),Lo(o,a,e,!0),Ao(o,a,s,!0),Lo(o,a,n,!0),Ao(o,a,i.byteLength,!0),go(o,a,i),new p(u)}(Ko(n),e,this.Fc);return this.Oc=this.Mc.createSession(this.Cc,r),this.Oc.addEventListener("webkitkeymessage",this.Sc,!1),this.Oc.addEventListener("webkitkeyadded",this.Ic,!1),this.Oc.addEventListener("webkitkeyerror",this.Ec,!1),this.Rc("status-pending"),this.Lc.Wu(this.Oc),this.Lc=new ea,Ye.resolve()},i.$h=function(t){return Ye.resolve(!0)},i.Kh=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Ko(t)).byteLength){i.next=3;break}throw new l("Cannot call update with an empty response.");case 3:if(this.xc=new ea,i.t0=this.Oc,i.t0){i.next=9;break}return i.next=8,Mr.awrap(this.Lc.Hu);case 8:i.t0=i.sent;case 9:return i.t0.update(n),i.next=13,Mr.awrap(this.xc.Hu);case 13:case"end":return i.stop()}},null,this,null,Ye)},i.Gh=function(){var t,n=this.Oc;return n&&(n.removeEventListener("webkitkeymessage",this.Sc,!1),n.removeEventListener("webkitkeyadded",this.Ic,!1),n.removeEventListener("webkitkeyerror",this.Ec,!1),n.close()),this.Lc.Xs(),null==(t=this.xc)||t.Xs(),this.pc.Wu(void 0),this.pc.Hu},i.Qh=function(){return Ye.resolve(void 0)},i.Rc=function(t){this.Ac.Du(),this.Ac.Cu(xu,t),this.Qs(new Nu(this))},T(n,[{key:"ic",get:function(){return this.Oc?this.Oc.sessionId:""}},{key:"tc",get:function(){return NaN}},{key:"Jh",get:function(){return this.pc.Hu}},{key:"nc",get:function(){return this.Ac}}]),n}(Tu);n.ErrorCode=void 0,(cf=n.ErrorCode||(n.ErrorCode={}))[cf.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",cf[cf.LICENSE_ERROR=2e3]="LICENSE_ERROR",cf[cf.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",cf[cf.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",cf[cf.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",cf[cf.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",cf[cf.SOURCE_INVALID=3e3]="SOURCE_INVALID",cf[cf.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",cf[cf.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",cf[cf.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",cf[cf.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",cf[cf.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",cf[cf.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",cf[cf.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",cf[cf.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",cf[cf.MEDIA_ABORTED=5004]="MEDIA_ABORTED",cf[cf.NETWORK_ERROR=6e3]="NETWORK_ERROR",cf[cf.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",cf[cf.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",cf[cf.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",cf[cf.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",cf[cf.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",cf[cf.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",cf[cf.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",cf[cf.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",cf[cf.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",cf[cf.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",cf[cf.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",cf[cf.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",cf[cf.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",cf[cf.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",cf[cf.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",cf[cf.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",cf[cf.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",cf[cf.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",cf[cf.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",cf[cf.AD_ERROR=1e4]="AD_ERROR",cf[cf.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",cf[cf.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",n.ErrorCategory=void 0,(ff=n.ErrorCategory||(n.ErrorCategory={}))[ff.CONFIGURATION=1]="CONFIGURATION",ff[ff.LICENSE=2]="LICENSE",ff[ff.SOURCE=3]="SOURCE",ff[ff.MANIFEST=4]="MANIFEST",ff[ff.MEDIA=5]="MEDIA",ff[ff.NETWORK=6]="NETWORK",ff[ff.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",ff[ff.SUBTITLE=8]="SUBTITLE",ff[ff.VR=9]="VR",ff[ff.AD=10]="AD",ff[ff.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=w.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new l("Invalid error code: "+t)}}();var lf=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return E(i,t),T(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(rn);var df=function(){function t(t,n,i){this.Cc=void 0,this.Fc=void 0,this.Mc=t,this.rc=n,this.uc=i;var e=Kc(i)||"video/mp4";this.Cc=Gc(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Mc},i.ac=function(t){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Fc){t.next=2;break}throw new lf(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new vf(this.Mc,this.Cc,this.Fc));case 3:case"end":return t.stop()}},null,this,null,Ye)},i.hc=function(t){return this.Fc=Ko(t),Ye.resolve(!0)},i.cc=function(t){return t.webkitSetMediaKeys(this.Mc),Ye.resolve()},i.fc=function(t){return t.webkitSetMediaKeys(null),Ye.resolve()},t}(),_f=function(){function t(t,n){this.Vh=t,this.Bc=n}var n=t.prototype;return n._c=function(){return this.Bc},n.dc=function(){var t=new ge.WebKitMediaKeys(this.Vh);return Ye.resolve(new df(t,this.Vh,this.Bc))},T(t,[{key:"rc",get:function(){return this.Vh}}]),t}(),wf=function(){function t(){}return t.prototype.Es=function(t,n){try{return Ye.resolve(function(t,n){if(t!==cs)throw new l(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!gf())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=$c(yf,Ru,t,e);if(r)return new _f(t,r)}throw new l("Unsupported key system configuration for "+t)}(t,n))}catch(t){return Ye.reject(t)}},t.mc=function(){return gf()},t}();function gf(){return void 0!==ge.WebKitMediaKeys&&"function"==typeof ge.WebKitMediaKeys.isTypeSupported}function yf(t,n){return ge.WebKitMediaKeys.isTypeSupported(t,n)}var mf,pf=function(){function t(t){this.jc=t}return t.prototype.Es=function(t,n){var i,e,r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.jc;case 1:if(!(i<e.length)){s.next=14;break}return r=e[i],s.prev=3,s.next=6,Mr.awrap(r.Es(t,n));case 6:return s.abrupt("return",s.sent);case 9:s.prev=9,s.t0=s.catch(3);case 11:i++,s.next=1;break;case 14:throw new l("Unsupported key system configuration for "+t);case 15:case"end":return s.stop()}},null,this,[[3,9]],Ye)},t}(),kf=function(t){function n(n){var i;return(i=t.call(this)||this).bc=void 0,i.xc=void 0,i.pc=void 0,i._o=!1,i.Hc=void 0,i.Xc=void 0,i.zc=void 0,i.Vc=void 0,i.qc=void 0,i.Vh=n,i.pc=new ea,i.Xc="",i.qc=new ea,i.zc=new Ou,i}E(n,t);var i=n.prototype;return i.Wc=function(){this.xc&&(this.Rc("usable"),this.xc.Wu(void 0),this.xc=void 0)},i.Gc=function(t){var n=new aa("Unknown CDM error",t.errorCode,t.systemCode);this.xc?(this.xc.Gu(n),this.xc=void 0):this.bc?(this.bc.Gu(n),this.bc=void 0):n.Yu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Rc("output-restricted"):1===n.$u?this.Rc("expired"):this.Rc("internal-error")},i.Yc=function(t){0!==t.message.byteLength&&(this.bc&&(this.bc.Wu(void 0),this.bc=void 0),this.Qs(new Cu(this,"license-request",ua(this.Vh,Jo(t.message).buffer),t.defaultURL||void 0)))},i.$c=function(t){this.Vc||(this.Vc=t,this.qc.Wu(t))},i.Gh=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this._o=!0,this.pc.Wu(void 0);case 3:case"end":return t.stop()}},null,this,null,Ye)},i.Yh=function(t,n){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.bc=new ea,this.Hc=Ko(n),t.t0=this.Vc,t.t0){t.next=8;break}return t.next=7,Mr.awrap(this.qc.Hu);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Vh,this.Hc),t.next=12,Mr.awrap(this.bc.Hu);case 12:case"end":return t.stop()}},null,this,null,Ye)},i.$h=function(t){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,Ye)},i.Qh=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,Ye)},i.Kh=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.throwIfClosed(),this.xc=new ea,n.t0=this.Vc,n.t0){n.next=7;break}return n.next=6,Mr.awrap(this.qc.Hu);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.Vh,Ko(t),this.Hc,this.ic),n.next=11,Mr.awrap(this.xc.Hu);case 11:case"end":return n.stop()}},null,this,null,Ye)},i.throwIfClosed=function(){if(this._o)throw new l("Already closing or closed.")},i.Rc=function(t){this.zc.Du(),this.zc.Cu(xu,t),this.Qs(new Nu(this))},T(n,[{key:"nc",get:function(){return this.zc}},{key:"ic",get:function(){return this.Xc},set:function(t){this.Xc=t}},{key:"Jh",get:function(){return this.pc.Hu}},{key:"tc",get:function(){return NaN}}]),n}(Tu),bf=function(){function t(t,n){var i=this;this.Vc=void 0,this.Qc=jr(),this.Kc=[],this.Ic=function(t){var n=i.Zc(t.sessionId);n&&n.Wc()},this.Jc=function(t){var n=i.Zc(t.sessionId);n&&n.Gc(t)},this.tf=function(t){var n=i.Zc(t.sessionId);n&&n.Yc(t)},this.rc=t,this.uc=n}var n=t.prototype;return n.cc=function(t){return this.Vc=t,this.Vc.addEventListener("webkitkeyadded",this.Ic),this.Vc.addEventListener("webkitkeyerror",this.Jc),this.Vc.addEventListener("webkitkeymessage",this.tf),this.Qc.forEach(function(n,i){return n.$c(t)}),this.Kc.forEach(function(n){return n.$c(t)}),Ye.resolve()},n.fc=function(t){return t.removeEventListener("webkitkeyadded",this.Ic),t.removeEventListener("webkitkeyerror",this.Jc),t.removeEventListener("webkitkeymessage",this.tf),this.Vc=void 0,Ye.resolve()},n.ac=function(t,n,i){var e;return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new kf(this.rc),this.Vc&&e.$c(this.Vc),this.Kc.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,Ye)},n.hc=function(t){return Ye.resolve(!1)},n.Zc=function(t){if(t){var n=this.Qc.get(t);return n||((n=this.Kc.shift())?(n.ic=t,this.Qc.set(t,n),n):void 0)}},t}(),Af=function(){function t(t,n){this.rc=t,this.nf=n}var n=t.prototype;return n.dc=function(){return Ye.resolve(new bf(this.rc,this.nf))},n._c=function(){return this.nf},t}(),Tf=function(){function t(){}return t.prototype.Es=function(t,n){try{return Ye.resolve(Sf(t,n))}catch(t){return Ye.reject(t)}},t.mc=function(){return Ps()},t}();function Sf(t,n){if(!Tf.mc())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=$c(Ef,Iu,t,e);if(r)return new Af(t,r)}throw new l("Unsupported key system configuration for "+t)}function Ef(t,n){var i=dr();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function If(){return mf||(mf=function(){var t=[];wf.mc()&&t.push(new wf);ef.mc()&&t.push(new ef);of.mc()&&t.push(new of);Tf.mc()&&t.push(new Tf);return new pf(t)}()),mf}var Rf=function(){function t(){this.if=jr()}var n=t.prototype;return n.Du=function(t){this.if.delete(t)},n.ef=function(){this.if.clear()},n.Ru=function(t){return this.if.get(t)},n.rf=function(t,n){this.if.set(t,n)},t}(),Nf=function(){function t(){}return t.sf=function(){return t.Wn||(t.Wn=Cf.mc()?new Cf:new Rf),t.Wn},t.Du=function(n){t.sf().Du(n)},t.ef=function(){t.sf().ef()},t.Ru=function(n){return t.sf().Ru(n)},t.rf=function(n,i){t.sf().rf(n,i)},t}();Nf.Wn=void 0;var Cf=function(n){function i(){return n.apply(this,arguments)||this}E(i,n),i.mc=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e.Du=function(n){t.sessionStorage.removeItem(n)},e.ef=function(){t.sessionStorage.clear()},e.Ru=function(n){return t.sessionStorage[n]},e.rf=function(n,i){t.sessionStorage[n]=i},i}(Nf);var Df=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var s=t[r];i.append(s)}return i.getBlob(n&&n.type||"")}}();function Pf(t,n,i){var e=Df([n],{type:"application/octet-stream"}),r=URL.createObjectURL(e),u=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=s.createElement("a");o.href=r,o.download=u,s.body.appendChild(o),o.click(),s.body.removeChild(o),URL.revokeObjectURL(r)}var Bf,xf;!function(t){t.uf="hf",t.cf="vf",t.lf="contentprotectionerror",t.df="contentprotectionsuccess",t._f="currentsourcechange",t.wf="destroy",t.gf="durationchange",t.yf="emptied",t.pu="encrypted",t.mf="ended",t.pf="kf",t.bf="loadstart",t.Af="manifestupdate",t.Tf="nosupportedrepresentationfound",t.Sf="offline",t.Ef="online",t.If="pause",t.Rf="play",t.Nf="progress",t.Cf="ratechange",t.Df="representationchange",t.Pf="resize",t.Bf="seeked",t.xf="seeking",t.Of="segmentnotfound",t.Lf="Mf",t.Ff="Uf",t.jf="sourcechange",t.Hf="timeupdate",t.Xf="volumechange",t.zf="Vf",t.qf="metricschange"}(Bf||(Bf={})),function(t){t.Wf="arraybuffer",t.Gf="json",t.Yf="stream",t.Jn="text"}(xf||(xf={}));var Of=function(){function t(n){var i=this;this.Jr=void 0,this.Jr={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&_.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=Lf(i),e=Mf(e);var r=i.toLowerCase();if(this.Jr.hasOwnProperty(r)){var s=this.Jr[r],u=s[1];s[1]=u?u+", "+e:e}else this.Jr[r]=[i,e]},n.delete=function(t){var n=Lf(t).toLowerCase();delete this.Jr[n]},n.get=function(t){var n=Lf(t).toLowerCase();return this.Jr.hasOwnProperty(n)?this.Jr[n][1]:null},n.has=function(t){var n=Lf(t).toLowerCase();return this.Jr.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=Lf(i)).toLowerCase();this.Jr[e]=[i,Mf(n)]},n.forEach=function(t,n){for(var i in this.Jr)this.Jr.hasOwnProperty(i)&&t.call(n,this.Jr[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.Jr)if(this.Jr.hasOwnProperty(n)){var i=this.Jr[n],e=i[0],r=i[1];t.push([e,r])}return t},n.$f=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Qf=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Kf=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function Lf(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new l("Invalid character in header field name");return n}function Mf(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var Ff="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function Uf(){}var jf=Number.isNaN||function(t){return t!=t},Hf=Uf;function Xf(t){return"object"==typeof t&&null!==t||"function"==typeof t}function zf(t){return t.slice()}function Vf(t){return!1!==function(t){if("number"!=typeof t)return!1;if(jf(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function qf(t,n,i){if("function"!=typeof t)throw new l("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function Wf(t,n,i,e){var r=t[n];if(void 0!==r){if("function"!=typeof r)throw new l(r+" is not a method");switch(i){case 0:return function(){return Yf(r,t,e)};case 1:return function(n){var i=[n].concat(e);return Yf(r,t,i)}}}return function(){return ev(void 0)}}function Gf(t,n,i){var e=t[n];if(void 0!==e)return qf(e,t,i)}function Yf(t,n,i){try{return ev(qf(t,n,i))}catch(t){return rv(t)}}function $f(t){return t}function Qf(t){if(t=Number(t),jf(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function Kf(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new l("size property of a queuing strategy must be a function");return function(n){return t(n)}}var Zf=Ye,Jf=Ye.prototype.then,tv=Ye.resolve.bind(Zf),nv=Ye.reject.bind(Zf);function iv(t){return new Zf(t)}function ev(t){return tv(t)}function rv(t){return nv(t)}function sv(t,n,i){return Jf.call(t,n,i)}function uv(t,n,i){sv(sv(t,n,i),void 0,Hf)}function ov(t,n){uv(t,n)}function av(t,n){uv(t,void 0,n)}function hv(t,n,i){return sv(t,n,i)}function cv(t){sv(t,void 0,Hf)}var fv=function(){function t(){this.Zf=0,this.Jf=0,this.Ee={tv:[],ev:void 0},this.rv=this.Ee,this.Zf=0,this.Jf=0}return _.defineProperty(t.prototype,"length",{get:function(){return this.Jf},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.rv,i=n;16383===n.tv.length&&(i={tv:[],ev:void 0}),n.tv.push(t),i!==n&&(this.rv=i,n.ev=i),++this.Jf},t.prototype.shift=function(){var t=this.Ee,n=t,i=this.Zf,e=i+1,r=t.tv,s=r[i];return 16384===e&&(n=t.ev,e=0),--this.Jf,this.Zf=e,t!==n&&(this.Ee=n),r[i]=void 0,s},t.prototype.forEach=function(t){for(var n=this.Zf,i=this.Ee,e=i.tv;!(n===e.length&&void 0===i.ev||n===e.length&&(n=0,0===(e=(i=i.ev).tv).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.Ee,n=this.Zf;return t.tv[n]},t}();function vv(t,n,i){var e=null;!0===i&&(e=_.prototype);var r=_.create(e);return r.value=t,r.done=n,r}function lv(t,n){t.uv=!0,t.ov=n,n.hv=t,"readable"===n.ye?gv(t):"closed"===n.ye?function(t){gv(t),pv(t)}(t):yv(t,n.fv)}function dv(t,n){return Td(t.ov,n)}function _v(t){"readable"===t.ov.ye?mv(t,new l("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){yv(t,n)}(t,new l("Reader was released and can no longer be used to monitor the stream's closedness")),t.ov.hv=void 0,t.ov=void 0}function wv(t){return new l("Cannot "+t+" a stream using a released reader")}function gv(t){t.Fh=iv(function(n,i){t.vv=n,t._v=i})}function yv(t,n){gv(t),mv(t,n)}function mv(t,n){cv(t.Fh),t._v(n),t.vv=void 0,t._v=void 0}function pv(t){t.vv(void 0),t.vv=void 0,t._v=void 0}var kv=Ff("[[CancelSteps]]"),bv=Ff("[[PullSteps]]");function Av(t,n){void 0===n&&(n=!1);var i=new Cv(t);return i.uv=n,i}function Tv(t){return iv(function(n,i){var e={Xu:n,Vu:i};t.hv.wv.push(e)})}function Sv(t,n,i){var e=t.hv;e.wv.shift().Xu(vv(n,i,e.uv))}function Ev(t){return t.hv.wv.length}function Iv(t){var n=t.hv;return void 0!==n&&!!Dv(n)}var Rv,Nv,Cv=function(){function t(t){if(!1===bd(t))throw new l("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Ad(t))throw new l("This stream has already been locked for exclusive reading by another reader");lv(this,t),this.wv=new fv}return _.defineProperty(t.prototype,"closed",{get:function(){return Dv(this)?this.Fh:rv(Bv("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Dv(this)?void 0===this.ov?rv(wv("cancel")):dv(this,t):rv(Bv("cancel"))},t.prototype.read=function(){return Dv(this)?void 0===this.ov?rv(wv("read from")):Pv(this):rv(Bv("read"))},t.prototype.releaseLock=function(){if(!Dv(this))throw Bv("releaseLock");if(void 0!==this.ov){if(this.wv.length>0)throw new l("Tried to release a reader lock when that reader has pending read() calls un-settled");_v(this)}},t}();function Dv(t){return!!Xf(t)&&!!_.prototype.hasOwnProperty.call(t,"wv")}function Pv(t){var n=t.ov;return n.yv=!0,"closed"===n.ye?ev(vv(void 0,!0,t.uv)):"errored"===n.ye?rv(n.fv):n.mv[bv]()}function Bv(t){return new l("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof Ff.asyncIterator&&((Rv={})[Ff.asyncIterator]=function(){return this},Nv=Rv,_.defineProperty(Nv,Ff.asyncIterator,{enumerable:!1}));var xv={next:function(){if(!1===Ov(this))return rv(Lv("next"));var t=this.pv;return void 0===t.ov?rv(wv("iterate")):hv(Pv(t),function(n){var i=n.done;return i&&_v(t),vv(n.value,i,!0)})},return:function(t){if(!1===Ov(this))return rv(Lv("next"));var n=this.pv;if(void 0===n.ov)return rv(wv("finish iterating"));if(n.wv.length>0)return rv(new l("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.bv){var i=dv(n,t);return _v(n),hv(i,function(){return vv(t,!0,!0)})}return _v(n),ev(vv(t,!0,!0))}};function Ov(t){return!!Xf(t)&&!!_.prototype.hasOwnProperty.call(t,"pv")}function Lv(t){return new l("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function Mv(t){var n=t.Av.shift();return t.Tv-=n.size,t.Tv<0&&(t.Tv=0),n.value}function Fv(t,n,i){if(!Vf(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Av.push({value:n,size:i}),t.Tv+=i}function Uv(t){t.Av=new fv,t.Tv=0}void 0!==Nv&&_.setPrototypeOf(xv,Nv),_.defineProperty(xv,"next",{enumerable:!1}),_.defineProperty(xv,"return",{enumerable:!1});var jv=Ff("[[AbortSteps]]"),Hv=Ff("[[ErrorSteps]]"),Xv=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Vv(this);var i=n.size,e=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var r=Kf(i);void 0===e&&(e=1),function(t,n,i,e){var r=_.create(al.prototype);var s=Wf(n,"write",1,[r]),u=Wf(n,"close",0,[]),o=Wf(n,"abort",1,[]);hl(t,r,function(){return Gf(n,"start",[r])},s,u,o,i,e)}(this,t,e=Qf(e),r)}return _.defineProperty(t.prototype,"locked",{get:function(){if(!1===qv(this))throw wl("locked");return Wv(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===qv(this)?rv(wl("abort")):!0===Wv(this)?rv(new l("Cannot abort a stream that already has a writer")):Gv(this,t)},t.prototype.close=function(){return!1===qv(this)?rv(wl("close")):!0===Wv(this)?rv(new l("Cannot close a stream that already has a writer")):!0===Zv(this)?rv(new l("Cannot close an already-closing stream")):Yv(this)},t.prototype.getWriter=function(){if(!1===qv(this))throw wl("getWriter");return zv(this)},t}();function zv(t){return new nl(t)}function Vv(t){t.ye="writable",t.fv=void 0,t.To=void 0,t.Sv=void 0,t.Ev=new fv,t.Iv=void 0,t.Rv=void 0,t.Nv=void 0,t.Cv=void 0,t.Dv=!1}function qv(t){return!!Xf(t)&&!!_.prototype.hasOwnProperty.call(t,"Sv")}function Wv(t){return void 0!==t.To}function Gv(t,n){var i=t.ye;if("closed"===i||"errored"===i)return ev(void 0);if(void 0!==t.Cv)return t.Cv.Pv;var e=!1;"erroring"===i&&(e=!0,n=void 0);var r=iv(function(i,r){t.Cv={Pv:void 0,Xu:i,Vu:r,Bv:n,xv:e}});return t.Cv.Pv=r,!1===e&&Qv(t,n),r}function Yv(t){var n=t.ye;if("closed"===n||"errored"===n)return rv(new l("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=iv(function(n,i){var e={Xu:n,Vu:i};t.Rv=e}),r=t.To;return void 0!==r&&!0===t.Dv&&"writable"===n&&Il(r),Fv(i=t.Sv,"close",0),vl(i),e}function $v(t,n){"writable"!==t.ye?Kv(t):Qv(t,n)}function Qv(t,n){var i=t.Sv;t.ye="erroring",t.fv=n;var e=t.To;void 0!==e&&sl(e,n),!1===function(t){if(void 0===t.Iv&&void 0===t.Nv)return!1;return!0}(t)&&!0===i.Ov&&Kv(t)}function Kv(t){t.ye="errored",t.Sv[Hv]();var n=t.fv;if(t.Ev.forEach(function(t){t.Vu(n)}),t.Ev=new fv,void 0!==t.Cv){var i=t.Cv;if(t.Cv=void 0,!0===i.xv)return i.Vu(n),void Jv(t);uv(t.Sv[jv](i.Bv),function(){i.Xu(),Jv(t)},function(n){i.Vu(n),Jv(t)})}else Jv(t)}function Zv(t){return void 0!==t.Rv||void 0!==t.Nv}function Jv(t){void 0!==t.Rv&&(t.Rv.Vu(t.fv),t.Rv=void 0);var n=t.To;void 0!==n&&kl(n,t.fv)}function tl(t,n){var i=t.To;void 0!==i&&n!==t.Dv&&(!0===n?function(t){Al(t)}(i):Il(i)),t.Dv=n}var nl=function(){function t(t){if(!1===qv(t))throw new l("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===Wv(t))throw new l("This stream has already been locked for exclusive writing by another writer");this.Lv=t,t.To=this;var n,i=t.ye;if("writable"===i)!1===Zv(t)&&!0===t.Dv?Al(this):Sl(this),ml(this);else if("erroring"===i)Tl(this,t.fv),ml(this);else if("closed"===i)Sl(this),ml(n=this),bl(n);else{var e=t.fv;Tl(this,e),pl(this,e)}}return _.defineProperty(t.prototype,"closed",{get:function(){return!1===il(this)?rv(gl("closed")):this.Fh},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===il(this))throw gl("desiredSize");if(void 0===this.Lv)throw yl("desiredSize");return function(t){var n=t.Lv,i=n.ye;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return fl(n.Sv)}(this)},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"ready",{get:function(){return!1===il(this)?rv(gl("ready")):this.Mv},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===il(this)?rv(gl("abort")):void 0===this.Lv?rv(yl("abort")):function(t,n){return Gv(t.Lv,n)}(this,t)},t.prototype.close=function(){if(!1===il(this))return rv(gl("close"));var t=this.Lv;return void 0===t?rv(yl("close")):!0===Zv(t)?rv(new l("Cannot close an already-closing stream")):el(this)},t.prototype.releaseLock=function(){if(!1===il(this))throw gl("releaseLock");void 0!==this.Lv&&ul(this)},t.prototype.write=function(t){return!1===il(this)?rv(gl("write")):void 0===this.Lv?rv(yl("write to")):ol(this,t)},t}();function il(t){return!!Xf(t)&&!!_.prototype.hasOwnProperty.call(t,"Lv")}function el(t){return Yv(t.Lv)}function rl(t,n){"pending"===t.Fv?kl(t,n):function(t,n){pl(t,n)}(t,n)}function sl(t,n){"pending"===t.Uv?El(t,n):function(t,n){Tl(t,n)}(t,n)}function ul(t){var n=t.Lv,i=new l("Writer was released and can no longer be used to monitor the stream's closedness");sl(t,i),rl(t,i),n.To=void 0,t.Lv=void 0}function ol(t,n){var i=t.Lv,e=i.Sv,r=function(t,n){try{return t.Hv(n)}catch(n){return ll(t,n),1}}(e,n);if(i!==t.Lv)return rv(yl("write to"));var s=i.ye;if("errored"===s)return rv(i.fv);if(!0===Zv(i)||"closed"===s)return rv(new l("The stream is closing or closed and cannot be written to"));if("erroring"===s)return rv(i.fv);var u=function(t){return iv(function(n,i){var e={Xu:n,Vu:i};t.Ev.push(e)})}(i);return function(t,n,i){var e={chunk:n};try{Fv(t,e,i)}catch(n){return void ll(t,n)}var r=t.Xv;if(!1===Zv(r)&&"writable"===r.ye){var s=dl(t);tl(r,s)}vl(t)}(e,n,r),u}var al=function(){function t(){throw new l("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!Xf(t))return!1;if(!_.prototype.hasOwnProperty.call(t,"Xv"))return!1;return!0}(this))throw new l("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.Xv.ye&&_l(this,t)},t.prototype[jv]=function(t){var n=this.zv(t);return cl(this),n},t.prototype[Hv]=function(){Uv(this)},t}();function hl(t,n,i,e,r,s,u,o){n.Xv=t,t.Sv=n,n.Av=void 0,n.Tv=void 0,Uv(n),n.Ov=!1,n.Hv=o,n.Vv=u,n.qv=e,n.Wv=r,n.zv=s;var a=dl(n);tl(t,a),uv(ev(i()),function(){n.Ov=!0,vl(n)},function(i){n.Ov=!0,$v(t,i)})}function cl(t){t.qv=void 0,t.Wv=void 0,t.zv=void 0,t.Hv=void 0}function fl(t){return t.Vv-t.Tv}function vl(t){var n=t.Xv;if(!1!==t.Ov&&void 0===n.Iv)if("erroring"!==n.ye){if(0!==t.Av.length){var i=t.Av.peek().value;"close"===i?function(t){var n=t.Xv;(function(t){t.Nv=t.Rv,t.Rv=void 0})(n),Mv(t);var i=t.Wv();cl(t),uv(i,function(){!function(t){t.Nv.Xu(void 0),t.Nv=void 0,"erroring"===t.ye&&(t.fv=void 0,void 0!==t.Cv&&(t.Cv.Xu(),t.Cv=void 0)),t.ye="closed";var n=t.To;void 0!==n&&bl(n)}(n)},function(t){!function(t,n){t.Nv.Vu(n),t.Nv=void 0,void 0!==t.Cv&&(t.Cv.Vu(n),t.Cv=void 0),$v(t,n)}(n,t)})}(t):function(t,n){var i=t.Xv;(function(t){t.Iv=t.Ev.shift()})(i),uv(t.qv(n),function(){!function(t){t.Iv.Xu(void 0),t.Iv=void 0}(i);var n=i.ye;if(Mv(t),!1===Zv(i)&&"writable"===n){var e=dl(t);tl(i,e)}vl(t)},function(n){"writable"===i.ye&&cl(t),function(t,n){t.Iv.Vu(n),t.Iv=void 0,$v(t,n)}(i,n)})}(t,i.chunk)}}else Kv(n)}function ll(t,n){"writable"===t.Xv.ye&&_l(t,n)}function dl(t){return fl(t)<=0}function _l(t,n){var i=t.Xv;cl(t),Qv(i,n)}function wl(t){return new l("WritableStream.prototype."+t+" can only be used on a WritableStream")}function gl(t){return new l("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function yl(t){return new l("Cannot "+t+" a stream using a released writer")}function ml(t){t.Fh=iv(function(n,i){t.vv=n,t._v=i,t.Fv="pending"})}function pl(t,n){ml(t),kl(t,n)}function kl(t,n){cv(t.Fh),t._v(n),t.vv=void 0,t._v=void 0,t.Fv="rejected"}function bl(t){t.vv(void 0),t.vv=void 0,t._v=void 0,t.Fv="resolved"}function Al(t){t.Mv=iv(function(n,i){t.Gv=n,t.Yv=i}),t.Uv="pending"}function Tl(t,n){Al(t),El(t,n)}function Sl(t){Al(t),Il(t)}function El(t,n){cv(t.Mv),t.Yv(n),t.Gv=void 0,t.Yv=void 0,t.Uv="rejected"}function Il(t){t.Gv(void 0),t.Gv=void 0,t.Yv=void 0,t.Uv="fulfilled"}function Rl(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var Nl="undefined"!=typeof DOMException?DOMException:void 0;var Cl,Dl=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Nl)?Nl:((Cl=function(t,n){this.message=t||"",this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=_.create(v.prototype),_.defineProperty(Cl.prototype,"constructor",{value:Cl,writable:!0,configurable:!0}),Cl);function Pl(t,n,i,e,r,s){var u=Av(t),o=zv(n);t.yv=!0;var a=!1,h=ev(void 0);return iv(function(c,f){var v,d,_,w;if(void 0!==s){if(v=function(){var i=new Dl("Aborted","AbortError"),s=[];!1===e&&s.push(function(){return"writable"===n.ye?Gv(n,i):ev(void 0)}),!1===r&&s.push(function(){return"readable"===t.ye?Td(t,i):ev(void 0)}),p(function(){return Ye.all(s.map(function(t){return t()}))},!0,i)},!0===s.aborted)return void v();s.addEventListener("abort",v)}if(m(t,u.Fh,function(t){!1===e?p(function(){return Gv(n,t)},!0,t):k(!0,t)}),m(n,o.Fh,function(n){!1===r?p(function(){return Td(t,n)},!0,n):k(!0,n)}),d=t,_=u.Fh,w=function(){!1===i?p(function(){return function(t){var n=t.Lv,i=n.ye;return!0===Zv(n)||"closed"===i?ev(void 0):"errored"===i?rv(n.fv):el(t)}(o)}):k()},"closed"===d.ye?w():ov(_,w),!0===Zv(n)||"closed"===n.ye){var g=new l("the destination writable stream closed before all data could be piped to it");!1===r?p(function(){return Td(t,g)},!0,g):k(!0,g)}function y(){var t=h;return sv(h,function(){return t!==h?y():void 0})}function m(t,n,i){"errored"===t.ye?i(t.fv):av(n,i)}function p(t,i,e){function r(){uv(t(),function(){return b(i,e)},function(t){return b(!0,t)})}!0!==a&&(a=!0,"writable"===n.ye&&!1===Zv(n)?ov(y(),r):r())}function k(t,i){!0!==a&&(a=!0,"writable"===n.ye&&!1===Zv(n)?ov(y(),function(){return b(t,i)}):b(t,i))}function b(t,n){ul(o),_v(u),void 0!==s&&s.removeEventListener("abort",v),t?f(n):c(void 0)}cv(iv(function(t,n){!function i(e){e?t():sv(!0===a?ev(!0):sv(o.Mv,function(){return sv(Pv(u),function(t){return!0===t.done||(h=sv(ol(o,t.value),void 0,Uf),!1)})}),i,n)}(!1)}))})}var Bl=function(){function t(){throw new l}return _.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===xl(this))throw Vl("desiredSize");return Hl(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===xl(this))throw Vl("close");if(!1===Xl(this))throw new l("The stream is not in a state that permits close");Fl(this)},t.prototype.enqueue=function(t){if(!1===xl(this))throw Vl("enqueue");if(!1===Xl(this))throw new l("The stream is not in a state that permits enqueue");return Ul(this,t)},t.prototype.error=function(t){if(!1===xl(this))throw Vl("error");jl(this,t)},t.prototype[kv]=function(t){Uv(this);var n=this.$v(t);return Ml(this),n},t.prototype[bv]=function(){var t=this.Qv;if(this.Av.length>0){var n=Mv(this);return!0===this.Kv&&0===this.Av.length?(Ml(this),Sd(t)):Ol(this),ev(vv(n,!1,t.hv.uv))}var i=Tv(t);return Ol(this),i},t}();function xl(t){return!!Xf(t)&&!!_.prototype.hasOwnProperty.call(t,"Qv")}function Ol(t){!1!==Ll(t)&&(!0!==t.Zv?(t.Zv=!0,uv(t.Jv(),function(){t.Zv=!1,!0===t.il&&(t.il=!1,Ol(t))},function(n){jl(t,n)})):t.il=!0)}function Ll(t){var n=t.Qv;return!1!==Xl(t)&&(!1!==t.Ov&&(!0===Ad(n)&&Ev(n)>0||Hl(t)>0))}function Ml(t){t.Jv=void 0,t.$v=void 0,t.Hv=void 0}function Fl(t){var n=t.Qv;t.Kv=!0,0===t.Av.length&&(Ml(t),Sd(n))}function Ul(t,n){var i=t.Qv;if(!0===Ad(i)&&Ev(i)>0)Sv(i,n,!1);else{var e=void 0;try{e=t.Hv(n)}catch(n){throw jl(t,n),n}try{Fv(t,n,e)}catch(n){throw jl(t,n),n}}Ol(t)}function jl(t,n){var i=t.Qv;"readable"===i.ye&&(Uv(t),Ml(t),Ed(i,n))}function Hl(t){var n=t.Qv.ye;return"errored"===n?null:"closed"===n?0:t.Vv-t.Tv}function Xl(t){var n=t.Qv.ye;return!1===t.Kv&&"readable"===n}function zl(t,n,i,e,r,s,u){n.Qv=t,n.Av=void 0,n.Tv=void 0,Uv(n),n.Ov=!1,n.Kv=!1,n.il=!1,n.Zv=!1,n.Hv=u,n.Vv=s,n.Jv=e,n.$v=r,t.mv=n,uv(ev(i()),function(){n.Ov=!0,Ol(n)},function(t){jl(n,t)})}function Vl(t){return new l("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var ql=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&w.floor(t)===t},Wl=function(){function t(){throw new l("ReadableStreamBYOBRequest cannot be used directly")}return _.defineProperty(t.prototype,"view",{get:function(){if(!1===$l(this))throw fd("view");return this.ol},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===$l(this))throw fd("respond");if(void 0===this.al)throw new l("This BYOB request has been invalidated");this.ol.buffer,function(t,n){if(!1===Vf(n=Number(n)))throw new RangeError("bytesWritten must be a finite");sd(t,n)}(this.al,t)},t.prototype.respondWithNewView=function(t){if(!1===$l(this))throw fd("respond");if(void 0===this.al)throw new l("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new l("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.hl.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,sd(t,n.byteLength)}(this.al,t)},t}(),Gl=function(){function t(){throw new l("ReadableByteStreamController constructor cannot be used directly")}return _.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===Yl(this))throw vd("byobRequest");if(void 0===this.cl&&this.hl.length>0){var t=this.hl.peek(),n=new p(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=_.create(Wl.prototype);!function(t,n,i){t.al=n,t.ol=i}(i,this,n),this.cl=i}return this.cl},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Yl(this))throw vd("desiredSize");return hd(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Yl(this))throw vd("close");if(!0===this.Kv)throw new l("The stream has already been closed; do not close it again!");var t=this.fl.ye;if("readable"!==t)throw new l("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.fl;if(t.Tv>0)return void(t.Kv=!0);if(t.hl.length>0){var i=t.hl.peek();if(i.bytesFilled>0){var e=new l("Insufficient bytes to fill elements in the given buffer");throw ad(t,e),e}}od(t),Sd(n)}(this)},t.prototype.enqueue=function(t){if(!1===Yl(this))throw vd("enqueue");if(!0===this.Kv)throw new l("stream is closed or draining");var n=this.fl.ye;if("readable"!==n)throw new l("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new l("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.fl,e=n.buffer,r=n.byteOffset,s=n.byteLength,u=$f(e);if(!0===Iv(i))if(0===Ev(i))Jl(t,u,r,s);else{var o=new p(u,r,s);Sv(i,o,!1)}else!0===_d(i)?(Jl(t,u,r,s),rd(t)):Jl(t,u,r,s);Ql(t)}(this,t)},t.prototype.error=function(t){if(!1===Yl(this))throw vd("error");ad(this,t)},t.prototype[kv]=function(t){this.hl.length>0&&(this.hl.peek().bytesFilled=0);Uv(this);var n=this.$v(t);return od(this),n},t.prototype[bv]=function(){var t=this.fl;if(this.Tv>0){var n=this.Av.shift();this.Tv-=n.byteLength,id(this);var i=void 0;try{i=new p(n.buffer,n.byteOffset,n.byteLength)}catch(t){return rv(t)}return ev(vv(i,!1,t.hv.uv))}var e=this.vl;if(void 0!==e){var r=void 0;try{r=new ArrayBuffer(e)}catch(t){return rv(t)}var s={buffer:r,byteOffset:0,byteLength:e,bytesFilled:0,elementSize:1,ctor:p,readerType:"default"};this.hl.push(s)}var u=Tv(t);return Ql(this),u},t}();function Yl(t){return!!Xf(t)&&!!_.prototype.hasOwnProperty.call(t,"fl")}function $l(t){return!!Xf(t)&&!!_.prototype.hasOwnProperty.call(t,"al")}function Ql(t){!1!==function(t){var n=t.fl;if("readable"!==n.ye)return!1;if(!0===t.Kv)return!1;if(!1===t.Ov)return!1;if(!0===Iv(n)&&Ev(n)>0)return!0;if(!0===_d(n)&&dd(n)>0)return!0;if(hd(t)>0)return!0;return!1}(t)&&(!0!==t.Zv?(t.Zv=!0,uv(t.Jv(),function(){t.Zv=!1,!0===t.il&&(t.il=!1,Ql(t))},function(n){ad(t,n)})):t.il=!0)}function Kl(t,n){var i=!1;"closed"===t.ye&&(i=!0);var e=Zl(n);"default"===n.readerType?Sv(t,e,i):function(t,n,i){var e=t.hv;e.ll.shift().Xu(vv(n,i,e.uv))}(t,e,i)}function Zl(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function Jl(t,n,i,e){t.Av.push({buffer:n,byteOffset:i,byteLength:e}),t.Tv+=e}function td(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=w.min(t.Tv,n.byteLength-n.bytesFilled),s=n.bytesFilled+r,u=s-s%i,o=r,a=!1;u>e&&(o=u-n.bytesFilled,a=!0);for(var h,c,f,v,l,d=t.Av;o>0;){var _=d.peek(),g=w.min(o,_.byteLength),y=n.byteOffset+n.bytesFilled;h=n.buffer,c=y,f=_.buffer,v=_.byteOffset,l=g,new p(h).set(new p(f,v,l),c),_.byteLength===g?d.shift():(_.byteOffset+=g,_.byteLength-=g),t.Tv-=g,nd(t,g,n),o-=g}return a}function nd(t,n,i){ed(t),i.bytesFilled+=n}function id(t){0===t.Tv&&!0===t.Kv?(od(t),Sd(t.fl)):Ql(t)}function ed(t){void 0!==t.cl&&(t.cl.al=void 0,t.cl.ol=void 0,t.cl=void 0)}function rd(t){for(;t.hl.length>0;){if(0===t.Tv)return;var n=t.hl.peek();!0===td(t,n)&&(ud(t),Kl(t.fl,n))}}function sd(t,n){var i=t.hl.peek();if("closed"===t.fl.ye){if(0!==n)throw new l("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=$f(n.buffer);var i=t.fl;if(!0===_d(i))for(;dd(i)>0;)Kl(i,ud(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(nd(t,n,i),!(i.bytesFilled<i.elementSize)){ud(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,s=i.buffer.slice(r-e,r);Jl(t,s,0,s.byteLength)}i.buffer=$f(i.buffer),i.bytesFilled-=e,Kl(t.fl,i),rd(t)}}(t,n,i);Ql(t)}function ud(t){var n=t.hl.shift();return ed(t),n}function od(t){t.Jv=void 0,t.$v=void 0}function ad(t,n){var i=t.fl;"readable"===i.ye&&(!function(t){ed(t),t.hl=new fv}(t),Uv(t),od(t),Ed(i,n))}function hd(t){var n=t.fl.ye;return"errored"===n?null:"closed"===n?0:t.Vv-t.Tv}function cd(t,n,i){var e=_.create(Gl.prototype);var r=Wf(n,"pull",0,[e]),s=Wf(n,"cancel",1,[]),u=n.autoAllocateChunkSize;if(void 0!==u&&(u=Number(u),!1===ql(u)||u<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,e,r,s,u){n.fl=t,n.il=!1,n.Zv=!1,n.cl=void 0,n.Av=n.Tv=void 0,Uv(n),n.Kv=!1,n.Ov=!1,n.Vv=Qf(s),n.Jv=e,n.$v=r,n.vl=u,n.hl=new fv,t.mv=n,uv(ev(i()),function(){n.Ov=!0,Ql(n)},function(t){ad(n,t)})}(t,e,function(){return Gf(n,"start",[e])},r,s,i,u)}function fd(t){return new l("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function vd(t){return new l("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function ld(t){return iv(function(n,i){var e={Xu:n,Vu:i};t.hv.ll.push(e)})}function dd(t){return t.hv.ll.length}function _d(t){var n=t.hv;return void 0!==n&&!!gd(n)}var wd=function(){function t(t){if(!bd(t))throw new l("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===Yl(t.mv))throw new l("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Ad(t))throw new l("This stream has already been locked for exclusive reading by another reader");lv(this,t),this.ll=new fv}return _.defineProperty(t.prototype,"closed",{get:function(){return gd(this)?this.Fh:rv(yd("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return gd(this)?void 0===this.ov?rv(wv("cancel")):dv(this,t):rv(yd("cancel"))},t.prototype.read=function(t){return gd(this)?void 0===this.ov?rv(wv("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?rv(new l("view must have non-zero byteLength")):function(t,n){var i=t.ov;if(i.yv=!0,"errored"===i.ye)return rv(i.fv);return function(t,n){var i=t.fl,e=1;n.constructor!==DataView&&(e=n.constructor.BYTES_PER_ELEMENT);var r=n.constructor,s={buffer:$f(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:e,ctor:r,readerType:"byob"};if(t.hl.length>0)return t.hl.push(s),ld(i);if("closed"===i.ye)return ev(vv(new r(s.buffer,s.byteOffset,0),!0,i.hv.uv));if(t.Tv>0){if(!0===td(t,s)){var u=Zl(s);return id(t),ev(vv(u,!1,i.hv.uv))}if(!0===t.Kv){var o=new l("Insufficient bytes to fill elements in the given buffer");return ad(t,o),rv(o)}}t.hl.push(s);var a=ld(i);return Ql(t),a}(i.mv,n)}(this,t)):rv(new l("view must be an array buffer view")):rv(yd("read"))},t.prototype.releaseLock=function(){if(!gd(this))throw yd("releaseLock");if(void 0!==this.ov){if(this.ll.length>0)throw new l("Tried to release a reader lock when that reader has pending read() calls un-settled");_v(this)}},t}();function gd(t){return!!Xf(t)&&!!_.prototype.hasOwnProperty.call(t,"ll")}function yd(t){return new l("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var md=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),kd(this);var i=n.size,e=n.highWaterMark,r=t.type;if("bytes"===String(r)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===e&&(e=0),cd(this,t,e=Qf(e))}else{if(void 0!==r)throw new RangeError("Invalid type is specified");var s=Kf(i);void 0===e&&(e=1),function(t,n,i,e){var r=_.create(Bl.prototype),s=Wf(n,"pull",0,[r]),u=Wf(n,"cancel",1,[]);zl(t,r,function(){return Gf(n,"start",[r])},s,u,i,e)}(this,t,e=Qf(e),s)}}return _.defineProperty(t.prototype,"locked",{get:function(){if(!1===bd(this))throw Id("locked");return Ad(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===bd(this)?rv(Id("cancel")):!0===Ad(this)?rv(new l("Cannot cancel a stream that already has a reader")):Td(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===bd(this))throw Id("getReader");if(void 0===n)return Av(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new wd(t);return i.uv=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,e=t.readable,r=void 0===n?{}:n,s=r.preventClose,u=r.preventAbort,o=r.preventCancel,a=r.signal;if(!1===bd(this))throw Id("pipeThrough");if(!1===qv(i))throw new l("writable argument to pipeThrough must be a WritableStream");if(!1===bd(e))throw new l("readable argument to pipeThrough must be a ReadableStream");if(s=Boolean(s),u=Boolean(u),o=Boolean(o),void 0!==a&&!Rl(a))throw new l("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Ad(this))throw new l("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===Wv(i))throw new l("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return cv(Pl(this,i,s,u,o,a)),e},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,e=i.preventClose,r=i.preventAbort,s=i.preventCancel,u=i.signal;return!1===bd(this)?rv(Id("pipeTo")):!1===qv(t)?rv(new l("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(e=Boolean(e),r=Boolean(r),s=Boolean(s),void 0===u||Rl(u)?!0===Ad(this)?rv(new l("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===Wv(t)?rv(new l("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Pl(this,t,e,r,s,u):rv(new l("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===bd(this))throw Id("tee");var t=function(t,n){var i,e,r,s,u,o=Av(t),a=!1,h=!1,c=!1,f=iv(function(t){u=t});function v(){return!0===a?ev(void 0):(a=!0,cv(hv(Pv(o),function(t){if(a=!1,!0===t.done)return!1===h&&Fl(r.mv),void(!1===c&&Fl(s.mv));var n=t.value,i=n,e=n;!1===h&&Ul(r.mv,i),!1===c&&Ul(s.mv,e)})),ev(void 0))}function l(){}return r=pd(l,v,function(n){if(h=!0,i=n,!0===c){var r=zf([i,e]),s=Td(t,r);u(s)}return f}),s=pd(l,v,function(n){if(c=!0,e=n,!0===h){var r=zf([i,e]),s=Td(t,r);u(s)}return f}),av(o.Fh,function(t){jl(r.mv,t),jl(s.mv,t)}),[r,s]}(this);return zf(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===bd(this))throw Id("getIterator");return function(t,n){void 0===n&&(n=!1);var i=Av(t),e=_.create(xv);return e.pv=i,e.bv=Boolean(n),e}(this,i)},t}();function pd(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var s=_.create(md.prototype);return kd(s),zl(s,_.create(Bl.prototype),t,n,i,e,r),s}function kd(t){t.ye="readable",t.hv=void 0,t.fv=void 0,t.yv=!1}function bd(t){return!!Xf(t)&&!!_.prototype.hasOwnProperty.call(t,"mv")}function Ad(t){return void 0!==t.hv}function Td(t,n){return t.yv=!0,"closed"===t.ye?ev(void 0):"errored"===t.ye?rv(t.fv):(Sd(t),hv(t.mv[kv](n),Uf))}function Sd(t){t.ye="closed";var n=t.hv;void 0!==n&&(Dv(n)&&(n.wv.forEach(function(t){t.Xu(vv(void 0,!0,n.uv))}),n.wv=new fv),pv(n))}function Ed(t,n){t.ye="errored",t.fv=n;var i=t.hv;void 0!==i&&(Dv(i)?(i.wv.forEach(function(t){t.Vu(n)}),i.wv=new fv):(i.ll.forEach(function(t){t.Vu(n)}),i.ll=new fv),mv(i,n))}function Id(t){return new l("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof Ff.asyncIterator&&_.defineProperty(md.prototype,Ff.asyncIterator,{value:md.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Rd=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),Nd=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var e=n.size,r=n.highWaterMark,s=i.size,u=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=Kf(e);if(void 0===r&&(r=1),r=Qf(r),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,h=Kf(s);void 0===u&&(u=0),u=Qf(u),function(t,n,i,e,r,s){function u(){return n}t.dl=function(t,n,i,e,r,s){void 0===r&&(r=1),void 0===s&&(s=function(){return 1});var u=_.create(Xv.prototype);return Vv(u),hl(u,_.create(al.prototype),t,n,i,e,r,s),u}(u,function(n){return function(t,n){var i=t._l;if(!0===t.Dv){var e=t.wl;return hv(e,function(){var e=t.dl,r=e.ye;if("erroring"===r)throw e.fv;return Fd(i,n)})}return Fd(i,n)}(t,n)},function(){return function(t){var n=t.yl,i=t._l,e=i.bl();return Ld(i),hv(e,function(){if("errored"===n.ye)throw n.fv;var t=n.mv;!0===Xl(t)&&Fl(t)},function(i){throw Dd(t,i),n.fv})}(t)},function(n){return function(t,n){return Dd(t,n),ev(void 0)}(t,n)},i,e),t.yl=pd(u,function(){return function(t){return Bd(t,!1),t.wl}(t)},function(n){return Pd(t,n),ev(void 0)},r,s),t.Dv=void 0,t.wl=void 0,t.Al=void 0,Bd(t,!0),t._l=void 0}(this,iv(function(t){a=t}),r,o,u,h),function(t,n){var i=_.create(xd.prototype),e=function(t){try{return Md(i,t),ev(void 0)}catch(t){return rv(t)}},r=n.transform;if(void 0!==r){if("function"!=typeof r)throw new l("transform is not a method");e=function(t){return Yf(r,n,[t,i])}}var s=Wf(n,"flush",0,[i]);!function(t,n,i,e){n.Tl=t,t._l=n,n.Sl=i,n.bl=e}(t,i,e,s)}(this,t);var c=Gf(t,"start",[this._l]);a(c)}return _.defineProperty(t.prototype,"readable",{get:function(){if(!1===Cd(this))throw jd("readable");return this.yl},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"writable",{get:function(){if(!1===Cd(this))throw jd("writable");return this.dl},enumerable:!0,configurable:!0}),t}();function Cd(t){return!!Xf(t)&&!!_.prototype.hasOwnProperty.call(t,"_l")}function Dd(t,n){jl(t.yl.mv,n),Pd(t,n)}function Pd(t,n){Ld(t._l),ll(t.dl.Sv,n),!0===t.Dv&&Bd(t,!1)}function Bd(t,n){void 0!==t.wl&&t.Al(),t.wl=iv(function(n){t.Al=n}),t.Dv=n}var xd=function(){function t(){throw new l("TransformStreamDefaultController instances cannot be created directly")}return _.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Od(this))throw Ud("desiredSize");return Hl(this.Tl.yl.mv)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===Od(this))throw Ud("enqueue");Md(this,t)},t.prototype.error=function(t){if(!1===Od(this))throw Ud("error");var n;n=t,Dd(this.Tl,n)},t.prototype.terminate=function(){if(!1===Od(this))throw Ud("terminate");!function(t){var n=t.Tl,i=n.yl.mv;!0===Xl(i)&&Fl(i);var e=new l("TransformStream terminated");Pd(n,e)}(this)},t}();function Od(t){return!!Xf(t)&&!!_.prototype.hasOwnProperty.call(t,"Tl")}function Ld(t){t.Sl=void 0,t.bl=void 0}function Md(t,n){var i=t.Tl,e=i.yl.mv;if(!1===Xl(e))throw new l("Readable side is not in a state that permits enqueue");try{Ul(e,n)}catch(t){throw Pd(i,t),i.yl.fv}(function(t){return!0!==Ll(t)})(e)!==i.Dv&&Bd(i,!0)}function Fd(t,n){return hv(t.Sl(n),void 0,function(n){throw Dd(t.Tl,n),n})}function Ud(t){return new l("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function jd(t){return new l("TransformStream.prototype."+t+" can only be used on a TransformStream")}var Hd,Xd=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return E(n,t),T(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(rn);function zd(t){return n=[t],new md({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function Vd(t){return zd(new p(t))}function qd(t,n){return function(t,n){var i=n,e=t.getReader(),r=new ea,s=function(){u();var t=new ou;e.cancel(t).catch(Z),r.Gu(t)},u=function(){i&&(i.Fs(s),i=void 0)};i&&(i.Ds?s():i.Ms(s));var o=[];return Ye.resolve(e.read()).then(function t(n){return n.done?(u(),Ye.resolve(o)):(o.push(n.value),Ye.resolve(e.read()).then(t))}).then(function(t){u(),r.Wu(t)},function(t){u(),r.Gu(t)}),r.Hu}(t,n).then(function(t){return Yu(t).buffer})}function Wd(t,n){var i=n,e=new Nd,r=e.readable,s=e.writable,u=s.getWriter(),o=function(){i&&i.Xs()};return u.closed.then(o,o),t.then(function(t){return i=void 0,u.releaseLock(),t.pipeTo(s).catch(Z)},function(t){return i=void 0,u.releaseLock(),s.abort(t).catch(Z)}),r}function Gd(t){var n=new Nd,i=n.readable,e=n.writable;return t.pipeTo(e,{preventCancel:!0}).catch(function(n){var i;i=z(n)?n[0]===n[1]||au(n[0])&&au(n[1])?n[0]:new Xd(n):n,t.cancel(i).catch(Z)}),i.tee()}function Yd(t){return zo(new p(t))}function $d(t){return Vo(t).buffer}!function(t){t[t.Yf=0]="Yf",t[t.El=1]="El"}(Hd||(Hd={}));var Qd="content-type",Kd="text/plain;charset=UTF-8",Zd=function(){function t(){}var n=t.prototype;return n.Il=function(t){return this.Rl(t).then(JSON.parse)},n.Nl=function(t,n){switch(t){case xf.Wf:return this.Cl(n);case xf.Gf:return this.Il(n);case xf.Yf:return this.Dl();case xf.Jn:return this.Rl(n);default:throw new l}},t}();function Jd(t,n,i){if(t instanceof Zd)return t;if(t instanceof md)return function(t,n){return new n_({vs:Hd.Yf,Dl:t,Pl:t_(n)})}(t,i);var e=t_(i),r=Ye.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{vs:xf.Jn,Bl:t,Pl:n||Kd};if(t instanceof ArrayBuffer||qu(t))return{vs:xf.Wf,Bl:a_(t),Pl:n};if(W(t)||z(t))return{vs:xf.Gf,Bl:t,Pl:n};throw new l("Unsupported BodyInit type")}return{vs:xf.Jn,Bl:null,Pl:n}}(t,e)});return new n_({vs:Hd.El,Hu:r,xl:n})}function t_(t){return(t.get(Qd)||"").toLowerCase()}var n_=function(t){function n(n){var i;return(i=t.call(this)||this).Ol=!1,i.Ll=void 0,i.Ml=new ea,i.Ml.Hu.catch(Z),i.Fl(n),i}E(n,t);var i=n.prototype;return i.Ul=function(){return this.Ml.Hu},i.Rl=function(t){return this.jl(i_,t)},i.Il=function(t){return this.jl(r_,t)},i.Cl=function(t){return this.jl(u_,t)},i.Dl=function(){return this.Hl((t=this.Ll).vs===Hd.Yf?t.Dl:Wd(t.Hu.then(o_).then(Vd),t.xl));var t},i.jl=function(t,n){if(this.Ol)return Ye.reject(new l("Already used"));this.Ol=!0;var i=t(this.Ll,n);return this.Ml.Wu(i.then(Z)),i},i.Hl=function(t){if(this.Ol)throw new l("Already used");if(t.locked)throw new l("Body stream is locked");this.Ol=!0;var n=new Nd,i=Ye.resolve(t.pipeTo(n.writable));return this.Ml.Wu(i),n.readable},i.Fl=function(t){this.Ll=t,t.vs===Hd.El&&t.Hu.catch(Z)},i.Xl=function(){if(this.Ol)throw new l("Already used");var t=function(t){if(t.vs===Hd.Yf){var n=t.Dl.tee(),i=n[0],e=n[1];return[{vs:t.vs,Dl:i,Pl:t.Pl},{vs:t.vs,Dl:e,Pl:t.Pl}]}var r=t.xl.Vs(),s=r[0],u=r[1];return[{vs:t.vs,Hu:t.Hu,xl:s},{vs:t.vs,Hu:t.Hu,xl:u}]}(this.Ll),i=t[0],e=t[1];return this.Fl(i),new n(e)},T(n,[{key:"zl",get:function(){return this.Ol}}]),n}(Zd);function i_(t,n){return t.vs===Hd.Yf?qd(t.Dl,n).then(Yd):(n&&t.xl.zs(n),lu(t.Hu.then(e_),t.xl))}function e_(t){switch(t.vs){case xf.Jn:return Ye.resolve(t.Bl||"");case xf.Wf:return Ye.resolve(t.Bl).then(Yd);case xf.Gf:return Ye.resolve(t.Bl).then(JSON.stringify)}}function r_(t,n){return t.vs===Hd.Yf?i_(t,n).then(JSON.parse):(n&&t.xl.zs(n),lu(t.Hu.then(s_),t.xl))}function s_(t){return t.vs===xf.Gf?Ye.resolve(t.Bl):e_(t).then(JSON.parse)}function u_(t,n){return t.vs===Hd.Yf?qd(t.Dl,n):(n&&t.xl.zs(n),lu(t.Hu.then(o_),t.xl))}function o_(t){switch(t.vs){case xf.Wf:return Ye.resolve(t.Bl);case xf.Jn:case xf.Gf:return e_(t).then($d)}}function a_(t){return t instanceof ArrayBuffer?t:Jo($o(t)).buffer}function h_(t){return t.Vl>=200&&t.Vl<=299||304===t.Vl}var c_,f_,v_,l_,d_=function(t){function n(n,i){var e,r,s,u,o,a;i?(r=i.ql,s=i.Wl,u=i.Vl,o=i.Gl,a=i.Yl):(r=[],s=xf.Jn,u=200,o="OK",a=!1);var h=n.$l,c=new Of(n.ql||r),f=n.Wl||s,v=n.Ql||(i&&i.$l===h?i.Ql:h.Kl),l=i?i.Zl:null,d=Jd(void 0!==n.Hi?n.Hi:l,n.xl||new uu,c);return(e=t.call(this,d)||this).ql=void 0,e.$l=void 0,e.Ql=void 0,e.Wl=void 0,e.Vl=void 0,e.Gl=void 0,e.Yl=void 0,e.ql=c,e.$l=h,e.Ql=v,e.Wl=f,e.Vl=void 0!==n.Vl?n.Vl:u,e.Gl=void 0!==n.Gl?String(n.Gl):o,e.Yl=n.Yl||a,e}E(n,t);var i=n.prototype;return i.Hi=function(t){return this.Nl(this.Wl,t)},i.Mu=function(){return new n({Hi:this.Xl(),$l:this.$l},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).Zl=void 0,i.Zl=n,i}E(n,t);var i=n.prototype;return i.Ul=function(){return this.Zl.Ul()},i.Rl=function(t){return this.Zl.Rl(t)},i.Il=function(t){return this.Zl.Il(t)},i.Cl=function(t){return this.Zl.Cl(t)},i.Dl=function(){return this.Zl.Dl()},i.Xl=function(){return this.Zl.Xl()},T(n,[{key:"zl",get:function(){return this.Zl.zl}}]),n}(Zd));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(c_||(c_={})),function(t){t.Jl="",t.td="manifest",t.ed="segment",t.rd="content-protection"}(f_||(f_={})),function(t){t.Jl="",t.ud="initialization-segment",t.od="fairplay-license",t.ad="fairplay-certificate",t.hd="widevine-license",t.fd="widevine-certificate",t.vd="playready-license",t.ld="clearkey-license",t.dd="aes128-key"}(v_||(v_={})),function(t){t.Jl="",t._d="audio",t.wd="video",t.Jn="text",t.yd="image"}(l_||(l_={}));var __=function(t,n){this.Bl=void 0,this.ql=void 0,this.md=void 0,this.Wl=void 0,this.pd=void 0,this.qs=void 0,this.vs=void 0,this.kd=void 0,this.bd=void 0,this.Kl=void 0,this.Ad=void 0,this.Td=void 0;var i,e,r,s,u,o,a,h,c,f,v,l=t.Kl;n?(i=n.Bl,e=n.ql,r=n.md,s=n.Wl,u=n.pd,o=n.qs,a=n.vs,h=n.kd,c=n.bd,f=n.Ad,v=n.Td):(i=null,e={},r=c_.GET,s=xf.Jn,u=0,a=f_.Jl,h=v_.Jl,c=l_.Jl,f=!1),this.Kl=l,this.Bl=t.Bl||i,this.ql=new Of(t.ql||e),this.md=t.md||r,this.Wl=t.Wl||s,this.pd=void 0!==t.pd?Number(t.pd)||0:u,this.qs=t.qs||o||(new uu).qs,this.vs=t.vs||a,this.kd=t.kd||h,this.bd=t.bd||c,this.Ad=void 0!==t.Ad?Boolean(t.Ad):f,this.Td=t.Td||v},w_=function(){function t(){}var n=t.prototype;return n.$l=function(t){var n=function(t){return new d_({Hi:null,ql:{},$l:t,Ql:t.Kl,Wl:t.Wl,Vl:0,Gl:Bf.Sf})}(new __(t));return Ye.resolve(n)},n.Sd=function(t){},n.Ed=function(){},t}();var g_=function(){function t(t,n){void 0===n&&(n=!0),this.Id=void 0,this.Rd=void 0,this.Id=t,this.Rd=n}var n=t.prototype;return n.$l=function(t){var n=this.Nd(t);return this.Id.$l(n)},n.Sd=function(t){return this.Id.Sd(this.Cd(t))},n.Nd=function(n){var i=new __(n);if(!this.Rd){var e=t.Dd(i.Kl);i=new __({Kl:e},i)}return i},n.Cd=function(n){var i=n.Kl;return this.Rd||(i=t.Dd(i)),{Kl:i,Bl:n.Bl}},t.Dd=function(t){return i.Xr&&ks(t,"http://")?t.replace(":","s:"):t},n.Ed=function(){this.Id.Ed()},T(t,null,[{key:"Pd",get:function(){return t.Bd||(t.Bd=new t(new w_)),t.Bd}}]),t}();function y_(t,n){for(var i=0,e=_.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function m_(t,n){var e=i.Lr(t);return n&&!bs(e,"/")&&(e+="/"),e}g_.Bd=void 0;var p_,k_=/cache:(.+)?(?=&|$)/,b_="http://webcache.googleusercontent.com/search?q=cache:";function A_(t){if(!ks(t,b_))return"";var n=i.Or(t).search.match(k_);return n&&n.length>1?n[1]:""}!function(t){t.xd="HttpOpenError",t.Od="HttpResponseError",t.Ld="HttpTimeoutError"}(p_||(p_={}));var T_=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).Md=void 0,r.Md=n,r}return E(n,t),T(n,[{key:"$l",get:function(){return this.Md}}]),n}(rn);var S_=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.Kl+". Invalid URL.",i)||this}return E(n,t),T(n,[{key:"name",get:function(){return p_.xd}}]),n}(T_);var E_=function(t){function n(n,i,e){var r;return(r=t.call(this,n.$l,null!=e?e:function(t){return"Error while loading "+t.$l.Kl+", status code "+t.Vl}(n),i)||this).Fd=void 0,r.Fd=n,r}return E(n,t),T(n,[{key:"name",get:function(){return p_.Od}},{key:"Ud",get:function(){return this.Fd}}]),n}(T_);var I_=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.Kl+" timed out after "+t.pd+" seconds."}(n),i)||this}return E(n,t),T(n,[{key:"name",get:function(){return p_.Ld}}]),n}(T_),R_=function(t,n){return(R_=_.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function N_(t,n){function i(){this.constructor=t}R_(t,n),t.prototype=null===n?_.create(n):(i.prototype=n.prototype,new i)}var C_="object"==typeof r?r:"object"==typeof t?t:"object"==typeof global?global:null;var D_=function(){var t=C_.Blob;if(t)try{return new t,function(t,n){return new C_.Blob(t,n)}}catch(t){}var n,i=C_.BlobBuilder||C_.WebKitBlobBuilder||C_.MozBlobBuilder||C_.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,s=t;r<s.length;r++){var u=s[r];e.append(u)}return e.getBlob(i&&i.type||"")}):null}(),P_="function"==typeof md?md:void 0;function B_(t){return t&&"function"==typeof t.getReader}function x_(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&B_(i)}catch(t){return!1}}var O_=function(){function t(t,n){this.hv=t,this.jd=n}return t.prototype.pull=function(t){var n=this;return this.hv.read().then(function(i){n.jd&&n.jd(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.hv.cancel(t)},t}();function L_(t,n){return n.constructor===t?n:new t(new O_(n.getReader()),{highWaterMark:0})}var M_=function(){function t(t,n){this.Hd=t,this.Xd=n}return t.prototype.pull=function(t){return this.Hd().then(function(n){t.enqueue(new p(n)),t.close()})},t.prototype.cancel=function(t){this.Xd&&this.Xd(t)},t}();function F_(t,n,i){return new t(new M_(n,i),{highWaterMark:0})}var U_={searchParams:"URLSearchParams"in C_,iterable:"Symbol"in C_&&"iterator"in Symbol,blob:"FileReader"in C_&&!!D_,formData:"FormData"in C_,arrayBuffer:"ArrayBuffer"in C_,stream:x_(P_),streamRequest:"Request"in C_&&"body"in C_.Request.prototype,streamResponse:"Response"in C_&&"body"in C_.Response.prototype,abort:"AbortController"in C_&&"Request"in C_&&"signal"in C_.Request.prototype,encoding:"TextEncoder"in C_&&"TextDecoder"in C_,url:"URL"in C_&&function(t){try{return new C_.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in C_&&/Firefox\//.test(C_.navigator.userAgent)};function j_(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new l("Invalid character in header field name");return t}function H_(t){return"string"!=typeof t&&(t=String(t)),t}function X_(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return U_.iterable&&(n[Symbol.iterator]=function(){return n}),n}var z_=function(){function t(t){var n=this;this.Jr={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return U_.iterable&&t&&t[Symbol.iterator]}(t)?t&&_.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=j_(t),n=H_(n);var i=t.toLowerCase();if(this.Jr.hasOwnProperty(i)){var e=this.Jr[i],r=e[1];e[1]=r?r+", "+n:n}else this.Jr[i]=[t,n]},t.prototype.delete=function(t){var n=j_(t).toLowerCase();delete this.Jr[n]},t.prototype.get=function(t){var n=j_(t).toLowerCase();return this.Jr.hasOwnProperty(n)?this.Jr[n][1]:null},t.prototype.has=function(t){var n=j_(t).toLowerCase();return this.Jr.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=j_(t)).toLowerCase();this.Jr[i]=[t,H_(n)]},t.prototype.forEach=function(t,n){for(var i in this.Jr)this.Jr.hasOwnProperty(i)&&t.call(n,this.Jr[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),X_(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),X_(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),X_(t)},t.prototype.asList=function(){var t=[];for(var n in this.Jr)if(this.Jr.hasOwnProperty(n)){var i=this.Jr[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function V_(){}U_.iterable&&(z_.prototype[Symbol.iterator]=z_.prototype.entries);var q_,W_,G_,Y_=w.min,$_=String.fromCharCode,Q_=16384;function K_(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=Q_){var r=Y_(e+Q_,n);i.push($_.apply(null,t.slice(e,r)))}return i.join("")}(n)}function Z_(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function J_(t,n){return t>>n&63|128}function tw(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Z_(t),n.push(t>>12&15|224),n.push(J_(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(J_(t,12)),n.push(J_(t,6))),n.push(63&t|128)):n.push(t)}function nw(){if(G_>=W_)throw new v("Invalid byte index");var t=255&q_[G_];if(G_++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function iw(){var t,n;if(G_>W_)throw new v("Invalid byte index");if(G_===W_)return!1;if(t=255&q_[G_],G_++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|nw())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|nw()<<6|nw())>=2048)return Z_(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|nw()<<12|nw()<<6|nw())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}var ew=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function rw(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function sw(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function uw(t){return t&&DataView.prototype.isPrototypeOf(t)}var ow,aw=ArrayBuffer.isView||function(t){return t&&(ew.indexOf(_.prototype.toString.call(t))>-1||uw(t))};function hw(t){if(t.bodyUsed)return Ye.reject(new l("Already used"));t.bodyUsed=!0}function cw(t){return new Ye(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function fw(t){return U_.encoding?new C_.TextDecoder("utf-8").decode(new p(t)):K_(function(t){W_=(q_=t).length,G_=0;for(var n,i=[];!1!==(n=iw());)i.push(n);return i}(new p(t)))}function vw(t){return U_.encoding?(new C_.TextEncoder).encode(t).buffer:new p(function(t){for(var n=[],i=0,e=t;i<e.length;i++)tw(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function lw(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,s=t.value;return r?Ye.resolve(i):(i.push(s),n.read().then(e))};return n.read().then(e)}function dw(t){return lw(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(a=e[i]).byteLength;for(var r=new p(n),s=0,u=0,o=t;u<o.length;u++){var a=o[u];r.set(a,s),s+=a.byteLength}return r}(t).buffer})}function _w(t){return t.slice?t.slice(0):ww(new p(t))}function ww(t){if(t.slice)return t.slice(0).buffer;var n=new p(t.byteLength);return n.set(new p(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function gw(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function yw(t){var n=t;if(n.bodyUsed)throw new l("Already used");if(n.zd===ow.Vd){if(!n.qd.tee)throw new v("could not clone ReadableStream body");var i=n.qd.tee(),e=i[0],r=i[1];return n.body=e,n.qd=e,n.Wd=e,r}return n.zd===ow.Wf?_w(n.qd):n.zd===ow.El?n.qd.then(yw):n.Wd}!function(t){t[t.Jn=0]="Jn",t[t.Gd=1]="Gd",t[t.Yd=2]="Yd",t[t.Wf=3]="Wf",t[t.Vd=4]="Vd",t[t.El=5]="El"}(ow||(ow={}));var mw=function(){function t(n,i){this.bodyUsed=!1;var e,r,s,u=this;if(this.Wd=n||null,n)if("string"==typeof n)this.zd=ow.Jn,this.qd=n;else if((s=n)&&"function"==typeof s.then)this.zd=ow.El,this.qd=Ye.resolve(n).then(function(n){return new t(n,i)}),this.qd.catch(V_);else if(U_.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.zd=ow.Gd,this.qd=n;else if(U_.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.zd=ow.Yd,this.qd=n;else if(U_.searchParams&&rw(n))this.zd=ow.Jn,this.qd=n.toString();else if(U_.arrayBuffer&&(sw(n)||aw(n)))uw(n)&&(this.Wd=new p((r=n).buffer,r.byteOffset,r.byteLength)),this.zd=ow.Wf,this.qd=sw(e=n)?_w(e):ww(e);else{if(!U_.stream||!B_(n))throw new v("unsupported BodyInit type");n=L_(P_,n),this.zd=ow.Vd,this.qd=n,this.Wd=n}else this.zd=ow.Jn,this.qd="";this.$d="",i.has("content-type")?this.$d=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.$d="text/plain;charset=UTF-8":u.zd===ow.Gd&&u.qd.type?this.$d=u.qd.type:U_.searchParams&&rw(n)&&(this.$d="application/x-www-form-urlencoded;charset=UTF-8"),this.$d&&i.set("content-type",this.$d)),U_.stream&&(null==n?this.body=null:u.zd===ow.Vd?this.body=u.qd:this.body=F_(P_,function(){return u.arrayBuffer()},function(){u.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=hw(this);return e||(this.zd===ow.Gd?(t=this.qd,n=new FileReader,i=cw(n),n.readAsText(t),i):this.zd===ow.Wf?Ye.resolve(this.qd).then(fw):this.zd===ow.Vd?dw(this.qd).then(fw):this.zd===ow.El?this.qd.then(function(t){return t.text()}):this.zd===ow.Yd?Ye.reject(new v("could not read FormData body as text")):Ye.resolve(this.qd))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();U_.blob&&(mw.prototype.blob=function(){var t,n,i=hw(this);return i||(this.zd===ow.Gd?Ye.resolve(this.qd):this.zd===ow.Wf?Ye.resolve(D_([this.qd],{type:this.$d})):this.zd===ow.Vd?(t=this.qd,n=this.$d,lw(t).then(function(t){return D_(t,{type:n||""})})):this.zd===ow.El?this.qd.then(function(t){return t.blob()}):this.zd===ow.Yd?Ye.reject(new v("could not read FormData body as Blob")):Ye.resolve(D_([this.qd],{type:this.$d})))}),U_.arrayBuffer&&(mw.prototype.arrayBuffer=function(){var t,n,i;return this.zd===ow.Wf?hw(this)||Ye.resolve(this.qd):this.zd===ow.Gd?hw(this)||(t=this.qd,n=new FileReader,i=cw(n),n.readAsArrayBuffer(t),i):this.zd===ow.Vd?dw(this.qd):this.zd===ow.El?hw(this)||this.qd.then(function(t){return t.arrayBuffer()}):this.zd===ow.Yd?Ye.reject(new v("could not read FormData body as ArrayBuffer")):Ye.resolve(this.qd).then(vw)}),U_.formData&&(mw.prototype.formData=function(){return this.zd===ow.Yd?hw(this)||Ye.resolve(this.qd):this.text().then(gw)});var pw=[301,302,303,307,308],kw=function(t){function n(n,i){var e=this,r=new z_((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return N_(n,t),n.prototype.clone=function(){return new n(yw(this),{status:this.status,statusText:this.statusText,headers:new z_(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===pw.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(mw);var bw,Aw=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}function e(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),_.defineProperty(t,e.key,e)}}function r(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function u(t){return(u=_.setPrototypeOf?_.getPrototypeOf:function(t){return t.__proto__||_.getPrototypeOf(t)})(t)}function o(t,n){return(o=_.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,n,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!_.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(e){var r=_.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}_.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),_.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){a(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,s=e.length;r<s;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),v=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=u(n).call(this))||"object"!=typeof r&&"function"!=typeof r?h(e):r).listeners||f.call(h(t)),_.defineProperty(h(t),"aborted",{value:!1,writable:!0,configurable:!0}),_.defineProperty(h(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function");t.prototype=_.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(n,f),r(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),c(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),d=function(){function t(){i(this,t),_.defineProperty(this,"signal",{value:new v,writable:!0,configurable:!0})}return r(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==s?s.createEvent?(t=s.createEvent("Event")).initEvent("abort",!1,!1):(t=s.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(d.prototype[Symbol.toStringTag]="AbortController",v.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=v,n.AbortController=d,n.default=d});(bw=Aw)&&bw.__esModule&&_.prototype.hasOwnProperty.call(bw,"default")&&bw.default,Aw.AbortSignal;var Tw=Aw.AbortController,Sw=C_.DOMException;try{new Sw}catch(t){(Sw=function(t,n){v.call(this,t),this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=_.create(v.prototype),Sw.prototype.constructor=Sw}var Ew=Tw;function Iw(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function Rw(t,n,i){return new Ye(function(e,r){if(n.signal.aborted)return t.catch(V_),r(Nw());var s=function(){n.signal.removeEventListener("abort",s),r(Nw())};n.signal.addEventListener("abort",s),t.then(function(t){n.signal.removeEventListener("abort",s),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",s),r(t),i&&n.abort()})})}function Nw(){return new Sw("Aborted","AbortError")}var Cw,Dw="moz-chunked-arraybuffer";function Pw(t){try{var n=new b;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Cw||(Cw={}));var Bw=function(){function t(t,n){var i=this;this.Qd=!1,this.Md=t,this.Kd=n,this.Zd=new b,this.Jd=new Ye(function(t,n){i.t_=t,i.n_=n})}return t.prototype.send=function(){var t=this;return this.i_().then(function(n){return t.e_(n,t.Kd),t.Jd})},t.prototype.i_=function(){var t=this.Md;return t.zd===ow.Vd?t.arrayBuffer():Ye.resolve(t.Wd)},t.prototype.r_=function(t){this.Md.onprogress&&this.Md.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.s_=function(t){this.n_(t)},t.prototype.u_=function(){this.s_(new l("Network request failed"))},t.prototype.o_=function(){this.s_(new l("Network request failed"))},t.prototype.a_=function(){this.s_(Nw())},t.prototype.e_=function(t,n){var i=this,e=this.Md,r=this.Zd,s=function(){return i.h_()};if(e.signal.aborted)return this.a_();r.onreadystatechange=function(){if(r.readyState>=Cw.HEADERS_RECEIVED&&!i.Qd){var t=function(t){var n=new z_;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.Qd=!0,i.c_(n)}},r.onprogress=function(t){return i.r_(t)},r.onload=function(){return i.f_()},r.onerror=function(){return i.u_()},r.ontimeout=function(){return i.o_()},r.onabort=function(){return i.a_()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",s),r.onloadend=function(){e.signal.removeEventListener("abort",s)},t?r.send(t):r.send()},t.prototype.h_=function(){this.a_(),this.Zd.abort()},t}(),xw=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.v_=void 0,e.l_=void 0,e}return N_(n,t),n.prototype.c_=function(t){var n=this;this.v_=new Ye(function(t,i){n.l_=t,n.d_=i}),this.t_(new kw(this.v_,t))},n.prototype.f_=function(){var t=this.Zd.response;if(null==t){var n=this.Kd;""===n||"text"===n?t=this.Zd.responseText:"document"===n?t=this.Zd.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=D_([]))}this.l_(t)},n.prototype.s_=function(n){t.prototype.s_.call(this,n),this.d_&&this.d_(n)},n}(Bw),Ow=function(t){function n(n){var i=t.call(this,n,Dw)||this;return i.__=void 0,i.w_=void 0,i.g_=!1,i}return N_(n,t),n.prototype.c_=function(t){var n=this;this.__=new P_({start:function(t){n.w_=t},cancel:function(){n.g_=!0,n.h_()}}),this.t_(new kw(this.__,t))},n.prototype.r_=function(n){this.g_||this.w_.enqueue(new p(this.Zd.response)),t.prototype.r_.call(this,n)},n.prototype.f_=function(){this.w_.close()},n.prototype.s_=function(n){t.prototype.s_.call(this,n),this.w_&&!this.g_&&(this.g_=!0,this.w_.error(n))},n}(Bw),Lw=function(){var t=U_.firefox&&Pw(Dw);return Lw=function(){return t},t},Mw=function(){var t;return t=U_.arrayBuffer&&Pw("arraybuffer")?"arraybuffer":U_.blob&&Pw("blob")?"blob":"",Mw=function(){return t},t};function Fw(t){return(U_.stream&&Lw()?new Ow(t):new xw(t,Mw())).send()}var Uw=C_.fetch,jw=C_.Request;C_.Response;var Hw=C_.AbortController;var Xw=["http:","https:"];var zw=function(){try{if(U_.streamRequest){var t=new jw("about:blank",{body:"",method:"POST"}).body;if(t&&x_(t.constructor))return t.constructor}}catch(t){}}();function Vw(t,n,i){var e;if(U_.stream){var r=void 0;if(U_.streamResponse){var s=t.body;r=s&&L_(P_,s)}else r=F_(P_,function(){return Rw(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new O_(n.getReader(),i),{highWaterMark:0})}(P_,t,function(t){var r=t.done,s=t.value;r?i=void 0===i?e:i:e+=s.byteLength,n(e,i)})}(r,i,qw(t.headers))),e=r}else{var u=Rw(t.arrayBuffer(),n,!0);i&&(u=function(t,n,i){return Ye.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(u,i,qw(t.headers))),e=u}return new kw(e,t)}function qw(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function Ww(t){var n=new Ew;return t.signal&&Iw(n,t.signal),function(t,n){var i,e,r=t;if(i=r.zd===ow.Vd?U_.streamRequest&&zw?Ye.resolve(L_(zw,r.qd)):Rw(t.arrayBuffer(),n,!1):Rw(Ye.resolve(t.Wd),n,!1),U_.abort){var s=new Hw;Iw(s,n.signal),e=s.signal}return i.then(function(n){return new jw(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof z_?i:new z_(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return Uw(i).then(function(i){return Vw(i,n,t.onprogress)})})}var Gw=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var Yw=function(t){function n(i,e){var r,s,u,o,a,h,c,f,v,d=this,_=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new l("Already used");r=i.url,s=i.credentials,e.headers||(u=new z_(i.headers)),o=i.method,a=i.mode,h=i.referrer,c=i.referrerPolicy,f=i.signal,v=i.onprogress,_||null==i.Wd||(_=i.Wd,i.bodyUsed=!0)}else r=String(i),s="same-origin",o="GET",a="cors",h="about:client",c="",f=null,v=null;if(!e.headers&&u||(u=new z_(e.headers)),e&&(h="about:client",c=""),(d=t.call(this,_,u)||this).url=r,d.headers=u,d.credentials=e.credentials||s,d.method=function(t){var n=t.toUpperCase();return Gw.indexOf(n)>-1?n:t}(e.method||o),d.mode=e.mode||a,d.signal=e.signal||f||(new Ew).signal,d.referrer=void 0!==e.referrer?e.referrer:h,d.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:c,d.onprogress=e.onprogress||v,("GET"===d.method||"HEAD"===d.method)&&_)throw new l("Body not allowed for GET or HEAD requests");return d}return N_(n,t),n.prototype.clone=function(){return new n(this,{body:yw(this)})},n}(mw),$w="function"==typeof Uw&&U_.stream&&U_.streamResponse&&U_.url;function Qw(t,n){return new Ye(function(i){var e=new Yw(t,n);i(($w&&function(t){try{return Xw.indexOf(new C_.URL(t,C_.location.href).protocol)>=0}catch(t){return!1}}(e.url)?Ww:Fw)(e))})}Qw.polyfill=!0;var Kw=function(){function t(t){this.Ud=void 0,this.Md=void 0,this.y_=new uu,this.Fd=void 0,this.m_=!1,this.Md=t,this.y_.zs(t.qs),this.Ud=this.p_()}var n=t.prototype;return n.p_=function(){var t,n,e,r,s,u,o,h,c=this;return Mr.async(function(f){for(;;)switch(f.prev=f.next){case 0:(t=this.Md).pd&&a(function(){c.m_=!0,c.y_.Xs()},t.pd),f.prev=2,n=Qw(t.Kl,{method:t.md,headers:t.ql.$f(),body:t.Bl,credentials:t.Ad?"include":"same-origin",signal:tg(this.y_.qs),onprogress:t.Td}),f.next=9;break;case 6:throw f.prev=6,f.t0=f.catch(2),new S_(t,f.t0);case 9:return f.prev=9,f.next=12,Mr.awrap(n);case 12:e=f.sent,f.next=20;break;case 15:throw f.prev=15,f.t1=f.catch(9),au(r=this.k_(f.t1))&&this.y_.Xs(),r;case 20:if(s=e.url||t.Kl,u=0===e.status&&"file:"===(v=s,i.Or(v).protocol)?200:e.status,o=new Zw(this,e,this.y_),h=new d_({Hi:o,$l:t,Wl:t.Wl,ql:new Of(e.headers.asList()),Vl:u,Gl:e.statusText,Ql:s}),this.Fd=h,!h_(h)){f.next=29;break}return f.abrupt("return",h);case 29:throw new E_(h);case 30:case"end":return f.stop()}var v},null,this,[[2,6],[9,15]],Ye)},n.k_=function(t){return au(t)?this.m_?new I_(this.Md):new ou(t.message,t):this.Fd?new E_(this.Fd,t):new S_(this.Md,t)},t}(),Zw=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).b_=void 0,r.A_=void 0,r.y_=void 0,r.Ml=new ea,r.b_=n,r.A_=i,r.y_=e,r.Ml.Hu.catch(Z),r}E(n,t);var i=n.prototype;return i.Ul=function(){return this.Ml.Hu},i.Rl=function(t){return this.jl(this.A_.text(),t)},i.Cl=function(t){return this.jl(this.A_.arrayBuffer(),t)},i.Dl=function(){var t=this.A_.body;return t?this.Hl(t):Wd(this.Cl().then(Vd),this.y_)},i.Xl=function(){var t=this.A_.clone(),i=this.y_.Vs(),e=i[0],r=i[1];return this.y_=e,new n(this.b_,t,r)},i.jl=function(t,n){var i=this;n&&this.y_.zs(n);var e=Ye.resolve(t).catch(function(t){throw i.b_.k_(t)});return e=lu(e,this.y_),this.Ml.Wu(e.then(Z)),e},i.Hl=function(t){var n=this,i=new Nd,e=Ye.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.b_.k_(t);throw i.writable.abort(e).catch(Z),e});return e=lu(e,this.y_),this.Ml.Wu(e.then(Z)),i.readable},T(n,[{key:"zl",get:function(){return this.A_.bodyUsed}}]),n}(Zd),Jw="abort";function tg(t){var n=new Ew;if(t.Ds)n.abort();else if(!t.Ps){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(Jw,i),t.Fs(i),t.js(e)};n.signal.addEventListener(Jw,i),t.Ms(i),t.Us(e)}return n.signal}function ng(t,n,i){return new Ye(function(e,r){if(i&&i.Ds)return r(new ou);var s=function(t){o(),e(t)},u=function(){o(),r(new ou)},o=function(){t.removeEventListener(n,s),i&&i.Fs(u)};t.addEventListener(n,s),i&&i.Ms(u)})}var ig,eg,rg=function(){function t(){}var n=t.prototype;return n.$l=function(t){return new Kw(t).Ud},n.Sd=function(t){if(me&&me.sendBeacon)me.sendBeacon(t.Kl,Df([t.Bl],{type:t.Pl}));else{var n=t.Pl?{"Content-type":t.Pl}:void 0;gu(this.$l(new __({md:c_.POST,Kl:t.Kl,Bl:t.Bl,ql:n})))}},n.Ed=function(){},t}();ig=new(function(n){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(i=n.call.apply(n,[this].concat(r))||this).T_=void 0,i.S_=function(){if(F.cn)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.E_=F.Fn||F.cn,i.I_=void 0,i}return E(i,n),T(i,[{key:"Rr",get:function(){return this.T_||(this.T_=new xs(If())),this.T_}},{key:"R_",get:function(){return this.S_}},{key:"N_",get:function(){return this.E_}},{key:"C_",get:function(){return!1}},{key:"D_",get:function(){return Nf.sf()}},{key:"P_",get:function(){return{B_:Pf}}},{key:"x_",get:function(){return o.connection&&o.connection.effectiveType||"default"}},{key:"O_",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"L_",get:function(){return this.I_||(this.I_=new g_(new rg)),this.I_}}]),i}(Pr)),i=ig,function(t){t.M_="F_",t.U_="j_"}(eg||(eg={})),eg.M_,eg.U_;var sg=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).H_=void 0,e}return E(n,t),T(n,[{key:"X_",get:function(){return this.H_||(this.H_=this.z_()),this.H_}}]),n}(Eu);function ug(t){return Boolean(t&&t.X_)}var og,ag=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n}(sg),hg=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n}(Eu),cg=function(t){function n(n){var i;return(i=t.call(this,eg.M_)||this).V_=n,i}return E(n,t),n.prototype.z_=function(){return new fg(this.V_.X_)},n}(ag),fg=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return E(n,t),n}(hg),vg=function(t){function n(n){var i;return(i=t.call(this,eg.U_)||this).V_=n,i}return E(n,t),n.prototype.z_=function(){return new lg(this.V_.X_)},n}(ag),lg=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return E(n,t),n}(hg);!function(t){t.q_="W_",t.G_="Y_",t.Q_="K_",t.Z_="J_",t.nw="iw",t.ew="uw",t.ow="aw",t.hw="cw",t.fw="Kh",t.vw="lw",t.dw="_w",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(og||(og={}));var dg=function(t){function n(){var n;return(n=t.call(this)||this).ww=[],n.H_=void 0,n}E(n,t);var i=n.prototype;return i.gw=function(t){return this.ww[t]},i.yw=function(t){return!(!t||Ys(this.ww,t))&&(this.ww.push(t),this.H_&&this.H_.push(t.X_),t.Ks(og.ew,this.$s),this.Qs(new cg(t)),!0)},i.mw=function(t){if(!t)return!1;var n=this.ww.indexOf(t);return!(n<0)&&(Gs(this.ww,n),this.H_&&Gs(this.H_,n),t.nu(og.ew,this.$s),this.Qs(new vg(t)),!0)},i.pw=function(t){return Ys(this.ww,t)},i.bw=function(){for(var t=this.ww,n=t.length-1;n>=0;n-=1)this.mw(t[n])},i.Ed=function(){this.bw(),this.tu()},T(n,[{key:"Aw",get:function(){return this.ww}},{key:"X_",get:function(){return this.H_||(this.H_=this.z_()),this.H_}},{key:"Tw",get:function(){return this.ww.length}}]),n}(Tu),_g=function(t){function n(n){var i;return(i=t.call(this,og.ew)||this).V_=n,i}return E(n,t),n.prototype.z_=function(){return new wg(this.V_.X_)},n}(ag),wg=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return E(n,t),n}(hg),gg=function(t){function n(){var n;return(n=t.call(this)||this).Sw=void 0,n.Ew=function(t){var i=t.V_;n.yw(i)},n.Iw=function(t){var i=t.V_;n.mw(i)},n}E(n,t);var i=n.prototype;return i.Rw=function(t){t.Ks(eg.M_,this.Ew),t.Ks(eg.U_,this.Iw)},i.Nw=function(t){t.nu(eg.M_,this.Ew),t.nu(eg.U_,this.Iw)},i.Ed=function(){this.Sw&&this.Sw.Ed(),t.prototype.Ed.call(this)},T(n,[{key:"Cw",get:function(){return this.Sw},set:function(t){var n=this.Sw;if(t!==n){if(n){this.Nw(n);for(var i=0,e=n.Aw;i<e.length;i++){var r=e[i];t&&t.pw(r)||this.mw(r)}}if(this.Sw=t,t){for(var s=[],u=0,o=t.Aw;u<o.length;u++){var a=o[u];this.yw(a),this.Dw(a)&&s.push(a)}this.Rw(t);for(var h=0;h<s.length;h++){var c=s[h];c.Qs(new _g(c))}}}}}]),n}(dg),yg=_.freeze||J;function mg(t,n,i){_.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function pg(t,n){for(var i=0,e=_.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];_.defineProperty(t,r,_.getOwnPropertyDescriptor(n,r))}return t}function kg(t){if(W(t)){var n={};for(var i in t)U.call(t,i)&&(n[i]=kg(t[i]));return n}if(z(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=kg(t[r]));return e}return t}function bg(t,n){return t===n||!(!t||!n)&&(!(!q(t)||!q(n))&&(V(t)?!!V(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!bg(t[r],n[r]))return!1;return!0}(t,n):!V(n)&&function(t,n){var i=_.keys(t),e=_.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var s=i[r];if(!U.call(n,s)||!bg(t[s],n[s]))return!1}return!0}(t,n)))}function Ag(t,n){return t.constructor===n.constructor}function Tg(t){for(var n={},i=0,e=_.keys(t);i<e.length;i++){var r=e[i],s=t[r];null!=s&&(n[r]=s)}return n}function Sg(t){for(var n={},i=0,e=_.keys(t);i<e.length;i++){var r=e[i],s=t[r];if(V(s)){for(var u=[],o=0;o<s.length;o+=1){var a=s[o];if(null!=a){var h=q(a)?Sg(a):a;u.push(h)}}n[r]=u}else null!=s&&(n[r]=q(s)?Sg(s):s)}return n}function Eg(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Ig(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Rg(t){var n=Ig(t);if(m(n))throw new v("Expected a valid number.");return n}function Ng(t){return"string"==typeof t?t:""}function Cg(t,n){if(!V(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function Dg(t,n){return V(t)?Cg(t,n):n(t)}var Pg=[eg.M_,eg.U_,og.ew];function Bg(t){var n,i=t.Aw.map(function(t){return t.X_});return i.item=function(n){var i=0|n,e=t.gw(i);return e&&e.X_||void 0},i.addEventListener=function(t,i){n.Ks(t,i)},i.removeEventListener=function(t,i){n.nu(t,i)},n=new Su(i),t.Ks(Pg,function(t){return n.Qs(t.X_)}),i}function xg(){}function Og(t){var n,i=[og.fw,og.ew,og.vw,og.dw,og.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.Pw&&t.Pw.X_},get enabled(){return t.Bw},set enabled(n){t.Bw=Eg(n)},get id(){return t.xw},get uid(){return t.Ow},get kind(){return t.Lw},get label(){return t.Mw},set label(n){t.Mw=Ng(n)},get language(){return t.Fw},get qualities(){return t.Uw.X_},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.Uw.Aw;e<r.length;e++)for(var s=r[e],u=0;u<n.length;u++){var o=n[u];s.X_===o&&i.push(s)}return i}(t,z(n)?n:[n]):[]).length>0?t.jw=i:t.jw=void 0},get targetQuality(){if(t.jw)return 1===t.jw.length?t.jw[0].X_:t.jw.map(function(t){return t.X_})},addEventListener:function(t,i){var e=Dg(t,Ng);n.Ks(e,i)},removeEventListener:function(t,i){var e=Dg(t,Ng);n.nu(e,i)}};return n=new Su(e),t.Ks(i,function(t){return n.Qs(t.X_)}),_.defineProperty(e,"constructor",{value:xg}),e}function Lg(){}function Mg(t){var n=Bg(t);return _.defineProperty(n,"constructor",{value:Lg}),n}var Fg,Ug,jg=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.z_=function(){return Mg(this)},i.Dw=function(t){return t.Bw},n}(gg);function Hg(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Fg.Hw:case Fg.Xw:case Fg.zw:return n}}else if("number"==typeof t)switch(t){case 0:return Fg.Hw;case 1:return Fg.Xw;case 2:return Fg.zw}return Fg.Hw}function Xg(){}function zg(t){var n,i=[og.ew,og.fw,og.q_,og.G_,og.Q_,og.Z_,og.nw,og.ow,og.hw],e=[Ug.Vw],r={get kind(){return t.Lw},get label(){return t.Mw},set label(n){t.Mw=Ng(n)},get language(){return t.Fw},get id(){return t.xw},get uid(){return t.Ow},get inBandMetadataTrackDispatchType(){return t.qw},get mode(){return t.Ww},set mode(n){n!==Fg.zw&&n!==Fg.Xw&&n!==Fg.Hw||t.Gw(n)},get forced(){return Boolean(t.Yw)},get type(){return t.vs},get readyState(){return Wg(t.$w)},get cues(){return t.Ww===Fg.Hw?null:t.Qw.X_},get activeCues(){return t.Ww===Fg.Hw?null:t.Kw.X_},get src(){return t.Zw||""},addEventListener:function(t,i){var e=Dg(t,Ng);n.Ks(e,i)},removeEventListener:function(t,i){var e=Dg(t,Ng);n.nu(e,i)}};return n=new Su(t),t.Ks(i,function(t){return n.Qs(t.X_)}),t.Ks(e,function(t){return n.Qs(t)}),_.defineProperty(r,"constructor",{value:Xg}),r}function Vg(){}function qg(t){var n=Bg(t);return _.defineProperty(n,"constructor",{value:Vg}),n}function Wg(t){return t}!function(t){t.Hw="disabled",t.Xw="hidden",t.zw="showing"}(Fg||(Fg={})),function(t){t.Vw="error"}(Ug||(Ug={}));var Gg=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.z_=function(){return qg(this)},i.Dw=function(t){return t.Ww===Fg.zw},n}(gg),Yg=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.Js=function(n){t.prototype.Js.call(this,n)},i.au=function(n){t.prototype.au.call(this,n)},n}(Tu),$g=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n}(Yg),Qg=function(t){function n(){return t.call(this,Bf.pf)||this}return E(n,t),n}(Eu),Kg=function(t){function n(n){var i;return(i=t.call(this,Bf._f)||this).currentSource=n,i}return E(n,t),n}(Eu),Zg=function(){function t(){}return t.Jw=function(n,i){var e=t.eg(n,i);return e?t.rg(e):0},t.og=function(){return i.x_||"default"},t.ag=function(){return i.O_||"unknown"},t.eg=function(n,e){var r,s=null==(r=i.D_)?void 0:r.Ru(e),u=s&&JSON.parse(s);if(u&&u[n])return t.hg(u,n,e)},t.rg=function(t){var n=t.availableBandwidth;return n||0},t.hg=function(n,i,e){if(!t.cg(n,i))return n[i];t.fg(n,i,e)},t.fg=function(t,n,e){var r;delete t[n],null==(r=i.D_)||r.rf(e,JSON.stringify(t))},t.cg=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.vg=function(t,n,i,e){var r;return Fr({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.dg=function(n){var i=t.og();t._g(i,"theoplayer-stored-network-info",n,Wt())},t._g=function(n,e,r,s){var u,o,a=null==(u=i.D_)?void 0:u.Ru(e),h=a?JSON.parse(a):void 0,c=t.vg(h,n,r,s);null==(o=i.D_)||o.rf(e,JSON.stringify(c))},t.wg=function(){var n=t.og();return t.Jw(n,"theoplayer-stored-network-info")},t}();function Jg(){return 8*Zg.wg()}var ty,ny,iy,ey,ry,sy,uy="1ADD53F3";function oy(t){return{chromecast:ay(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return ty.AUTO;case"manual":return ty.MANUAL;case"disabled":return ty.DISABLED;default:return ty.MANUAL}}(t?t.strategy:void 0)}}function ay(t){return{appID:t&&t.appID?Ng(t.appID):uy}}function hy(t){var n,i=iy.gg;return(n=t)&&ps(n,"mpd")&&(i=iy.yg),function(t){return!!t&&ps(t,"m3u8")}(t)&&(i=iy.pg),i}function cy(t){switch(t){case ny.Ag:case ny.Tg:return t;default:return ny.Sg}}function fy(t){return!!t&&ks(t.toLowerCase(),iy.yg)}function vy(t){if(!t)return!1;var n=t.toLowerCase();return ks(n,iy.pg)||ks(n,iy.Eg)}function ly(t){return q(t)&&q(t.ssai)&&"google-dai"===t.ssai.integration}function dy(t){return q(t)&&G(t.integration)&&"verizon-media"===t.integration}function _y(t){if(G(t))return!t;if(dy(t))return!t.id;if(ly(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function wy(t){return Boolean(q(t)&&G(t.src))}function gy(t){return G(t)||wy(t)||ly(t)||dy(t)}function yy(t){if(t){if(gy(t))return _y(t);for(var n=0;n<t.length;n++){if(!_y(t[n]))return!1}return!0}return!0}function my(){return{crossOrigin:ny.Sg,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0}}function py(){return Fr({},my(),{src:void 0,type:iy.gg,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function ky(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:ey.ENABLED,googleIma:{useNativeIma:!1,bitrate:-1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return ry.NONE;case"midroll-and-postroll":default:return ry.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Eg(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return ey.INSECURE;case"disabled":return ey.DISABLED;case"enabled":default:return ey.ENABLED}}(t.vpaidMode)),z(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(G)),void 0!==t.googleIma&&(n.googleIma=function(t){var n;return void 0===t?{useNativeIma:!1,bitrate:-1}:{useNativeIma:Eg(t.useNativeIma),bitrate:null!=(n=t.bitrate)?n:-1}}(t.googleIma)),n)}function by(t){if(!V(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];W(r)&&n.push(r)}return n}function Ay(t){return G(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(ty||(ty={})),function(t){t.Sg="",t.Ag="anonymous",t.Tg="use-credentials"}(ny||(ny={})),function(t){t.yg="application/dash+xml",t.pg="application/vnd.apple.mpegurl",t.Eg="application/x-mpegurl",t.gg="video/mp4",t.Ig="application/vnd.theoplayer.hesp+json",t.Rg="application/vnd.theo.hesp+json"}(iy||(iy={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(ey||(ey={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(ry||(ry={})),function(t){t[t.Ng=0]="Ng",t[t.Cg=1]="Cg",t[t.Dg=2]="Dg",t[t.Pg=3]="Pg",t[t.Bg=4]="Bg"}(sy||(sy={}));var Ty,Sy=function(t){function n(n,i){var e;return void 0===i&&(i=sy.Ng),(e=t.call(this,Bf.yf)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Eu),Ey=function(t){function n(n){var i;return(i=t.call(this,Bf.If)||this).currentTime=n,i}return E(n,t),n}(Eu),Iy=function(t){function n(n){var i;return(i=t.call(this,Bf.Rf)||this).currentTime=n,i}return E(n,t),n}(Eu);!function(t){t.xg="canplay",t.Og="canplaythrough",t.Lg="loadeddata",t.Mg="loadedmetadata",t.ow="readystatechange",t.Fg="waiting",t.Ug="playing"}(Ty||(Ty={}));var Ry,Ny=[Ty.xg,Ty.Og,Ty.Lg,Ty.Mg,Ty.ow,Ty.Fg,Ty.Ug],Cy=function(t){function n(n,i){var e;return void 0===i&&(i=sy.Cg),(e=t.call(this,Ty.Mg)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Eu),Dy=function(t){function n(n){var i;return(i=t.call(this,Bf.gf)||this).duration=n,i}return E(n,t),n}(Eu),Py=function(t){function n(n,i){var e;return(e=t.call(this,Bf.Cf)||this).currentTime=n,e.playbackRate=i,e}return E(n,t),n}(Eu),By=function(t){function n(n,i){var e;return(e=t.call(this,Bf.Hf)||this).currentTime=n,e.currentProgramDateTime=i,e}return E(n,t),n}(Eu),xy=function(t){function n(n){var i;return(i=t.call(this,Bf.mf)||this).currentTime=n,i}return E(n,t),n}(Eu),Oy=function(t){function n(n,i){var e;return void 0===i&&(i=sy.Dg),(e=t.call(this,Ty.Lg)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Eu),Ly=function(t){function n(n){var i;return(i=t.call(this,Bf.xf)||this).currentTime=n,i}return E(n,t),n}(Eu),My=function(t){function n(n){var i;return(i=t.call(this,Bf.Bf)||this).currentTime=n,i}return E(n,t),n}(Eu),Fy=function(t){function n(n,i){var e;return(e=t.call(this,Bf.Xf)||this).currentTime=n,e.volume=i,e}return E(n,t),n}(Eu),Uy=function(t){function n(n,i){var e;return void 0===i&&(i=sy.Pg),(e=t.call(this,Ty.xg)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Eu),jy=function(t){function n(n,i){var e;return void 0===i&&(i=sy.Bg),(e=t.call(this,Ty.Og)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Eu),Hy=function(t){function n(n,i){var e;return(e=t.call(this,Ty.ow)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Eu),Xy=function(t){function n(n){var i;return(i=t.call(this,Ug.Vw)||this).errorObject=n,i}return E(n,t),n.prototype.z_=function(){return this},T(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(sg);function zy(t){switch(t){case Ry.ALL:case Ry.CONTENT:return t;default:return Ry.NONE}}function Vy(t){var n,e,r,s=kg(t||{});return s.libraryLocation&&(s.libraryLocation=m_(s.libraryLocation,!0)),s.isEmbeddable=Boolean(s.isEmbeddable),s.cast=oy(s.cast),s.ads=ky(s.ads),s.analytics=by(s.analytics),s.mutedAutoplay=zy(s.mutedAutoplay),s.allowNativeFullscreen=Boolean(s.allowNativeFullscreen),s.allowMixedContent=Boolean(s.allowMixedContent),s.persistVolume=Boolean(s.persistVolume),s.liveOffset=(n=s.liveOffset,Number(n)||void 0),s.hlsDateRange=(e=s.hlsDateRange,Boolean(e)),s.retainPlaybackRateOnSourceChange=Boolean(s.retainPlaybackRateOnSourceChange),s.license=G(r=s.license)?r:void 0,s.licenseUrl=function(t){if(!t)return;try{return m_(t)}catch(t){return void i.pr("Invalid 'licenseUrl', falling back to default URL")}}(s.licenseUrl),s}function qy(t){return{jg:t.jg,Hg:t.Hg,Xg:t.Xg,mu:t.mu,zg:t.zg,Vg:t.Vg,qg:t.qg,Wg:t.Wg,$w:t.$w,Gg:t.Gg,Yg:t.Yg,$g:t.$g,Qg:t.Qg}}function Wy(t,n){var i=n.Qg,e=n.Vg;t.Qg=i,t.Vg=e}function Gy(t,n,i){if(n!==i){var e=n.jg,r=n.Hg,s=n.Vg,u=n.qg,o=n.Wg,a=n.$w,h=n.Gg;n.$g,n.Yg;var c=n.Qg,f=i.jg,v=i.Hg,l=i.Xg,d=i.zg,_=i.Vg,w=i.qg,g=i.Wg,y=i.$w,p=i.Gg;i.$g,i.Yg;var k=i.Qg;a!==sy.Ng&&t.Qs(new Sy(f,y)),w&&!u?t.Qs(new Ey(f)):!w&&u&&t.Qs(new Iy(f)),y>=sy.Cg&&t.Qs(new Cy(f,y)),v===r||m(v)&&m(r)||t.Qs(new Dy(v)),g!==o&&t.Qs(new Py(f,g)),f!==e&&t.Qs(new By(f,void 0)),l&&t.Qs(new xy(f)),y>=sy.Dg&&t.Qs(new Oy(f,y)),p&&!h?t.Qs(new Ly(f)):!p&&h&&t.Qs(new My(f)),k===c&&_===s||t.Qs(new Fy(f,k)),y>=sy.Pg&&t.Qs(new Uy(f,y)),y>=sy.Bg&&t.Qs(new jy(f,y)),y!==a&&t.Qs(new Hy(f,y)),d&&t.Qs(new Xy(d))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Ry||(Ry={}));var Yy=.25,$y=400,Qy={Kg:.2,Zg:.45,Jg:.7,iy:3,ey:em,sy:rm},Ky={Kg:.4,Zg:.65,Jg:1,iy:3,ey:em,sy:rm},Zy={Kg:.4,Zg:.7,Jg:.9,iy:3,ey:em,sy:rm},Jy={Kg:.4,Zg:.65,Jg:1,iy:3,ey:em,sy:rm},tm={Kg:.5,Zg:1.125,Jg:1.75,iy:2.55,ey:em,sy:rm};function nm(){var t;return t=i.Fr.We?Jy:i.Fr.$e?Ky:i.Fr.Ye?"Android"===i.Ur.jr?Zy:Qy:tm,i.Ur.Hr?function(t){if(i.Ur.Hr){var n=($y+250)/1e3,e=w.max(n,t.Kg),r=w.max(e+Yy,t.Zg),s=w.max(r+Yy,t.Jg);return{Kg:e,Zg:r,Jg:s,iy:w.max(s+Yy,t.iy),ey:em,sy:rm}}return t}(t):t}var im,em=.92,rm=1.08;function sm(t){return{goLive:function(){return t.uy()},get isLive(){return t.oy},get currentServerLiveTime(){return t.vy},get currentLatency(){return t.ly},get latency(){return t._y},set latency(n){if(!function(t){if(!q(t))return!1;var n=t,i=H(n.target)&&"number"==typeof n.target&&H(n.windowEnd)&&"number"==typeof n.windowEnd&&H(n.windowStart)&&"number"==typeof n.windowStart&&H(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new v("Invalid latency configuration");t._y=n},get manifest(){return t.wy},addEventListener:function(n,i){t.Ks(om(n),i)},removeEventListener:function(n,i){t.nu(om(n),i)}}}!function(t){t[t.Hw=0]="Hw",t[t.gy=1]="gy",t[t.yy=2]="yy"}(im||(im={}));var um=["golive"];function om(t){var n=Dg(t,Ng);return(G(n)?[n]:n).filter(function(t){return Ys(um,t)})}var am,hm=function(t){function n(){var n,i;return(n=t.call(this)||this).Sw=void 0,n.H_=void 0,n.py={windowStart:(i=nm()).Kg,windowEnd:i.Jg,target:i.Zg,maxOffset:i.iy},n.Sw=void 0,n}E(n,t);var i=n.prototype;return i.Rw=function(t){t.Ks(um,this.$s)},i.Nw=function(t){t.nu(um,this.$s)},i.uy=function(){var t;null==(t=this.Sw)||t.uy()},i.Ed=function(){this.tu(),this.Sw&&this.Nw(this.Sw),this.Sw=void 0},T(n,[{key:"Cw",get:function(){return this.Sw},set:function(t){var n=this.Sw;t!==n&&(n&&this.Nw(n),t&&this.Rw(t),this.Sw=t,this.Sw&&(this.Sw._y=this.py))}},{key:"X_",get:function(){return this.H_||(this.H_=sm(this)),this.H_}},{key:"vy",get:function(){var t;return null==(t=this.Sw)?void 0:t.vy}},{key:"ly",get:function(){var t;return null==(t=this.Sw)?void 0:t.ly}},{key:"oy",get:function(){return!!this.Sw&&this.Sw.oy}},{key:"_y",get:function(){return this.Sw?this.Sw._y:this.py},set:function(t){this.Sw&&(this.Sw._y=t),this.py=t}},{key:"wy",get:function(){var t;return null==(t=this.Sw)?void 0:t.wy}}]),n}(Tu),cm=function(t){function n(n){var i;return(i=t.call(this)||this).Sw=void 0,i.by=[],i.Ay=!1,i.Ty=new jg,i.Sy=new jg,i.Ey=new Gg,i.Iy=new hm,i.Ry=!1,i.Ny(n),n.Js(i.$s),i.Sw=n,i.Ty.Cw=n.Cy,i.Sy.Cw=n.Dy,i.Ey.Cw=n.Py,i.Iy.Cw=n.By,i}E(n,t);var i=n.prototype;return i.xy=function(){this.Sw.xy()},i.Oy=function(){this.Sw.Oy()},i.Ly=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",yu(this.by.map(function(t){return t.Ly()})).then(Z));case 1:case"end":return t.stop()}},null,this,null,Ye)},i.My=function(){return this.Sw.My()},i.Fy=function(t,n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return hu(n),i.next=3,Mr.awrap(this.Sw.Fy(t,n));case 3:case"end":return i.stop()}},null,this,null,Ye)},i.Uy=function(){return this.Cw.Uy()},i.jy=function(){this.Cw.jy()},i.Hy=function(){this.Cw.Hy()},i.Xy=function(){if(!this.Ay){for(var t=0,n=this.by;t<n.length;t++){n[t].Xy()}this.Ay=!0}},i.zy=function(t){this.Sw.zy(t)},i.Vy=function(){this.Sw.Vy()},i.qy=function(){this.Sw.qy()},i.Wy=function(){this.Sw.Wy()},i.Gy=function(){return this.Sw.Gy()},i.Yy=function(){return this.Sw.Yy()},i.$y=function(){for(var t=[],n=0,i=this.by;n<i.length;n++){var e=i[n];t.push.apply(t,e.$y())}return t},i.Qy=function(t){for(var n=!1,i=0,e=this.by;i<e.length;i++){n=e[i].Qy(t)||n}return n},i.Qs=function(n){this.Qy(n)||t.prototype.Qs.call(this,n)},i.Ny=function(t){this.by.push(t)},i.Ky=function(t){Ws(this.by,t)},i.Zy=function(t){if(t!==this.Sw){var n=this.Sw;n.Vy(),n.au(this.$s);var i=qy(this),e=this.Jy,r=this.Yy();this.Sw=t,this.Ty.Cw=t.Cy,this.Sy.Cw=t.Dy,this.Ey.Cw=t.Py,this.Iy.Cw=t.By,Gy(this,i,this);var s=this.Jy;s!==e&&this.Qs(new Kg(s)),this.Yy()!==r&&this.Qs(new Qg),t.Js(this.$s),t.zy(n)}},i.tm=function(){},i.Ed=function(){var t,n,i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.tu(),this.Sw.Vy(),t=0,n=this.by;case 3:if(!(t<n.length)){e.next=10;break}return i=n[t],e.next=7,Mr.awrap(i.Ed());case 7:t++,e.next=3;break;case 10:this.Ty.Ed(),this.Sy.Ed(),this.Ey.Ed(),this.Iy.Ed();case 14:case"end":return e.stop()}},null,this,null,Ye)},i.bw=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",yu(this.by.map(function(t){return t.bw()})).then(Z));case 1:case"end":return t.stop()}},null,this,null,Ye)},T(n,[{key:"Cy",get:function(){return this.Ty}},{key:"Py",get:function(){return this.Ey}},{key:"Dy",get:function(){return this.Sy}},{key:"nm",get:function(){return this.Sw.nm}},{key:"im",get:function(){return this.Sw.im},set:function(t){this.Sw.im=t}},{key:"Jy",get:function(){return this.Sw.Jy}},{key:"jg",get:function(){return this.Sw.jg},set:function(t){this.Sw.jg=t}},{key:"Hg",get:function(){return this.Sw.Hg}},{key:"um",get:function(){return this.Sw.um}},{key:"Xg",get:function(){return this.Sw.Xg}},{key:"mu",get:function(){return this.Sw.mu}},{key:"zg",get:function(){return this.Sw.zg}},{key:"By",get:function(){return this.Iy}},{key:"hm",get:function(){return this.Sw.hm}},{key:"cm",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,s=0,u={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var a=t[o];n+=a.fm,i+=a.vm,e+=a.lm,r+=a.dm,s+=a._m,u.amountOfBufferedAudioSegments+=a.wm.amountOfBufferedAudioSegments,u.amountOfBufferedVideoSegments+=a.wm.amountOfBufferedVideoSegments}return{fm:n,vm:i,lm:e,dm:r,_m:s,wm:u}}(this.by.map(function(t){return t.cm}))}},{key:"Vg",get:function(){return this.Sw.Vg},set:function(t){this.Sw.Vg=t}},{key:"gm",get:function(){return this.Sw.gm}},{key:"qg",get:function(){return this.Sw.qg}},{key:"Wg",get:function(){return this.Sw.Wg},set:function(t){this.Sw.Wg=t}},{key:"ym",get:function(){return this.Sw.ym}},{key:"mm",get:function(){return this.Sw.mm},set:function(t){this.Sw.mm=t}},{key:"$w",get:function(){return this.Sw.$w}},{key:"pm",get:function(){return this.Sw.pm}},{key:"Gg",get:function(){return this.Sw.Gg}},{key:"Yg",get:function(){return this.Sw.Yg}},{key:"$g",get:function(){return this.Sw.$g}},{key:"Qg",get:function(){return this.Sw.Qg},set:function(t){this.Sw.Qg=t}},{key:"Am",get:function(){return this.Sw.Am}},{key:"Tm",get:function(){return!1},set:function(t){}},{key:"Cw",get:function(){return this.Sw},set:function(t){this.Zy(t)}}]),n}($g),fm=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this,n,i,e)||this).url=void 0,h.status=void 0,h.statusText=void 0,h.response=void 0,h.systemCode=void 0,h.url=r,h.status=s,h.statusText=u,h.response=o,h.systemCode=a,h}return E(n,t),T(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(lf);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(am||(am={}));var vm=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i)||this).code=void 0,s.message=void 0,s.cause=void 0,s.systemCode=void 0,s.code=n,s.message=null!=i?i:"Unknown error",s.cause=e,s.systemCode=r,v.captureStackTrace&&v.captureStackTrace(nn(s),s.constructor),s}return E(n,t),T(n,[{key:"name",get:function(){return"MediaError"}}]),n}(en);function lm(t){mg(t,"MEDIA_ERR_ABORTED",am.ABORTED),mg(t,"MEDIA_ERR_NETWORK",am.NETWORK),mg(t,"MEDIA_ERR_DECODE",am.DECODE),mg(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",am.SRC_NOT_SUPPORTED),mg(t,"MEDIA_ERR_ENCRYPTED",am.ENCRYPTED)}function dm(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new vm(am.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new vm(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return am.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return am.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return am.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return am.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return am.NETWORK;if(i===n.ErrorCategory.SOURCE)return am.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return am.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return am.ENCRYPTED;if(i===n.ErrorCategory.AD)return am.ADVERTISEMENT_ERROR;return am.DECODE}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}function _m(t){return new lf(wm(t.code),t.message,t)}function wm(t){switch(t){case am.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case am.NETWORK:return n.ErrorCode.NETWORK_ERROR;case am.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case am.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case am.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case am.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case am.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}lm(vm),lm(vm.prototype);var gm,ym=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.yw=function(n){return t.prototype.yw.call(this,n)},i.z_=function(){return Mg(this)},n}(dg);!function(t){t._d="audio",t.wd="video",t.Jn="text",t.yd="image",t.Jl="unknown"}(gm||(gm={}));var mm=function(){function t(){this.Sm=[],this.H_=void 0}var n=t.prototype;return n.Em=function(t){this.Sm.push(t),this.H_&&this.H_.push(t.X_)},n.Qh=function(t){Ws(this.Sm,t),this.H_&&Ws(this.H_,t.X_)},n.gw=function(t){return this.Sm[t]},n.Im=function(t){return z(t)?$s(this.Sm,t):Ys(this.Sm,t)},n.bw=function(){Qs(this.Sm),this.H_&&Qs(this.H_)},T(t,[{key:"Aw",get:function(){return this.Sm}},{key:"Tw",get:function(){return this.Sm.length}},{key:"X_",get:function(){var t,n;return this.H_||(this.H_=((n=(t=this).Aw.map(function(t){return t.X_})).item=function(n){var i=0|n,e=t.gw(i);return e&&e.X_||void 0},n)),this.H_}}]),t}(),pm=function(t){function n(n){var i;return(i=t.call(this,og.fw)||this).V_=n,i}return E(n,t),n.prototype.z_=function(){return new km(this.V_.X_)},n}(ag),km=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return E(n,t),n}(hg),bm=0;function Am(){return bm++}var Tm=0;var Sm=0;function Em(){return Sm++}var Im=0;function Rm(){return Im++}var Nm=0;var Cm=function(t){function n(n){var i;return(i=t.call(this)||this).vs=gm._d,i.Rm=void 0,i.Oh=void 0,i.Nm=void 0,i.Cm=void 0,i.Dm=!1,i.Sm=void 0,i.H_=void 0,i.Rm=n,i.Cm=Am(),i.Oh=Nm+++"",i.Nm=n.label,i.Sm=new mm,i.Pm(),i}E(n,t);var i=n.prototype;return i.Bm=function(t){this.Bw=t},i.Pm=function(){this.Bw=this.xm},T(n,[{key:"Pw",get:function(){}},{key:"Bw",get:function(){return this.Dm},set:function(t){this.Dm!==t&&(this.Dm=t,this.xm=t,this.Qs(new _g(this)))}},{key:"xm",get:function(){return this.Rm.enabled},set:function(t){this.Rm.enabled=t}},{key:"X_",get:function(){return this.H_||(this.H_=Og(this)),this.H_}},{key:"xw",get:function(){return this.Oh}},{key:"Ow",get:function(){return this.Cm}},{key:"Lw",get:function(){return this.Rm.kind}},{key:"Mw",get:function(){return this.Nm},set:function(t){t!==this.Nm&&(this.Nm=t,this.Qs(new pm(this)))}},{key:"Fw",get:function(){return this.Rm.language}},{key:"Ww",get:function(){return this.Bw?"enabled":"disabled"}},{key:"Om",get:function(){return this.Rm}},{key:"Uw",get:function(){return this.Sm}},{key:"jw",get:function(){},set:function(t){}}]),n}(Tu),Dm=0;var Pm,Bm,xm,Om=function(t){function n(n){var i;return(i=t.call(this)||this).vs=gm.wd,i.Rm=void 0,i.Oh=void 0,i.Cm=void 0,i.Dm=!1,i.Sm=void 0,i.Nm=void 0,i.H_=void 0,i.Rm=n,i.Cm=Am(),i.Oh=Dm+++"",i.Sm=new mm,i.Nm=n.label,i.Pm(),i}E(n,t);var i=n.prototype;return i.Pm=function(){this.Bw=this.xm},i.Bm=function(t){this.Bw=t},T(n,[{key:"Pw",get:function(){}},{key:"Bw",get:function(){return this.Dm},set:function(t){this.Dm!==t&&(this.Dm=t,this.xm=t,this.Qs(new _g(this)))}},{key:"xm",get:function(){return!!this.Rm.selected},set:function(t){this.Rm.selected=t}},{key:"X_",get:function(){return this.H_||(this.H_=Og(this)),this.H_}},{key:"xw",get:function(){return this.Oh}},{key:"Ow",get:function(){return this.Cm}},{key:"Lw",get:function(){return"main"}},{key:"Mw",get:function(){return this.Nm},set:function(t){t!==this.Nm&&(this.Nm=t,this.Qs(new pm(this)))}},{key:"Fw",get:function(){return this.Rm.language}},{key:"Ww",get:function(){return this.Bw?"enabled":"disabled"}},{key:"Om",get:function(){return this.Rm}},{key:"Uw",get:function(){return this.Sm}},{key:"jw",get:function(){},set:function(t){}}]),n}(Tu),Lm=function(t){function n(n){var i;return(i=t.call(this,Bf.uf)||this).hm=n,i}return E(n,t),n}(Eu);function Mm(t){switch(t){case Bm.DEFAULT:case Bm.SRT:case Bm.TTML:case Bm.WEBVTT:case Bm.EMSG:case Bm.EVENT_STREAM:case Bm.ID3:case Bm.CEA608:case Bm.DATE_RANGE:return!0;default:return!1}}!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Pm||(Pm={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(Bm||(Bm={})),function(t){t.Lm="cue",t.Mm="region",t.Fm="stylesheet"}(xm||(xm={}));var Fm,Um={"line-left":"start",center:"middle","line-right":"end"},jm={start:"line-left",middle:"center",end:"line-right"};function Hm(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function Xm(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return e=50,r="number"==typeof(i=t)?i:y(i),m(r)?e:r;var i,e,r}!function(t){t.Um="jm",t.Hm="Xm",t.fw="Kh"}(Fm||(Fm={}));var zm=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).zm=i,e}return E(n,t),n}(ag),Vm=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return E(n,t),n}(hg);function qm(t){var n,i=[Fm.Um,Fm.Hm,Fm.fw],e={get track(){return t.V_.X_},get id(){return t.xw},get uid(){return t.Ow},get startTime(){return t.Vm},get endTime(){return t.qm},get content(){return t.Wm},addEventListener:function(t,i){var e=Dg(t,Ng);n.Ks(e,i)},removeEventListener:function(t,i){var e=Dg(t,Ng);n.nu(e,i)}};return n=new Su(e),t.Ks(i,function(t){return n.Qs(t.X_)}),e}function Wm(){}function Gm(t){return pg(qm(t),{get align(){return t.Gm},get line(){return t.Ym},get lineAlign(){return t.$m},get position(){return t.Qm},get positionAlign(){return t.Km},get region(){return t.Zm?t.Zm.X_:null},get size(){return t.Pu},get snapToLines(){return t.Jm},get text(){return t.Wm},get vertical(){return t.tp}})}var Ym=function(t){function n(n){return t.call(this,Fm.fw,n)||this}return E(n,t),n.prototype.z_=function(){return new $m(this.zm.X_)},n}(zm),$m=function(t){function n(n){return t.call(this,"update",n)||this}return E(n,t),n}(Vm),Qm=.02;function Km(t,n){return jt(t.Vm,n.Vm,Qm)&&jt(t.qm,n.qm,Qm)&&t.xw===n.xw}var Zm=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Cm=void 0,u.Oh=void 0,u.np=void 0,u.ip=void 0,u.H_=void 0,u.ep=void 0,u.rp=!1,u.sp=void 0,u.op=void 0,u.ap=-1,u.Cm=Rm(),u.np=n,u.ip=i,u.sp=e,u.op=Boolean(r),u.Oh=null!=s?s:"",u}E(n,t);var i=n.prototype;return i.z_=function(){return qm(this)},i.hp=function(t){return this===t||Ag(this,t)&&Km(this,t)},i.Ed=function(){this.tu()},T(n,[{key:"Vm",get:function(){return this.np},set:function(t){this.np!==t&&(this.np=t,this.Qs(new Ym(this)))}},{key:"qm",get:function(){return this.ip},set:function(t){this.ip!==t&&(this.ip=t,this.Qs(new Ym(this)))}},{key:"xw",get:function(){return this.Oh}},{key:"Ow",get:function(){return this.Cm}},{key:"X_",get:function(){return this.H_||(this.H_=this.z_()),this.H_}},{key:"cp",get:function(){return this.rp},set:function(t){this.rp=t}},{key:"V_",get:function(){return this.ep},set:function(t){this.ep=t}},{key:"Wm",get:function(){return this.sp},set:function(t){this.sp!==t&&(this.sp=t,this.Qs(new Ym(this)))}},{key:"fp",get:function(){return this.op},set:function(t){this.op=t}}]),n}(Tu);function Jm(t,n){return t.Wm===n.Wm&&t.Ym===n.Ym&&t.$m===n.$m&&t.Qm===n.Qm&&t.Km===n.Km&&t.Zm===n.Zm&&t.Jm===n.Jm&&t.Pu===n.Pu&&t.Gm===n.Gm&&t.tp===n.tp}var tp=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,s)||this).Ym="auto",u.$m="start",u.Qm="auto",u.Km="auto",u.Zm=void 0,u.Jm=!0,u.Pu=100,u.Gm="center",u.tp="",u}return E(n,t),n.prototype.hp=function(n){return this===n||Ag(this,n)&&t.prototype.hp.call(this,n)&&Jm(this,n)},T(n,[{key:"X_",get:function(){return this.H_||(this.H_=Gm(this)),this.H_}},{key:"vs",get:function(){return xm.Lm}}]),n}(Zm);function np(t){var n=K(t.Ym)?t.Ym:y(t.Ym);return m(n)||t.Jm||!(n<0||n>100)?m(n)?t.Jm?-1:100:n:100}function ip(t){return Xm(t.Qm,t.Gm)}function ep(t){return Hm(t.Km,t.Gm)}function rp(t){var n,i=ep(t),e=ip(t);switch(i){case"line-left":n=100-e;break;case"line-right":n=e;break;case"center":n=e<=50?2*e:2*(100-e)}return w.min(t.Pu,n)}function sp(t){return{get id(){return t.xw},get identifier(){return t.xw},get lines(){return t.vp},get regionAnchorX(){return t.lp},get regionAnchorY(){return t.dp},get scrollValue(){return t._p},get viewportAnchorX(){return t.wp},get viewportAnchorY(){return t.gp},get width(){return t.yp}}}var up=function(){function t(t,n,i,e,r,s,u,o){this.H_=void 0,this.xw=t,this.yp=n,this.vp=i,this.lp=e,this.dp=r,this.wp=s,this.gp=u,this._p=o}return T(t,[{key:"X_",get:function(){return this.H_||(this.H_=sp(this)),this.H_}},{key:"vs",get:function(){return xm.Mm}}]),t}(),op=function(){function t(){}var n=t.prototype;return n.mp=function(t){return this.pp()*t},n.kp=function(t){return this.bp(t)>0},n.Ap=function(t){return this.bp(t)>=0},n.Tp=function(t,n){return this.Ep(t).Sp(n)},n.hp=function(t){return 0===this.bp(t)},n.Ip=function(t){return this.bp(t)<0},n.Sp=function(t){return this.bp(t)<=0},n.Rp=function(){return this.Np()?this.Cp():this},n.Dp=function(t){return this.Em(t.Cp())},n.Ep=function(t){return this.Dp(t).Rp()},t}();function ap(t,n){return t.Pp()?n.Pp()?Bs.Rs:Bs.Ns:n.Pp()?Bs.Cs:t.Bp()?n.Bp()&&t.Np()===n.Np()?Bs.Rs:t.Np()?Bs.Cs:Bs.Ns:n.Np()?Bs.Ns:Bs.Cs}var hp=function(){function t(t,n){this.xp=void 0,this.Op=void 0,this.xp=t,this.Op=n}t.Lp=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Mp=function(n){return n.unsigned?new t(n,lt.UZERO):new t(n,n.isNegative()?lt.NEG_ONE:lt.ZERO)},t.Fp=function(n,i){if(m(n))return i?t.Up:t.jp;if(i){if(n<0)return t.Up;if(n>=3.402823669209385e38)return t.Hp}else{if(n<=-1.7014118346046923e38)return t.Xp;if(n+1>=1.7014118346046923e38)return t.zp}return n<0?t.Fp(-n,i).Cp():t.Lp(lt.fromNumber(n%0x10000000000000000),lt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.Vp=function(){return this.Op.unsigned},n.qp=function(){return this.xp.isZero()&&this.Op.isZero()},n.Np=function(){return this.Op.isNegative()},n.Wp=function(){return this.Vp()?t.Lp(this.xp,this.Op,!1):this},n.Gp=function(){return this.Vp()?this:t.Lp(this.xp,this.Op,!0)},n.Yp=function(){return this.xp},n.pp=function(){return this.Np()?-this.Cp().pp():0x10000000000000000*this.Op.toNumber()+this.xp.toUnsigned().toNumber()},n.$p=function(){return this.xp.toInt()},n.hp=function(t){return(this.Vp()===t.Vp()||this.Op.getHighBits()>>>31!=1||t.Op.getHighBits()>>>31!=1)&&(this.Op.toUnsigned().eq(t.Op.toUnsigned())&&this.xp.toUnsigned().eq(t.xp.toUnsigned()))},n.bp=function(t){if(this.hp(t))return Bs.Rs;var n=this.Np(),i=t.Np();if(n&&!i)return Bs.Cs;if(!n&&i)return Bs.Ns;if(!this.Vp())return this.Dp(t).Np()?Bs.Cs:Bs.Ns;var e=this.Gp(),r=t.Gp(),s=r.Op.comp(e.Op);return s>0||0===s&&r.xp.gt(e.xp)?Bs.Cs:Bs.Ns},n.Ip=function(t){return this.bp(t)<0},n.Sp=function(t){return this.bp(t)<=0},n.Qp=function(t){return this.bp(t)>0},n.Kp=function(t){return this.bp(t)>=0},n.Zp=function(){return new t(this.xp.not(),this.Op.not())},n.Jp=function(n){return new t(this.xp.and(n.xp),this.Op.and(n.Op))},n.nk=function(n){return new t(this.xp.or(n.xp),this.Op.or(n.Op))},n.ek=function(n){var i=127&n;return 0===i?this:i<64?t.Lp(this.xp.shl(i),this.Op.shl(i).or(this.xp.shru(64-i)),this.Vp()):t.Lp(lt.ZERO,this.xp.shl(i-64),this.Vp())},n.rk=function(n){var i=127&n;return 0===i?this:i<64?t.Lp(this.xp.shru(i).or(this.Op.shl(64-i)),this.Op.shr(i),this.Vp()):t.Lp(this.Op.shr(i-64),this.Op.isNegative()?lt.NEG_ONE:lt.ZERO,this.Vp())},n.hk=function(n){var i=127&n;return 0===i?this:i<64?t.Lp(this.xp.shru(i).or(this.Op.shl(64-i)),this.Op.shru(i),this.Vp()):64===i?t.Lp(this.Op,lt.ZERO,this.Vp()):t.Lp(this.Op.shru(i-64),lt.ZERO,this.Vp())},n.Em=function(n){var i=this.Op.high>>>16,e=65535&this.Op.high,r=this.Op.low>>>16,s=65535&this.Op.low,u=this.xp.high>>>16,o=65535&this.xp.high,a=this.xp.low>>>16,h=65535&this.xp.low,c=n.Op.high>>>16,f=65535&n.Op.high,v=n.Op.low>>>16,l=65535&n.Op.low,d=n.xp.high>>>16,_=65535&n.xp.high,w=n.xp.low>>>16,g=0,y=0,m=0,p=0,k=0,b=0,A=0,T=0;A+=(T+=h+(65535&n.xp.low))>>>16,T&=65535,b+=(A+=a+w)>>>16,A&=65535,k+=(b+=o+_)>>>16,b&=65535,p+=(k+=u+d)>>>16,k&=65535,m+=(p+=s+l)>>>16,p&=65535,y+=(m+=r+v)>>>16,m&=65535,g+=(y+=e+f)>>>16,y&=65535,g+=i+c,g&=65535;var S=this.Vp(),E=lt.fromBits(m<<16|p,g<<16|y,S),I=lt.fromBits(A<<16|T,k<<16|b,S);return t.Lp(I,E,S)},n.Dp=function(t){return this.Em(t.Cp())},n.Cp=function(){return this.Zp().Em(t.ck)},n.fk=function(n){if(this.qp()||n.qp())return this.Vp()?t.Up:t.jp;if(this.Np())return n.Np()?this.Cp().fk(n.Cp()):this.Cp().fk(n).Cp();if(n.Np())return this.fk(n.Cp()).Cp();if(this.Op.isZero()&&0===this.xp.high&&n.Op.isZero()&&0===n.xp.high)return t.Mp(this.xp.multiply(n.xp));var i=lt.fromBits(4294967295,0,!0),e=this.xp.and(i),r=this.xp.shru(32),s=this.Op.and(i),u=this.Op.shru(32),o=n.xp.and(i),a=n.xp.shru(32),h=n.Op.and(i),c=n.Op.shru(32),f=lt.UZERO,v=lt.UZERO,l=lt.UZERO,d=lt.UZERO;f=f.add(e.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(r.mul(o)),l=l.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(a)),l=l.add(v.shru(32)),v=v.and(i),l=l.add(s.mul(o)),d=d.add(l.shru(32)),l=(l=l.and(i)).add(r.mul(a)),d=d.add(l.shru(32)),l=(l=l.and(i)).add(e.mul(h)),d=d.add(l.shru(32)),l=l.and(i),d=d.add(u.mul(o)).add(s.mul(a)).add(r.mul(h)).add(e.mul(c)).and(i);var _=lt.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),w=lt.fromBits(l.getLowBitsUnsigned(),d.getLowBitsUnsigned(),!0);return t.Lp(_,w,this.Vp())},n.vk=function(n){var i,e,r=n;if(r.qp())throw new RangeError("division by zero");if(this.qp())return this.Vp()?[t.Up,t.Up]:[t.jp,t.jp];if(this.Vp()){if(r.Vp()||(r=r.Gp()),r.Qp(this))return[t.Up,this];if(r.Qp(this.hk(1)))return[e=t.lk,i=this.Dp(r)];e=t.Up}else{if(this.hp(t.Xp)){if(r.hp(t.ck)||r.hp(t.dk))return[t.Xp,t.jp];if(r.hp(t.Xp))return[t.ck,t.jp];var s=this.rk(1)._k(r).ek(1);return s.hp(t.jp)?e=r.Np()?t.ck:t.dk:(i=this.Dp(r.fk(s)),e=s.Em(i._k(r))),[e,i=this.Dp(r.fk(e))]}if(r.hp(t.Xp))return this.Vp()?[t.Up,this]:[t.jp,this];if(this.Np()){if(r.Np())return this.Cp().vk(r.Cp());var u=this.Cp().vk(r);return e=u[0],i=u[1],[e.Cp(),i.Cp()]}if(r.Np()){var o=this.vk(r.Cp());return e=o[0],i=o[1],[e.Cp(),i.Cp()]}e=t.jp}for(i=this;i.Kp(r);){for(var a=w.max(1,w.floor(i.pp()/r.pp())),h=w.ceil(w.log(a)/w.LN2),c=h<=48?1:w.pow(2,h-48),f=t.Fp(a),v=f.fk(r);v.Np()||v.Qp(i);)a-=c,v=(f=t.Fp(a,this.Vp())).fk(r);f.qp()&&(f=t.ck),e=e.Em(f),i=i.Dp(v)}return[e,i]},n._k=function(t){return this.vk(t)[0]},n.wk=function(t){return this.vk(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.qp())return"0";if(this.Np()){if(this.hp(t.Xp)){var e=t.Fp(i),r=this._k(e),s=r.fk(e).Dp(this);return r.toString(i)+s.$p().toString(i)}return"-"+this.Cp().toString(i)}for(var u=t.Fp(w.pow(i,6),this.Vp()),o=this,a="";;){var h=o._k(u),c=(o.Dp(h.fk(u)).$p()>>>0).toString(i);if((o=h).qp())return c+a;for(;c.length<6;)c="0"+c;a=String(c)+a}},t}();hp.jp=hp.Mp(lt.ZERO),hp.Up=hp.Mp(lt.UZERO),hp.ck=hp.Mp(lt.ONE),hp.lk=hp.Mp(lt.UONE),hp.dk=hp.Mp(lt.NEG_ONE),hp.zp=hp.Lp(lt.NEG_ONE,lt.MAX_VALUE,!1),hp.Hp=hp.Lp(lt.MAX_UNSIGNED_VALUE,lt.MAX_UNSIGNED_VALUE,!0),hp.Xp=hp.Lp(lt.ZERO,lt.MIN_VALUE,!1);var cp=function(){function t(t,n){void 0===n&&(n=1),this.gk=void 0,this.yk=void 0,this.gk=t,this.yk=n}t.pk=function(n){return new t(w.ceil(n.gk),n.yk)},t.bk=function(n){return new t(w.floor(n.gk),n.yk)},t.Ak=function(t,n){return t.Ap(n)?t:n},t.Tk=function(t,n){return t.Sp(n)?t:n};var n=t.prototype;return n.Em=function(n){return this.yk>=n.yk?new t(this.gk+n.Sk(this.yk).gk,this.yk):new t(this.Sk(n.yk).gk+n.gk,n.yk)},n.kp=function(t){return t.Ip(this)},n.Ap=function(t){return t.Sp(this)},n.Ep=function(n){return this.yk>=n.yk?new t(w.abs(this.gk-n.Sk(this.yk).gk),this.yk):n.Ep(this)},n.Tp=function(t,n){return this.Ep(t).Sp(n)},n.bp=function(t){return i=t,(n=this).yk>=i.yk?Xs(n.gk,i.Sk(n.yk).gk):Xs(n.Sk(i.yk).gk,i.gk);var n,i},n.hp=function(t){return 0===this.bp(t)},n.Ip=function(t){return this.bp(t)<0},n.Sp=function(t){return this.bp(t)<=0},n.Sk=function(n){return new t(this.gk*(n/this.yk),n)},n.Dp=function(n){return this.yk>=n.yk?new t(this.gk-n.Sk(this.yk).gk,this.yk):new t(this.Sk(n.yk).gk-n.gk,n.yk)},n.Ek=function(n){return new t(this.gk*n,this.yk)},T(t,[{key:"Bp",get:function(){return!isFinite(this.gk)}},{key:"Ik",get:function(){return this.gk/this.yk}}]),t}();cp.Rk=new cp(1/6,1),cp.jp=new cp(0),cp.Nk=new cp(1/0),cp.Ck=1e6;var fp=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ai=void 0,e.yk=void 0,e.Ai=n.toSigned(),e.yk=i>>>0,e}E(n,t),n.Dk=function(t,i){return void 0===i&&(i=1e6),n.Fp(t*i,i)},n.Fp=function(t,i){return m(t)?n.Pk:t===1/0?n.Bk:t===-1/0?n.xk:new n(lt.fromNumber(t),i)},n.Mp=function(t,i){return new n(t,i)},n.Ok=function(t){return n.Dk(t.Ik,1e6)},n.Lk=function(t){return new n(lt.fromNumber(t.getTime()),1e3)},n.Ak=function(t,n){return t.Ap(n)?t:n},n.Tk=function(t,n){return t.Sp(n)?t:n},n.Mk=function(t,i,e){return n.Ak(i,n.Tk(e,t))};var i=n.prototype;return i.Np=function(){return this.Ai.isNegative()},i.qp=function(){return 0!==this.yk&&this.Ai.isZero()},i.Bp=function(){return 0===this.yk&&!this.Ai.isZero()},i.Pp=function(){return 0===this.yk&&this.Ai.isZero()},i.pp=function(){if(0===this.yk)return this.Ai.isZero()?NaN:this.Ai.isNegative()?-1/0:1/0;var t=this.Ai.divide(this.yk),n=this.Ai.subtract(t.multiply(this.yk));return t.toNumber()+n.toNumber()/this.yk},i.Yp=function(){if(0===this.yk)throw new v("Failed to convert timestamp");return this.Ai},i.Fk=function(){return new Date(0===this.yk?NaN:this.Sk(1e3).Ai.toNumber())},i.Uk=function(){return new cp(0===this.yk?this.pp():this.Ai.toNumber(),this.yk)},i.Sk=function(t,i){void 0===i&&(i=dp.jk);var e=this.yk;if(e===t)return this;if(0===e)return this;var r=Vt(e,t);return new n(function(t,n,i){var e=t.vk(n),r=e[0],s=e[1];if(s.qp())return r;if(i===dp.jk)return s.Np()?r.Dp(hp.ck):r;if(i===dp.Hk)return s.Np()?r:r.Em(hp.ck);var u=s.fk(hp.Fp(2));return u.Np()?u.Cp().Ip(n)?r:r.Dp(hp.ck):u.Ip(n)?r:r.Em(hp.ck)}(hp.Mp(this.Ai).fk(hp.Fp(t/r)),hp.Fp(e/r),i).Yp(),t)},i.bp=function(t){if(this===t)return Bs.Rs;if(0===this.yk||0===t.yk)return ap(this,t);if(this.qp())return t.qp()?Bs.Rs:t.Np()?Bs.Ns:Bs.Cs;if(t.qp())return this.Np()?Bs.Cs:Bs.Ns;var n=w.min(this.yk,t.yk),i=this.Sk(n,dp.Xk).Ai,e=t.Sk(n,dp.Xk).Ai;return i.compare(e)},i.Cp=function(){return 0===this.yk?vp(this):new n(this.Ai.negate(),this.yk)},i.Em=function(t){if(0===this.yk||0===t.yk)return lp(this,t);if(this.qp())return t;if(t.qp())return this;var i=w.max(this.yk,t.yk),e=this.Sk(i,dp.Xk),r=t.Sk(i,dp.Xk);return new n(e.Ai.add(r.Ai),i)},i.fk=function(t){if(this.Pp()||m(t))return n.Pk;if(this.Bp()||!isFinite(t)){if(this.qp()||0===t)return n.Pk;var i=this.Np()?n.xk:n.Bk;return t<0?i.Cp():i}return this.qp()?this:new n(0===t?lt.ZERO:this.Ai.multiply(t),this.yk)},i._k=function(t){if(this.Pp()||m(t))return n.Pk;if(this.Bp())return isFinite(t)?0===t?1/t<0?this.Cp():this:t<0?this.Cp():this:n.Pk;if(!isFinite(t))return new n(lt.ZERO,this.yk);if(this.qp())return 0===t?n.Pk:new n(lt.ZERO,this.yk);if(0===t){var i=this.Np()?n.xk:n.Bk;return 1/t<0?i.Cp():i}return new n(this.Ai.divide(t),this.yk)},i.zk=function(){return[this.Ai.low,this.Ai.high,this.yk]},n}(op);function vp(t){return t.Pp()?t:t.Np()?fp.Bk:fp.xk}function lp(t,n){return t.Pp()||n.Pp()?fp.Pk:t.Bp()&&n.Bp()?t.Np()===n.Np()?t:fp.Pk:t.Bp()?t:n}fp.jp=new fp(lt.ZERO,1e6),fp.Pk=new fp(lt.ZERO,0),fp.Bk=new fp(lt.ONE,0),fp.xk=new fp(lt.NEG_ONE,0);var dp,_p=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ai=void 0,e.yk=void 0,e.Ai=BigInt.asIntN(64,n),e.yk=i>>>0,e}E(n,t),n.Dk=function(t,i){return void 0===i&&(i=1e6),n.Fp(t*i,i)},n.Fp=function(t,i){return m(t)?n.Pk:t===1/0?n.Bk:t===-1/0?n.xk:new n(BigInt(w.floor(t)),i)},n.Mp=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.Ok=function(t){return n.Dk(t.Ik,1e6)},n.Lk=function(t){return n.Fp(t.getTime(),1e3)},n.Ak=function(t,n){return t.Ap(n)?t:n},n.Tk=function(t,n){return t.Sp(n)?t:n},n.Mk=function(t,i,e){return n.Ak(i,n.Tk(e,t))};var i=n.prototype;return i.Np=function(){return this.Ai<BigInt(0)},i.qp=function(){return 0!==this.yk&&this.Ai===BigInt(0)},i.Bp=function(){return 0===this.yk&&this.Ai!==BigInt(0)},i.Pp=function(){return 0===this.yk&&this.Ai===BigInt(0)},i.pp=function(){if(0===this.yk)return this.Ai===BigInt(0)?NaN:this.Ai<BigInt(0)?-1/0:1/0;var t=this.Ai/BigInt(this.yk),n=this.Ai-t*BigInt(this.yk);return Number(t)+Number(n)/this.yk},i.Yp=function(){if(0===this.yk)throw new v("Failed to convert timestamp");return this.Vk()},i.Vk=function(){var t=this.Ai&BigInt(4294967295),n=this.Ai>>BigInt(32)&BigInt(4294967295);return lt.fromBits(Number(t),Number(n))},i.Fk=function(){return new Date(0===this.yk?NaN:Number(this.Sk(1e3).Ai))},i.Uk=function(){return new cp(0===this.yk?this.pp():Number(this.Ai),this.yk)},i.Sk=function(t,i){void 0===i&&(i=dp.jk);var e=this.yk;if(e===t)return this;if(0===e)return this;var r=Vt(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===dp.jk)return r<BigInt(0)?e-BigInt(1):e;if(i===dp.Hk)return r<BigInt(0)?e:e+BigInt(1);var s=r*BigInt(2);return s<BigInt(0)?-s<n?e:e-BigInt(1):s<n?e:e+BigInt(1)}(this.Ai*BigInt(t/r),BigInt(e/r),i),t)},i.bp=function(t){if(this===t)return Bs.Rs;if(0===this.yk||0===t.yk)return ap(this,t);if(this.qp())return t.qp()?Bs.Rs:t.Np()?Bs.Ns:Bs.Cs;if(t.qp())return this.Np()?Bs.Cs:Bs.Ns;var n=w.min(this.yk,t.yk),i=this.Sk(n,dp.Xk).Ai,e=t.Sk(n,dp.Xk).Ai;return i>e?Bs.Ns:i<e?Bs.Cs:Bs.Rs},i.Cp=function(){return 0===this.yk?wp(this):new n(-this.Ai,this.yk)},i.Em=function(t){if(0===this.yk||0===t.yk)return gp(this,t);if(this.qp())return t;if(t.qp())return this;var i=w.max(this.yk,t.yk),e=this.Sk(i,dp.Xk),r=t.Sk(i,dp.Xk);return new n(e.Ai+r.Ai,i)},i.fk=function(t){if(this.Pp()||m(t))return n.Pk;if(this.Bp()||!isFinite(t)){if(this.qp()||0===t)return n.Pk;var i=this.Np()?n.xk:n.Bk;return t<0?i.Cp():i}return this.qp()?this:new n(0===t?BigInt(0):this.Ai*BigInt(t),this.yk)},i._k=function(t){if(this.Pp()||m(t))return n.Pk;if(this.Bp())return isFinite(t)?0===t?1/t<0?this.Cp():this:t<0?this.Cp():this:n.Pk;if(!isFinite(t))return new n(BigInt(0),this.yk);if(this.qp())return 0===t?n.Pk:new n(BigInt(0),this.yk);if(0===t){var i=this.Np()?n.xk:n.Bk;return 1/t<0?i.Cp():i}return new n(this.Ai/BigInt(t),this.yk)},i.zk=function(){var t=this.Vk();return[t.low,t.high,this.yk]},T(n,null,[{key:"jp",get:function(){return n.qk||(n.qk=new n(BigInt(0),1e6)),n.qk}},{key:"Pk",get:function(){return n.Wk||(n.Wk=new n(BigInt(0),0)),n.Wk}},{key:"Bk",get:function(){return n.Gk||(n.Gk=new n(BigInt(1),0)),n.Gk}},{key:"xk",get:function(){return n.Yk||(n.Yk=new n(BigInt(-1),0)),n.Yk}}]),n}(op);function wp(t){return t.Pp()?t:t.Np()?_p.Bk:_p.xk}function gp(t,n){return t.Pp()||n.Pp()?_p.Pk:t.Bp()&&n.Bp()?t.Np()===n.Np()?t:_p.Pk:t.Bp()?t:n}_p.qk=void 0,_p.Wk=void 0,_p.Gk=void 0,_p.Yk=void 0,function(t){t[t.jk=0]="jk",t[t.Hk=1]="Hk",t[t.Xk=2]="Xk"}(dp||(dp={}));var yp=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?_p:fp;function mp(t,n){return t.bp(n)}function pp(t){return yp.Mp(lt.fromBits(t[0],t[1],!1),t[2])}var kp=9e4,bp=w.pow(2,33),Ap=yp.Fp(bp,kp),Tp=Ap._k(2);function Sp(t){return null!=t&&!t.Pp()}function Ep(t,n){return t.Bp()||n.Bp()?yp.Ak(t,n):Np(t,n).kp(yp.jp)?t:n}function Ip(t,n){var i=t.Dp(n);return i.Ip(yp.jp)&&(i=i.Em(Ap)),i}function Rp(t,n){var i=t.Em(n);return i.Ap(Ap)&&(i=i.Dp(Ap)),i}function Np(t,n){var i=t.Dp(n);return t.Bp()||n.Bp()?i:(i.Ap(Tp)?i=i.Dp(Ap):i.Ip(Tp.Cp())&&(i=i.Em(Ap)),i)}function Cp(t,n){if(t||n)return t?n?yp.Tk(t,n):t:n}function Dp(t,n){if(t||n)return t?n?yp.Ak(t,n):t:n}var Pp,Bp,xp,Op,Lp={$k:0,Qk:1/0,Kk:0},Mp=6,Fp=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],Up=[" ","\t","\n","\f","\r"],jp=/^\d*$/,Hp=/.*[0-9]+.*/,Xp=/^[\d.-]+$/,zp=/(^\.|\.$)/,Vp=/(\D\.|\.\D)/;function qp(t,n){return void 0===n&&(n=Lp),Wp(qo(Yo(t),new na),n)}function Wp(t,n){void 0===n&&(n=Lp);var i={Qw:[],Zk:[],Jk:[]},e=Gp(t),r=new na;if(rk(e),Yp(e,function(t){return"\n"!==t},r),r.Bu>=e.length)return i;(r.xu(1),"\n"!==e.charAt(r.Bu))?Zp($p(e,r,!1,!0,i,n),i):r.xu(1);for(Yp(e,function(t){return"\n"===t},r);r.Bu<e.length;){Zp($p(e,r,!1,!1,i,n),i),Yp(e,function(t){return"\n"===t},r)}return i}function Gp(t){var n=ms(t,"\0"," "),i=ms(n,"\r\n","\n");return ms(i,"\r","\n")}function Yp(t,n,i){for(var e=i.Bu;i.Bu<t.length&&n(t.charAt(i.Bu));)i.xu(1);return t.substring(e,i.Bu)}function $p(t,n,e,r,s,u){for(var o,a=0,h=n.Bu,c="",f=!1,v=!1,l=null,d=null,_=null;!f;)if(o=Yp(t,function(t){return"\n"!==t},n),a++,n.Bu>=t.length?f=!0:n.xu(1),ps(o,"--\x3e")){if(r||1!==a&&(2!==a||v)){n.Lu(h);break}v=!0,h=n.Bu,l=new tp(0,0,"",!1,c);try{Jp(o,s.Zk,l,u),c=""}catch(t){i.pr(t),l=null}}else{if(""===o)break;r&&ks(o,"X-TIMESTAMP-MAP")&&(s.ib=Qp(o)),r||2!==a||e||(As("STYLE",c.replace(/ /g,""))?(d={vs:xm.Fm},c=""):As("REGION",c.replace(/ /g,""))&&(_=new up("",100,3,0,100,0,100,""),c="")),c&&(c+="\n"),c+=o,h=n.Bu}if(l)return l.Wm=c,l;if(d);else if(_)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&ps(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var s=r.indexOf(":"),u=r.substring(0,s),o=r.substring(s+1,r.length);switch(u.toUpperCase()){case"ID":_k(o,n);break;case"WIDTH":yk(o,n);break;case"LINES":gk(o,n);break;case"REGIONANCHOR":var a=dk(o);a&&(n.lp=a[0],n.dp=a[1]);break;case"VIEWPORTANCHOR":var h=dk(o);h&&(n.wp=h[0],n.gp=h[1]);break;case"SCROLL":wk(o,n)}}}}(c,_),_;return null}function Qp(t){var n,i,e=t.split("=")[1].trim().split(","),r=Kp(e[0].trim(),"MPEGTS")?e[0]:e[1],s=Kp(e[0].trim(),"LOCAL")?e[0]:e[1];return{eb:(i=Number(r.split(/:(.*)/)[1].trim())||0,yp.Fp(i,kp)),sb:yp.Dk(null!=(n=ik(s.split(/:(.*)/)[1].trim(),new na))?n:0)}}function Kp(t,n){return ks(t,n)}function Zp(t,n){t&&function(t){return t.vs===xm.Lm}(t)?n.Qw.push(t):t&&function(t){return t.vs===xm.Mm}(t)?n.Zk.push(t):t&&function(t){return t.vs===xm.Fm}(t)&&n.Jk.push(t)}function Jp(t,n,i,e){var r=new na;if(sk(t,r),i.Vm=tk(ik(t,r),e),sk(t,r),"--\x3e"!==t.substring(r.Bu,r.Bu+3))throw v("Something went wrong with parsing a WebVTT Cue");r.xu(3),sk(t,r),i.qm=tk(ik(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var s=e[r];if(0!==s.length&&ps(s,":")&&":"!==s.charAt(0)&&":"!==s.charAt(s.length-1)){var u=s.indexOf(":"),o=s.substring(0,u),a=s.substring(u+1,s.length);switch(o.toUpperCase()){case"REGION":ck(a,n,i);break;case"VERTICAL":vk(a,n);break;case"D":lk(a,n);break;case"LINE":case"L":ak(a,n);break;case"POSITION":case"T":hk(a,n);break;case"SIZE":case"S":fk(a,n);break;case"ALIGN":case"A":ok(a,n)}}}}(t.substring(r.Bu,t.length),i,n)}function tk(t,n){return t+n.$k}function nk(t){return/^[0-9]$/.test(t)}function ik(t,n){var i,e,r,s=ms(t,",","."),u=!1;if(n.Bu>=s.length||!nk(s.charAt(n.Bu)))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var o=Yp(s,nk,n),a=g(o,10);if((o.length>2||a>59)&&(u=!0),n.Bu>=s.length||":"!==s.charAt(n.Bu))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.xu(1);var h=Yp(s,nk,n);if(2!==h.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var c=g(h,10);if(u||n.Bu<s.length&&":"===s.charAt(n.Bu)){if(n.Bu>=s.length||":"!==s.charAt(n.Bu))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.xu(1);var f=Yp(s,nk,n);if(2!==h.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");i=a,e=c,r=g(f,10)}else i=0,e=a,r=c;if(n.Bu>=s.length||"."!==s.charAt(n.Bu))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.xu(1);var l=Yp(s,nk,n),d=g(l,10);if(c>59||r>59)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+d/1e3}function ek(t){return rk(Gp(t))}function rk(t){if(t.length<Mp)return!1;for(var n=0;n<Fp.length;n++){if(ks(t,Fp[n]))return!0}return!1}function sk(t,n){for(;n.Bu<t.length&&(i=t.charAt(n.Bu),Ys(Up,i));)n.xu(1);var i}function uk(t){var n=t.lastIndexOf("%");if(n>-1){var i=y(t.substring(0,n));if(!m(i)&&i>=0&&i<=100)return i}return null}function ok(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.Gm=i;break;case"middle":n.Gm="center"}}function ak(t,n){var i,e,r=t.indexOf(",");if(r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e=""),Hp.test(i)){var s,u;if(bs(i,"%")){var o=uk(i);if(null===o)return;s=o,u=!1}else{if(!Xp.test(i)||i.lastIndexOf("-")>0)return;var a=i.indexOf(".");if(a>=0&&(a!==i.lastIndexOf(".")||!Vp.test(i)||zp.test(i)))return;if(s=y(i),m(s))return;u=!0}switch(n.Ym=s,n.Jm=u,e=e.toLowerCase()){case"start":case"center":case"end":n.$m=e;break;case"middle":n.$m="center"}}}function hk(t,n){var i,e,r=t.indexOf(",");r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e="");var s=uk(i);if(null!==s)switch(n.Qm=s,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.Km=e;break;case"start":n.Km="line-left";break;case"middle":n.Km="center";break;case"end":n.Km="line-right"}}function ck(t,n,i){var e=Vs(i,function(n){return n.xw===t});void 0!==e&&(n.Zm=e)}function fk(t,n){var i=uk(t);null!==i&&(n.Pu=i)}function vk(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.tp="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.tp="lr";break;default:n.tp=""}}function lk(t,n){"VERTICAL"===t.toUpperCase()?n.tp="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.tp="lr")}function dk(t){if(t.indexOf(",")>=0){var n=uk(t.substring(0,t.indexOf(","))),i=uk(t.substring(t.indexOf(",")+1,t.length));return[Ut(n||0,0,100),Ut(i||100,0,100)]}return null}function _k(t,n){n.xw=t}function wk(t,n){"up"===t.toLowerCase()&&(n._p="up")}function gk(t,n){jp.test(t)&&(n.vp=g(t))}function yk(t,n){var i=uk(t);null!==i&&(n.yp=i)}!function(t){t.ub="moov",t.ob="mvhd",t.hb="trak",t.cb="tkhd",t.fb="mdia",t.vb="mdhd",t._b="hdlr",t.wb="minf",t.gb="stbl",t.yb="stsd",t.mb="stsc",t.pb="mvex",t.kb="trex",t.bb="avc1",t.Ab="avcC",t.Tb="hev1",t.Sb="hvc1",t.Eb="hvcC",t.Ib="pasp",t.Rb="mp4a",t.Nb="esds",t.Cb="wvtt",t.Db="vttC",t.Pb="vlab",t.Bb="enca",t.xb="encv",t.Ob="moof",t.Lb="mfhd",t.Mb="traf",t.Fb="tfhd",t.Ub="trun",t.jb="tfdt",t.Hb="senc",t.Xb="mdat",t.zb="pssh",t.Vb="emsg",t.qb="sidx",t.Wb="styp",t.Gb="ftyp",t.Yb="sinf",t.$b="frma"}(Pp||(Pp={})),function(t){t.wd="vide",t._d="soun",t.Qb="subt",t.Kb="hint",t.Zb="meta",t.Jb="auxv"}(Bp||(Bp={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(xp||(xp={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(Op||(Op={}));var mk=function(){function t(t,n){this.Hi=void 0,this.tA=void 0,this.Hi=t,this.tA=n}var n=t.prototype;return n.nA=function(){return lo(this.Hi,this.tA)},n.iA=function(){return po(this.Hi,this.tA)},n.eA=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.Bu,i);return n.xu(2),e}(this.Hi,this.tA)},n.rA=function(){return bo(this.Hi,this.tA)},n.sA=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.Bu,i);return n.xu(4),e}(this.Hi,this.tA)},n.uA=function(){return To(this.Hi,this.tA)},n.oA=function(t){return wo(this.Hi,this.tA,t)},n.aA=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(bo(t,n));return e}(this.Hi,this.tA,t)},n.hA=function(t){return Io(this.Hi,this.tA,t)},n.cA=function(){return Xo(this.Hi,this.tA)},n.fA=function(t){this.tA.xu(t)},n.Mu=function(){return new t(this.Hi,this.tA.Mu())},t}();function pk(t,n){return t.vs===n}function kk(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(pk(e,n))return e}}var bk=function(t){function n(n,i){var e;return(e=t.call(this)||this).vA=n,e.lA=i,e}return E(n,t),T(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(rn),Ak=function(){function t(){}return t.dA=function(n){var i=n.Hi,e=n.tA,r=t._A(i,e,!1);if(!r.wA)throw new bk(e.Bu,r.Pi);return r.Pi},t._A=function(n,i,e){for(var r=[];i.Bu<n.byteLength;){var s=t.gA(n,i,e);if(!s.wA)return{wA:!1,Pi:r};r.push(s.yA)}return{wA:!0,Pi:r}},t.mA=function(n,i){var e=t.gA(n,i,!1);if(!e.wA)throw new bk(i.Bu);return e.yA},t.pA=function(n,i){for(var e=n.Hi,r=n.tA;r.Bu<e.byteLength;){var s=t.gA(e,r,!1);if(!s.wA)return;if(s.yA.vs===i)return s.yA}},t.gA=function(n,i,e){var r=i.Bu,s=t.kA(n,i);if(!s.wA)return s;var u=s.bA,o=u.Pu;if(0===o){if(e)return i.Lu(r),{wA:!1,AA:1/0};o=n.byteLength-r}var a=r+o;if(a>n.byteLength){var h=a;return i.Lu(r),{wA:!1,AA:h}}var c={vs:u.vs,Bu:r,Hi:new mk(Go(n,r,a),new na(u.TA))};return i.Lu(a),{wA:!0,yA:c}},t.kA=function(t,n){var i=n.Bu;if(!yo(t,n,8))return{wA:!1,AA:n.Bu+8};var e=bo(t,n),r=Io(t,n,4);if(1===e){if(!yo(t,n,8)){var s=n.Bu+8;return n.Lu(i),{wA:!1,AA:s}}e=To(t,n).toNumber()}if("uuid"===r){if(!yo(t,n,16)){var u=n.Bu+16;return n.Lu(i),{wA:!1,AA:u}}r=Io(t,n,16)}return{wA:!0,bA:{vs:r,Pu:e,TA:n.Bu-i}}},t.SA=function(t,n,i){var e=t.Hi,r=t.tA,s=Wo($o(e),r.Bu,e.byteLength);return i&&(s=Jo(s)),r.xu(s.byteLength),{vs:n,Hi:s}},t.EA=function(n,i,e){var r=Ik(n.rA());return{vs:i,IA:r.version,RA:r.flags,Hi:t.SA(n,i,e).Hi}},t}();function Tk(t,n){var i=Sk(t,n);if(!i)throw new v("Missing "+n+" atom");return i}function Sk(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.vs===n)return e.Hi}}function Ek(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.vs===n&&i.push(r.Hi)}return i}function Ik(t){return{version:t>>24,flags:new co(16777215&t)}}var Rk=function(){function t(){}return t.NA=function(n){for(var i=[],e=Ak.dA(new mk(n,new na)),r=0;r<e.length;r++){var s=e[r],u=t.CA(s);u&&i.push(u)}return i},t.DA=function(t){return Ak._A(t,new na,!1).Pi.some(this.PA)},t.BA=function(n){return Ek(Ak.dA(new mk(n,new na)),Pp.zb).map(t.xA)},t.OA=function(n){return Ek(Ak.dA(n.Hi),Pp.zb).map(t.xA)},t.PA=function(t){return t.vs===Pp.Gb||t.vs===Pp.Wb||t.vs===Pp.ub||t.vs===Pp.Ob||t.vs===Pp.Xb||t.vs===Pp.qb||t.vs===Pp.Vb},t.CA=function(n){switch(n.vs){case Pp.ub:return t.LA(n.Hi);case Pp.Ob:return t.MA(n.Hi,n.Bu);case Pp.Xb:return t.FA(n.Hi);case Pp.qb:return t.UA(n.Hi);case Pp.Vb:return t.jA(n.Hi)}},t.LA=function(n){var i=Ak.dA(n),e=Tk(i,Pp.ob),r=Ek(i,Pp.hb),s=Sk(i,Pp.pb),u=t.HA(e),o=r.map(t.XA),a=s?t.zA(s):void 0;return{vs:Pp.ub,bA:u,VA:o,qA:a}},t.HA=function(t){var n=Ik(t.rA()),i=n.version,e=n.flags,r=1===i?t.uA():t.rA(),s=1===i?t.uA():t.rA(),u=t.rA(),o=1===i?t.uA():t.rA(),a=t.rA(),h=t.iA()>>8;t.fA(2),t.fA(8);var c=t.aA(9);t.fA(24);var f=t.rA();return{vs:Pp.ob,IA:i,RA:e,WA:r,GA:s,yk:u,Hg:o,YA:a,Qg:h,$A:c,QA:f}},t.XA=function(n){var i=Ak.dA(n),e=Tk(i,Pp.cb),r=Tk(i,Pp.fb),s=t.KA(e),u=t.ZA(r);return{vs:Pp.hb,bA:s,JA:u}},t.KA=function(t){var n=Ik(t.rA()),i=n.version,e=n.flags,r=1===i?t.uA():t.rA(),s=1===i?t.uA():t.rA(),u=t.rA();t.fA(4);var o=1===i?t.uA():t.rA();t.fA(8);var a=t.eA(),h=t.eA(),c=t.eA()/w.pow(2,8);t.fA(2);var f=t.aA(9),v=t.rA()/w.pow(2,16),l=t.rA()/w.pow(2,16);return{vs:Pp.cb,tT:e.Uu(1),nT:e.Uu(2),iT:e.Uu(4),WA:r,GA:s,eT:u,Hg:o,rT:a,sT:h,Qg:c,$A:f,yp:v,uT:l}},t.ZA=function(n){var i=Ak.dA(n),e=Tk(i,Pp.vb),r=Tk(i,Pp._b),s=Tk(i,Pp.wb),u=t.oT(e),o=t.aT(r),a=t.hT(s);return{vs:Pp.fb,bA:u,cT:o,fT:a}},t.oT=function(t){var n=Ik(t.rA()),i=n.version,e=n.flags,r=1===i?t.uA():t.rA(),s=1===i?t.uA():t.rA(),u=t.rA(),o=1===i?t.uA():t.rA();return t.iA(),t.fA(2),{vs:Pp.vb,IA:i,RA:e,WA:r,GA:s,yk:u,Hg:o}},t.aT=function(t){var n=Ik(t.rA()),i=n.version,e=n.flags;t.fA(4);var r=t.hA(4);t.fA(12);var s=t.cA();return{vs:Pp._b,IA:i,RA:e,vT:r,_i:s}},t.hT=function(n){var i=Tk(Ak.dA(n),Pp.gb),e=t.lT(i);return{vs:Pp.wb,dT:e}},t.lT=function(n){var i=Tk(Ak.dA(n),Pp.yb),e=t._T(i);return{vs:Pp.gb,wT:e}},t._T=function(n){var i=Ik(n.rA()),e=i.version,r=i.flags;n.rA();for(var s=[],u=Ak.dA(n),o=0;o<u.length;o++){var a=u[o],h=t.gT(a.Hi,a.vs);h&&s.push(h)}return{vs:Pp.yb,IA:e,RA:r,yT:s}},t.gT=function(n,i){var e=t.mT(n,i);return e||((e=t.pT(n,i))||(i===Pp.Cb?t.kT(n):void 0))},t.mT=function(n,i){return i===Pp.Rb?t.bT(n):i===Pp.Bb?t.AT(n):void 0},t.pT=function(n,i){return i===Pp.bb?t.TT(n):i===Pp.Tb||i===Pp.Sb?t.ST(n,i):i===Pp.xb?t.ET(n):void 0},t.IT=function(t,n){return t.fA(6),{vs:n,RT:t.iA()}},t.NT=function(n,i){var e=t.IT(n,i);n.fA(8);var r=n.iA(),s=n.iA();return n.fA(2),n.fA(2),Fr({},e,{CT:r,DT:s,PT:n.rA()>>>16})},t.BT=function(n,i){var e=t.IT(n,i);n.fA(2),n.fA(2),n.fA(12);var r=n.iA(),s=n.iA(),u=n.rA(),o=n.rA();n.fA(4);var a=n.iA();n.fA(32);var h=n.iA();return n.fA(2),Fr({},e,{yp:r,uT:s,xT:u,OT:o,LT:a,MT:h})},t.bT=function(n){var i=t.NT(n,Pp.Rb),e=Tk(Ak.dA(n),Pp.Nb);return Fr({},i,{FT:t.UT(e)})},t.kT=function(n){var i=t.IT(n,Pp.Cb),e=Ak.dA(n),r=Tk(e,Pp.Db),s=t.jT(r),u=Sk(e,Pp.Pb);return Fr({},i,{HT:s,XT:u?t.zT(u):u})},t.jT=function(t){return{vs:Pp.Db,uc:t.cA()}},t.zT=function(t){return{vs:Pp.Pb,Mw:t.cA()}},t.UT=function(t){return Ak.EA(t,Pp.Nb,!0)},t.TT=function(n){var i=t.BT(n,Pp.bb),e=Ak.dA(n),r=Tk(e,Pp.Ab),s=Sk(e,Pp.Ib);return Fr({},i,{VT:t.qT(r),WT:s?t.GT(s):void 0})},t.ST=function(n,i){var e=t.BT(n,i),r=Tk(Ak.dA(n),Pp.Eb);return Fr({},e,{YT:t.$T(r)})},t.ET=function(n){var i=n.Mu(),e=t.BT(n,Pp.xb),r=Tk(Ak.dA(n),Pp.Yb),s=t.QT(r);return Fr({},e,{KT:t.pT(i,s.JT.ZT),tS:s})},t.AT=function(n){var i=n.Mu(),e=t.NT(n,Pp.Bb),r=Tk(Ak.dA(n),Pp.Yb),s=t.QT(r);return Fr({},e,{KT:t.mT(i,s.JT.ZT),tS:s})},t.QT=function(n){var i=Tk(Ak.dA(n),Pp.$b),e=t.nS(i);return{vs:Pp.Yb,JT:e}},t.nS=function(t){var n=t.hA(4);return{vs:Pp.$b,ZT:n}},t.qT=function(t){return Ak.SA(t,Pp.Ab,!0)},t.$T=function(t){return Ak.SA(t,Pp.Eb,!0)},t.GT=function(t){var n=t.rA(),i=t.rA();return{vs:Pp.Ib,iS:n,eS:i}},t.zA=function(n){var i=Ek(Ak.dA(n),Pp.kb).map(t.rS);return{vs:Pp.pb,VA:i}},t.rS=function(t){var n=Ik(t.rA()),i=n.version,e=n.flags,r=t.rA(),s=t.rA(),u=t.rA(),o=t.rA(),a=t.rA();return{vs:Pp.kb,IA:i,RA:e,eT:r,sS:s,uS:u,oS:o,aS:a}},t.MA=function(n,i){var e=Ak.dA(n),r=Tk(e,Pp.Lb),s=Ek(e,Pp.Mb),u=t.hS(r),o=s.map(t.cS);return{vs:Pp.Ob,fS:i,bA:u,VA:o}},t.hS=function(t){var n=Ik(t.rA()),i=n.version,e=n.flags,r=t.rA();return{vs:Pp.Lb,IA:i,RA:e,vS:r}},t.cS=function(n){var i=Ak.dA(n),e=Tk(i,Pp.Fb),r=Ek(i,Pp.Ub),s=Sk(i,Pp.jb),u=t.lS(e),o=r.map(function(n){return t.dS(n,u)}),a=s?t._S(s):void 0;return{vs:Pp.Mb,bA:u,wS:o,gS:a}},t.lS=function(t){var n=Ik(t.rA()),i=n.version,e=n.flags,r=t.rA(),s=e.Uu(xp.BASE_DATA_OFFSET_PRESENT)?t.uA():void 0,u=e.Uu(xp.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.rA():void 0,o=e.Uu(xp.DEFAULT_SAMPLE_DURATION_PRESENT)?t.rA():void 0,a=e.Uu(xp.DEFAULT_SAMPLE_SIZE_PRESENT)?t.rA():void 0,h=e.Uu(xp.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.rA():void 0;return{vs:Pp.Fb,IA:i,RA:e,eT:r,yS:s,mS:u,uS:o,oS:a,aS:h}},t.dS=function(n,i){for(var e=Ik(n.rA()),r=e.version,s=e.flags,u=n.rA(),o=s.Uu(Op.DATA_OFFSET_PRESENT)?n.sA():void 0,a=s.Uu(Op.FIRST_SAMPLE_FLAGS_PRESENT)?n.rA():void 0,h=[],c=0;c<u;c++){var f=t.pS(n,s,r,i);0===c&&void 0!==a&&(f.RA=a),h.push(f)}return{vs:Pp.Ub,IA:r,RA:s,kS:u,fS:o,bS:a,AS:h}},t.pS=function(t,n,i,e){return{Hg:n.Uu(Op.SAMPLE_DURATION_PRESENT)?t.rA():e.uS,Pu:n.Uu(Op.SAMPLE_SIZE_PRESENT)?t.rA():e.oS,RA:n.Uu(Op.SAMPLE_FLAGS_PRESENT)?t.rA():e.aS,TS:n.Uu(Op.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.rA():t.sA():void 0}},t.jA=function(t){var n=t.Hi,i=t.tA,e=Ik(bo(n,i)),r=e.version,s=e.flags;if(1===r){var u=bo(n,i),o=To(n,i),a=bo(n,i),h=bo(n,i),c=Eo(n,i),f=Eo(n,i),v=Zo($o(n),i.Bu,n.byteLength);return i.xu(v.byteLength),{vs:Pp.Vb,IA:r,RA:s,SS:c,Ai:f,yk:u,ES:o,IS:a,xw:h,RS:v}}var l=Eo(n,i),d=Eo(n,i),_=bo(n,i),w=bo(n,i),g=bo(n,i),y=bo(n,i),m=Zo($o(n),i.Bu,n.byteLength);return i.xu(m.byteLength),{vs:Pp.Vb,RA:s,IA:r,SS:l,Ai:d,yk:_,NS:w,IS:g,xw:y,RS:m}},t.FA=function(t){return Ak.SA(t,Pp.Xb,!1)},t.xA=function(n){var i=n.Hi,e=n.tA,r=Jo($o(i)).buffer,s=Ik(bo(i,e)),u=s.version,o=s.flags,a=t.CS(i,e),h=[];if(u>0)for(var c=bo(i,e),f=0;f<c;f++){var v=wo(i,e,16);h.push(v)}var l=bo(i,e),d=new p(r,e.Bu,l);return e.xu(i.byteLength),{vs:Pp.zb,IA:u,RA:o,DS:a,PS:h,xS:l,Hi:d,OS:r}},t.CS=function(t,n){for(var i="",e=0;e<4;e++){var r=lo(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var s=0;s<2;s++){var u=lo(t,n).toString(16);i+=1===u.length?"0"+u:u}i+="-";for(var o=0;o<2;o++){var a=lo(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var h=0;h<2;h++){var c=lo(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var f=0;f<6;f++){var v=lo(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.UA=function(t){var n,i,e=t.Hi,r=t.tA,s=Ik(bo(e,r)),u=s.version,o=s.flags,a=bo(e,r),h=bo(e,r);0===u?(n=lt.fromBits(bo(e,r),0,!0),i=lt.fromBits(bo(e,r),0,!0)):(n=To(e,r),i=To(e,r)),r.xu(2);for(var c=po(e,r),f=[],v=0;v<c;v+=1){var l=bo(e,r),d=l>>31&1,_=2147483647&l,w=bo(e,r),g=bo(e,r),y=g>>31&1,m=g>>28&7,p=268435455&g;f.push({LS:d,MS:_,Hg:w,FS:y,US:m,jS:p})}return{vs:Pp.qb,IA:u,RA:o,HS:a,yk:h,XS:n,zS:i,VS:c,qS:f}},t._S=function(t){var n,i=t.Hi,e=t.tA,r=Ik(bo(i,e)),s=r.version,u=r.flags;return n=0===s?lt.fromBits(bo(i,e),0,!0):To(i,e),{vs:Pp.jb,IA:s,RA:u,gS:n}},t}();function Nk(t){return t&&"Di"in t?t.Di:t}var Ck=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this,n,i,e,r)||this).WS=void 0,a.GS=void 0,a.YS=void 0,a.WS=s,a.GS=u,a.YS=o||void 0,a}return E(n,t),n.prototype.hp=function(n){return this===n||!!Ag(this,n)&&(!!t.prototype.hp.call(this,n)&&(!!bg(this.$S,n.$S)&&(!!bg(this.Zk,n.Zk)&&(this.QS&&n.QS?!!this.QS.ai(n.QS)&&(this.Wm&&n.Wm?this.Wm.ai(n.Wm):this.Wm===n.Wm):this.QS===n.QS))))},T(n,[{key:"$S",get:function(){return this.WS}},{key:"Zk",get:function(){return this.GS}},{key:"QS",get:function(){return this.YS}},{key:"X_",get:function(){var t;return this.H_||(this.H_=pg(qm(t=this),{get styles(){return t.$S},get regions(){return t.Zk},get metadata(){return Nk(t.QS)},get content(){return Nk(t.Wm)}})),this.H_}}]),n}(Zm),Dk=function(){function t(t,n,i){this.ol=void 0,this.KS=void 0,this.ZS=void 0,this.KS=t,this.ZS=n,Jt(i)?this.ol=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var s=r[e];i.Oi(s)}return i}(0,0,i):this.ol=i}return T(t,[{key:"JS",get:function(){return this.ol.ci(!0)}},{key:"Vm",get:function(){return this.KS}},{key:"qm",get:function(){return this.ZS}}]),t}();var Pk="http://www.w3.org/XML/1998/namespace";function Bk(t,n,i,e){var r=t.Ni(i,n);return 0===r.length&&(r=t.Ei(e+":"+n)),r}function xk(t,n){return function(t,n){var i=t.Pi.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.Pi)}return e}(t,function(t){return t.Ri===n})}function Ok(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function Lk(t,n){for(var i=t.Ui,e={},r=0;r<i.length;r++)e[Ok(i[r]._i,n)]=i[r].Ai;return e}var Mk=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,Fk=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Uk="http://www.w3.org/ns/ttml";function jk(t,n,i,e){void 0===i&&(i=Lp),void 0===e&&(e=Xc.APPLICATION_TTML_XML);var r=[],s=Yo(t);return e===Xc.APPLICATION_MP4?r=function(t,n,i){var e=kk(Rk.NA(t),Pp.Xb);if(!e)return[];return zk(Yo(e.Hi),n,i)}(s,n,i):e===Xc.APPLICATION_TTML_XML&&(r=zk(s,n,i)),r}function Hk(t,n,i){return void 0===i&&(i=Lp),Vk(t,n,i)}function Xk(t,n){for(var i=function t(n){var i=[];var e;if(Jt(n)){(e=n.Bi("region"))&&i.push(e);for(var r=n.Ii,s=0;s<r.length;s++)i=i.concat(t(r[s]))}return i}(n.JS),e={},r=0;r<i.length;r++){var s=i[r];e[s]=t[s]}return e}function zk(t,n,i){return Vk(qo(t,new na),n,i)}function Vk(t,n,e){var r,s=[];try{r=i.ui(t)}catch(t){return s}var u=r.Xi;if("tt"!==u.di)return s;var o=u&&u.Ni(Uk,"head")[0],a=u&&u.Ni(Uk,"body")[0],h=["ebutts","tts","xml"];if(!a||!o)return s;for(var c=function(t,n){for(var i={},e=t.Ni(Uk,"styling")[0],r=e&&e.Ni(Uk,"style")||[],s=0;s<r.length;s++){var u=r[s],o=u.xi(Pk,"id");i[o]=Lk(u,n)}return i}(o,h),f=function(t,n){var i=kg(t),e=Gk(n.Bi("tts:extent"));if(!e)return i;for(var r=0,s=_.keys(i);r<s.length;r++){var u=s[r],o=Gk(i[u].extent);if(o){var a=qk(o[0],e[0]),h=qk(o[1],e[1]);i[u].extent=a+" "+h}var c=Gk(i[u].origin);if(c){var f=qk(c[0],e[0]),v=qk(c[1],e[1]);i[u].origin=f+" "+v}}return i}(function(t,n){for(var i={},e=t.Ni(Uk,"layout")[0],r=e&&e.Ni(Uk,"region")||[],s=0;s<r.length;s++){var u=r[s],o=u.xi(Pk,"id");if(o){i[o]=Lk(u,n);var a=Qk(u,n);for(var h in a)U.call(a,h)&&(i[o][h]=a[h])}}return i}(o,h),u),v=o.Ni(Uk,"metadata")[0],l=function t(n,i,e,r){var s=i;var u;var o=e;var a=[];var h=[];if(Jt(n)){var c,f;s=null!=(c=$k(n.Bi("begin"),r))?c:s,u=$k(n.Bi("dur"),0),o=null!=(f=$k(n.Bi("end"),r))?f:void 0!==u?s+u:o;for(var v=n.Ii,l=0;l<v.length;l++)("body"===n.di||"div"===n.di)&&v[l].Kn>1||(a=a.concat(t(v[l],s,o,r)))}var d=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var s=i[r];e.push(s.Vm,s.qm)}e.sort(js);for(var u=e.length,o=0;o<u-1;o++)e[o+1]===e[o]&&(Gs(e,o+1),o--,u=e.length);return e}(s,o,a);for(var _=0;_<d.length-1;_++){var w=Yk(d[_],d[_+1],a);if(w.length<=0&&Kk(n)){var g=n.ci(!1);h.push(new Dk(d[_],d[_+1],g))}else w.length>0&&function(){var t=n.ci(!1);w.forEach(function(n){return t.Ci(n.JS)}),h.push(new Dk(d[_],d[_+1],t))}()}return h}(a,e.$k,e.Qk,e.Kk),d=0;d<l.length;d++){var w=l[d],g=Xk(f,w);s.push(new Ck(w.Vm,w.qm,w.JS,!1,c,g,v))}return s}function qk(t,n){var i=Wk(t),e=Wk(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),s=Number(n.slice(0,-e.length));return m(r)||m(s)?t:r/s*100+"%"}return t}function Wk(t){return bs(t,"px")?"px":bs(t,"em")?"em":bs(t,"c")?"c":bs(t,"%")?"%":void 0}function Gk(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function Yk(t,n,i){for(var e=[],r=0;r<i.length;r++){var s=i[r].Vm,u=i[r].qm;(s>=t&&u<=n||s<n&&u>=n||s<t&&u>t)&&e.push(i[r])}return e}function $k(t,n){if(t){if(Mk.test(t)){var i=Mk.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,s=Number(i[3])||0,u=i[6];return 3600*e+60*r+s+(u?Number(u)*w.pow(.1,u.length):0)+n}if(Fk.test(t)){var o=Fk.exec(t);if(!o)return;var a,h=Number(o[1]);switch(o[4]){case"h":a=3600*h;break;case"m":a=60*h;break;case"s":a=h;break;case"ms":a=.001*h;break;case"f":case"t":default:a=NaN}return a+n}}}function Qk(t,n){for(var i={},e=t.Ei("style")||[],r=0;r<e.length;r++){var s=Lk(e[r],n);for(var u in s)U.call(s,u)&&(i[u]=s[u])}return i}function Kk(t){if(Jt(t)){var n=t.di.toUpperCase(),i=Boolean(t.Bi("smpte:backgroundImage"));return"BR"===n||i}return t.Kn===$t.Jn}function Zk(t){var n=function(t){try{return i.ui(t).Xi}catch(t){}}(t);return"tt"===(null==n?void 0:n.di)}var Jk,tb=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.yw=function(n){return t.prototype.yw.call(this,n)},i.mw=function(n){var i=t.prototype.mw.call(this,n);return i&&(n.Ww=Fg.Hw),i},i.z_=function(){return qg(this)},n}(dg);!function(t){t.Qb="subtitles",t.tE="captions",t.nE="descriptions",t.iE="chapters",t.Zb="metadata",t.eE="thumbnails"}(Jk||(Jk={}));var nb=[Jk.Qb,Jk.tE,Jk.nE,Jk.iE,Jk.Zb,Jk.eE];function ib(t){return"string"==typeof t&&Ys(nb,t)}function eb(t){var n=String(t||"").toLowerCase();return ib(n)?n:n?Jk.Zb:Jk.Qb}var rb,sb=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,s)||this).url=void 0,u.status=void 0,u.url=e,u.status=r,u}return E(n,t),n}(lf);function ub(t){return t instanceof T_}function ob(t){return t instanceof E_}function ab(t){return t.some(hb)}function hb(t){return ps(t,rb.rE)}function cb(t){return t.some(fb)}function fb(t){return ps(t,rb.sE)||ps(t,rb.Cb)}function vb(t,n){return zc(t)&&cb(n)}function lb(t,n){return t===Jk.eE||t===Jk.Zb&&n===Jk.eE}function db(t,n,i,e){for(var r=0,s=t.Qw.Aw;r<s.length;r++){var u=s[r];if(u.Vm>i)break;n<=u.qm&&e.push(u)}}function _b(t,n){return Us(t.Ow,n.Ow)}function wb(t,i){var e=i,r=0;if(ub(t)&&t.name===p_.xd)e=t.$l.Kl;else if(ob(t)){var s=t.Ud;if(e=s.Ql,0===(r=s.Vl))return new sb(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new sb(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function gb(t,i,e,r){var s=function(t){switch(t){case Bm.WEBVTT:return"WebVTT";case Bm.SRT:return"SRT";case Bm.TTML:return"TTML";default:return""}}(t);return new sb(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(s?s+" ":"")+"subtitle file.",i,e,r)}function yb(t){return ek(t)?Bm.WEBVTT:Zk(t)?Bm.TTML:Bm.SRT}function mb(t,n){for(var i=[],e=0,r=t.Qw.Aw;e<r.length;e++){var s=r[e];if(s.qm<=n)i.push(s);else if(s.Vm>=n)break}for(var u=0;u<i.length;u++){var o=i[u];t.uE(o)}}!function(t){t.sE="vtt",t.Cb="wvtt",t.rE="stpp"}(rb||(rb={}));var pb=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).VA=new tb,n.oE=function(t){var i=t.V_;n.aE(i)},n}E(n,t);var i=n.prototype;return i.yw=function(t){t.Ks(og.ew,this.oE),this.VA.yw(t),this.aE(t)},i.mw=function(t){t.nu(og.ew,this.oE),t.Ww=Fg.Hw,this.VA.mw(t)},i.hE=function(t){},i.cE=function(t){},i.aE=function(t){t.Ww!==Fg.Hw?this.hE(t):this.cE(t)},i.fE=function(){for(var t=0,n=this.VA.Aw;t<n.length;t++){var i=n[t];i.nu(og.ew,this.oE),i.Ed()}},i.vE=function(t){if(t>0)for(var n=0,i=this.VA.Aw;n<i.length;n++){mb(i[n],t)}},i.bw=function(){return this.fE(),this.VA.bw(),Ye.resolve()},i.Ed=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.tu(),t.next=3,Mr.awrap(this.bw());case 3:this.VA.Ed();case 4:case"end":return t.stop()}},null,this,null,Ye)},n}(Tu),kb=function(t){function n(n){var i;return(i=t.call(this,Ug.Vw)||this).errorObject=n,i}return E(n,t),n.prototype.z_=function(){return this},T(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(sg),bb=function(t){function n(n,i){var e;return(e=t.call(this)||this).lE=void 0,e.dE=void 0,e._E=new uu,e.lE=n,e.dE=i,e}E(n,t);var i=n.prototype;return i.wE=function(t){if(t.src){var n=t.kind||Jk.Qb,i=this.lE.gE(n,t.id,t.label,t.srclang,t.default);return i.Zw=m_(t.src),this.yw(i),i}},i.yE=function(t,n){var i,e,r,s,u,o,a,h,c,f;return Mr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return t.$w=Pm.LOADING,i=new __({Kl:t.Zw,Wl:xf.Jn,md:c_.GET,qs:n}),v.prev=2,v.next=5,Mr.awrap(this.dE.$l(i));case 5:return s=v.sent,r=s.Vl,v.next=9,Mr.awrap(s.Rl());case 9:e=v.sent,v.next=18;break;case 12:return v.prev=12,v.t0=v.catch(2),cu(v.t0),t.$w=Pm.ERROR,t.Qs(new kb(wb(v.t0,t.Zw))),v.abrupt("return");case 18:for(v.prev=18,u=yb(e),t.vs=u,o=[],u===Bm.WEBVTT||u===Bm.SRT?(a=Wp(e),o=a.Qw):u===Bm.TTML&&(o=Hk(e,t)),h=0,c=o;h<c.length;h++)f=c[h],t.mE(f);v.next=32;break;case 26:return v.prev=26,v.t1=v.catch(18),cu(v.t1),t.$w=Pm.ERROR,t.Qs(new kb(gb(t.vs,t.Zw,r,v.t1))),v.abrupt("return");case 32:t.$w=Pm.LOADED;case 33:case"end":return v.stop()}},null,this,[[2,12],[18,26]],Ye)},i.hE=function(t){Ys(this.VA.Aw,t)&&t.$w===Pm.NONE&&this.yE(t,this._E.qs).catch(fu)},i.$h=function(){},i.bw=function(){var n,i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this._E.Xs(),this._E=new uu,n=0,i=this.VA.Aw;n<i.length;n++)e=i[n],this.lE.pE(e);return r.next=5,Mr.awrap(t.prototype.bw.call(this));case 5:case"end":return r.stop()}},null,this,null,Ye)},n}(pb);function Ab(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.Lw===n&&e.kE)return e}}function Tb(t,n){Sb(Ab(t.Aw,n))}function Sb(t){void 0!==t&&(t.Ww=Fg.zw)}function Eb(t,n){Sb(Ab(t.Aw,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.Lw===n)return e}}(t.Aw,n))}function Ib(t){for(var n=0;n<nb.length;n++){var i=nb[n];i===Jk.iE?Eb(t,i):Tb(t,i)}}var Rb,Nb=function(t){function n(){return t.call(this,Bf.Pf)||this}return E(n,t),n}(Eu);!function(t){t[t.bE=0]="bE",t[t.AE=1]="AE"}(Rb||(Rb={}));var Cb=t,Db=Cb.MediaSource,Pb=Cb.WebKitMediaSource,Bb=Cb.TextTrack,xb=s&&s.createElement("video");s&&s.documentElement.style;var Ob=F.qt&&F.xn&&F.On<=26;F.vn;var Lb=!!k,Mb=!(!Db&&!Pb),Fb=!!Bb;s&&(s.fullscreenEnabled||s.webkitFullscreenEnabled||s.mozFullScreenEnabled||s.msFullscreenEnabled)||F.un,F.Cn&&F.Dn;var Ub=xb&&xb.canPlayType&&(""!==xb.canPlayType("application/vnd.apple.mpegURL")||F.Yt&&!F.Cn&&F.$t>=4),jb=xb&&xb.canPlayType&&""!==xb.canPlayType("video/mp4")&&!Ob,Hb=Mb&&!F.Pn&&!F.In&&!F.En&&((Db||Pb).isTypeSupported?(Db||Pb).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):xb&&xb.canPlayType&&""!==xb.canPlayType('audio/mp4; codecs="mp4a.40.34"')),Xb=Mb&&!F.Pn&&(Hb||((Db||Pb).isTypeSupported?(Db||Pb).isTypeSupported("audio/mpeg"):xb&&xb.canPlayType&&""!==xb.canPlayType("audio/mpeg"))),zb=Mb&&!(F.Nn&&F.qt)&&((Db||Pb).isTypeSupported?(Db||Pb).isTypeSupported('video/mp4; codecs="avc1.4d401e"'):jb);F.Pn||F.In||F.En;var Vb=F.Rn,qb=Vb&&!1,Wb=!F.Pn,Gb=F.In&&F.Wt&&F.Gt<=6.1,Yb=xb&&"onresize"in xb;try{r&&r.top!==r.self}catch(t){!0}var $b=.001,Qb=1e4,Kb=3,Zb=function(t){function n(n){var i;return(i=t.call(this,Ty.Fg)||this).currentTime=n,i}return E(n,t),n}(Eu),Jb=function(t){function n(n){var i;return(i=t.call(this,Ty.Ug)||this).currentTime=n,i}return E(n,t),n}(Eu),tA=[Ty.ow,Ty.Ug,Bf.Rf,Bf.If],nA=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).TE=sy.Ng,e.SE=!0,e.EE=!1,e.IE=!1,e.RE=function(t){var n=e.NE.$w;n!==e.TE&&e.Qs(new Hy(t.currentTime,n)),n===sy.Ng&&(e.EE=!1,e.IE=!1),e.CE(n),e.DE(n),e.PE(n),e.maybeDispatchCanPlayThroughEvent(n),e.BE(n),e.xE(n),e.TE=n},e.OE=function(){e.xE(e.TE),e.BE(e.TE),e.SE=e.NE.qg},e.LE=function(){e.SE=e.NE.qg},e.ME=function(t){e.Qs(new Jb(t.currentTime))},e.NE=n,e.FE=i,e.NE.Ks(Ty.ow,e.RE),e.NE.Ks(Bf.Rf,e.OE),e.NE.Ks(Bf.If,e.LE),e.FE&&e.NE.Ks(Ty.Ug,e.ME),e}E(n,t);var i=n.prototype;return i.CE=function(t){!this.IE&&t>=sy.Cg&&(this.IE=!0,this.Qs(new Cy(this.NE.jg,t)))},i.DE=function(t){!this.EE&&t>=sy.Dg&&(this.EE=!0,this.Qs(new Oy(this.NE.jg,t)))},i.BE=function(t){this.FE||(t>=sy.Pg&&this.TE<sy.Pg&&!this.NE.qg||this.UE&&t>=sy.Pg)&&this.Qs(new Jb(this.NE.jg))},i.xE=function(t){!this.jE(t)||this.NE.Xg||this.NE.mu||this.Qs(new Zb(this.NE.jg))},i.PE=function(t){this.TE<=sy.Dg&&t>=sy.Pg&&this.Qs(new Uy(this.NE.jg,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===sy.Bg&&this.Qs(new jy(this.NE.jg,t))},i.jE=function(t){var n=!this.NE.qg&&t<=sy.Dg,i=!this.SE&&this.TE<=sy.Dg;return n&&!i},i.bw=function(){this.TE=sy.Ng,this.SE=!0,this.EE=!1,this.IE=!1},i.Ed=function(){this.tu(),this.FE&&this.NE.nu(Ty.Ug,this.ME),this.NE.nu(Bf.Rf,this.OE),this.NE.nu(Bf.If,this.LE),this.NE.nu(Ty.ow,this.RE)},T(n,[{key:"UE",get:function(){return!this.NE.qg&&this.SE}}]),n}(Tu),iA=function(t){function n(n){var i;return(i=t.call(this)||this).NE=n,i.NE.Ks(tA,i.$s),i}return E(n,t),n.prototype.Ls=function(){this.tu(),this.NE.nu(tA,this.$s)},T(n,[{key:"jg",get:function(){return this.NE.jg}},{key:"Xg",get:function(){return this.NE.Xg}},{key:"mu",get:function(){return this.NE.mu}},{key:"qg",get:function(){return this.NE.qg}},{key:"$w",get:function(){return this.NE.$w}}]),n}(Tu),eA="titanium",rA="conax",sA="ezdrm",uA="irdeto",oA="vudrm",aA="verimatrix",hA="keyos",cA="drmtoday",fA="expressplay",vA="azure",lA="xstream",dA="vimond",_A="axinom",wA="uplynk",gA="comcast",yA="custom",mA=function(){function t(t,n,i,e,r){this.rc=void 0,this.HE=void 0,this.XE=void 0,this.zE=void 0,this.dE=void 0,this.VE=void 0,this.qE=void 0,this.rc=t,this.HE=n,this.XE=i,this.dE=e,this.qE=r,this.zE=this.WE(n)}var e=t.prototype;return e.GE=function(){return this.VE},e.YE=function(t){this.VE=t},e.$E=function(){return this.zE.licenseAcquisitionURL||this.GE()},e.QE=function(t){return Ye.resolve()},e.KE=function(t,n){return Ye.resolve(void 0)},e.ZE=function(t,i,e,r){var s,u;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(s=this.JE(t,i,e,r)).Kl){o.next=3;break}throw new fm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return o.prev=3,o.next=6,Mr.awrap(this.L_.$l(s));case 6:return u=o.sent,o.next=9,Mr.awrap(u.Nl(i));case 9:return o.abrupt("return",o.sent);case 12:return o.prev=12,o.t0=o.catch(3),cu(o.t0),o.next=17,Mr.awrap(this.tI(o.t0,s.Kl,r));case 17:return o.abrupt("return");case 18:case"end":return o.stop()}},null,this,[[3,12]],Ye)},e.JE=function(t,n,i,e){var r=this.nI().$f(),s=this.Ad,u={Kl:this.iI(),Wl:n,ql:r,Bl:t,Ad:s,md:c_.POST,pd:0,qs:e,vs:f_.rd,kd:i};return new __(u)},e.eI=function(t,n){return Ye.resolve(t)},e.rI=function(t,n,i,e){return Ye.resolve(t)},e.nI=function(){return new Of(this.zE.headers||{})},e.tI=function(t,i,e){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:throw new fm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t);case 1:case"end":return i.stop()}},null,null,null,Ye)},e.iI=function(t,n){var e=n,r=this.zE.queryParameters;if(!e){var s=this.$E();if(!s)return"";e=s}if(r||t){var u=i.Or(e);t&&y_(u,t),r&&y_(u,r),e=u.href}return e},e.sI=function(t,n){return pA(t)},e.uI=function(t){return new p(t)},e.oI=function(t,n,i){var e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Mr.awrap(this.sI(t,i));case 2:return e=u.sent,u.next=5,Mr.awrap(this.ZE(e,this.qE,n,i));case 5:return r=u.sent,s=this.uI(r),u.abrupt("return",s);case 8:case"end":return u.stop()}},null,this,null,Ye)},e.Ed=function(){},T(t,[{key:"L_",get:function(){return this.dE}},{key:"aI",get:function(){return!1}},{key:"hI",get:function(){var t=this.zE.certificate;if(t)return G(t)?Hu(t):Ko(t)}},{key:"cI",get:function(){return!1}},{key:"Ad",get:function(){return Boolean(this.zE.useCredentials)}}]),t}();function pA(t){return Ye.resolve(Jo(t).buffer)}var kA,bA,AA=function(t){function n(n,i,e,r){return t.call(this,ls,n,i,e,r)||this}E(n,t);var i=n.prototype;return i.WE=function(t){return t.widevine||{}},i.fI=function(t,n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.hI){i.next=2;break}return i.abrupt("return",this.hI);case 2:return i.abrupt("return",this.vI(new p(t),n));case 3:case"end":return i.stop()}},null,this,null,Ye)},i.vI=function(n,i){return t.prototype.oI.call(this,n,v_.hd,i)},n}(mA);function TA(t){return H(t.token&&t.deviceId)}function SA(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&H(i.PreAuthorization)}function EA(t){var n=t;return TA(n)&&""!==n.token&&""!==n.deviceId&&!SA(n)}(bA=kA||(kA={})).lI=!1,bA.dI=!1,bA._I=!1,bA.wI=!1,bA.LOG_ADS_DETAILS=!1,bA.LOG_CHROMECAST_DETAILS=!1,bA.LOG_CUSTOM_DRM=!1,bA.LOG_BUFFERING_VIDEO_MAIN=!1,bA.LOG_BUFFERING_VIDEO_SELECTION=!1,bA.LOG_BUFFERING_AUDIO_MAIN=!1,bA.LOG_BUFFERING_AUDIO_SELECTION=!1,bA.gI=!1,bA.yI=!1,bA.LOG_LCEVC_DETAILS=!1;var IA,RA=function(){function t(t,n,i){this.mI=t,this.Vh=n,this.pI=i}return t.prototype.kI=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new l("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new l("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new l("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new l("ContentProtectionIntegration.onLicenseResponse is not a function.");var s=t.extractFairplayContentId;if(void 0!==s&&"function"!=typeof s)throw new l("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.pI.build(t))},T(t,[{key:"bI",get:function(){return this.mI}},{key:"rc",get:function(){return this.Vh}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(IA||(IA={}));var NA=function(){function t(){this.AI=[]}var e=t.prototype;return e.registerContentProtectionIntegration=function(t,e,r){switch(this.TI(t,e,r)){case IA.FAILED:throw new fm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+e+".");case IA.OVERRIDDEN:var s=YA(e);i.pr("Warning: Overwriting an earlier registered integration for "+t+" and "+s+".");break;case IA.SUCCEEDED:YA(e);0}},e.TI=function(t,n,i){var e=YA(n);if(!e)return IA.FAILED;for(var r=IA.SUCCEEDED,s=0,u=this.AI.slice();s<u.length;s++){var o=u[s];o.bI===t&&o.rc===e&&(r=IA.OVERRIDDEN,Ws(this.AI,o))}return this.AI.push(new RA(t,e,i)),r},e.SI=function(t,n){return void 0!==this.EI(t,n)},e.II=function(t,n,i){var e=this.EI(t,n);if(!e)throw v("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.kI(i)},e.EI=function(t,n){for(var i=0,e=this.AI;i<e.length;i++){var r=e[i];if(r.bI===t&&(!n||r.rc===n))return r}},t}();NA.RI=new NA;var CA=["customdata"],DA={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function PA(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,s=t.useCredentials,u=t.queryParameters;return!(n||i||e||r||s||u)}function BA(t){return t&&void 0!==t.licenseAcquisitionURL}var xA,OA=BA,LA=BA;function MA(t){if(!t)return!0;if(HA(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,s=t.aes128;return PA(n)&&PA(i)&&PA(e)&&PA(r)&&PA(s)}function FA(t){var n=EA(t),i=function(t){var n,i=t;return SA(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!TA(i)}(t);return(!n||!i)&&(n||i)}function UA(t){return t.integration===uA}function jA(t){var n=t;if(!n)return!1;if(MA(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,s=n.clearkey;if(HA(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!OA(e))return!1;if(r&&!LA(r))return!1;if(s&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(s))return!1;if(n.integration){if(NA.RI.SI(n.integration))return!0;switch(n.integration){case eA:if(!function(t){return t.integration===eA&&(XA(t)||zA(t))}(t))return!1;break;case oA:if(!VA(t))return!1;break;case aA:if(!function(t){return t.integration===aA}(t))return!1;break;case uA:if(!UA(t))return!1;break;case rA:if(!FA(t))return!1;break;case sA:if(!function(t){return t.integration===sA}(t))return!1;break;case hA:if(!HA(t))return!1;break;case cA:if(!function(t){var n=t;return n.integration===cA&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case fA:if(!function(t){return t.integration===fA}(t))return!1;break;case lA:if(!qA(t))return!1;break;case dA:if(!function(t){return t.integration===dA}(t))return!1;break;case _A:if(!WA(t))return!1;break;case vA:if(!function(t){var n=t;return n.integration===vA&&void 0!==n.token}(t))return!1;break;case wA:if(!function(t){return t.integration===wA}(t))return!1;break;case gA:if(!function(t){var n=t;return n&&H(n.releasePid)&&H(n.accountId)&&H(n.token)}(t))return!1;break;case yA:return!0;default:return!1}}return!0}function HA(t){return t.integration===hA}function XA(t){return void 0!==t.authToken}function zA(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function VA(t){var n=t;return n.integration===oA&&void 0!==n.token}function qA(t){var n=t;return n&&n.integration===lA&&G(n.ticketAcquisitionURL)&&G(n.streamId)}function WA(t){var n=t;return n.integration===_A&&void 0!==n.token}function GA(t,n){var i,e,r,s=n[t],u=null!=(i=null==s?void 0:s.licenseAcquisitionURL)?i:DA[t],o=null!=(e=null==s?void 0:s.customdata)?e:n.customdata,a=o?{customData:o}:{},h=Fr({},null!=(r=null==s?void 0:s.headers)?r:{},a),c=null!=s?s:{};return c.customdata,Fr({},function(t,n){if(null==t)return{};var i,e,r={},s=_.keys(t);for(e=0;e<s.length;e++)i=s[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}(c,CA),{licenseAcquisitionURL:u,headers:h})}function YA(t){switch(t.toLowerCase()){case"widevine":case ss:return ss;case"playready":case is:return is;case"fairplay":case hs:return hs}}function $A(t,i){switch(t){case Zr:return function(t){for(var n={},i=Rk.BA(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.DS]=r.OS}return n}(i);case Jr:case ts:return function(t){var n;return(n={})[as]=t,n}(i);default:throw new lf(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.rs="Widevine",t.ns="PlayreadyV2",t.NI="PlayreadyV2",t.CI="PlayreadyV3",t.hs="Fairplay"}(xA||(xA={}));var QA={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function KA(t,n){var e,r,s,u,o=QA[n],a=t.accountName;return{CustomerName:t.customerName,AccountName:a,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(e=i.Mr)?void 0:e.Fr,OSVersion:null==(r=i.Mr)?void 0:r.Vr,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(s=i.Mr)?void 0:s.qr,DeviceModel:null==(u=i.Mr)?void 0:u.Wr}}}function ZA(t,i){if(!t.accountName)throw new fm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new fm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new fm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new fm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function JA(t,n,i){var e;if(XA(t))e={AuthToken:t.authToken,Payload:n};else{if(!zA(t))throw ZA(t,i);e={LatensRegistration:KA(t,i),Payload:n}}return Ju(JSON.stringify(e))}function tT(t,i,e){var r,s,u,o;return Mr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=t.Ud){a.next=3;break}throw new fm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);case 3:return s=r,a.prev=4,a.next=7,Mr.awrap(s.Il(e));case 7:u=a.sent,o=nT(u),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(4),o="";case 14:throw new fm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,s.$l.Kl,s.Vl,s.Gl,o);case 15:case"end":return a.stop()}},null,null,[[4,11]],Ye)}function nT(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var iT=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e,xf.Gf)||this).DI=void 0,r}E(e,t),e.BI=function(){return i.Fr.Ge?"required":"optional"};var r=e.prototype;return r.tI=function(t,n,i){return tT(t,n,i)},r.QE=function(t){return this.DI?vu(this.DI.Hu,t):(this.DI=new ea,Ye.resolve())},r.sI=function(t,i){var e,r;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.HE){i.next=3;break}throw new fm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return r=zu(t),i.abrupt("return",JA(e,r,xA.rs));case 5:case"end":return i.stop()}},null,this,null,Ye)},r.uI=function(t){if(!t.license)throw new fm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return Hu(t.license)},r.xI=function(t){return Ye.resolve(new p(t))},r.fI=function(t,n){var i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.OI(),r.next=3,Mr.awrap(this.sI(t,n));case 3:return i=r.sent,r.next=6,Mr.awrap(this.ZE(i,xf.Wf,v_.fd,n));case 6:return e=r.sent,r.next=9,Mr.awrap(this.xI(e));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,Ye)},r.vI=function(n,i){var e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Mr.awrap(t.prototype.vI.call(this,n,i));case 2:return e=r.sent,this.OI(),r.abrupt("return",e);case 5:case"end":return r.stop()}},null,this,null,Ye)},r.OI=function(){this.DI||(this.DI=new ea),this.DI.Wu()},r.Ed=function(){this.DI&&this.DI.Xs(),t.prototype.Ed.call(this)},e}(AA),eT=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,xf.Wf)||this).YE("https://widevine-proxy.drm.technology/proxy"),r}return E(i,t),i.prototype.sI=function(t,i){var e,r,s,u;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Mr.awrap(pA(t));case 2:if(e=i.sent,r=this.XE,s=ta(new p(e)),u=this.LI){i.next=8;break}throw new fm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return i.abrupt("return",JSON.stringify({token:u,drm_info:s,kid:r}));case 9:case"end":return i.stop()}},null,this,null,Ye)},T(i,[{key:"LI",get:function(){if(VA(this.HE))return this.HE.token}}]),i}(AA);function rT(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=Fr({},i,{SessionId:t.sessionId,Ticket:t.ticket})),Fr({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var sT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,xf.Wf)||this).YE("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}return E(n,t),n.prototype.iI=function(n,i){var e=n;return UA(this.HE)&&(e=rT(this.HE,e)),t.prototype.iI.call(this,e,i)},n}(AA),uT="Conax-Custom-Data";function oT(t,n,i){var e=t&&FA(t)&&t;if(e&&!i.has(uT)){var r=EA(e)?e.token:void 0,s=EA(e)?e.deviceId:void 0,u=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:s}});i.set(uT,u)}return i}var aT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,xf.Wf)||this).YE("https://connect.conax.com:8094/license"),r}return E(n,t),n.prototype.nI=function(){var n=t.prototype.nI.call(this);return oT(this.HE,"Widevine",n)},n}(AA);function hT(t){var n=Mo(new p(t));return Hu(JSON.parse(n).license)}function cT(t){return"string"==typeof t.token?t.token:Ju(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function fT(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var vT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,xf.Wf)||this).YE("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}E(n,t);var i=n.prototype;return i.uI=function(t){return hT(t)},i.nI=function(){return fT(t.prototype.nI.call(this),this.LI,this.HE)},T(n,[{key:"LI",get:function(){return cT(this.HE)}}]),n}(AA),lT=function(t){function n(n,i,e){return t.call(this,n,i,e,xf.Wf)||this}return E(n,t),n.prototype.nI=function(){var n=t.prototype.nI.call(this),i=this.HE.token;return n.set("Authorization","Bearer "+i),n},n}(AA);function dT(t,i,e,r){var s,u,o,a,h,c,f;return Mr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(qA(t)){v.next=2;break}throw new fm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new Of).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(u=t.sessionId)&&s.append("XSSESSION",u),o=t.streamId,a=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",h={drmType:i,licenseType:a,streamId:o},c={Kl:t.ticketAcquisitionURL,Wl:xf.Gf,ql:s,md:c_.POST,Bl:JSON.stringify(h),qs:r},v.next=13,Mr.awrap(e.$l(c));case 13:return f=v.sent,v.next=16,Mr.awrap(f.Il());case 16:return v.abrupt("return",v.sent);case 17:case"end":return v.stop()}},null,null,null,Ye)}var _T=function(t){function n(n,i,e){return t.call(this,n,i,e,xf.Gf)||this}E(n,t);var i=n.prototype;return i.nI=function(){var n=t.prototype.nI.call(this);return n.set("Content-Type","application/json"),n},i.sI=function(n,i){var e,r,s,u;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=Zu(n.buffer),r=this.HE,o.next=4,Mr.awrap(dT(r,"widevine_modular",this.L_,i));case 4:return s=o.sent,this.YE(s.licenseServerUrl),u=Fo(JSON.stringify({payload:e,ticket:s.ticket})),o.abrupt("return",t.prototype.sI.call(this,u,i));case 8:case"end":return o.stop()}},null,this,null,Ye)},i.uI=function(t){return Hu(t.license)},n}(AA),wT=function(t){function i(n,i,e){return t.call(this,n,i,e,xf.Wf)||this}return E(i,t),i.prototype.nI=function(){if(!WA(this.HE))throw new fm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.nI.call(this);return i.set("X-AxDRM-Message",this.HE.token),i},i}(AA);function gT(t){for(var n=new p(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var yT=function(t){function n(n,i,e){var r;return(r=t.call(this,vs,n,i,e,xf.Wf)||this).MI=void 0,r}E(n,t);var e=n.prototype;return e.WE=function(t){return t.playready||{}},e.nI=function(){var n=new Of(this.MI);return n.Kf(t.prototype.nI.call(this)),n},e.FI=function(t){return t.length>=1&&t[0].Ii.length>0},e.KE=function(n){var i=this.HE.playready.customData;if(i){var e=gT(i),r=gT('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+zu(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return Ye.resolve({playready:{Pc:r}})}return t.prototype.KE.call(this,n)},e.sI=function(t,n){var i;return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(pA(t));case 2:return i=n.sent,n.abrupt("return",this.UI(i));case 4:case"end":return n.stop()}},null,this,null,Ye)},e.UI=function(t){var n,e,r,s,u,o,a,h,c,f,v,l,d,_,w,g;return Mr.async(function(y){for(;;)switch(y.prev=y.next){case 0:u=null,o=new DataView(t),a=xo(o,new na,!0),y.prev=3,h=i.ui(a),y.next=10;break;case 7:return y.prev=7,y.t0=y.catch(3),y.abrupt("return",u);case 10:for(c=null==(n=h.Ei("PlayReadyKeyMessage")[0])?void 0:n.Ei("LicenseAcquisition")[0],f=null!=(e=null==c?void 0:c.Ei("Challenge"))?e:[],this.FI(f)&&(u=Ku(f[0].ji)),v=new Of,l=null!=(r=null==c?void 0:null==(s=c.Ei("HttpHeaders")[0])?void 0:s.Ei("HttpHeader"))?r:[],d=0;d<l.length;d++)_=l[d],w=_.Ei("name")[0].ji,g=_.Ei("value")[0].ji,v.append(w,g);return this.MI=v,y.abrupt("return",u);case 18:case"end":return y.stop()}},null,this,[[3,7]],Ye)},e.fI=function(t,n){return Ye.resolve(t)},e.vI=function(n,i){return t.prototype.oI.call(this,n,v_.vd,i)},n}(mA),mT=function(){function t(n){this.wh=void 0,this.jI=n,this.wh=t.HI(n)}return t.HI=function(t){return"3"===t.version?xA.CI:xA.NI},t.prototype.XI=function(){var t={};if(this.wh===xA.CI){var n={LatensRegistration:KA(this.jI,xA.CI)};t["X-TITANIUM-DRM-CDATA"]=Ju(JSON.stringify(n))}return t},T(t,[{key:"zI",get:function(){return this.wh}},{key:"yc",get:function(){return this.wh===xA.NI}}]),t}();var pT=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e)||this).VI=void 0,r.VI=new mT(r.HE),r}E(e,t);var r=e.prototype;return r.KE=function(t){var i=this.HE;if(!this.HE)throw new fm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(zA(i)){var e={};return e.playready={Pc:kT(i,this.VI.zI)},Ye.resolve(e)}return Ye.reject(ZA(i,xA.ns))},r.nI=function(){var n=new Of(this.VI.XI());return n.Kf(t.prototype.nI.call(this)),n},r.tI=function(t,e,r){var s,u,o,a,h,c,f,v;return Mr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(s=t.Ud){l.next=3;break}throw new fm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e);case 3:return l.prev=3,l.next=6,Mr.awrap(s.Cl(r));case 6:a=l.sent,h=Mo(new p(a)),(c=i.ui(h))&&(f=xk(c,"CustomData")).length>0&&(u=JSON.parse(f[0].ji),o=null==(v=u.DrmErr)?void 0:v.desc),l.next=14;break;case 12:l.prev=12,l.t0=l.catch(3);case 14:throw new fm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e,s.Vl,s.Gl,o);case 15:case"end":return l.stop()}},null,null,[[3,12]],Ye)},r.FI=function(t){if(1!==t.length)throw new fm(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},e}(yT);function kT(t,n){var i=KA(t,n),e=i.DeviceInfo.FormatVersion,r=Ju('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),s=jo(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return jo('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+zu(s)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var bT,AT=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).YE("https://playready-license.drm.technology/rightsmanager.asmx"),r}E(i,t);var e=i.prototype;return e.FI=function(t){if(1!==t.length)throw new fm(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.iI=function(n,i){var e=Fr({},n||{},{token:this.LI});return t.prototype.iI.call(this,e,i)},T(i,[{key:"LI",get:function(){if(VA(this.HE))return this.HE.token}}]),i}(yT),TT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).YE("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return E(n,t),n.prototype.iI=function(n,i){var e=n;return UA(this.HE)&&(e=rT(this.HE,e)),t.prototype.iI.call(this,e,i)},n}(yT),ST=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).YE("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return E(n,t),n.prototype.nI=function(){var n=t.prototype.nI.call(this);return oT(this.HE,"PlayReady",n)},n}(yT),ET=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).YE("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}E(n,t);var i=n.prototype;return i.uI=function(n){return(ks(Mo(new p(n)),"<?xml")?bT.qI:bT.Il)===bT.Il?hT(n):t.prototype.uI.call(this,new p(n))},i.nI=function(){return fT(t.prototype.nI.call(this),this.LI,this.HE)},T(n,[{key:"LI",get:function(){return cT(this.HE)}}]),n}(yT);!function(t){t[t.qI=0]="qI",t[t.Il=1]="Il"}(bT||(bT={}));var IT,RT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).WI=void 0,r}E(n,t);var i=n.prototype;return i.nI=function(){var n=t.prototype.nI.call(this);return this.WI&&n.set("Ticket",this.WI),n.set("Content-Type","text/xml"),n},i.sI=function(n,i){var e,r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=this.HE,s.next=3,Mr.awrap(dT(e,"playready",this.L_,i));case 3:return r=s.sent,this.YE(r.licenseServerUrl),this.WI=r.ticket,s.abrupt("return",t.prototype.sI.call(this,n,i));case 7:case"end":return s.stop()}},null,this,null,Ye)},n}(yT),NT=function(t){function i(){return t.apply(this,arguments)||this}return E(i,t),i.prototype.nI=function(){if(!WA(this.HE))throw new fm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.nI.call(this);return i.set("X-AxDRM-Message",this.HE.token),i},i}(yT);!function(t){t.Gf="application/json",t.GI="application/x-www-form-urlencoded",t.YI="application/octet-stream",t.Jn="text/plain;charset=UTF-8"}(IT||(IT={}));var CT=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n.rc,i,e,r,s)||this).$I="",u.QI=void 0,u.KI=void 0,u.KI=n.ZI,u}E(n,t);var i=n.prototype;return i.JI=function(){return this.zE.certificateURL||this.QI},i.tR=function(t){this.QI=t},i.sI=function(t){return Ye.resolve(this.nR(t,this.$I))},i.nR=function(t,n){return"spc="+encodeURIComponent(zu(t))+"&assetId="+encodeURIComponent(n)},i.WE=function(t){return t.fairplay||{}},i.iR=function(t){var n=t.indexOf("?");if(n>=0)return Ye.resolve(t.substr(n+1));var i=t.split("skd://").pop();if(i){if(/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(i))return Ye.resolve(i)}var e=t.split("/");return Ye.resolve(e[e.length-1])},i.KE=function(t){var n,i,e,r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=null!=(n=this.KI)?n:zo(new p(t)),s.next=3,Mr.awrap(this.iR(i));case 3:return e=s.sent,this.$I=e,(r={}).fairplay={Uc:e},s.abrupt("return",r);case 8:case"end":return s.stop()}},null,this,null,Ye)},i.nI=function(){var n=t.prototype.nI.call(this);return n.set("Content-Type",this.eR),n},i.fI=function(t,n){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.hI){t.next=2;break}return t.abrupt("return",this.hI);case 2:return t.next=4,Mr.awrap(this.rR(n));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},null,this,null,Ye)},i.vI=function(n,i){return t.prototype.oI.call(this,n,v_.od,i)},i.sR=function(t){var n=this.JI(),i=this.nI(),e={Kl:n,Wl:xf.Wf,ql:i,md:c_.GET,Ad:!1,Bl:null,pd:0,qs:t,vs:f_.rd,kd:v_.ad};return new __(e)},i.rR=function(t){var n,i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.sR(t),r.next=3,Mr.awrap(this.L_.$l(n));case 3:return i=r.sent,r.next=6,Mr.awrap(i.Cl());case 6:return e=r.sent,r.abrupt("return",new p(e));case 8:case"end":return r.stop()}},null,this,null,Ye)},i.uI=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Hu(i)}else n=new p(t);return n},i.iI=function(n,i){var e=t.prototype.iI.call(this,n,i);return ks(e,"skd:")&&(e=e.substr("skd:".length)),e},T(n,[{key:"cI",get:function(){return!0}},{key:"eR",get:function(){return IT.GI}}]),n}(mA),DT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,xf.Wf)||this}E(n,t);var i=n.prototype;return i.iR=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return Ye.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return Ye.resolve(i)},i.sI=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,Ye)},i.uI=function(t){return new p(t)},i.iI=function(n,i){var e=n||{};return e.p1=Wt(),t.prototype.iI.call(this,e,i)},T(n,[{key:"eR",get:function(){return IT.YI}}]),n}(CT),PT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,xf.Wf)||this).YE("https://fairplay-license.drm.technology/license"),s.tR("https://fairplay-license.drm.technology/certificate"),s}E(i,t);var e=i.prototype;return e.nR=function(t,n){var i={token:this.LI,contentId:n,payload:zu(t)};return JSON.stringify(i)},e.uI=function(t){return new p(t)},e.nI=function(){var n=t.prototype.nI.call(this);return n.set("x-vudrm-token",this.LI),n},T(i,[{key:"eR",get:function(){return IT.Gf}},{key:"LI",get:function(){if(!VA(this.HE))throw new fm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.HE.token}}]),i}(CT),BT="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",xT="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",OT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,xf.Wf)||this}return E(i,t),i.prototype.uI=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new fm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,BT)}if(!i)throw new fm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,xT);return i}(Mo(new DataView(i)));return t.prototype.uI.call(this,e)},i}(CT);var LT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,xf.Gf)||this}E(i,t);var e=i.prototype;return e.sI=function(t){var i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.HE){r.next=3;break}throw new fm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=zu(t),r.abrupt("return",JA(i,e,xA.hs));case 5:case"end":return r.stop()}},null,this,null,Ye)},e.uI=function(t){try{var i;if(G(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=Ku(i.license);return new p(r)}throw new fm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new fm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},e.tI=function(t,n,i){return tT(t,n,i)},T(i,[{key:"eR",get:function(){return IT.Gf}}]),i}(CT),MT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,xf.Wf)||this).YE("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),s.tR("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),s}E(n,t);var e=n.prototype;return e.JI=function(){var n=t.prototype.JI.call(this);if(!n)return n;var e=i.Or(n),r=this.HE;return UA(r)&&y_(e,{accountId:r.accountId,applicationId:r.applicationId||""}),e.href},e.iR=function(n){return UA(this.HE)?Ye.resolve(this.HE.contentId):t.prototype.iR.call(this,n)},e.sI=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,Ye)},e.uI=function(t){return new p(t)},e.iI=function(n,i){var e=n;return UA(this.HE)&&(e=function(t,n){return Fr({},rT(t,n),{KeyId:t.keyId})}(this.HE,e)),t.prototype.iI.call(this,e,i)},T(n,[{key:"eR",get:function(){return IT.YI}}]),n}(CT),FT=function(t){function i(i,e,r,s){var u;if(u=t.call(this,i,e,r,s,xf.Jn)||this,!FA(e))throw new fm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.YE("https://connect.conax.com:8097/license"),u}E(i,t);var e=i.prototype;return e.nI=function(){var n=t.prototype.nI.call(this);return oT(this.HE,"FairPlay",n)},e.rR=function(t){var n,i,e,r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.JI(),i={Kl:n,Wl:xf.Wf,ql:{},md:c_.GET,Ad:!1,Bl:null,pd:0,qs:t,vs:f_.rd,kd:v_.ad},s.next=4,Mr.awrap(this.L_.$l(i));case 4:return e=s.sent,s.next=7,Mr.awrap(e.Cl());case 7:return r=s.sent,s.abrupt("return",new p(r));case 9:case"end":return s.stop()}},null,this,null,Ye)},e.sI=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,Ye)},e.iR=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),Ye.resolve(Mo(Hu(n)))):Ye.resolve("unknown")},e.uI=function(t){try{var n=JSON.parse(t);return new p(Ku(n.CkcMessage))}catch(t){throw new v("CFLRW-66")}},i}(CT),UT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,xf.Jn)||this).YE(DA[Qr.hs]),s}E(i,t);var e=i.prototype;return e.iR=function(t){return ks(t,"skd://")?Ye.resolve(t.substring("skd://".length,40)):Ye.reject(new fm(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.nR=function(t,n){return"spc="+zu(t)+"&assetId="+n},i}(CT),jT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,xf.Jn)||this).YE("https://lic.drmtoday.com/license-server-fairplay/"),s}E(n,t);var i=n.prototype;return i.nR=function(t,n){var i="spc="+encodeURIComponent(zu(t))+"&"+encodeURI(n);return"persistent"===this.zE.licenseType?i+"&offline=true":i},i.nI=function(){return fT(t.prototype.nI.call(this),this.LI,this.HE)},T(n,[{key:"LI",get:function(){return cT(this.HE)}}]),n}(CT),HT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,xf.Wf)||this}E(n,t);var e=n.prototype;return e.iR=function(t){var n=t;return ks(n,"skd:")&&(n="http:"+n.substring(4)),ks(n,"http:")||ks(n,"https:")?Ye.resolve(i.Or(n).hostname):Ye.reject(new v("Could not parse ExpressPlay FairPlay content ID."))},e.sI=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,Ye)},e.uI=function(t){return new p(t)},T(n,[{key:"eR",get:function(){return IT.YI}}]),n}(CT),XT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,xf.Jn)||this}return E(n,t),n.prototype.nI=function(){var n=t.prototype.nI.call(this),i=this.HE.token;return n.set("Authorization","Bearer "+i),n},n}(CT),zT=function(t){function n(n,i,e,r){var s;if(s=t.call(this,n,i,e,r,xf.Gf)||this,!qA(i))throw new v("Invalid Xstream DRM configuration");return s}E(n,t);var i=n.prototype;return i.rR=function(t){var n,i,e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this.JI(),i=this.nI(),e={Kl:n,Wl:xf.Gf,ql:i,md:c_.POST,qs:t,vs:f_.rd,kd:v_.ad},u.next=5,Mr.awrap(this.L_.$l(e));case 5:return r=u.sent,u.next=8,Mr.awrap(r.Il());case 8:return s=u.sent,u.abrupt("return",new p(Hu(s.certificate)));case 10:case"end":return u.stop()}},null,this,null,Ye)},i.vI=function(t,n,i){var e,r,s,u,o,a,h;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return e=zu(t),r=this.HE,i.next=5,Mr.awrap(dT(r,"fairplay",this.L_,n));case 5:return s=i.sent,u=Fo(JSON.stringify({spc:e,ticket:s.ticket})),o={Kl:this.$E(),Wl:xf.Gf,ql:this.nI(),md:c_.POST,Bl:u,pd:0,qs:n,vs:f_.rd,kd:v_.od},i.next=10,Mr.awrap(this.L_.$l(o));case 10:return a=i.sent,i.next=13,Mr.awrap(a.Il());case 13:return h=i.sent,i.abrupt("return",Hu(h.licence));case 15:case"end":return i.stop()}},null,this,null,Ye)},T(n,[{key:"eR",get:function(){return IT.Gf}}]),n}(CT),VT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,xf.Jn)||this}E(i,t);var e=i.prototype;return e.nR=function(t,n){return zu(t)},e.uI=function(i){if(0===i.length)throw new fm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.uI.call(this,i)},e.nI=function(){var n=t.prototype.nI.call(this);return n.set("Content-Type","text/plain"),n},i}(CT),qT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,xf.Wf)||this}E(i,t);var e=i.prototype;return e.nR=function(t,n){return t},e.uI=function(t){return new p(t)},e.nI=function(){if(!WA(this.HE))throw new fm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.nI.call(this);return i.set("X-AxDRM-Message",this.HE.token),i},T(i,[{key:"eR",get:function(){return IT.Gf}}]),i}(CT),WT=function(t){function e(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,xf.Gf)||this).uR=void 0,s}E(e,t);var r=e.prototype;return r.nR=function(t,n){var i={spc:zu(t)};return JSON.stringify(i)},r.iR=function(t){var e=i.Or(t);return this.uR=t,e.searchParams.has("b")?Ye.resolve(e.searchParams.get("b")):Ye.reject(new fm(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.iI=function(n,i){var e=this.$E();return!e&&this.uR&&(e=this.uR),e&&(e=e.replace("skd://","https://")),t.prototype.iI.call(this,n,i||e)},r.uI=function(t){try{var i;if((i=G(t)?JSON.parse(t.trim()):t).ckc)return Hu(i.ckc)}catch(t){throw new fm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new fm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},T(e,[{key:"eR",get:function(){return IT.Jn}}]),e}(CT),GT=function(){function t(t,n){this.oR=t,this.aR=n}var n=t.prototype;return n.hR=function(t){return this.oR(t)},n.cR=function(t,n){throw new l(n+" must be "+this.aR+". (Received: "+t+")")},t}();new GT(function(t){return!0},"any");var YT=new GT(K,"a number"),$T=new GT(G,"a string"),QT=new GT(Y,"a boolean");new GT(Q,"a date"),new GT(X,"undefined"),new GT(q,"an object"),new GT(function(t){return null===t},"null"),new GT(function(t){return null==t},"null or undefined");var KT,ZT=(KT={responseCode:YT,isException:QT,description:$T,title:$T,correlationId:$T},{hR:function(t){if(!q(t))return!1;for(var n=0,i=_.keys(KT);n<i.length;n++){var e=i[n];if(!KT[e].hR(t[e]))return!1}return!0},cR:function(t,n){if(!q(t))throw new l(n+" must be an object.");for(var i=0,e=_.keys(KT);i<e.length;i++){var r=e[i],s=KT[r];if(!s.hR(t[r]))return s.cR(t[r],n+"."+String(r))}throw new l}});function JT(t,n,i,e,r){var s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return s=tS(t,n,i,r),u.next=3,Mr.awrap(nS(s,e));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},null,null,null,Ye)}function tS(t,n,e,r){var s={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var e=i.Or(t);return y_(e,n),e.toString()}(e,s)),o=new Of({});o.append("Content-Type","application/json");var a=zu(t),h={getFairplayLicense:{releasePid:n.releasePid,spcMessage:a}};return{Kl:u,Wl:xf.Jn,ql:o,md:c_.POST,Bl:JSON.stringify(h),qs:r,vs:f_.rd,kd:v_.od}}function nS(t,i){var e,r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Mr.awrap(i.$l(t));case 2:return e=s.sent,s.next=5,Mr.awrap(e.Il());case 5:if(r=s.sent,!ZT.hR(r)){s.next=8;break}throw new fm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,r.description,void 0,t.Kl,r.responseCode);case 8:return s.abrupt("return",Hu(r.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return s.stop()}},null,null,null,Ye)}var iS=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,xf.Wf)||this).fR=void 0,s.fR=i,s}E(n,t);var i=n.prototype;return i.iR=function(n){var i=n.replace("FairPlay",this.fR.releasePid);return t.prototype.iR.call(this,i)},i.vI=function(t,n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Mr.awrap(JT(t,this.fR,this.$E(),this.L_,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,Ye)},n}(CT),eS=function(t){function i(n,i,e){return t.call(this,ws,n,i,e,xf.Wf)||this}E(i,t);var e=i.prototype;return e.WE=function(t){return t.clearkey||{}},e.ZE=function(i,e,r,s){var u,o;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=this.zE,!this.$E()){e.next=5;break}return e.abrupt("return",t.prototype.ZE.call(this,i,this.qE,r,s));case 5:if(!u.keys||!u.keys.length){e.next=10;break}return o={keys:u.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},e.abrupt("return",Fo(JSON.stringify(o)).buffer);case 10:throw new fm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return e.stop()}},null,this,null,Ye)},e.fI=function(t,n){return Ye.resolve(new p(0))},e.vI=function(n,i){return t.prototype.oI.call(this,n,v_.ld,i)},i}(mA),rS=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n}(AA),sS={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function uS(t,n,i){var e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=_S(n),(r=t.onCertificateRequest)&&"function"==typeof r){u.next=5;break}return u.abrupt("return",Ye.resolve(n));case 5:return u.next=8,Mr.awrap(vu(Ye.resolve(r.call(t,e)),i));case 8:if(!Qo(s=u.sent)){u.next=11;break}return u.abrupt("return",Ko(s));case 11:return u.abrupt("return",dS(Fr({},sS,s)));case 12:case"end":return u.stop()}},null,null,null,Ye)}function oS(t,n,i,e,r){var s,u,o;return Mr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=t.onCertificateResponse,u=lS(n,i,e),s&&"function"==typeof s){a.next=5;break}return a.abrupt("return",Ye.resolve(n));case 5:return a.next=8,Mr.awrap(vu(Ye.resolve(s.call(t,u)),r));case 8:return o=a.sent,a.abrupt("return",Ko(o));case 10:case"end":return a.stop()}},null,null,null,Ye)}function aS(t,n,i,e){var r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Mr.awrap(cS(t,n,i,e));case 2:if(!((r=s.sent)instanceof ArrayBuffer)){s.next=5;break}return s.abrupt("return",r);case 5:return s.abrupt("return",dS(r));case 6:case"end":return s.stop()}},null,null,null,Ye)}function hS(t,n,i,e,r,s){var u,o;return Mr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return u=vS(i,r),a.next=3,Mr.awrap(fS(t,new p(n),u,e,s));case 3:return o=a.sent,a.abrupt("return",Ko(o).buffer);case 5:case"end":return a.stop()}},null,null,null,Ye)}function cS(t,n,i,e){var r,s,u;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=null==t?void 0:t.onLicenseRequest,s=vS(n,i),r&&"function"==typeof r){o.next=5;break}return o.abrupt("return",Ye.resolve(s));case 5:return o.next=8,Mr.awrap(vu(Ye.resolve(r.call(t,s)),e));case 8:if(!Qo(u=o.sent)){o.next=11;break}return o.abrupt("return",Ko(u).buffer);case 11:return o.abrupt("return",Fr({fairplaySkdUrl:void 0},sS,u));case 12:case"end":return o.stop()}},null,null,null,Ye)}function fS(t,n,i,e,r){var s,u,o;return Mr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=null==t?void 0:t.onLicenseResponse,u=lS(n,i,e),s&&"function"==typeof s){a.next=5;break}return a.abrupt("return",Ye.resolve(n));case 5:return a.next=8,Mr.awrap(vu(Ye.resolve(s.call(t,u)),r));case 8:return o=a.sent,a.abrupt("return",Ko(o));case 10:case"end":return a.stop()}},null,null,null,Ye)}function vS(t,n){return Fr({},_S(t),{fairplaySkdUrl:n})}function lS(t,n,i){return{url:i.Ql,status:i.Vl,statusText:i.Gl,headers:i.ql.$f(),body:t,request:n}}function dS(t){return new __({Kl:t.url,md:t.method,ql:t.headers,Bl:t.body,Ad:t.useCredentials})}function _S(t){var n;return{url:t.Kl,body:null!=(n=wS(t.Bl))?n:null,headers:t.ql.$f(),method:t.md,useCredentials:t.Ad}}function wS(t){if(t)return"string"==typeof t?Vo(t):t instanceof ArrayBuffer?new p(t):qu(t)?$o(t):void 0}var gS,yS=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e)||this).vR=void 0,s.vR=r,s}E(i,t);var e=i.prototype;return e.fI=function(t,n){return Ye.resolve(t)},e.vI=function(t,i){var e,r,s,u,o;return Mr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Mr.awrap(this.UI(Jo(t).buffer));case 2:return e=a.sent,r=this.JE(e,xf.Wf,v_.vd,i),a.next=6,Mr.awrap(aS(this.vR,r,void 0,i));case 6:if(!((s=a.sent)instanceof ArrayBuffer)){a.next=10;break}return a.abrupt("return",new p(s));case 10:if(""!==s.Kl){a.next=12;break}throw new fm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return a.prev=12,a.next=15,Mr.awrap(this.L_.$l(s));case 15:return u=a.sent,a.next=18,Mr.awrap(u.Cl(i));case 18:return o=a.sent,a.t0=p,a.next=22,Mr.awrap(hS(this.vR,o,r,u,void 0,i));case 22:return a.t1=a.sent,a.abrupt("return",new a.t0(a.t1));case 26:throw a.prev=26,a.t2=a.catch(12),cu(a.t2),new fm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",a.t2);case 30:case"end":return a.stop()}},null,this,[[12,26]],Ye)},i}(yT),mS=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,xf.Wf)||this).vR=void 0,s.vR=r,s}E(i,t);var e=i.prototype;return e.fI=function(t,i){var e,r,s,u,o;return Mr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.hI){a.next=2;break}return a.abrupt("return",this.hI);case 2:return e=this.JE(t,xf.Wf,v_.fd,i),a.next=5,Mr.awrap(uS(this.vR,e,i));case 5:if(!((r=a.sent)instanceof p)){a.next=9;break}return a.abrupt("return",r);case 9:if(""!==r.Kl){a.next=11;break}throw new fm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return a.prev=11,a.next=14,Mr.awrap(this.L_.$l(r));case 14:return s=a.sent,a.next=17,Mr.awrap(s.Cl(i));case 17:u=a.sent,a.next=24;break;case 20:throw a.prev=20,a.t0=a.catch(11),cu(a.t0),new fm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",a.t0);case 24:return o=vS(e,void 0),a.next=27,Mr.awrap(oS(this.vR,new p(u),o,s,i));case 27:return a.abrupt("return",a.sent);case 28:case"end":return a.stop()}},null,this,[[11,20]],Ye)},e.vI=function(t,i){var e,r,s,u;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.JE(t,xf.Wf,v_.hd,i),o.next=3,Mr.awrap(aS(this.vR,e,void 0,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new p(r));case 7:if(""!==r.Kl){o.next=9;break}throw new fm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Mr.awrap(this.L_.$l(r));case 12:return s=o.sent,o.next=15,Mr.awrap(s.Cl(i));case 15:u=o.sent,o.next=22;break;case 18:throw o.prev=18,o.t0=o.catch(9),cu(o.t0),new fm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o.t0);case 22:return o.t1=p,o.next=25,Mr.awrap(hS(this.vR,u,e,s,void 0,i));case 25:return o.t2=o.sent,o.abrupt("return",new o.t1(o.t2));case 27:case"end":return o.stop()}},null,this,[[9,18]],Ye)},i}(rS),pS=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,xf.Wf)||this).vR=void 0,u.lR=void 0,u.vR=s,u}E(i,t);var e=i.prototype;return e.fI=function(t,i){var e,r,s,u,o;return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.hI){t.next=2;break}return t.abrupt("return",this.hI);case 2:return e=this.sR(i),t.next=5,Mr.awrap(uS(this.vR,e,i));case 5:if(r=t.sent,!qu(r)){t.next=8;break}return t.abrupt("return",r);case 8:return t.prev=8,t.next=11,Mr.awrap(this.L_.$l(r));case 11:return s=t.sent,t.next=14,Mr.awrap(s.Cl());case 14:return u=t.sent,o=vS(e,void 0),t.next=18,Mr.awrap(oS(this.vR,new p(u),o,s,i));case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),cu(t.t0),new fm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},null,this,[[8,21]],Ye)},e.vI=function(t,i){var e,r,s,u;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.JE(t,xf.Wf,v_.od,i),o.next=3,Mr.awrap(aS(this.vR,e,this.lR,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new p(r));case 7:if(""!==r.Kl){o.next=9;break}throw new fm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Mr.awrap(this.L_.$l(r));case 12:return s=o.sent,o.next=15,Mr.awrap(s.Cl(i));case 15:return u=o.sent,o.t0=p,o.next=19,Mr.awrap(hS(this.vR,u,e,s,this.lR,i));case 19:return o.t1=o.sent,o.abrupt("return",new o.t0(o.t1));case 23:throw o.prev=23,o.t2=o.catch(9),cu(o.t2),new fm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o.t2);case 27:case"end":return o.stop()}},null,this,[[9,23]],Ye)},e.iR=function(n){var i;return this.lR=n,null!=(i=this.vR)&&i.extractFairplayContentId?Ye.resolve(this.vR.extractFairplayContentId(n)):t.prototype.iR.call(this,n)},i}(CT),kS=function(){function t(){}var n=t.prototype;return n.dR=function(t,n,i,e){switch(t.rc.vs){case Qr.rs:return this._R(n,i,e);case Qr.ns:return this.wR(n,i,e);case Qr.hs:return this.gR(t,n,i,e);case Qr.us:default:return this.yR(n,i,e)}},n._R=function(t,n,i){var e,r=(e=t).integration===yA&&G(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&NA.RI.SI(r,ss)){var s=NA.RI.II(r,ss,t);return new mS(t,n,i,s)}switch(r){case eA:return new iT(t,n,i);case oA:return new eT(t,n,i);case uA:return new sT(t,n,i);case rA:return new aT(t,n,i);case cA:return new vT(t,n,i);case vA:return new lT(t,n,i);case lA:return new _T(t,n,i);case _A:return new wT(t,n,i);case hA:default:return new rS(t,n,i,xf.Wf)}},n.wR=function(t,n,i){var e=t.integration;if(e&&NA.RI.SI(e,is)){var r=NA.RI.II(e,is,t);return new yS(t,n,i,r)}switch(e){case eA:return new pT(t,n,i);case oA:return new AT(t,n,i);case uA:return new TT(t,n,i);case rA:return new ST(t,n,i);case cA:return new ET(t,n,i);case lA:return new RT(t,n,i);case _A:return new NT(t,n,i);case hA:default:return new yT(t,n,i)}},n.gR=function(t,n,i,e){var r=n.integration;if(r&&NA.RI.SI(r,hs)){var s=NA.RI.II(r,hs,n);return new pS(t,n,i,e,s)}switch(r){case sA:return new DT(t,n,i,e);case oA:return new PT(t,n,i,e);case aA:return new OT(t,n,i,e);case eA:return new LT(t,n,i,e);case uA:return new MT(t,n,i,e);case rA:return new FT(t,n,i,e);case hA:return new UT(t,n,i,e);case cA:return new jT(t,n,i,e);case fA:return new HT(t,n,i,e);case vA:return new XT(t,n,i,e);case lA:return new zT(t,n,i,e);case dA:return new VT(t,n,i,e);case _A:return new qT(t,n,i,e);case wA:return new WT(t,n,i,e);case gA:return new iS(t,n,i,e);default:return new CT(t,n,i,e,xf.Jn)}},n.yR=function(t,n,i){return new eS(t,n,i)},n.mR=function(t){return t.vs===Qr.ns||t.vs===Qr.rs||t.vs===Qr.hs||t.vs===Qr.us},n.yc=function(t,n){var i;if(t.vs!==Qr.ns)return!1;if(H(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!NA.RI.SI(e,hs))&&(e===eA&&new mT(n).yc)},n.BI=function(t,n){if(t.vs===Qr.rs){var i=n.integration;if(!i||!NA.RI.SI(i,hs))return i===eA?iT.BI():void 0}},t}();!function(t){t[t.pR=0]="pR",t[t.kR=1]="kR",t[t.bR=2]="bR",t[t.AR=3]="AR",t[t.SR=4]="SR",t[t.pg=5]="pg",t[t.ER=6]="ER",t[t.IR=7]="IR",t[t.Rg=8]="Rg",t[t.RR=9]="RR",t[t.NR=10]="NR"}(gS||(gS={}));var bS=function(){function t(){}return t.prototype.DR=function(t){},T(t,[{key:"PR",get:function(){return 0}},{key:"xR",get:function(){return 0}}]),t}(),AS=function(){function t(t,n){void 0===n&&(n=new kS),this.dE=void 0,this.OR=void 0,this.jI=void 0,this.dE=t,this.OR=n}var n=t.prototype;return n.LR=function(t){this.jI=t},n.BI=function(t){var n=this.jI;if(void 0!==n)return this.OR.BI(t,n)},n.yc=function(t){var n=this.jI;return void 0!==n&&this.OR.yc(t,n)},n.MR=function(t){var n={rc:t.rc,FR:t.FR||[],ZI:t.ZI},i=this.OR.dR(n,this.jI||{},t.XE,this.dE);return new TS(i)},t}(),TS=function(){function t(t){this.UR=void 0,this.UR=t}var n=t.prototype;return n.QE=function(t){return this.UR.QE(t)},n.KE=function(t,n,i){return this.UR.KE(n,i)},n.cI=function(){return this.UR.cI||void 0!==this.UR.hI},n.fI=function(t,n){return this.UR.fI(t,n)},n.vI=function(t,n,i){return n&&this.UR.YE(n),this.UR.vI(t,i)},n.Ls=function(){this.UR.Ed()},t}(),SS=function(t){function n(n){var i;(i=t.call(this)||this).jR=[],i.HR=function(t){i.yw(t.V_)},i.XR=function(t){var n=t.V_;i.zR(n)||i.mw(n)};for(var e=0;e<n.length;e++){var r=n[e];i.qR(r)}return i}E(n,t);var i=n.prototype;return i.qR=function(t){this.jR.push(t);for(var n=0,i=t.Aw;n<i.length;n++){var e=i[n];this.yw(e)}this.WR(t)},i.GR=function(t){Ws(this.jR,t),this.YR(t);for(var n=0,i=t.Aw;n<i.length;n++){var e=i[n];this.zR(e)||this.mw(e)}},i.zR=function(t){for(var n=0,i=this.jR;n<i.length;n++){if(i[n].pw(t))return!0}return!1},i.WR=function(t){t.Ks(eg.M_,this.HR),t.Ks(eg.U_,this.XR)},i.YR=function(t){t.nu(eg.M_,this.HR),t.nu(eg.U_,this.XR)},i.Ed=function(){for(;this.jR.length>0;)this.GR(this.jR[0]);t.prototype.Ed.call(this)},i.z_=function(){return qg(this)},n}(dg);function ES(t){return{get enabled(){return t.Bw},set enabled(n){t.Bw=Eg(n)},get currentLatency(){return t.ly},get streamConfiguration(){if(void 0!==t.$R)return function(t){return{get minimumOffset(){return t.Kg},get maximumOffset(){return t.Jg},get targetOffset(){return t.Zg},get forceSeekOffset(){return t.iy},get minimumPlaybackRate(){return t.ey},get maximumPlaybackRate(){return t.sy}}}(t.$R)},get configuration(){return function(t){return{get minimumOffset(){return t.Kg},set minimumOffset(n){t.Kg=Ig(n)},get maximumOffset(){return t.Jg},set maximumOffset(n){t.Jg=Ig(n)},get targetOffset(){return t.Zg},set targetOffset(n){t.Zg=Ig(n)},get forceSeekOffset(){return t.iy},set forceSeekOffset(n){t.iy=Ig(n)},get minimumPlaybackRate(){return t.ey},set minimumPlaybackRate(n){t.ey=Ig(n)},get maximumPlaybackRate(){return t.sy},set maximumPlaybackRate(n){t.sy=Ig(n)},update:function(n){t.Kh(function(t){var n={};void 0!==t.minimumOffset&&(n.Kg=Ig(t.minimumOffset));void 0!==t.maximumOffset&&(n.Jg=Ig(t.maximumOffset));void 0!==t.targetOffset&&(n.Zg=Ig(t.targetOffset));void 0!==t.forceSeekOffset&&(n.iy=Ig(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.ey=Ig(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.sy=Ig(t.maximumPlaybackRate));return n}(n))}}}(t.uc)}}}var IS,RS=function(){function t(){this.H_=void 0,this.QR=void 0,this.QR={iy:0,Jg:0,sy:0,Kg:0,ey:0,Zg:0,Kh:Z}}return T(t,[{key:"X_",get:function(){return null!=this.H_||(this.H_=ES(this)),this.H_}},{key:"Bw",get:function(){return!1},set:function(t){}},{key:"ly",get:function(){}},{key:"$R",get:function(){}},{key:"uc",get:function(){return this.QR}}]),t}();function NS(){return IS||(IS=ge&&ge.document&&ge.document.createElement("video")),IS}var CS=function(t){function n(n,i,e,r,s,u,o){var a;return void 0===u&&(u=new kS),void 0===o&&(o=If()),(a=t.call(this)||this).KR=void 0,a.ZR=void 0,a.JR=void 0,a.Ty=void 0,a.Sy=void 0,a.Ey=void 0,a.tN=void 0,a.nN=void 0,a.iN=void 0,a.eN=void 0,a.rN=void 0,a.dE=void 0,a.As=void 0,a.sN=void 0,a.uN=void 0,a.oN=new bS,a.aN=new RS,a.hN=function(t){var n=t.mu,i=n.code,e=new lf(wm(i),"Something went wrong during native playback.",n),r=new vm(i,e.message,n.message);a.cN(e,r)},a.fN=function(){a.Qs(new By(a.jg,a.im))},a.vN=function(t){a.qg||(a.uN=void 0),a.Qs(t)},a.lN=function(t){a.uN=void 0,a.Qs(t)},a.dN=function(){a.Qs(new Lm(a.hm))},a._N=function(){a.$g>0&&a.Yg>0&&a.Qs(new Nb)},a.wN=function(t){a.Ty.yw(new Cm(t.track))},a.gN=function(t){var n=BS(a.Ty,t.track);n&&a.Ty.mw(n)},a.yN=function(){a.mN(a.Ty)},a.pN=function(t){a.Sy.yw(new Om(t.track))},a.kN=function(t){var n=BS(a.Sy,t.track);n&&a.Sy.mw(n)},a.bN=function(){a.mN(a.Sy)},a.AN=function(t){a.Qs(t),a.cN(t.errorObject,dm(t.errorObject))},a.KR=i,a.dE=e,a.As=o,a.ZR=a.KR.TN(gm.wd),a.iN=a.ZR.SN.preload,a.eN=new nA(a.ZR,!0),a.eN.Ks(Ny,a.$s),a.sN=new AS(e,u),a.ZR.EN=a.sN,a.IN(),a.Ty=new ym,a.Sy=new ym,a.RN(),a.rN=new bb(a.ZR,a.dE),a.Ey=new SS([a.ZR.Py]),a.qy(),a}E(n,t);var i=n.prototype;return i.Wy=function(){this.ZR.Wy()},i.qy=function(){this.ZR.qy()},i.Fy=function(t,n,i){var e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return hu(i),e={vs:Rb.bE,Zw:t.src,Pl:t.type,NN:this.CN(t),mm:this.iN,DN:t.crossOrigin,PN:n.metadata&&n.metadata.title},this.sN.LR(t.contentProtection),r.next=5,Mr.awrap(this.ZR.$h(e));case 5:this.JR=r.sent,hu(i),n.textTracks&&this.BN(n.textTracks),Ib(this.Py);case 9:case"end":return r.stop()}},null,this,null,Ye)},i.BN=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.ZR.xN()&&F.un&&Fb&&!lb(i.kind,i.label)&&this.ON(i)){var e,r=null!=(e=i.kind)?e:Jk.Qb;this.ZR.LN(i.src,r,i.label,i.srclang)}else{if(void 0===i.src)continue;this.rN.wE(i)}}},i.ON=function(t){return!t.format||"webvtt"===t.format},i.xy=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mr.awrap(this.ZR.xy());case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.MN){t.next=12;break}return t.next=10,Mr.awrap(this.ZR.fu(Bf.Nf));case 10:t.next=7;break;case 12:case"end":return t.stop()}},null,this,[[0,5]],Ye)},i.Oy=function(){this.ZR.Oy()},i.Uy=function(){return void 0!==this.ZR.SN.webkitShowPlaybackTargetPicker},i.jy=function(){this.ZR.SN.webkitShowPlaybackTargetPicker&&this.ZR.SN.webkitShowPlaybackTargetPicker()},i.Hy=function(){this.ZR.SN.webkitShowPlaybackTargetPicker&&this.ZR.SN.webkitShowPlaybackTargetPicker()},i.Gy=function(){return this.ZR.SN},i.Yy=function(){return this.ZR.FN},i.bw=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.tN=void 0,this.nN=void 0,this.JR=void 0,t.next=5,Mr.awrap(this.rN.bw());case 5:return this.ZR.UN(),t.next=8,Mr.awrap(this.ZR.bw());case 8:this.eN.bw(),this.mm=this.iN,this.Cy.bw(),this.Dy.bw(),this.uN=void 0;case 13:case"end":return t.stop()}},null,this,null,Ye)},i.Ed=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mr.awrap(this.bw());case 2:return this.tu(),this.jN(),this.HN(),this.eN.Ed(),this.ZR.EN=void 0,t.next=9,Mr.awrap(this.KR.XN(this.ZR));case 9:return this.Ty.Ed(),this.Sy.Ed(),this.Ey.Ed(),t.next=14,Mr.awrap(this.rN.Ed());case 14:case"end":return t.stop()}},null,this,null,Ye)},i.IN=function(){this.ZR.Ks(Bf.Rf,this.$s),this.ZR.Ks(Bf.If,this.$s),this.ZR.Ks(Bf.Hf,this.fN),this.ZR.Ks(Bf.Nf,this.$s),this.ZR.Ks(Bf.bf,this.$s),this.ZR.Ks(Bf.xf,this.$s),this.ZR.Ks(Bf.Bf,this.vN),this.ZR.Ks(Bf.mf,this.$s),this.ZR.Ks(Bf.Cf,this.$s),this.ZR.Ks(Bf.Xf,this.$s),this.ZR.Ks(Bf.gf,this.$s),this.ZR.Ks(Bf.Pf,this._N),this.ZR.Ks(Ty.Ug,this.lN),this.ZR.Ks(Ug.Vw,this.hN),this.ZR.Ks(Bf.df,this.$s),this.ZR.Ks(Bf.lf,this.AN),this.ZR.SN.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.dN)},i.jN=function(){this.ZR.nu(Bf.Rf,this.$s),this.ZR.nu(Bf.If,this.$s),this.ZR.nu(Bf.Hf,this.fN),this.ZR.nu(Bf.Nf,this.$s),this.ZR.nu(Bf.bf,this.$s),this.ZR.nu(Bf.xf,this.$s),this.ZR.nu(Bf.Bf,this.vN),this.ZR.nu(Bf.mf,this.$s),this.ZR.nu(Bf.Cf,this.$s),this.ZR.nu(Bf.Xf,this.$s),this.ZR.nu(Bf.gf,this.$s),this.ZR.nu(Bf.Pf,this._N),this.ZR.nu(Ty.Ug,this.lN),this.ZR.nu(Ug.Vw,this.hN),this.ZR.nu(Bf.df,this.$s),this.ZR.nu(Bf.lf,this.AN),this.ZR.SN.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.dN)},i.CN=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{rc:ds,zN:[{initDataTypes:[ds.ds],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.RN=function(){var t=this.ZR.SN.audioTracks,n=this.ZR.SN.videoTracks;t&&(t.addEventListener("addtrack",this.wN),t.addEventListener("removetrack",this.gN),t.addEventListener("change",this.yN)),n&&(n.addEventListener("addtrack",this.pN),n.addEventListener("removetrack",this.kN),n.addEventListener("change",this.bN))},i.HN=function(){var t=this.ZR.SN.audioTracks,n=this.ZR.SN.videoTracks;t&&(t.removeEventListener("addtrack",this.wN),t.removeEventListener("removetrack",this.gN),t.removeEventListener("change",this.yN)),n&&(n.removeEventListener("addtrack",this.pN),n.removeEventListener("removetrack",this.kN),n.removeEventListener("change",this.bN))},i.mN=function(t){for(var n=0;n<t.Tw;n++){t.gw(n).Pm()}},i.tm=function(){this.ZR.tm()},i.cN=function(t,n){this.tN||(this.tN=n,this.nN=t,this.Qs(new Xy(t)))},T(n,[{key:"MN",get:function(){var t=this.ZR.nm,n=this.jg;return t.VN(n,.01)}},{key:"Cy",get:function(){return this.Ty}},{key:"nm",get:function(){return this.ZR.nm.qN()}},{key:"im",get:function(){return this.ZR.im},set:function(t){t&&this.ZR.WN(t)}},{key:"jg",get:function(){return void 0!==this.uN?this.uN:this.ZR.jg},set:function(t){this.hm&&(this.uN=t),this.ZR.Lu(t)}},{key:"Hg",get:function(){return this.ZR.Hg}},{key:"Xg",get:function(){return this.ZR.Xg}},{key:"mu",get:function(){return this.tN}},{key:"zg",get:function(){return this.nN}},{key:"By",get:function(){}},{key:"hm",get:function(){return this.ZR.hm}},{key:"cm",get:function(){return Fr({},{fm:0,vm:0,lm:0,dm:0,_m:0,wm:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.ZR.GN())}},{key:"Vg",get:function(){return this.ZR.Vg},set:function(t){this.ZR.Vg=t}},{key:"gm",get:function(){return!0}},{key:"qg",get:function(){return this.ZR.qg}},{key:"Wg",get:function(){return this.ZR.Wg},set:function(t){this.ZR.Wg=t}},{key:"ym",get:function(){return this.ZR.SN.played}},{key:"mm",get:function(){return this.iN},set:function(t){this.iN=t,this.JR&&(this.JR.mm=t)}},{key:"$w",get:function(){return this.ZR.$w}},{key:"pm",get:function(){return this.ZR.pm.qN()}},{key:"Gg",get:function(){return this.ZR.Gg}},{key:"YN",get:function(){return this.ZR.YN}},{key:"Py",get:function(){return this.Ey}},{key:"Dy",get:function(){return this.Sy}},{key:"Yg",get:function(){return this.ZR.Yg}},{key:"$g",get:function(){return this.ZR.$g}},{key:"Qg",get:function(){return this.ZR.Qg},set:function(t){this.ZR.Qg=t}},{key:"Am",get:function(){return this.aN}},{key:"Tm",get:function(){return this.ZR.Tm},set:function(t){this.ZR.Tm=t}},{key:"$N",get:function(){return this.oN}}]),n}(Yg);function DS(t){return!t.type||!(!NS().canPlayType||!NS().canPlayType(t.type))}var PS=function(){function t(){this.QN=gS.NR}var n=t.prototype;return n.kI=function(t,n,i,e,r,s){return new CS(t,n,i,e,r)},n.KN=function(t,n){return DS(t)},n.ZN=function(){return!1},t}();function BS(t,n){for(var i=0,e=t.Aw;i<e.length;i++){var r=e[i];if(r.Om===n)return r}}var xS=function(){function t(){this.JN=new PS,this.tC=[]}t.nC=function(){return this.Wn};var n=t.prototype;return n.iC=function(t){this.tC.push(t)},n.kI=function(t,n,i,e,r,s){for(var u=this.JN.kI(t,n,i,e,r,s),o=0,a=this.tC;o<a.length;o++){u=(0,a[o])(u,i,e)}return u},n.KN=function(t,n){return this.JN.KN(t,n)},n.ZN=function(){return!1},T(t,[{key:"QN",get:function(){return this.JN.QN}}]),t}();function OS(t,n){return Us(t.QN,n.QN)}function LS(t){MS.Wn.eC(t)}xS.Wn=new xS;var MS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).rC=xS.nC(),n}E(n,t);var i=n.prototype;return i.sC=function(t){this.rC=t},i.uC=function(){return this.rC},i.oC=function(t,n){var i,e,r,s,u,o;return Mr.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=0;case 1:if(!(i<t.length)){a.next=11;break}return e=t[i],a.next=5,Mr.awrap(this.aC(e,n));case 5:if(!(r=a.sent)){a.next=8;break}return a.abrupt("return",{hC:e,cC:r});case 8:i++,a.next=1;break;case 11:s=this.rC,u=0;case 13:if(!(u<t.length)){a.next=20;break}if(o=t[u],!s.KN(o,n)){a.next=17;break}return a.abrupt("return",{hC:o,cC:s});case 17:u++,a.next=13;break;case 20:return a.abrupt("return",{hC:t[0],cC:s});case 21:case"end":return a.stop()}},null,this,null,Ye)},n}(function(){function t(){this.fC=[]}var n=t.prototype;return n.eC=function(t){this.fC.push(t),this.fC.sort(OS)},n.aC=function(t,n){var i,e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.fC;case 1:if(!(i<e.length)){u.next=17;break}if(r=e[i],!$(s=r.KN(t,n))){u.next=10;break}return u.next=7,Mr.awrap(s);case 7:u.t0=u.sent,u.next=11;break;case 10:u.t0=Boolean(s);case 11:if(!u.t0){u.next=14;break}return u.abrupt("return",r);case 14:i++,u.next=1;break;case 17:return u.abrupt("return",void 0);case 18:case"end":return u.stop()}},null,this,null,Ye)},t}());MS.Wn=new MS;var FS,US=function(){function t(t){this.vC=void 0,this.vC=ge&&ge.document&&ge.document.createElement("div"),hr(this.vC),t.appendChild(this.vC)}return t.prototype.Ed=function(){rr(this.vC)},t}();function jS(t){switch(t){case FS.lC:case"":return FS.lC;case FS.Zb:return FS.Zb;case FS.dC:default:return FS.dC}}!function(t){t.NR="",t.dC="none",t.Zb="metadata",t.lC="auto"}(FS||(FS={}));var HS=[Ug.Vw,Bf.yf,Bf.pu,Bf.qf,Bf.uf,Bf.pf,Bf.Sf,Bf.Ef,Bf.Lf,Bf.Ff,Ty.xg,Ty.Og,Ty.Lg,Ty.Mg,Ty.ow,Ty.Fg,Ty.Ug,Bf.lf,Bf.df,Bf.gf,Bf.mf,Bf.bf,Bf.Af,Bf.Rf,Bf.Nf,Bf.If,Bf.Cf,Bf.Pf,Bf.xf,Bf.Bf,Bf.Hf,Bf.Xf,Bf.Df,Bf.Tf,Bf.Of],XS=function(t){function n(n,i){var e;return(e=t.call(this)||this)._C=void 0,e.wC=void 0,e.gC=void 0,e.yC=void 0,e.iN=FS.dC,e.mC=void 0,e.pC=!0,e.Ty=new jg,e.Sy=new jg,e.Ey=new Gg,e.Iy=new hm,e._C=n,e.gC=i,e.gC.mm=e.mm,e.kC(),e}E(n,t);var i=n.prototype;return i.Oy=function(){this.gC.Oy()},i.xy=function(){var t=this.gC.xy();$(t)&&gu(t)},i.Ly=function(){return this.Fy(void 0)},i.Xy=function(){},i.Qy=function(t){return!1},i.kC=function(){this.Ty.Cw=this.gC.Cy,this.Sy.Cw=this.gC.Dy,this.Ey.Cw=this.gC.Py,this.Iy.Cw=this.gC.By,this.gC.Ks(HS,this.$s)},i.bC=function(){this.gC.nu(HS,this.$s),this.Ty.Cw=void 0,this.Sy.Cw=void 0,this.Ey.Cw=void 0,this.Iy.Cw=void 0},i.My=function(){return this.mC},i.Fy=function(t,n){var i,e,r,s,u,o;return Mr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(hu(n),this.mC=t,t){a.next=4;break}return a.abrupt("return");case 4:if(!yy(i=t.sources.filter(Ay))){a.next=7;break}return a.abrupt("return");case 7:return a.next=9,Mr.awrap(this._C.oC(i,t));case 9:if(e=a.sent,hu(n),r=e.hC,s=e.cC,u=this.Yy(),o=qy(this),this.wC===s&&!this.mu){a.next=25;break}return this.bC(),a.next=19,Mr.awrap(this.gC.Ed());case 19:hu(n),this.wC=s,this.gC=this.AC(s),zS(this.gC,o),Gy(this,o,this),this.kC();case 25:return this.gC.mm=this.mm,this.pC?this.gC.qy():this.gC.Wy(),a.next=29,Mr.awrap(this.gC.Fy(r,t,n));case 29:hu(n),this.TC(r),this.Yy()!==u&&this.Qs(new Qg);case 32:case"end":return a.stop()}},null,this,null,Ye)},i.TC=function(t){this.yC!==t&&(this.yC=t,this.Qs(new Kg(t)))},i.Uy=function(){return this.gC.Uy()},i.jy=function(){this.gC.jy()},i.Hy=function(){this.gC.Hy()},i.Yy=function(){return this.gC.Yy()},i.tm=function(){this.gC.tm()},i.bw=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mC=void 0,this.TC(void 0),t.next=4,Mr.awrap(this.gC.bw());case 4:case"end":return t.stop()}},null,this,null,Ye)},i.Ed=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.tu(),t.next=3,Mr.awrap(this.bw());case 3:return t.next=5,Mr.awrap(this.gC.Ed());case 5:this.Ty.Ed(),this.Sy.Ed(),this.Ey.Ed(),this.Iy.Ed();case 9:case"end":return t.stop()}},null,this,null,Ye)},i.qy=function(){this.pC=!0,this.gC.qy()},i.Wy=function(){this.pC=!1,this.gC.Wy()},T(n,[{key:"Cy",get:function(){return this.Ty}},{key:"nm",get:function(){return this.gC.nm}},{key:"mu",get:function(){return this.gC.mu}},{key:"zg",get:function(){return this.gC.zg}},{key:"im",get:function(){return this.gC.im},set:function(t){this.gC.im=t}},{key:"Jy",get:function(){return this.yC}},{key:"jg",get:function(){return this.gC.jg},set:function(t){this.gC.jg=t}},{key:"Hg",get:function(){return this.gC.Hg}},{key:"Xg",get:function(){return this.gC.Xg}},{key:"By",get:function(){return this.Iy}},{key:"hm",get:function(){return this.gC.hm}},{key:"cm",get:function(){return this.gC.cm}},{key:"Vg",get:function(){return this.gC.Vg},set:function(t){this.gC.Vg=t}},{key:"gm",get:function(){return this.gC.gm}},{key:"qg",get:function(){return this.gC.qg}},{key:"Wg",get:function(){return this.gC.Wg},set:function(t){this.gC.Wg=t}},{key:"ym",get:function(){return this.gC.ym}},{key:"mm",get:function(){return this.iN},set:function(t){this.iN=t,this.gC&&(this.gC.mm=this.iN)}},{key:"$w",get:function(){return this.gC.$w}},{key:"pm",get:function(){return this.gC.pm}},{key:"Gg",get:function(){return this.gC.Gg}},{key:"Py",get:function(){return this.Ey}},{key:"Yg",get:function(){return this.gC.Yg}},{key:"Dy",get:function(){return this.Sy}},{key:"$g",get:function(){return this.gC.$g}},{key:"Qg",get:function(){return this.gC.Qg},set:function(t){this.gC.Qg=t}},{key:"Am",get:function(){return this.gC.Am}},{key:"$N",get:function(){return this.gC.$N}}]),n}(Tu);function zS(t,n){t.Vg!==n.Vg&&(t.Vg=n.Vg),t.Qg!==n.Qg&&(t.Qg=n.Qg),t.Wg!==n.Wg&&(t.Wg=n.Wg)}var VS,qS=function(t){function n(n,i){var e;return(e=t.call(this)||this).Tw=void 0,e.SC=void 0,e.EC=void 0,e.Tw=n.length>>1,e.SC=n,e.EC=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.Tw),e}E(n,t);var i=n.prototype;return i.IC=function(t){return this.SC[2*t]},i.RC=function(t){return this.EC[2*t]},i.NC=function(t){return this.SC[2*t+1]},i.DC=function(t){return this.EC[2*t+1]},T(n,[{key:"BC",get:function(){return this.SC.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.hp=function(t,n){return 0===this.bp(t,n)},n.Qp=function(t,n){return this.bp(t,n)>0},n.Kp=function(t,n){return this.bp(t,n)>=0},n.Ip=function(t,n){return this.bp(t,n)<0},n.Sp=function(t,n){return this.bp(t,n)<=0},n.Tk=function(t,n){return this.Ip(t,n)?t:n},n.Ak=function(t,n){return this.Qp(t,n)?t:n},n.xC=function(t,n,i){return i?this.Sp(t,n):this.Ip(t,n)},n.qN=function(){var t=this;return{get length(){return t.Tw},start:function(n){var i=0|n;return t.OC(i),t.LC(t.IC(i))},end:function(n){var i=0|n;return t.OC(i),t.LC(t.NC(i))}}},n.MC=function(){for(var t=new Array(2*this.Tw),n=new Array(2*this.Tw),i=0;i<this.Tw;i++)t[2*i]=this.IC(i),t[2*i+1]=this.NC(i),n[2*i]=!0,n[2*i+1]=!0;return this.FC(t,n)},n.OC=function(t){if(t<0)throw new v("The index provided ("+t+") must be non-negative");if(t>=this.Tw)throw new v("The index provided ("+t+") is greater than the maximum bound ("+this.Tw+")")},n.UC=function(t){if(0===this.Tw)return this.jC();if(this.VN(t))return t;if(this.Sp(t,this.IC(0)))return this.IC(0);if(this.Kp(t,this.NC(this.Tw-1)))return this.NC(this.Tw-1);for(var n,i=this.HC(),e=0;e<this.Tw;e++){var r=this.IC(e),s=this.Ep(r,t);this.Ip(s,i)&&(n=r,i=s);var u=this.NC(e),o=this.Ep(this.NC(e),t);this.Ip(o,i)&&(n=u,i=o)}return n},n.XC=function(t){for(var n=0,i=0,e=[],r=[];n<this.Tw&&i<t.Tw;){var s=this.IC(n),u=this.NC(n),o=this.RC(n),a=this.DC(n),h=t.IC(i),c=t.NC(i),f=t.RC(i),v=t.DC(i),l=this.Ak(s,h),d=this.Tk(u,c),_=void 0;_=this.hp(s,h)?o&&f:this.hp(l,s)?o:f;var w=void 0;w=this.hp(u,c)?a&&v:this.hp(d,u)?a:v,(this.Ip(l,d)||_&&w&&this.hp(l,d))&&(e.push(l,d),r.push(_,w));var g=this.bp(this.NC(n),t.NC(i));0===g?(n+=1,i+=1):g<0?n+=1:i+=1}return this.FC(e,r)},n.zC=function(){var t=this.VC(),n=t.Tw;if(0===n)return this.FC([t.qC(),t.HC()],[!1,!1]);var i=[],e=[],r=t.IC(0);t.hp(r,t.qC())||(i.push(t.qC(),r),e.push(!1,!t.RC(0)));for(var s=0;s<n-1;s++)i.push(t.NC(s),t.IC(s+1)),e.push(!t.DC(s),!t.RC(s+1));var u=t.NC(n-1);return t.hp(u,t.HC())||(i.push(u,t.HC()),e.push(!t.DC(n-1),!1)),t.FC(i,e)},n.WC=function(t){for(var n=0,i=0,e=this.Tw,r=t.Tw,s=new Array(2*(e+r)),u=new Array(2*(e+r)),o=0;n<e&&i<r;){var a=this.IC(n),h=this.NC(n),c=t.IC(i),f=t.NC(i);this.Ip(a,c)||this.hp(a,c)&&this.Ip(h,f)?(s[o]=a,s[o+1]=h,u[o]=this.RC(n),u[o+1]=this.DC(n),n++):(s[o]=c,s[o+1]=f,u[o]=t.RC(i),u[o+1]=t.DC(i),i++),o+=2}for(;n<e;)s[o]=this.IC(n),s[o+1]=this.NC(n),u[o]=this.RC(n),u[o+1]=this.DC(n),n++,o+=2;for(;i<r;)s[o]=t.IC(i),s[o+1]=t.NC(i),u[o]=t.RC(i),u[o+1]=t.DC(i),i++,o+=2;return this.FC(s,u)},n.GC=function(t){void 0===t&&(t=this.jC());var n=this.Tw;if(n<2)return this;for(var i=[],e=[],r=this.IC(0),s=this.NC(0),u=this.RC(0),o=this.DC(0),a=1;a<n;a++){var h=this.IC(a),c=this.NC(a),f=this.RC(a),v=this.DC(a);this.Ip(r,h)&&this.Qp(s,c)||(this.hp(r,h)&&(u=f=u||f),this.hp(s,c)&&(o=v=o||v),this.xC(h,this.Em(s,t),o||f)?(s=c,o=v):(i.push(r,s),e.push(u,o),r=h,s=c,u=f,o=v))}return i.push(r,s),e.push(u,o),this.FC(i,e).VC()},n.VC=function(){for(var t=[],n=[],i=0;i<this.Tw;i++){var e=this.IC(i),r=this.NC(i),s=this.RC(i),u=this.DC(i);this.hp(e,r)?(s||u)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(s,u))}return this.FC(t,n)},n.YC=function(t){return this.Tw?t.Tw?this.WC(t).GC():this:t},n.$C=function(t){var n=this.VC(),i=t.VC(),e=n.zC(),r=i.zC(),s=e.XC(i),u=r.XC(n);return s.YC(u)},n.xu=function(t){if(this.hp(t,this.jC()))return this;for(var n=[],i=[],e=0;e<this.Tw;e++){var r=this.Em(this.IC(e),t),s=this.Em(this.NC(e),t);n.push(r,s),i.push(this.RC(e),this.DC(e))}return this.FC(n,i)},n.QC=function(t){return 0===this.Tw||0===t.Tw?this:this.VC().XC(t.VC().zC())},n.VN=function(t,n){return this.KC(t,n)>=0},n.ZC=function(t,n,i,e,r){return this.JC(t,n,i,e,r)>=0},n.tD=function(t,n,i,e,r){return this.nD(t,n,i,e,r)>=0},n.iD=function(t){if(t.Tw!==this.Tw)return!1;for(var n=0;n<this.Tw;n++)if(!this.hp(this.IC(n),t.IC(n))||!this.hp(this.NC(n),t.NC(n))||this.RC(n)!==t.RC(n)||this.DC(n)!==t.DC(n))return!1;return!0},n.eD=function(t){for(var n=[],i=[],e=0;e<this.Tw;e++){var r=this.IC(e),s=this.NC(e),u=this.RC(e),o=this.DC(e);t(r,s,u,o)&&(n.push(r,s),i.push(u,o))}return this.FC(n,i)},n.nD=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.jC());for(var s=this.Dp(t,r),u=this.Em(n,r),o=0;o<this.Tw;o+=1)if(this.xC(this.IC(o),u,!e||this.RC(o))&&this.xC(s,this.NC(o),!i||this.DC(o)))return o;return-1},n.JC=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.jC());for(var s=this.Em(t,r),u=this.Dp(n,r),o=0;o<this.Tw;o+=1)if(this.xC(this.IC(o),s,!i||this.RC(o))&&this.xC(u,this.NC(o),!e||this.DC(o)))return o;return-1},n.KC=function(t,n){return this.JC(t,t,!0,!0,n)},n.rD=function(t,n){void 0===n&&(n=this.jC());for(var i=this.Em(t,n),e=this.Tw-1;e>=0;e-=1)if(this.xC(this.IC(e),i,this.RC(e)))return e;return-1},n.sD=function(t,n){void 0===n&&(n=this.jC());for(var i=this.Dp(t,n),e=0;e<this.Tw;e+=1)if(this.xC(i,this.NC(e),this.DC(e)))return e;return-1},n.uD=function(t){return this.OC(t),this.FC([this.IC(t),this.NC(t)],[this.RC(t),this.DC(t)])},n.oD=function(t,n){var i=this.KC(t,n);return i<0?void 0:this.uD(i)},T(t,[{key:"aD",get:function(){for(var t=this.jC(),n=0;n<this.Tw;n++){var i=this.Dp(this.NC(n),this.IC(n));t=this.Em(t,i)}return t}}]),t}()),WS=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.bp=function(t,n){return t<n?Bs.Cs:t===n?Bs.Rs:Bs.Ns},i.Em=function(t,n){return t+n},i.Dp=function(t,n){return t-n},i.Ep=function(t,n){return w.abs(t-n)},i.jC=function(){return 0},i.HC=function(){return 1/0},i.qC=function(){return-1/0},n.hD=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.cD=function(t){for(var i=[],e=[],r=0;r<t.Tw;r++)i.push(t.IC(r).Ik),i.push(t.NC(r).Ik),e.push(t.RC(r)),e.push(t.DC(r));return new n(i,e)},n.fD=function(t){return new n([t,t],[!0,!0])},i.FC=function(t,i){return new n(t,i)},i.LC=function(t){return t},n.vD=function(){return GS},n}(qS),GS=new WS([]);!function(t){t.ew="fullscreenchange",t.lD="fullscreensupportchange",t.Vw="fullscreenerror"}(VS||(VS={}));var YS=function(t){function n(){return t.call(this,VS.Vw)||this}return E(n,t),n}(Eu),$S=new(function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.jm=function(){this.Qs(new YS)},i.Xm=function(){},i.Ed=function(){this.tu()},T(n,[{key:"dD",get:function(){return!1}},{key:"_D",get:function(){return!1}}]),n}(Tu)),QS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).KR=void 0,n.ZR=void 0,n}E(n,t);var i=n.prototype;return i.Gy=function(){var t;return null==(t=this.ZR)?void 0:t.SN},i.Ed=function(){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(t.prototype.Ed.call(this));case 2:if(!this.ZR){n.next=6;break}return n.next=5,Mr.awrap(this.KR.XN(this.ZR));case 5:this.ZR=void 0;case 6:case"end":return n.stop()}},null,this,null,Ye)},T(n,[{key:"wD",set:function(t){this.KR=t,this.ZR=t.TN(gm.wd)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).gD=0,n.yD=!1,n.mD=!0,n.pD=1,n.kD=!1,n.Ca=1,n.Cy=new ym,n.nm=WS.vD().qN(),n.Hg=NaN,n.Xg=!1,n.mu=void 0,n.zg=void 0,n.By=void 0,n.hm=!1,n.gm=!0,n.ym=WS.vD().qN(),n.mm=FS.dC,n.$w=sy.Ng,n.pm=WS.vD().qN(),n.YN=void 0,n.Py=new tb,n.Yg=0,n.Dy=new ym,n.$g=0,n.Am=new RS,n.oN=new bS,n}E(n,t);var i=n.prototype;return i.qy=function(){},i.Wy=function(){},i.xy=function(){this.mD&&(this.mD=!1,this.Qs(new Iy(this.jg)),this.Qs(new Zb(this.jg)))},i.Oy=function(){this.mD||(this.mD=!0,this.Qs(new By(this.jg,this.im)),this.Qs(new Ey(this.jg)))},i.Fy=function(t,n){return Ye.resolve()},i.Uy=function(){return!1},i.jy=function(){},i.Hy=function(){},i.Yy=function(){return $S},i.tm=function(){},i.bw=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.gD=0,this.kD=!1,this.Oy(),this.Qs(new Sy(this.gD));case 4:case"end":return t.stop()}},null,this,null,Ye)},i.Ed=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.tu(),this.Cy.Ed(),this.Py.Ed(),this.Dy.Ed();case 4:case"end":return t.stop()}},null,this,null,Ye)},T(n,[{key:"im",get:function(){},set:function(t){}},{key:"jg",get:function(){return this.gD},set:function(t){this.gD!==t&&(this.gD=t,this.kD=!0,this.Qs(new Ly(this.jg)))}},{key:"cm",get:function(){return{fm:0,vm:0,lm:0,dm:0,_m:0,wm:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Vg",get:function(){return this.yD},set:function(t){this.yD!==t&&(this.yD=t,this.Qs(new Fy(this.jg,this.Qg)))}},{key:"qg",get:function(){return this.mD}},{key:"Wg",get:function(){return this.pD},set:function(t){this.pD!==t&&(this.pD=t,this.Qs(new Py(this.jg,this.Wg)))}},{key:"Gg",get:function(){return this.kD}},{key:"Qg",get:function(){return this.Ca},set:function(t){this.Ca!==t&&(this.Ca=t,this.Qs(new Fy(this.jg,this.Qg)))}},{key:"Tm",get:function(){return!1},set:function(t){}},{key:"$N",get:function(){return this.oN}}]),n}(Tu)),KS=function(t){function n(n,i,e,r,s,u){var o,a=new QS;return(o=t.call(this,MS.Wn,a)||this).Bc=void 0,o.bD=void 0,o.TD=void 0,o.SD=void 0,o.dE=void 0,o.ED=void 0,o.RD=void 0,o.TD=n,o.Bc=i,o.dE=e,o.ED=r,o.SD=u,o.bD=new de(s,o.SD),o.bD.ND(o.TD),a.wD=o.bD,o.RD=new US(o.TD),o}E(n,t);var i=n.prototype;return i.Xy=function(){t.prototype.Xy.call(this),this.bD.CD()},i.zy=function(t){Wy(this,t)},i.Vy=function(){},i.AC=function(t){return t.kI(this.TD,this.bD,this.dE,this.Bc,this.ED,this.SD)},i.Gy=function(){return this.gC.Gy()},i.$y=function(){return this.bD.DD.map(function(t){return t.SN})},i.Js=function(n){t.prototype.Js.call(this,n)},i.au=function(n){t.prototype.au.call(this,n)},i.Ed=function(){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(t.prototype.Ed.call(this));case 2:this.bD.Ed(),this.RD.Ed();case 4:case"end":return n.stop()}},null,this,null,Ye)},T(n,[{key:"um",get:function(){return this.TD}},{key:"Tm",get:function(){return this.gC.Tm},set:function(t){this.gC.Tm=t}}]),n}(XS),ZS=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).TD=void 0,r.PD=void 0,r.BD=void 0,r.xD=void 0,r.OD=void 0,r.aN=new RS,r.TD=n,r.PD=i,r.xD=new ym,r.OD=new tb,r.BD=e,r}E(n,t);var i=n.prototype;return i.Qy=function(t){return!0},i.Wy=function(){},i.xy=function(){throw this.Qs(new Xy(this.BD)),this.PD},i.Oy=function(){},i.My=function(){},i.Fy=function(t,n){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:throw hu(n),this.Qs(new Xy(this.BD)),this.PD;case 3:case"end":return t.stop()}},null,this,null,Ye)},i.qy=function(){},i.Ly=function(){return Ye.resolve()},i.Gy=function(){},i.Yy=function(){return $S},i.$y=function(){return[]},i.Xy=function(){},i.zy=function(t){},i.Vy=function(){},i.Uy=function(){return!1},i.jy=function(){},i.Hy=function(){},i.tm=function(){},i.bw=function(){return Ye.resolve()},i.Ed=function(){return this.tu(),this.xD.Ed(),this.OD.Ed(),Ye.resolve()},T(n,[{key:"Cy",get:function(){return this.xD}},{key:"nm",get:function(){return WS.vD().qN()}},{key:"im",get:function(){return new Date(NaN)},set:function(t){}},{key:"Jy",get:function(){}},{key:"jg",get:function(){return 0},set:function(t){}},{key:"Hg",get:function(){return 0}},{key:"um",get:function(){return this.TD}},{key:"Xg",get:function(){return!0}},{key:"mu",get:function(){return this.PD}},{key:"zg",get:function(){return this.BD}},{key:"By",get:function(){}},{key:"cm",get:function(){return{fm:0,vm:0,lm:0,dm:0,_m:0,wm:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Vg",get:function(){return!1},set:function(t){}},{key:"gm",get:function(){return!0}},{key:"qg",get:function(){return!0}},{key:"Wg",get:function(){return 0},set:function(t){}},{key:"ym",get:function(){return WS.vD().qN()}},{key:"mm",get:function(){return FS.dC},set:function(t){}},{key:"$w",get:function(){return sy.Ng}},{key:"pm",get:function(){return WS.vD().qN()}},{key:"Gg",get:function(){return!1}},{key:"Py",get:function(){return this.OD}},{key:"Yg",get:function(){return 0}},{key:"Dy",get:function(){return this.xD}},{key:"$g",get:function(){return 0}},{key:"Qg",get:function(){return 1},set:function(t){}},{key:"Am",get:function(){return this.aN}},{key:"Tm",get:function(){return!1},set:function(t){}},{key:"hm",get:function(){return!1}}]),n}($g);function JS(t){if(t&&q(t))return Fr({},t,{integration:tE(t.integration),fairplay:uE(t.fairplay),widevine:nE(t.widevine),playready:iE(t.playready),clearkey:oE(t.clearkey),aes128:aE(t.aes128),integrationParameters:hE(t.integrationParameters),preferredKeySystems:cE(t.preferredKeySystems)})}function tE(t){if(G(t))return t}function nE(t){if(t&&q(t))return{persistentState:eE(t.persistentState),distinctiveIdentifier:eE(t.distinctiveIdentifier),audioRobustness:rE(t.audioRobustness),videoRobustness:rE(t.videoRobustness),licenseAcquisitionURL:G(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:sE(t.licenseType),headers:t.headers,useCredentials:!!Y(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:G(t.certificate)||Qo(t.certificate)?t.certificate:void 0}}function iE(t){if(t){var n=nE(t);if(n)return Fr({},n,{customData:G(t.customData)?t.customData:void 0})}}function eE(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function rE(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function sE(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function uE(t){if(t){var n=nE(t);if(n)return Fr({},n,{certificateURL:G(t.certificateURL)?t.certificateURL:void 0})}}function oE(t){if(t){var n=nE(t);if(n)return Fr({},n,{keys:z(t.keys)?t.keys.map(function(t){return function(t){if(!t||!q(t))return;var n=t.id,i=t.value;if(!G(n)||!G(i))return;return{id:n,value:i}}(t)}).filter(H):void 0})}}function aE(t){if(q(t))return{useCredentials:Y(t.useCredentials)?t.useCredentials:void 0}}function hE(t){if(q(t))return t}function cE(t){return t&&z(t)?t.map(function(t){return YA(t)}).filter(H):[ss,is,hs]}var fE,vE=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return E(n,t),n}(Eu),lE=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).LD=[],e.MD=void 0,e.FD=function(t){wu(function(){e.$s(t)})},e.MD=i?e.FD:e.$s,e}E(n,t);var i=n.prototype;return i.UD=function(t){t.Js(this.MD),this.LD.push(t)},i.jD=function(t){t.au(this.MD),Ws(this.LD,t)},i.Ed=function(){this.tu();for(var t=0,n=this.LD;t<n.length;t++){n[t].au(this.MD)}Qs(this.LD)},n}(Yg),dE=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n}(lE);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(fE||(fE={}));var _E,wE=function(t){function i(n){var i;return(i=t.call(this)||this).HD=void 0,i.XD=void 0,i.zD=!1,i.VD=!1,i.qD=void 0,i.WD=void 0,i.GD=void 0,i.H_=void 0,i.YD=function(){return i.$D()},i.QD=function(){return i.KD()},i.GD=n,i.HD=i.XD=i.qD=i.WD=fE.INLINE,i.GD.Ks(VS.ew,i.YD),i.GD.Ks(VS.Vw,i.QD),i.ZD(),i}E(i,t);var e=i.prototype;return e.z_=function(){return t=this,i={get currentMode(){return t.JD()},requestMode:function(n){var i=yE(n);i&&t.tP(i)},supportsMode:function(n){var i=yE(n);return!!i&&t.nP(i)},addEventListener:function(t,i){n.Ks(t,i)},removeEventListener:function(t,i){n.nu(t,i)}},(n=new lE(i,!0)).UD(t),i;var t,n,i},e.tP=function(t){this.iP(t,t)},e.iP=function(t,n){this.XD!==n&&(this.zD=!0,this.HD=t,this.eP(n,this.XD),t!==fE.FULLSCREEN&&(this.qD=t),this.zD=!1,this.ZD())},e.JD=function(){return this.VD?fE.FULLSCREEN:fE.INLINE},e.nP=function(t){switch(t){case fE.FULLSCREEN:return this.GD._D;case fE.INLINE:return!0}return!1},e.ZD=function(){if(!this.zD){var t=this.XD,n=this.JD();this.XD=n,n!==fE.FULLSCREEN&&(this.WD=n),t!==n&&this.Qs(new vE(n))}},e.eP=function(t,n){var i=t===fE.FULLSCREEN;this.VD=i,i!==this.GD.dD&&(i?this.GD.jm():this.GD.Xm())},e.$D=function(){if(!this.zD){var t=this.GD.dD;this.VD=t,t?this.iP(fE.FULLSCREEN,fE.FULLSCREEN):t||this.HD!==fE.FULLSCREEN?this.ZD():this.iP(this.qD,this.WD)}},e.KD=function(){this.$D(),this.Qs(new Xy(new lf(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.Ed=function(){this.GD.Ed(),this.tu()},T(i,[{key:"X_",get:function(){return this.H_||(this.H_=this.z_()),this.H_}}]),i}(Yg),gE={jg:0,Hg:NaN,Xg:!1,mu:void 0,zg:void 0,Vg:!1,qg:!0,Wg:1,$w:sy.Ng,Gg:!1,Yg:0,$g:0,Qg:1};function yE(t){switch(t){case fE.INLINE:case fE.FULLSCREEN:case fE.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel",t.MEDIATAILOR="mediatailor"}(_E||(_E={}));var mE,pE,kE,bE,AE,TE,SE,EE,IE=function(){function t(){this.rP=[]}var n=t.prototype;return n.sP=function(t){var n=this.uP.filter(function(n){return n.oP(t)});if(n.length>1)0;else if(0===n.length)throw v("Unknown ad integration: "+t.integration);return n[0]||null},n.aP=function(t){this.rP.push(t)},T(t,[{key:"uP",get:function(){return this.rP}}]),t}();IE.Wn=new IE,function(t){t.Ug="PLAYING",t.yy="PAUSED",t.hP="SEEK",t.cP="STALLED",t.fP="FAILED",t.vP="INITIAL_BUFFERING",t.lP="NO_ACCESS"}(mE||(mE={})),function(t){t.dP="HTTP_REQUEST_STATUS_CODE_1XX",t._P="HTTP_REQUEST_STATUS_CODE_2XX",t.wP="HTTP_REQUEST_STATUS_CODE_3XX",t.gP="HTTP_REQUEST_STATUS_CODE_4XX",t.yP="HTTP_REQUEST_STATUS_CODE_5XX",t.mP="BUFFER_LENGTH",t.pP="BYTES_RECEIVED",t.kP="SEGMENT_READ_BITRATE",t.bP="SEGMENT_PROFILE_BITRATE",t.AP="NUMBER_OF_FRAMES_DROPPED",t.TP="PLAYBACK_POSITION",t.SP="NUMBER_OF_FRAMES_DECODED",t.EP="PLAYBACK_DELTA_TO_ORIGIN",t.IP="STREAM_DELTA_TO_ORIGIN",t.RP="ORIGIN_TIMESTAMP"}(pE||(pE={})),function(t){t.NP="MANIFEST_URI",t.CP="ASSET_DURATION",t.DP="NUMBER_OF_CONTENT_PROFILES",t.PP="CDN",t.BP="CONTENT_TITLE",t.xP="SERVICE_NAME",t.OP="CONTENT_TYPE",t.LP="CONTENT_DESCRIPTION"}(kE||(kE={})),function(t){t.MP="shutdown_normal_shutdown"}(bE||(bE={})),function(t){t.FP="session/",t.UP="internalError/",t.jP="drmError/",t.HP="caError/",t.XP="networkError/"}(AE||(AE={})),function(t){t.zP="userAction",t.VP="endOfStreamReached"}(TE||(TE={})),function(t){t.PAUSE="qP",t.RESUME="WP"}(SE||(SE={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(EE||(EE={}));var RE,NE,CE,DE,PE,BE="agama";function xE(t){return function(t){switch(t){case RE.NONE:case RE.HORIZONTAL:case RE.VERTICAL:return!0;default:return!1}}(t)?t:RE.NONE}function OE(t){switch(t){case"":return RE.NONE;case"horizontal":return RE.HORIZONTAL;case"vertical":return RE.VERTICAL;default:throw new l}}function LE(t){return{useSeamlessPeriodSwitch:function(t){if(!t||!G(t))return NE.lC;switch(t){case"always":return NE.GP;case"never":return NE.YP;case"clear-only":return NE.CLEAR_ONLY;case"same-drm-only":return NE.SAME_DRM_ONLY;default:return NE.lC}}(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:null==t?void 0:t.needsTimescaleShifting}}function ME(t){return{discontinuityAlignment:FE(null==t?void 0:t.discontinuityAlignment),useLegacy:(n=null==t?void 0:t.useLegacy,H(n)?Boolean(n):void 0)};var n}function FE(t){if(!t||!G(t))return CE.lC;switch(t){case"playlist":return CE.$P;case"media":return CE.QP;default:return CE.lC}}function UE(t,n){var i=Cg(null==t?void 0:t.preferredAudioCodecs,Ng),e=Cg(null==t?void 0:t.preferredVideoCodecs,Ng),r=Cg(null==n?void 0:n.preferredAudioCodecs,Ng),s=Cg(null==n?void 0:n.preferredVideoCodecs,Ng),u=jE(i,r),o=jE(e,s);if(u||o)return{preferredAudioCodecs:u,preferredVideoCodecs:o}}function jE(t,n){return t.length>0?t:n.length>0?n:void 0}function HE(t,n){if(void 0!==n)switch(t){case gm.wd:return n.preferredVideoCodecs;case gm._d:return n.preferredAudioCodecs;default:return}}function XE(t,n,i){var e=function(t,n){var i=ny.Sg;t.useCredentials?i=ny.Tg:t.crossOrigin&&(i=cy(t.crossOrigin));i===ny.Sg&&n&&n.vr&&n.vr[360]&&(i=ny.Ag);return{useCredentials:i===ny.Tg,crossOrigin:i}}(t,n),r=e.useCredentials,s=e.crossOrigin,u=t.liveOffset;H(u)||(u=i&&H(i.liveOffset)?i.liveOffset:void 0);var o=t.timeServer;H(o)||(o=n&&H(n.timeServer)?n.timeServer:void 0);var a=t.hlsDateRange;return H(a)||(a=i&&H(i.hlsDateRange)?Boolean(i.hlsDateRange):void 0),{crossOrigin:s,useCredentials:r,liveOffset:u,timeServer:o,hlsDateRange:a,experimentalRendering:Boolean(t.experimentalRendering),nativeUiRendering:Boolean(t.nativeUiRendering),lowLatency:Boolean(t.lowLatency),useNativePlayback:Boolean(t.useNativePlayback),dash:H(t.dash)?LE(t.dash):void 0,hls:H(t.hls)?ME(t.hls):void 0,abr:UE(t.abr,null==i?void 0:i.abr),lcevc:H(t.lcevc)?Eg(t.lcevc):void 0}}function zE(t){if(null!==t)return t}function VE(t){var n={};if(!q(t))return n;var i=t;for(var e in i)if(_.prototype.hasOwnProperty.call(i,e)){var r=i[e];G(r)&&(n[e]=r)}return n}function qE(t){var n,e={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:zE(t.streamActivityMonitorID),adTagParameters:q(t.adTagParameters)?t.adTagParameters:{},authToken:zE(t.authToken),omidAccessModeRules:t.omidAccessModeRules?VE(t.omidAccessModeRules):void 0};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,s=t.contentSourceID;return r?s?Fr({},e,{availabilityType:"vod",videoID:r,contentSourceID:s}):void i.pr("A VOD DAI configuration was provided without valid contentSourceID which is required."):void i.pr("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?Fr({},e,{availabilityType:"live",assetKey:u}):void i.pr("A Live DAI configuration was provided without valid assetKey which is required.")}i.pr("A DAI configuration was provided without a valid availabilityType which is required.")}function WE(t){switch(t.integration){case"google-dai":return qE(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}function GE(t,n,i){var e=XE(t,n,i),r=zE(t.src),s=t.type;return s||(s=t.src?hy(t.src):void 0),Fr({},e,{src:r,type:s,contentProtection:function(t,n){var i;i=H(t.contentProtection)?t.contentProtection:H(t.drm)?t.drm:H(n)&&H(n.contentProtection)?n.contentProtection:H(n)&&H(n.drm)?n.drm:void 0;return YE(i)}(t,n),ssai:H(t.ssai)?WE(t.ssai):void 0,integrationData:void 0,isAdvertisement:Boolean(t.isAdvertisement)})}function YE(t){if(!jA(t)||!t.integration)return t;switch(t.integration){case hA:return n=t,i=GA(Qr.rs,n),e=GA(Qr.ns,n),r=n[Qr.hs]&&GA(Qr.hs,n),Fr({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(RE||(RE={})),function(t){t.lC="auto",t.GP="always",t.YP="never",t.CLEAR_ONLY="clear-only",t.SAME_DRM_ONLY="same-drm-only"}(NE||(NE={})),function(t){t.lC="auto",t.$P="playlist",t.QP="media"}(CE||(CE={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(DE||(DE={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(PE||(PE={}));var $E="https://content.uplynk.com";function QE(t){if(!t)return!0;var n,i,e=!(gy(n=t.sources)||V(n)&&gy(n[0]))||yy(t.sources),r=!t.ads||(!(i=t.ads)||z(i)&&0===i.length),s=""!==t.poster&&!t.poster;return e&&r&&s}function KE(t){if(t&&t.sources)return function t(n){if(G(n))return hy(n);if(wy(n))return n.type||n.src&&hy(n.src);if(V(n)&&n.length>0)return t(n[0]);return}(t.sources)}function ZE(t){if(t&&t.sources)return function t(n){if(G(n))return n;if(wy(n))return n.src;if(V(n)&&n.length>0)return t(n[0]);return}(t.sources)}function JE(t,n,i){return dy(t)?function(t,n,i){var e=Fr({},my(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:DE.VERIZON_MEDIA,id:"",prefix:$E,preplayParameters:{},playbackUrlParameters:{},assetType:PE.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,G(r)?r:V(r)&&G(r[0])?r:q(s=r)&&G(s.userId)&&(V(s.externalId)||G(s.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,s;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return PE.CHANNEL;case"event":return PE.EVENT;case"asset":default:return PE.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=Eg(t.contentProtected));t.assetInfo?e.assetInfo=Eg(t.assetInfo):e.assetInfo="asset"===e.assetType;t.prefix&&(e.prefix=Ng(t.prefix)||$E);return e.ping=(u=e.assetType,o=t.ping,a=!1,h=!1,c=!1,o?(a=!!Y(o.adImpressions)&&o.adImpressions,h=!!Y(o.freeWheelVideoViews)&&o.freeWheelVideoViews,c=Y(o.linearAdData)?o.linearAdData:u!==PE.ASSET):u!==PE.ASSET&&(c=!0),{adImpressions:a,freeWheelVideoViews:h,linearAdData:c}),e=nI(e=iI(e=tI(e,t),n,i),t,i);var u,o,a,h,c}(t,n,i):function(t,n,i){var e=py(),r=n&&(n.contentProtection||n.drm);if(G(t)){if(e.src=t,e.type=hy(t),r){var s=JS(r);e.contentProtection=YE(s)}}else if(wy(t)||ly(t)){e.src=t.src,e.type=t.type||hy(t.src),e.isAdvertisement=t.isAdvertisement;var u=function(t){return t.type===iy.Ig||t.type===iy.Rg}(t)?t.hesp:void 0;void 0!==u&&(e.hesp=u);var o=q(c=t)&&G(c.integration)&&"mediatailor"===c.integration;o&&(e.integration=t.integration);var a=t.contentProtection||t.drm||r,h=JS(a);e.contentProtection=YE(h),t.ssai&&(e.ssai=WE(t.ssai)),e=tI(e,t)}var c;return e=nI(e=iI(e,n,i),t,i)}(t,n,i)}function tI(t,n){n.useCredentials?t.crossOrigin=ny.Tg:n.crossOrigin&&(t.crossOrigin=cy(n.crossOrigin)),G(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Eg(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Eg(n.useNativePlayback)),n.dash&&(t.dash=LE(n.dash)),n.hls&&(t.hls=ME(n.hls)),n.lcevc&&(t.lcevc=Eg(n.lcevc));var i=void 0!==n.experimentalRendering?Eg(n.experimentalRendering):void 0;void 0!==i&&(t.experimentalRendering=i);var e=void 0!==n.nativeUiRendering?Eg(n.nativeUiRendering):void 0;return void 0!==e&&(t.nativeUiRendering=e),t}function nI(t,n,i){return t.abr=UE(G(n)?void 0:n.abr,null==i?void 0:i.abr),t}function iI(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!H(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!H(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===ny.Sg&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=ny.Ag),t.useCredentials=t.crossOrigin===ny.Tg,G(r)&&!t.timeServer&&(t.timeServer=r),t}function eI(t){var n={src:""};if(t&&t.src){if(n.src=Ng(t.src),"default"in t&&(n.default=Eg(t.default)),n.kind=eb(t.kind),Mm(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var e=t.label;"string"==typeof e&&""!==e&&(n.label=e)}}return n}function rI(t,n){if(W(t))try{return n.sP(t).KP(t)}catch(t){return}}function sI(t){return G(t.sources)&&""!==t.sources||q(t.sources)&&G(t.sources.src)}function uI(t){return t.integration===_E.SPOTX&&!m(t.id)}function oI(t){return"freewheel"===t.integration}function aI(t,n,i){if(void 0===i&&(i=IE.Wn),QE(t))return{sources:[py()]};var e=kg(t);if(e.sources=function(t,n,i){if(gy(t))return[JE(t,n,i)];if(V(t)&&gy(t[0])){for(var e=[],r=0;r<t.length;r++){var s=t[r];e.push(JE(s,n,i))}return e}return[py()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!V(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var s=r[e];(s=rI(s,n))&&(sI(s)||uI(s)||oI(s))&&i.push(s)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var s,u,o,a=!yy(e.sources),h=e.ads&&e.ads.length>0;if(a&&!h?delete e.ads:h&&!a&&(e.sources=[]),"textTracks"in e){var c=function(t){if(!V(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=eI(r)).src&&n.push(r)}return n}(e.textTracks);0===c.length?delete e.textTracks:e.textTracks=c}if("poster"in e&&(e.poster=Ng(e.poster)),"vr"in e&&(e.vr=(s=e.vr,(u=s||{}).stereoMode=xE(u.stereoMode),{360:Boolean(u[360]),stereoMode:u.stereoMode?OE(u.stereoMode):RE.NONE,nativeVR:Boolean(u.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var f=by(e.analytics),v=n&&n.analytics||[];e.analytics=function(t,n){for(var i=kg(t),e=function(e){var r=n[e],s=!t.some(function(t){return t.integration===r.integration});s&&r.integration!==BE&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(f,v)}return"mutedAutoplay"in e&&(e.mutedAutoplay=zy(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,"playAdsAfterTime"in e&&(e.playAdsAfterTime=Ig(e.playAdsAfterTime)),e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}var hI=function(){function t(t){this.ZP=t}return t.prototype.JP=function(t){var n,i,e,r,s,u,o,a=[];if(!t)return"";var h=t.length%4;if(h>0)for(;h++<4;)t+=this.ZP.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.ZP.indexOf(t.charAt(n))<<18|this.ZP.indexOf(t.charAt(n+1))<<12|(s=this.ZP.indexOf(t.charAt(n+2)))<<6|(u=this.ZP.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===u&&(a[n/4]=String.fromCharCode(i,e)),64===s&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.tB=function(t,n){var i,e,r,s,u,o,a,h=[],c="";if((o=t.length%3)>0)for(;o++<3;)c+=this.ZP.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,s=i>>6&63,u=63&i,h[o/3]=this.ZP.charAt(e)+this.ZP.charAt(r)+this.ZP.charAt(s)+this.ZP.charAt(u);return a=(a=h.join("")).slice(0,a.length-c.length),n||(a+=c),a},t.sb=new t(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.nB=new t(t.sb.JP("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function cI(t){return"string"==typeof t}function fI(t){return"number"==typeof t}var vI={}.toString;var lI,dI=Array.isArray||function(t){return"[object Array]"===vI.call(t)};function _I(t,n){return dI(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(lI||(lI={}));var wI,gI=_.keys(lI).map(function(t){return lI[t]});function yI(t){return-1!==gI.indexOf(t)}!function(t){t.MULTIVIEW="multiview"}(wI||(wI={}));var mI,pI=_.keys(wI).map(function(t){return wI[t]});function kI(t){return-1!==pI.indexOf(t)}function bI(t){try{var n=hI.nB.JP(t),i=JSON.parse(n);if(!function(t,n){var i,e=(l=t,"object"==typeof l&&null!==l),r=cI(t.key),s=cI(t.customer_id),u=fI(t.generation_date),o=fI(t.expiration_date),a=_I(t.domains_page,cI),h=_I(t.domains_source,cI),c=_I(t.sdks,n?yI:cI),f=(v=t.send_impression,"boolean"==typeof v);var v;var l;t.features?i=_I(t.features,n?kI:cI):(i=!0,t.features=[]);if(!(e&&r&&s&&u&&o&&a&&h&&c&&f&&i))return!1;return!0}(i,!1))throw new v("The provided license could not be decoded correctly.");return i}catch(t){throw new v("The provided license could not be decoded correctly.")}}function AI(){return mI||(mI={Kl:ye.href,iB:ge.parent&&ge.parent!==r,eB:EI()}),mI}var TI,SI=["http:","https:","ftp:","ws:","wss:"];function EI(){try{return ge.top.location.href}catch(t){return ge&&ge.document&&ge.document.referrer}}!function(t){t[t.rB=0]="rB",t[t.sB=1]="sB",t[t.uB=2]="uB"}(TI||(TI={}));var II,RI=function(t,n,i,e,r,s,u,o,a){void 0===r&&(r=[]),void 0===s&&(s=""),void 0===u&&(u=Date.now()),void 0===o&&(o=[]),void 0===a&&(a=!0),this.oB=t,this.aB=n,this.hB=i,this.cB=e,this.fB=r,this.vB=s,this.lB=u,this.dB=o,this._B=a};!function(t){t.sB="expired",t.wB="invaliddomain",t.gB="invalidsource",t.yB="invalidfeature",t.Vw="error"}(II||(II={}));var NI=function(){function t(t,n,i){this.mB=void 0,this.pB=t,this.kB=n,this.Qo=i,this.mB=OI(this.Qo)}var n=t.prototype;return n.bB=function(t,n){var i=this;if(!QE(t)&&0!==n.hB.length&&!PI(n.hB)){var e=[];if(gy(t.sources)?e=[t.sources]:V(t.sources)&&(e=t.sources),!e.every(function(t){return i.AB(t,n)})){var r=II.gB,s=MI.TB(r);throw new lf(CI(r),s)}}},n.SB=function(n){return this.EB(n.dB)&&this.IB(n)?t.RB(n.cB)?TI.rB:TI.sB:TI.uB},n.NB=function(t,n){if(!$s(n.fB,t)){var i=II.yB,e=MI.TB(i);throw new lf(CI(i),e)}},n.EB=function(t){var n=this;return 0===t.length||t.some(function(t){return n.CB(t)})},n.CB=function(t){return"web"===function(t){switch(t){case lI.ANDROID:return e.g;case lI.ANDROIDTV:case lI.FIRETV:return e.I;case lI.IOS:return e.R;case lI.TVOS:return e.N;case lI.CHROMECAST:case lI.CHROMECASTCAF:return e.M;default:return e.l}}(t)},t.RB=function(t){var n=Number(new Date);return!!t&&n<=t},n.IB=function(t){return!(this.mB&&0!==t.aB.length&&!PI(t.aB))||!!(this.mB&&this.DB(t.aB)&&this.PB(t.aB))},n.DB=function(t){return BI(this.Qo.Kl,t)},n.PB=function(t){if(!this.Qo.iB)return!0;if(this.pB)return!0;var n=this.BB();return!!n&&BI(n,t)},n.BB=function(){if(this.Qo.iB){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Qo.eB?this.Qo.eB:void 0}},n.AB=function(n,i){return!!t.xB(n,i.hB)},t.xB=function(t,n){return BI(this.OB(t),n)},t.OB=function(t){return G(t)?t:wy(t)&&t.src||""},t}();function CI(t){switch(t){case II.wB:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case II.gB:return n.ErrorCode.LICENSE_INVALID_SOURCE;case II.sB:return n.ErrorCode.LICENSE_EXPIRED;case II.yB:return n.ErrorCode.LICENSE_INVALID_FEATURE;case II.Vw:return n.ErrorCode.LICENSE_ERROR}}function DI(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",s="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",u="(\\*|"+s+")",o=new RegExp("ip-range\\("+u+r+u+r+u+r+u+"\\)"),a=e.match(o),h=function(t){return"*"===t?"("+s+")":t};if(null!==a&&5===a.length){var c=new RegExp("^"+a[1]+r+h(a[2])+r+h(a[3])+r+h(a[4])+"$");return null!==i.match(c)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function PI(t){return t.some(function(t){return"*"===t})}function BI(t,n){var e=i.Or(t);if(!xI(e))return!0;for(var r=0;r<n.length;r++){var s=n[r];if(DI(e.hostname,s))return!0;if(DI(A_(t),s))return!0}return!1}function xI(t){return-1!==SI.indexOf(t.protocol)}function OI(t){var n=i.Or(t.Kl);return xI(n)&&!DI(n.hostname,"localhost")&&!function(t){return DI(t.hostname,"theoplayer.doubleclick.net")}(n)}var LI,MI=function(){function t(){}return t.TB=function(t){return t===II.wB?this.LB:t===II.gB?this.MB:t===II.sB?this.FB:t===II.yB?this.UB:this.jB},t}();function FI(t){var n=[t.vS,t.HB,t.XB];switch(t.HB){case LI.zB:n.push(t.Zw);break;case LI.VB:n.push(t.jg),n.push(t.mu);break;case LI.qB:n.push(t.mu)}return n}MI.jB="The license for this player is invalid.",MI.FB="The usage license for this video player has expired.",MI.LB="The current domain is incompatible with the license for this player.",MI.MB="The provided video source is incompatible with the license for this player.",MI.UB="The requested feature is not available with the license for this player.",function(t){t[t.zB=1]="zB",t[t.VB=4]="VB",t[t.qB=5]="qB"}(LI||(LI={}));for(var UI=new Array(256),jI=0;jI<256;jI+=1)UI[jI]=(jI<16?"0":"")+jI.toString(16);function HI(){var t=Wt(),n=(4294967296*w.random()|0)+t&3029421624,i=(4294967296*w.random()|0)+t&3595553209,e=(4294967296*w.random()|0)+t&1130486254,r=(4294967296*w.random()|0)+t&1284287105;return UI[255&n]+UI[n>>>8&255]+UI[n>>>16&255]+UI[n>>>24&255]+"-"+UI[255&i]+UI[i>>>8&255]+"-"+UI[i>>>16&15|64]+UI[i>>>24&255]+"-"+UI[63&e|128]+UI[e>>>8&255]+"-"+UI[e>>>16&255]+UI[e>>>24&255]+UI[255&r]+UI[r>>>8&255]+UI[r>>>16&255]+UI[r>>>24&255]}function XI(t){return ia(t.replace(/-/g,""))}var zI=function(){function t(t){this.ZP=void 0,this.ZP=t}var n=t.prototype;return n.JP=function(t){var n,i,e,r,s,u,o,a=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.ZP.indexOf(t.charAt(n))<<18|this.ZP.indexOf(t.charAt(n+1))<<12|(s=this.ZP.indexOf(t.charAt(n+2)))<<6|(u=this.ZP.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===u&&(a[n/4]=String.fromCharCode(i,e)),64===s&&(a[n/4]=String.fromCharCode(i));return a.join("")},n.tB=function(t){var n,i,e,r,s,u,o,a=[],h="";if((u=t.length%3)>0)for(;u++<3;)h+=this.ZP.charAt(64),t+="\0";for(u=0;u<t.length;u+=3)i=(n=t.charCodeAt(u)<<16|t.charCodeAt(u+1)<<8|t.charCodeAt(u+2))>>18&63,e=n>>12&63,r=n>>6&63,s=63&n,a[u/3]=this.ZP.charAt(i)+this.ZP.charAt(e)+this.ZP.charAt(r)+this.ZP.charAt(s);return(o=a.join("")).slice(0,o.length-h.length)+h},t}();function VI(){return i.Gn()}zI.sb=new zI(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),zI.nB=new zI(zI.sb.JP("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var qI,WI="theoplayer-session-id";function GI(){if(!qI){var t=Nf.Ru(WI);t?qI=t:(qI=HI(),Nf.rf(WI,qI))}return qI}var YI=/[^\x00-\x7E]/g;function $I(t){return"\\u"+Ss(t.charCodeAt(0).toString(16),4,"0")}var QI=0,KI=1,ZI=6e4;function JI(t){var n,i,e,r,s,u=(n=function(t){return[t.WB,t.ic,t.oB,t.IA,t.GB,t.YB,t.$B.map(FI)]}(t),i=[],e=n,r=function(t,n){if(q(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,s).replace(YI,$I));return zI.nB.tB(u)}var tR=function(){function t(t,n,i,e,r,s){var u=this;void 0===e&&(e=zI.sb),void 0===r&&(r=QI),void 0===s&&(s=KI),this.QB=[],this.KB=null,this.ZB=0,this.JB="unknown",this.Va=0,this.tx=void 0,this.nx=function(){VI()-u.ZB>ZI&&u.Pe()},this.ix=function(){u.Pe(!0)},this.wh=t,this.dE=n,this.ex=i,this.sx=e,this.ux=r,this.ox=s,we.ax(this.ix),this.tx=c(this.nx,ZI)}var n=t.prototype;return n.hx=function(){return Boolean(this.GB)},n.vx=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Mr.awrap(this.ex.lx());case 2:if(i.sent._B){i.next=5;break}return i.abrupt("return");case 5:return n={HB:LI.zB,XB:Wt(),Zw:t},i.next=8,Mr.awrap(this._x(n));case 8:case"end":return i.stop()}},null,this,null,Ye)},n.wx=function(t,n){var i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={HB:LI.VB,XB:Wt(),jg:n,mu:t},e.next=3,Mr.awrap(this._x(i));case 3:case"end":return e.stop()}},null,this,null,Ye)},n.gx=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n={HB:LI.qB,XB:Wt(),mu:t},i.next=3,Mr.awrap(this._x(n));case 3:case"end":return i.stop()}},null,this,null,Ye)},n._x=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Mr.awrap(this.ex.lx());case 2:if(n=i.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.sx.tB(n.oB)){i.next=6;break}if(t.HB===LI.qB){i.next=6;break}return i.abrupt("return");case 6:if(t.HB===LI.zB?this.yx():this.hx()||this.yx(),t.vS=this.Va++,this.QB.push(t),(e=t.HB)!==LI.zB&&e!==LI.qB){i.next=14;break}return i.next=12,Mr.awrap(this.Pe());case 12:i.next=19;break;case 14:if(!(this.QB.length>this.ux)){i.next=19;break}return i.next=17,Mr.awrap(this.mx());case 17:i.next=19;break;case 19:case"end":return i.stop()}var e},null,this,null,Ye)},n.Pe=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:void 0===t&&(t=!1);case 1:if(!(this.QB.length>0)){n.next=6;break}return n.next=4,Mr.awrap(this.mx(t));case 4:n.next=1;break;case 6:case"end":return n.stop()}},null,this,null,Ye)},n.kx=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Mr.awrap(this.ex.lx());case 2:return n=i.sent,i.abrupt("return",{WB:Wt(),ic:GI(),oB:this.sx.tB(n.oB)||"dev",IA:this.wh,GB:this.KB,YB:this.JB,$B:t});case 4:case"end":return i.stop()}},null,this,null,Ye)},n.mx=function(t){var n,i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),n=this.QB.splice(0,this.ox),e.next=4,Mr.awrap(this.kx(n));case 4:i=e.sent,t?this.Sd(i):this.bx(i),this.ZB=VI();case 7:case"end":return e.stop()}},null,this,null,Ye)},n.bx=function(t){var n,i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=JI(t),i=new __({Kl:"https://license.theoplayer.com",Bl:n,Ad:!1,Wl:xf.Jn,ql:{"Content-Type":IT.GI},pd:4e3,md:c_.POST}),r.prev=2,r.next=5,Mr.awrap(this.dE.$l(i));case 5:return e=r.sent,r.next=8,Mr.awrap(e.Cl());case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+n;case 13:case"end":return r.stop()}},null,this,[[2,10]],Ye)},n.Sd=function(t){var n=JI(t);this.dE.Sd({Kl:"https://license.theoplayer.com",Bl:n,Pl:IT.GI})},n.yx=function(){this.hx()&&this.Pe(),this.KB=HI(),this.Va=0},n.Ed=function(){we.Ax(this.ix),f(this.tx),this.Pe()},T(t,[{key:"$B",get:function(){return this.QB}},{key:"GB",get:function(){return this.KB}}]),t}();var nR=F.In||F.un&&F.Bn<13;function iR(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var eR=function(){function t(t){this.cC=void 0,this.H_=void 0,this.Tx=void 0,this.cC=t}var n=t.prototype;return n.Sx=function(t){if(!t||!t.drawImage)return!1;var n=this.cC.Gy();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.Ex=function(t,n,i,e,r,u){if(!t||!t.texImage2D)return!1;var o=this.cC,a=o.Gy();if(!a)return!1;if(nR){this.Tx||(this.Tx=s.createElement("canvas"));var h=this.Tx,c=h.getContext("2d"),f=o.$g,l=o.Yg,d=h.width,_=h.height;c.clearRect(0,0,h.width,h.height),d===f&&_===l||(h.width=f,h.height=l),c.drawImage(a,0,0,f,l);var w=!1;f>0&&iR(c,f-1,0)&&(h.width=d,w=!0),l>0&&iR(c,0,l-1)&&(h.height=_,w=!0),w&&c.drawImage(a,0,0,f,l),a=h}try{t.texImage2D(n,i,e,r,u,a)}catch(t){throw new v("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},T(t,[{key:"X_",get:function(){return this.H_||(this.H_=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.Sx.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,s,u){return t.Ex(n,i,e,r,s,u)}}));var t}}]),t}(),rR=function(t){function n(n,i){var e;return(e=t.call(this,"Ix")||this).yp=n,e.uT=i,e}return E(n,t),n.prototype.z_=function(){return new sR(this.yp,this.uT)},n}(sg),sR=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return E(n,t),n}(Eu),uR=function(t,n){this.um=void 0,this.Rx=void 0,this.um=t,this.Rx=n},oR=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Nx=void 0,e.Cx=0,e.Dx=0,e.Px=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.Dx=n.width,e.Cx=n.height,e.Rx(e.Dx,e.Cx)}},e.Nx=new ge.ResizeObserver(e.Px),e.Nx.observe(e.um),e}return E(n,t),n.prototype.Ed=function(){this.Nx.disconnect()},T(n,[{key:"Bx",get:function(){return this.Cx}},{key:"xx",get:function(){return this.Dx}}]),n}(uR),aR=0;function hR(t){var n=VI(),i=w.max(0,16-(n-aR)),e=a(function(){return t(n+i)},i);return aR=n+i,e}var cR,fR=h,vR=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,lR=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function dR(){return cR||(cR=ge&&ge.document&&ge.document.createElement("span")),cR}vR&&lR||(vR=hR,lR=fR),vR=vR.bind(t),lR=lR.bind(t);var _R=["Webkit","Moz","O","ms"],wR=function(){var t=!1;try{if(void 0!==ge&&"function"==typeof ge.addEventListener){var n=_.defineProperty({},"passive",{get:function(){t=!0}});ge.addEventListener("testPassiveEventSupport",Z,n),ge.removeEventListener("testPassiveEventSupport",Z,n)}}catch(t){}return t}(),gR=jr();function yR(t){return gR.has(t)||gR.set(t,function(t){var n=dR();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<_R.length;e++){var r=_R[e],s=r+i;if(void 0!==n.style[s])return s}return t}(t)),gR.get(t)}function mR(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function pR(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[yR("transition")]="0s"}var kR=function(t){function n(n,i,e){var u;(u=t.call(this,n,i)||this).Ox=void 0,u.Lx=0,u.Dx=NaN,u.Cx=NaN,u.Mx=void 0,u.Fx=void 0,u.Ux=void 0,u.jx=void 0,u.Hx=void 0,u.bw=function(){u.Fx.style.width=1e5+"px",u.Fx.style.height=1e5+"px",u.Mx.scrollLeft=1e5,u.Mx.scrollTop=1e5,u.Ux.scrollLeft=1e5,u.Ux.scrollTop=1e5,0===u.Ux.scrollTop&&vR(u.bw)},u.Xx=function(){var t=u.xx,n=u.Bx;u.Rx(t,n),u.Dx=t,u.Cx=n,u.bw(),u.Lx=0},u.zx=function(){if(!u.Lx){var t=u.xx,n=u.Bx;t===u.Dx&&n===u.Cx||(u.Lx=vR(u.Xx))}},u.Vx=function(){u.Hx||(u.Hx=a(u.qx,66))},u.qx=function(){u.Hx=void 0,u.Wx()},u.Wx=function(){u.zx()};var o=function(t,n){return r.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");e||"static"!==o||(n.style.position="relative");var h,c=s.createElement("div");return u.Ox=c,u.Mx=s.createElement("div"),u.Fx=s.createElement("div"),u.Ux=s.createElement("div"),u.jx=s.createElement("div"),mR(u.Mx),mR(u.Ux),pR(u.Fx),pR(h=u.jx),h.style.width="200%",h.style.height="200%",c.appendChild(u.Mx),c.appendChild(u.Ux),u.Mx.appendChild(u.Fx),u.Ux.appendChild(u.jx),n.appendChild(c),u.Mx.addEventListener("scroll",u.zx),u.Ux.addEventListener("scroll",u.zx),r&&r.addEventListener("resize",u.Vx),u.zx(),u}return E(n,t),n.prototype.Ed=function(){lR(this.Lx),this.Lx=0,this.Mx.removeEventListener("scroll",this.zx),this.Ux.removeEventListener("scroll",this.zx),rr(this.Ox),r&&r.removeEventListener("resize",this.Vx)},T(n,[{key:"Bx",get:function(){return this.um.getBoundingClientRect().height||this.Cx||0}},{key:"xx",get:function(){return this.um.getBoundingClientRect().width||this.Dx||0}}]),n}(uR),bR=function(t){function n(n){var i;return(i=t.call(this)||this).um=void 0,i.Nx=void 0,i.Px=function(t,n){i.Qs(new rR(t,n))},i.um=n,i}E(n,t);var i=n.prototype;return i.cc=function(t){this.Nx||("function"==typeof ge.ResizeObserver?this.Nx=new oR(this.um,this.Px):this.Nx=new kR(this.um,this.Px,t))},i.Ed=function(){this.tu(),this.Nx&&(this.Nx.Ed(),this.Nx=void 0)},T(n,[{key:"Bx",get:function(){return this.Nx?this.Nx.Bx:0}},{key:"xx",get:function(){return this.Nx?this.Nx.xx:0}}]),n}(Tu),AR=function(t){function n(){return t.call(this,VS.ew)||this}return E(n,t),n}(Eu);var TR=function(){if(s)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in s)return{Gx:i[0],Yx:i[1],$x:i[2],Qx:i[3],Kx:i[4],Zx:i[5]}}}(),SR=function(t){function n(){return t.call(this,VS.lD)||this}return E(n,t),n}(Eu),ER=function(t){function n(i){var e;return(e=t.call(this)||this).um=void 0,e._D=void 0,e.dD=!1,e.Jx=function(){return e.YD()},e.tO=function(){return e.QD()},e.um=i,e._D=n.nO(i),s.addEventListener(TR.Kx,e.Jx),e.YD(),e}E(n,t),n.nO=function(t){return Boolean(TR&&s[TR.Qx]&&TR.Gx in t)};var i=n.prototype;return i.jm=function(){var t=this.um[TR.Gx]();t&&t.then?t.then(this.Jx,this.tO):(s.removeEventListener(TR.Zx,this.tO),s.addEventListener(TR.Zx,this.tO))},i.Xm=function(){var t=s[TR.Yx]();t&&t.then?t.then(this.Jx,this.tO):(s.removeEventListener(TR.Zx,this.tO),s.addEventListener(TR.Zx,this.tO))},i.YD=function(){var t=this.dD,n=this.um===s[TR.$x];this.dD=n,t!==n&&this.Qs(new AR)},i.QD=function(){this.Qs(new YS)},i.Ed=function(){this.tu(),s.removeEventListener(TR.Kx,this.Jx),s.removeEventListener(TR.Zx,this.tO)},n}(Tu),IR=function(t){function n(i){var e;return(e=t.call(this)||this).um=void 0,e._D=void 0,e.dD=!1,e.Jx=function(){return e.YD()},e.um=i,e._D=n.nO(i),e.um.addEventListener("webkitbeginfullscreen",e.Jx),e.um.addEventListener("webkitendfullscreen",e.Jx),e.um.addEventListener("webkitpresentationmodechanged",e.Jx),e.YD(),e}E(n,t),n.nO=function(t){return F.un&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.jm=function(){var t=this;this.um.webkitSupportsPresentationMode&&this.um.webkitSupportsPresentationMode("fullscreen")?F.un?requestAnimationFrame(function(){return t.um.webkitSetPresentationMode("fullscreen")}):this.um.webkitSetPresentationMode("fullscreen"):this.um.webkitEnterFullscreen()},i.Xm=function(){this.um.webkitSupportsPresentationMode&&this.um.webkitSupportsPresentationMode("inline")?this.um.webkitSetPresentationMode("inline"):this.um.webkitExitFullscreen()},i.YD=function(){var t,n=this.dD;t=this.um.webkitPresentationMode?"fullscreen"===this.um.webkitPresentationMode:!!this.um.webkitDisplayingFullscreen,this.dD=t,n!==t&&this.Qs(new AR)},i.Ed=function(){this.tu(),this.um.removeEventListener("webkitbeginfullscreen",this.Jx),this.um.removeEventListener("webkitendfullscreen",this.Jx),this.um.removeEventListener("webkitpresentationmodechanged",this.Jx)},n}(Tu),RR=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).iO=[],n.eO=void 0,n.VD=!1,n.YD=function(){var t=n.VD,i=n.rO();t!==i&&(n.VD=i,n.Qs(new AR))},n}E(n,t);var i=n.prototype;return i.jm=function(){this.eO?this.eO.jm():this.Qs(new YS)},i.Xm=function(){for(var t=0,n=this.iO;t<n.length;t++){var i=n[t];i.dD&&i.Xm()}},i.sO=function(t){this.eO=t},i.uO=function(t){this.iO.push(t),t.Ks(VS.ew,this.YD),t.Ks(VS.Vw,this.$s),this.YD()},i.oO=function(t){Ws(this.iO,t),t.nu(VS.ew,this.YD),t.nu(VS.Vw,this.$s)},i.rO=function(){for(var t=0,n=this.iO;t<n.length;t++){if(n[t].dD)return!0}return!1},i.bw=function(){this.eO=void 0,this.VD=!1;for(var t=this.iO.slice(),n=0;n<t.length;n++){var i=t[n];this.oO(i),i.Ed()}this.YD()},i.Ed=function(){this.tu(),this.bw()},T(n,[{key:"_D",get:function(){return!!this.eO&&this.eO._D}},{key:"dD",get:function(){return this.VD}}]),n}(Tu),NR=function(t){function n(n,i){var e;return(e=t.call(this)||this).cC=void 0,e.aO=void 0,e.hO=void 0,e.cO=!1,e.fO=function(){return e.Kh()},e.YD=function(t){e.cO||e.Qs(t)},e.cC=n,e.aO=i,e.hO=$S,e.vO(),e.cC.Ks(Bf.pf,e.fO),e.Kh(),e}E(n,t);var i=n.prototype;return i.jm=function(){this.aO&&this.hO.jm()},i.Xm=function(){this.hO.Xm()},i.vO=function(){this.hO.Ks(VS.ew,this.YD),this.hO.Ks(VS.Vw,this.$s)},i.lO=function(){this.hO.nu(VS.ew,this.YD),this.hO.nu(VS.Vw,this.$s)},i.Kh=function(){var t=this.hO,n=this.cC.Yy();if(t!==n){this.cO=!0;var i=this.dD,e=this._D;i&&this.Xm(),this.lO(),this.hO=n,this.vO(),i&&!this.dD&&this._D?this.jm():this.Xm(),this.cO=!1,e!==this._D&&this.Qs(new SR),i!==this.dD&&this.Qs(new AR)}},i.Ed=function(){this.tu(),this.lO(),this.cC.nu(Bf.pf,this.fO)},T(n,[{key:"_D",get:function(){return!!this.aO&&this.hO._D}},{key:"dD",get:function(){return this.hO.dD}}]),n}(Tu);function CR(t){var n;return{get url(){return t.Kl},get method(){return t.md},get headers(){return n||(n=t.ql.$f()),n},get body(){return t.Bl},get useCredentials(){return t.Ad},get type(){return OR(t.vs)},get subType(){return MR(t.kd)},get mediaType(){return UR(t.bd)},get responseType(){return PR(t.Wl)}}}function DR(t){switch(t.toLowerCase()){case"arraybuffer":return xf.Wf;case"json":return xf.Gf;case"stream":return xf.Yf;case"text":default:return xf.Jn}}function PR(t){return t}function BR(t){switch(t.toUpperCase()){case"POST":return c_.POST;case"PUT":return c_.PUT;case"DELETE":return c_.DELETE;case"HEAD":return c_.HEAD;case"OPTIONS":return c_.OPTIONS;case"GET":default:return c_.GET}}function xR(t){switch(t.toLowerCase()){case"manifest":return f_.td;case"segment":return f_.ed;case"content-protection":return f_.rd;default:return f_.Jl}}function OR(t){return t}function LR(t){switch(t.toLowerCase()){case"initialization-segment":return v_.ud;case"fairplay-license":return v_.od;case"fairplay-certificate":return v_.ad;case"widevine-license":return v_.hd;case"widevine-certificate":return v_.fd;case"playready-license":return v_.vd;case"clearkey-license":return v_.ld;case"aes128-key":return v_.dd;default:return v_.Jl}}function MR(t){return t}function FR(t){switch(t.toLowerCase()){case"audio":return l_._d;case"video":return l_.wd;case"text":return l_.Jn;case"image":return l_.yd;case"":default:return l_.Jl}}function UR(t){return t}var jR=function(){function t(t,n){this.dO=new ea,this._O=[],this.H_=void 0,this.wO=!1,this.Fd=void 0,this.gO=0,this.yO=t,this.mO=n}var n=t.prototype;return n.wA=function(){this.wO=!0,this.dO.Wu(null)},n.pO=function(){this.dO.Gu(new Xd(this._O))},n.kO=function(t){if(!this.bO)throw new l("Cannot respond more than once");if(!q(t))throw new l("Expected valid response");this.Fd=this.AO(t),this.wA()},n.TO=function(){try{var t=this.mO(this.X_);t?this.SO(t):this.EO||this.IO||this.wA()}catch(t){this._O.push(t),this.pO()}},n.SO=function(t){if(this.IO)throw new v("Request has been redirected or a response already exists");if($(t))this.RO(t);else{if("function"!=typeof t)throw new l("Expected promise or function");var n=new ea;try{var i=t(function(t){t?n.Gu(t):n.Wu(void 0)});$(i)&&n.Wu(i)}catch(t){n.Gu(t)}this.RO(n.Hu)}},n.RO=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.gO++,n.next=4,Mr.awrap(t);case 4:this.gO--,this.EO||this.IO||(this._O.length?this.pO():this.wA()),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),this.gO--,this._O.push(n.t0),this.EO||this.IO||this.pO();case 13:case"end":return n.stop()}},null,this,[[0,8]],Ye)},T(t,[{key:"CO",get:function(){return this.dO.Hu}},{key:"X_",get:function(){return this.H_||(this.H_=this.DO()),this.H_}},{key:"IO",get:function(){return this.wO}},{key:"bO",get:function(){return!this.wO}},{key:"EO",get:function(){return this.gO>0}},{key:"Ud",get:function(){return this.Fd}}]),t}(),HR=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).PO=void 0,r.PO=e,r.TO(),r}E(n,t),n.BO=function(t,n,i){var e=void 0===t.body?i:t.body;return new d_({Hi:e,$l:n.$l,Wl:n.$l.Wl,ql:t.headers,Vl:t.status,Gl:t.statusText,Ql:t.url,Yl:!0},n)};var i=n.prototype;return i.DO=function(){return i=CR((t=this).$l),{get closed(){return!t.bO},get request(){return i},get url(){return t.Kl},get status(){return t.Vl},get statusText(){return t.Gl},get headers(){return n||(n=t.ql.$f()),n},get body(){return t.Bl},respondWith:function(n){return t.kO(n)},waitUntil:function(n){return t.SO(n)}};var t,n,i},i.AO=function(t){return n.BO(t,this.yO,this.PO)},T(n,[{key:"Bl",get:function(){return this.PO}},{key:"ql",get:function(){return this.yO.ql}},{key:"$l",get:function(){return this.yO.$l}},{key:"Ud",get:function(){return this.Fd}},{key:"Vl",get:function(){return this.yO.Vl}},{key:"Gl",get:function(){return this.yO.Gl}},{key:"Kl",get:function(){return this.yO.Ql}}]),n}(jR),XR=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).xO=void 0,r.OO=void 0,r.OO=e,r.TO(),r}E(n,t);var i=n.prototype;return i.DO=function(){return t=this,{get url(){return t.Kl},get method(){return t.md},get headers(){return n||(n=t.ql.$f()),n},get body(){return t.Bl},get closed(){return!t.bO},get useCredentials(){return t.Ad},get type(){return OR(t.vs)},get subType(){return MR(t.kd)},get mediaType(){return UR(t.bd)},get responseType(){return PR(t.Wl)},redirect:function(n){return t.LO(n)},respondWith:function(n){return t.kO(n)},waitUntil:function(n){return t.SO(n)}};var t,n},i.AO=function(t){var n=this.yO.Bl,i=new d_({Hi:n,ql:{},$l:this.yO,Ql:this.yO.Kl,Wl:this.yO.Wl,Vl:200,Gl:"OK"});return HR.BO(t,i,n)},i.LO=function(t){if(!this.bO)throw new l("Cannot redirect, already redirected or has a response");var n;n=G(t)?{url:t}:t,this.xO=function(t,n){return new __({Kl:void 0===t.url?n.Kl:t.url,md:void 0!==t.method?BR(t.method):void 0,ql:t.headers,Bl:t.body,Ad:t.useCredentials,vs:void 0!==t.type?xR(t.type):void 0,kd:void 0!==t.subType?LR(t.subType):void 0,bd:void 0!==t.mediaType?FR(t.mediaType):void 0,Wl:void 0!==t.responseType?DR(t.responseType):void 0},n)}(n,this.yO),this.wA()},T(n,[{key:"Bl",get:function(){return this.yO.Bl}},{key:"bO",get:function(){return this.OO&&!this.wO}},{key:"ql",get:function(){return this.yO.ql}},{key:"md",get:function(){return this.yO.md}},{key:"MO",get:function(){return this.xO}},{key:"Ud",get:function(){return this.Fd}},{key:"Wl",get:function(){return this.yO.Wl}},{key:"pd",get:function(){return this.yO.pd}},{key:"qs",get:function(){return this.yO.qs}},{key:"vs",get:function(){return this.yO.vs}},{key:"kd",get:function(){return this.yO.kd}},{key:"bd",get:function(){return this.yO.bd}},{key:"Kl",get:function(){return this.yO.Kl}},{key:"Ad",get:function(){return this.yO.Ad}},{key:"Td",get:function(){return this.yO.Td}}]),n}(jR);var zR,VR=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new qR(n);return(e=t.call(this,r,i)||this).FO=void 0,e.FO=r,e}E(n,t);var i=n.prototype;return i.UO=function(t){this.FO.UO(t)},i.jO=function(t){this.FO.jO(t)},i.HO=function(t){this.FO.HO(t)},i.XO=function(t){this.FO.XO(t)},i.zO=function(t){this.FO.zO(t)},n}(g_),qR=function(){function t(t){this.Id=void 0,this.VO=[],this.qO=[],this.Id=t}var n=t.prototype;return n.$l=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Mr.awrap(this.WO(t,t.qs));case 3:n=i.sent,i.next=13;break;case 6:if(i.prev=6,i.t0=i.catch(0),!(i.t0 instanceof T_)){i.next=12;break}return i.next=11,Mr.awrap(this.GO(i.t0,t.qs));case 11:return i.abrupt("return",i.sent);case 12:throw i.t0;case 13:return i.next=15,Mr.awrap(this.YO(n,t.qs));case 15:if(!h_(n=i.sent)){i.next=20;break}return i.abrupt("return",n);case 20:throw new E_(n);case 21:case"end":return i.stop()}},null,this,[[0,6]],Ye)},n.Sd=function(t){return this.Id.Sd(t)},n.WO=function(t,n){var i,e,r,s,u,o;return Mr.async(function(a){for(;;)switch(a.prev=a.next){case 0:hu(n),i=t,r=0,s=this.VO.slice();case 3:if(!(r<s.length)){a.next=21;break}if(u=s[r],hu(n),(o=new XR(i,u,!e)).IO){a.next=17;break}return a.prev=8,a.next=11,Mr.awrap(o.CO);case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(8),a.abrupt("continue",18);case 17:o.MO&&!e?i=o.MO:o.Ud&&!e&&(e=o.Ud);case 18:r++,a.next=3;break;case 21:if(!e){a.next=23;break}return a.abrupt("return",e);case 23:return a.abrupt("return",this.Id.$l(i));case 24:case"end":return a.stop()}},null,this,[[8,13]],Ye)},n.GO=function(t,n){var i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t instanceof E_?t.Ud:new d_({Hi:null,$l:t.$l,Vl:0,Gl:""}),r.next=3,Mr.awrap(this.YO(i,n));case 3:if((e=r.sent)!==i){r.next=8;break}throw t;case 8:if(!h_(e)){r.next=12;break}return r.abrupt("return",e);case 12:throw new E_(e);case 13:case"end":return r.stop()}},null,this,null,Ye)},n.YO=function(t,n){var i,e,r,s,u,o;return Mr.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=t,e=0,r=this.qO.slice();case 2:if(!(e<r.length)){a.next=23;break}return s=r[e],hu(n),a.next=7,Mr.awrap(Ye.resolve(i.Mu().Hi(n)));case 7:if(u=a.sent,(o=new HR(i,s,u)).IO){a.next=19;break}return a.prev=10,a.next=13,Mr.awrap(o.CO);case 13:a.next=19;break;case 15:return a.prev=15,a.t0=a.catch(10),a.abrupt("continue",20);case 19:i=o.Ud||i;case 20:e++,a.next=2;break;case 23:return a.abrupt("return",i);case 24:case"end":return a.stop()}},null,this,[[10,15]],Ye)},n.UO=function(t){this.VO.unshift(t)},n.jO=function(t){this.VO.push(t)},n.HO=function(t){Ws(this.VO,t)},n.XO=function(t){this.qO.unshift(t)},n.zO=function(t){Ws(this.qO,t)},n.Ed=function(){this.Id.Ed(),Qs(this.VO),Qs(this.qO)},t}(),WR=function(){function t(t){this.H_=void 0,this.dE=t}var n=t.prototype;return n.UO=function(t){this.dE.UO(t)},n.HO=function(t){this.dE.HO(t)},n.XO=function(t){this.dE.XO(t)},n.zO=function(t){this.dE.zO(t)},T(t,[{key:"X_",get:function(){var t;return this.H_||(this.H_=(t=this,{addRequestInterceptor:function(n){t.UO(n)},removeRequestInterceptor:function(n){t.HO(n)},addResponseInterceptor:function(n){t.XO(n)},removeResponseInterceptor:function(n){t.zO(n)}})),this.H_}}]),t}(),GR=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).H_=void 0,r.$O=function(t){r.Qs(t)},r.QO=function(t){r.Qs(t)},r.KO=n,r.dE=i,r.ED=e,r.KO.Ks(Bf.Ef,r.$O),r.KO.Ks(Bf.Sf,r.QO),r}E(n,t);var i=n.prototype;return i.ZO=function(t){this.ED.ZO(t)},i.UO=function(t){this.dE.UO(t)},i.HO=function(t){this.dE.HO(t)},i.XO=function(t){this.dE.XO(t)},i.zO=function(t){this.dE.zO(t)},i.Ed=function(){this.tu(),this.KO.nu(Bf.Ef,this.$O),this.KO.nu(Bf.Sf,this.QO)},T(n,[{key:"X_",get:function(){var t;return this.H_||(this.H_=(t=this,{get online(){return t.gm},get estimator(){return n=t.JO,{get bandwidth(){return n.PR},get roundTripTime(){return n.xR}};var n},setEstimator:function(n){t.ZO(function(t){if(t)return{get PR(){return Rg(t.bandwidth)},get xR(){return Rg(t.roundTripTime)},DR:function(n){return function(t){if(t)return{tL:function(n){t.markRequestStart(n)},nL:function(n){t.markResponseStart(n)},iL:function(n,i){t.markResponseData(n,i)},eL:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(CR(n)))}}}(n))},addRequestInterceptor:function(n){t.UO(n)},removeRequestInterceptor:function(n){t.HO(n)},addResponseInterceptor:function(n){t.XO(n)},removeResponseInterceptor:function(n){t.zO(n)},addEventListener:function(n,i){t.Ks(n,i)},removeEventListener:function(n,i){t.nu(n,i)}})),this.H_}},{key:"gm",get:function(){return this.KO.gm}},{key:"JO",get:function(){return this.ED.JO}}]),n}(Tu);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(zR||(zR={}));var YR=30,$R=1,QR=5;function KR(t,n,i,e,r,s){var u=[],o=t-w.max(s,$R),a=t+r;if(n&&i){var h=Ut(i,$R,QR),c=n-h;o=w.min(o,c);var f=n+i+h;a=w.max(a,f)}return 0!==o&&e.tD(0,o)&&u.push([0,o]),e.tD(a,1/0)&&u.push([a,1/0]),u}function ZR(t){return t instanceof v&&"QuotaExceededError"===t.name}var JR={type:zR.BANDWIDTH},tN=20;function nN(t){var n,i,e,r=kg(JR);return G(t)?r.type=iN(t):q(t)&&function(t){switch(t){case zR.PERFORMANCE:case zR.QUALITY:case zR.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=iN(t.type)),q(t)&&q(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=Ig(n.bitrate),m(e)||(i.bitrate=e),i)),r}function iN(t){switch(t){case"bandwidth":return zR.BANDWIDTH;case"performance":return zR.PERFORMANCE;case"quality":return zR.QUALITY}}var eN=function(t){function n(n){var i;return(i=t.call(this,"sL")||this).rL=n,i}return E(n,t),n}(Eu),rN=function(t){function n(n){var i;return(i=t.call(this,"oL")||this).uL=n,i}return E(n,t),n}(Eu),sN=function(t){function n(n){var i;return(i=t.call(this,"hL")||this).aL=n,i}return E(n,t),n}(Eu),uN=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(n=t.call.apply(t,[this].concat(r))||this).H_=(i=nn(n),{get strategy(){return{metadata:(t=i.uL).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.uL=nN(t)},get targetBuffer(){return i.rL},set targetBuffer(t){var n=Ig(t);m(n)||(i.rL=n)},get bufferLookbackWindow(){return i.aL},set bufferLookbackWindow(t){var n=Ig(t);m(n)||(i.aL=n<=0?YR:n)},get maxBufferLength(){return i.cL}}),n.fL=JR,n.vL=tN,n.lL=YR,n.dL=1/0,n._L=void 0,n.wL=void 0,n}E(n,t);var i=n.prototype;return i.gL=function(t){this.wL=t},i.ZO=function(t){this._L=t},i.yL=function(t){var n=w.min(t,.8*this.dL);if(n=w.max(10,n),this.dL===n)return!1;var i=this.mL;this.dL=n;var e=this.mL;return e!==i&&this.Qs(new eN(e)),!0},T(n,[{key:"pL",get:function(){switch(this.fL.type){case zR.PERFORMANCE:return 0;case zR.QUALITY:return 1/0;case zR.BANDWIDTH:return this.fL.metadata&&void 0!==this.fL.metadata.bitrate?this.fL.metadata.bitrate:8*Zg.wg();default:return 8*Zg.wg()}}},{key:"X_",get:function(){return this.H_}},{key:"uL",get:function(){return this.fL},set:function(t){this.fL=t,this.Qs(new rN(t))}},{key:"rL",get:function(){return this.vL},set:function(t){this.vL=t,this.Qs(new eN(t))}},{key:"mL",get:function(){return w.min(this.vL,this.dL)}},{key:"aL",get:function(){return this.lL},set:function(t){this.lL=t,this.Qs(new sN(t))}},{key:"cL",get:function(){return this.dL}},{key:"JO",get:function(){var t;return null!=(t=this._L)?t:this.wL.$N}}]),n}(Tu),oN=function(t){function n(){return t.call(this,"uw")||this}return E(n,t),n.prototype.z_=function(){return new aN},n}(sg),aN=function(t){function n(){return t.call(this,"change")||this}return E(n,t),n}(Eu),hN=function(t){function n(n,i,e){var r;(r=t.call(this,e)||this).kL=void 0,r.QB=void 0,r.bL=function(t){ug(t)&&wu(function(){r.Qs(t.X_)})},r.kL=n,r.QB=i;for(var s=0,u=r.QB;s<u.length;s++){var o=u[s];r.kL.Ks(o,r.bL)}return r}return E(n,t),n.prototype.Ed=function(){this.tu();for(var t=0,n=this.QB;t<n.length;t++){var i=n[t];this.kL.nu(i,this.bL)}},n}(Tu),cN=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).kL=void 0,e.bL=function(t){ug(t)&&wu(function(){e.Qs(t.X_)})},e.kL=n,e.kL.Js(e.bL),e}return E(n,t),n.prototype.Ed=function(){this.tu(),this.kL.au(this.bL)},n}(Yg);var fN=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).np=0,n.ip=1/0,n.H_=void 0,n}E(n,t);var i=n.prototype;return i.bw=function(){0===this.np&&this.ip===1/0||(this.np=0,this.ip=1/0,this.Qs(new oN))},i.AL=function(){return new WS([this.Vm,this.qm],[!0,!0])},T(n,[{key:"Vm",get:function(){return this.np},set:function(t){if(this.qm<=t)throw new v("Start time of a clip should be smaller than the end time.");this.np!==t&&(this.np=t,this.Qs(new oN))}},{key:"qm",get:function(){return this.ip},set:function(t){if(t<=this.Vm)throw new v("End time of a clip should be larger than the start time.");this.ip!==t&&(this.ip=t,this.Qs(new oN))}},{key:"X_",get:function(){var t,n,i;return this.H_||(this.H_=(i={get startTime(){return t.Vm},set startTime(n){t.Vm=n},get endTime(){return t.qm},set endTime(n){t.qm=n},addEventListener:function(t,i){n.Ks(t,i)},removeEventListener:function(t,i){n.nu(t,i)}},n=new cN(t=this,i),i)),this.H_}}]),n}(Yg),vN=function(t){function n(n){var i;return(i=t.call(this)||this).TL=function(t){i.SL(t)||i.Qs(t)},i.EL=n,i.EL.Js(i.TL),i}E(n,t);var i=n.prototype;return i.IL=function(){return this.EL.Cy},i.$y=function(){return this.EL.$y()},i.RL=function(){return this.EL.nm},i.NL=function(){return this.EL.Jy},i.CL=function(){return this.EL.im},i.DL=function(t){this.EL.im=t},i.PL=function(){return this.EL.jg},i.BL=function(t){this.EL.jg=t},i.xL=function(){return this.EL.Hg},i.OL=function(){return this.EL.um},i.LL=function(){return this.EL.Xg},i.ML=function(){return this.EL.mu},i.FL=function(){return this.EL.zg},i.UL=function(){return this.EL.hm},i.jL=function(){return this.EL.Vg},i.HL=function(t){this.EL.Vg=t},i.XL=function(){return this.EL.gm},i.zL=function(){return this.EL.qg},i.VL=function(){return this.EL.Wg},i.qL=function(t){this.EL.Wg=t},i.WL=function(){return this.EL.ym},i.GL=function(){return this.EL.mm},i.YL=function(t){this.EL.mm=t},i.$L=function(){return this.EL.$w},i.QL=function(){return this.EL.pm},i.KL=function(){return this.EL.Gg},i.My=function(){return this.EL.My()},i.Fy=function(t,n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return hu(n),i.next=3,Mr.awrap(this.EL.Fy(t,n));case 3:case"end":return i.stop()}},null,this,null,Ye)},i.ZL=function(){return this.EL.Py},i.JL=function(){return this.EL.Yg},i.tM=function(){return this.EL.Dy},i.nM=function(){return this.EL.$g},i.iM=function(){return this.EL.Qg},i.eM=function(t){this.EL.Qg=t},i.Yy=function(){return this.EL.Yy()},i.Gy=function(){return this.EL.Gy()},i.zy=function(t){this.EL.zy(t)},i.Vy=function(){this.EL.Vy()},i.Wy=function(){this.EL.Wy()},i.Xy=function(){this.EL.Xy()},i.Oy=function(){this.EL.Oy()},i.xy=function(){this.EL.xy()},i.qy=function(){this.EL.qy()},i.Ly=function(){return this.EL.Ly()},i.Uy=function(){return this.EL.Uy()},i.jy=function(){this.EL.jy()},i.Hy=function(){this.EL.Hy()},i.bw=function(){return this.EL.bw()},i.Ed=function(){return this.EL.Ed()},i.tm=function(){this.EL.tm()},i.Qy=function(t){return this.EL.Qy(t)},i.SL=function(t){return!1},T(n,[{key:"Cy",get:function(){return this.IL()}},{key:"nm",get:function(){return this.RL()}},{key:"im",get:function(){return this.CL()},set:function(t){this.DL(t)}},{key:"Jy",get:function(){return this.NL()}},{key:"jg",get:function(){return this.PL()},set:function(t){this.BL(t)}},{key:"Hg",get:function(){return this.xL()}},{key:"um",get:function(){return this.OL()}},{key:"Xg",get:function(){return this.LL()}},{key:"mu",get:function(){return this.ML()}},{key:"zg",get:function(){return this.FL()}},{key:"By",get:function(){return this.EL.By}},{key:"hm",get:function(){return this.UL()}},{key:"cm",get:function(){return this.EL.cm}},{key:"Vg",get:function(){return this.jL()},set:function(t){this.HL(t)}},{key:"gm",get:function(){return this.XL()}},{key:"qg",get:function(){return this.zL()}},{key:"Wg",get:function(){return this.VL()},set:function(t){this.qL(t)}},{key:"ym",get:function(){return this.WL()}},{key:"mm",get:function(){return this.GL()},set:function(t){this.YL(t)}},{key:"$w",get:function(){return this.$L()}},{key:"pm",get:function(){return this.QL()}},{key:"Gg",get:function(){return this.KL()}},{key:"Py",get:function(){return this.ZL()}},{key:"Yg",get:function(){return this.JL()}},{key:"Dy",get:function(){return this.tM()}},{key:"$g",get:function(){return this.nM()}},{key:"Qg",get:function(){return this.iM()},set:function(t){this.eM(t)}},{key:"Am",get:function(){return this.EL.Am}},{key:"Tm",get:function(){return this.EL.Tm},set:function(t){this.EL.Tm=t}}]),n}($g),lN=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).rM=void 0,r.sM=!1,r.uM=void 0,r.oM=!1,r.aM=function(){r.hM(),r.cM()},r.fN=function(){r.fM(),r.cM(),r.vM&&r.jg>=r.rM.qm-n.lM&&!r.Xg&&(r.uM=vR(r.fN))},r.dM=function(){r.oM=!0},r._M=function(){r.oM&&(r.oM=!1,r.cM())},r.rM=e,r.rM.Ks("uw",r.aM),r.EL.Ks("timeupdate",r.fN),r}E(n,t);var i=n.prototype;return i.BL=function(n){var i=this.rM.AL().UC(n);t.prototype.BL.call(this,i),this.cM()},i.LL=function(){return t.prototype.LL.call(this)||this.sM},i.QL=function(){return WS.hD(t.prototype.QL.call(this)).XC(this.rM.AL()).qN()},i.xy=function(){this.LL()?this.BL(this.wM.start(0)):this.hM(),t.prototype.xy.call(this),this.cM()},i.Fy=function(n,i){return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return hu(i),this.sM=!1,this.rM.bw(),e.next=5,Mr.awrap(t.prototype.Fy.call(this,n,i));case 5:case"end":return e.stop()}},null,this,null,Ye)},i.Ed=function(){return this.rM.nu("uw",this.aM),this.EL.nu("timeupdate",this.fN),this.fM(),t.prototype.Ed.call(this)},i.SL=function(n){switch(n.type){case"seeking":return this.Qs(n),this.dM(),!0;case"seeked":case"emptied":return this.Qs(n),this._M(),!0;case"ended":if(this.vM)return!0}return t.prototype.SL.call(this,n)},i.fM=function(){this.uM&&(lR(this.uM),this.uM=void 0)},i.cM=function(){var t=this.jg,i=this.vM&&t>=this.rM.qm-n.Rk;this.sM&&!i?(this.sM=!1,this.qg&&this.xy()):this.sM||!i||this.Gg||this.oM||(this.sM=!0,this.Qs(new xy(t)),this.Oy())},i.hM=function(){if(this.Hg!==1/0){var t=this.wM,i=WS.hD(t).UC(this.jg);jt(this.jg,i,n.Rk)||this.BL(i)}},T(n,[{key:"wM",get:function(){return this.QL().length?this.QL():this.rM.AL().qN()}},{key:"vM",get:function(){return this.rM.qm<this.Hg}}]),n}(vN);lN.lM=1,lN.Rk=.001;var dN=function(){function t(){this.gM=void 0,this.gM=!1}return T(t,[{key:"yM",get:function(){return this.gM},set:function(t){this.gM=t}}]),t}(),_N=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).gM=void 0,e.mM=!1,e.pM=!1,e.gM=i,e}E(n,t);var i=n.prototype;return i.LL=function(){return!this.gM.yM&&t.prototype.LL.call(this)},i.Oy=function(){this.pM=!0,t.prototype.Oy.call(this)},i.xy=function(){this.pM=!1,t.prototype.xy.call(this)},i.SL=function(n){if(this.gM.yM)switch(n.type){case"ended":return this.jg=0,this.pM||(this.Gg?this.mM=!0:this.xy()),!0;case"seeked":this.mM&&(this.mM=!1,this.xy());break;case"pause":if(this.mM||t.prototype.LL.call(this))return!0}return t.prototype.SL.call(this,n)},n}(vN);var wN=function(){function t(t){var n;this.H_=(n=this,{get currentBandwidthEstimate(){return n.dm},get corruptedVideoFrames(){return n.vm},get droppedVideoFrames(){return n.fm},get totalBytesLoaded(){return n._m},get bufferedSegments(){return n.wm}}),this.gC=t}return T(t,[{key:"X_",get:function(){return this.H_}},{key:"vm",get:function(){return this.gC.kM.cm.vm}},{key:"dm",get:function(){return this.gC.kM.cm.dm}},{key:"fm",get:function(){return this.gC.kM.cm.fm}},{key:"bM",get:function(){throw new v("Not implemented")}},{key:"AM",get:function(){throw new v("Not implemented")}},{key:"_m",get:function(){return this.gC.kM.cm._m}},{key:"lm",get:function(){return this.gC.kM.cm.lm}},{key:"wm",get:function(){return this.gC.kM.cm.wm}}]),t}();function gN(t){if(!t||!fr(t))return{fm:0,vm:0,lm:0,dm:0,_m:0,wm:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{fm:n.droppedVideoFrames,vm:n.corruptedVideoFrames||0,lm:n.totalVideoFrames}}return{fm:t.webkitDroppedFrameCount||0,vm:0,lm:t.webkitDecodedFrameCount||0}}var yN=function(t){function n(){return t.call(this,"TM")||this}return E(n,t),n.prototype.z_=function(){return new mN},n}(sg),mN=function(t){function n(){return t.call(this,"castingchange")||this}return E(n,t),n}(Eu);var pN=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).SM=[],n.EM=!1,n.H_=void 0,n.IM=function(){var t=n.EM,i=n.RM;t!==i&&(n.EM=i,n.Qs(new yN))},n}E(n,t);var i=n.prototype;return i.NM=function(t){this.SM.push(t),t.Ks("statechange",this.IM)},i.Ed=function(){for(var t=0,n=this.SM;t<n.length;t++){n[t].nu("statechange",this.IM)}Qs(this.SM)},T(n,[{key:"RM",get:function(){return this.SM.some(function(t){return t.RM})}},{key:"X_",get:function(){var t,n,i;return this.H_||(this.H_=(i={get casting(){return t.RM},addEventListener:function(t,i){n.Ks(t,i)},removeEventListener:function(t,i){n.nu(t,i)}},n=new hN(t=this,["TM"],i),i)),this.H_}}]),n}(Tu),kN=function(){function t(){}return t.CM=function(t,n){var i,e,r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,i=new __({Kl:t,Wl:xf.Jn,md:c_.GET}),s.next=4,Mr.awrap(n.$l(i));case 4:return e=s.sent,s.next=7,Mr.awrap(e.Hi());case 7:return r=s.sent,s.abrupt("return",r.trim());case 11:return s.prev=11,s.t0=s.catch(0),au(s.t0),s.abrupt("return",void 0);case 15:case"end":return s.stop()}},null,null,[[0,11]],Ye)},t.DM=function(t){try{var i=bI(t);return new RI(i.key,i.domains_page,i.domains_source,i.expiration_date,i.features,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new lf(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.PM=function(t){void 0===t&&(t=zI.sb),i.pr("The baked-in license is used. Please update the configuration with your license.");var n=t.JP(" $dg_:Uh eD-NOdg MYYa:c5iLc]a]C-aH_|_HC[NehhN:*S"),e=["fp\"\"","F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.JP(n)}),r=["fp\"\"","F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.JP(n)}),s=Number(new Date(Number(t.JP("CO_|aHg|ael3Ceo3Co\"\"")))),u=[].map(function(n){return t.JP(n)});return new RI(n,e,r,s,u)},t.convertLicenseToDummyLicense=function(t){return new RI(t.oB,t.aB,t.hB,864e13,t.fB,t.vB,Date.now(),t.dB,t._B)},t}(),bN=function(){function t(){}return t.sf=function(){return t.Wn||(t.Wn=AN.mc()?new AN:new Rf),t.Wn},t.Du=function(n){t.sf().Du(n)},t.ef=function(){t.sf().ef()},t.Ru=function(n){return t.sf().Ru(n)},t.rf=function(n,i){t.sf().rf(n,i)},t.BM=function(n){var i=t.Ru(n);if(void 0!==i)return y(i)},t.xM=function(n){return"true"===t.Ru(n)},t}();bN.Wn=void 0;var AN=function(n){function i(){return n.apply(this,arguments)||this}E(i,n),i.mc=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e.Du=function(n){t.localStorage.removeItem(n)},e.ef=function(){t.localStorage.clear()},e.Ru=function(n){return t.localStorage[n]},e.rf=function(n,i){t.localStorage[n]=i},i}(bN),TN=w.floor(14399999*w.random()-72e5),SN=function(){function t(t,n,i,e,r,s){this.mB=void 0,this.dE=t,this.OM=n,this.LM=i,this.ex=e,this.MM=r,this.Qo=s,this.mB=OI(s)}var i=t.prototype;return i.FM=function(){var t;return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(this.UM(this.MM.license,this.MM.licenseUrl));case 2:t=n.sent,this.ex.jM(t);case 4:case"end":return n.stop()}},null,this,null,Ye)},i.UM=function(t,i){var e,r,s,u,o,a,h,c,f;return Mr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=i,t?r=kN.DM(t):e||(r=kN.PM()),e||(e="https://validate.theoplayer.com/1/"+r.oB),s=this.HM(),!r){v.next=14;break}if((u=this.OM.SB(r))!==TI.rB){v.next=14;break}if(!this.XM(r.cB)||!this.XM(null==s?void 0:s.cB)){v.next=13;break}return v.next=10,Mr.awrap(this.zM(e));case 10:if(!(o=v.sent)){v.next=13;break}return v.abrupt("return",o);case 13:return v.abrupt("return",r);case 14:if(!s){v.next=25;break}if(this.OM.SB(s)!==TI.rB){v.next=24;break}if(!this.XM(null==s?void 0:s.cB)){v.next=23;break}return v.next=20,Mr.awrap(this.zM(e));case 20:if(!(a=v.sent)){v.next=23;break}return v.abrupt("return",a);case 23:return v.abrupt("return",s);case 24:bN.Du("THEOplayer.license");case 25:return v.next=27,Mr.awrap(kN.CM(e,this.dE));case 27:if(!(h=v.sent)){v.next=37;break}if(c=kN.DM(h),this.OM.SB(c)!==TI.rB){v.next=34;break}return bN.rf("THEOplayer.license",h),v.abrupt("return",c);case 34:bN.Du("THEOplayer.license"),v.next=39;break;case 37:if(this.mB||!r||u!==TI.sB||e!=="https://validate.theoplayer.com/1/"+r.oB){v.next=39;break}return v.abrupt("return",kN.convertLicenseToDummyLicense(r));case 39:if(!r&&!c){v.next=43;break}this.VM(null!=(f=r)?f:c,new lf(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),v.next=44;break;case 43:throw new lf(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return v.stop()}},null,this,null,Ye)},i.bB=function(t){var n,i,e,r,s,u,o;return Mr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Mr.awrap(this.ex.lx());case 2:if(n=a.sent,!this.XM(n.cB)){a.next=9;break}return e=null!=(i=this.MM.licenseUrl)?i:"https://validate.theoplayer.com/1/"+n.oB,a.next=7,Mr.awrap(this.zM(e));case 7:(r=a.sent)&&(this.ex.jM(r),n=r);case 9:if(a.prev=9,(s=this.OM.SB(n))!==TI.uB){a.next=16;break}throw u=II.wB,new lf(CI(u),MI.TB(u));case 16:if(s!==TI.sB){a.next=19;break}throw o=II.sB,new lf(CI(o),MI.TB(o));case 19:this.OM.bB(t,n),a.next=25;break;case 22:a.prev=22,a.t0=a.catch(9),this.qM(a.t0);case 25:case"end":return a.stop()}},null,this,[[9,22]],Ye)},i.NB=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Mr.awrap(this.ex.lx());case 2:n=i.sent;try{this.OM.NB(t,n)}catch(t){this.qM(t)}case 4:case"end":return i.stop()}},null,this,null,Ye)},i.zM=function(t){var n,i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mr.awrap(kN.CM(t,this.dE));case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(i=kN.DM(n),this.OM.SB(i)!==TI.rB){e.next=11;break}return bN.rf("THEOplayer.license",n),e.abrupt("return",i);case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",void 0);case 17:case"end":return e.stop()}},null,this,[[0,14]],Ye)},i.XM=function(t){return!t||Number(new Date)+2592e5+TN>=t},i.HM=function(){var t=bN.Ru("THEOplayer.license");if(t)return kN.DM(t)},i.VM=function(t,n){this.ex.jM(t),this.qM(n)},i.qM=function(t){throw ct(t.message),this.LM.gx(t.message),t},t}(),EN=function(){function t(){this.WM=void 0,this.GM=new ea}var n=t.prototype;return n.jM=function(t){this.WM=t,this.GM.Wu()},n.lx=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.WM){t.next=2;break}return t.abrupt("return",Ye.resolve(this.WM));case 2:return t.next=4,Mr.awrap(this.GM.Hu);case 4:return t.abrupt("return",this.WM);case 5:case"end":return t.stop()}},null,this,null,Ye)},T(t,[{key:"YM",get:function(){return this.WM}}]),t}(),IN=function(t){function n(){return t.call(this,"uw")||this}return E(n,t),n.prototype.z_=function(){return new RN},n}(sg),RN=function(t){function n(){return t.call(this,"change")||this}return E(n,t),n}(Eu);function NN(t){var n,i={get fontFamily(){return t.$M},set fontFamily(n){t.$M=n},get fontColor(){return t.QM},set fontColor(n){t.QM=n},get fontSize(){return t.KM},set fontSize(n){t.KM=n},get backgroundColor(){return t.ZM},set backgroundColor(n){t.ZM=n},get windowColor(){return t.JM},set windowColor(n){t.JM=n},get edgeStyle(){return t.tF},set edgeStyle(n){t.tF=n},get marginTop(){return t.nF},set marginTop(n){t.nF=n},get marginBottom(){return t.iF},set marginBottom(n){t.iF=n},get marginLeft(){return t.eF},set marginLeft(n){t.eF=n},get marginRight(){return t.rF},set marginRight(n){t.rF=n},addEventListener:function(t,i){var e=Dg(t,Ng);n.Ks(e,i)},removeEventListener:function(t,i){var e=Dg(t,Ng);n.nu(e,i)}};return n=new Su(i),t.Ks(["uw"],function(t){return n.Qs(t.X_)}),i}var CN={$M:void 0,QM:void 0,KM:void 0,ZM:void 0,JM:void 0,tF:void 0,sF:void 0,nF:void 0,iF:void 0,eF:void 0,rF:void 0},DN="THEOplayer.textTrackStyle.",PN=function(t){function n(){var i;return(i=t.call(this)||this).uF=void 0,i.H_=void 0,i.uF=n.oF(),i}return E(n,t),n.prototype.Kh=function(t){this.uF=Fr({},this.uF,t),n.aF(this.uF),this.Qs(new IN)},n.oF=function(){var t=Fr({},CN);return t.$M=bN.Ru(DN+"fontFamily")||t.$M,t.QM=bN.Ru(DN+"fontColor")||t.QM,t.KM=bN.Ru(DN+"fontSize")||t.KM,t.ZM=bN.Ru(DN+"backgroundColor")||t.ZM,t.JM=bN.Ru(DN+"windowColor")||t.JM,t.tF=bN.Ru(DN+"edgeStyle")||t.tF,t},n.aF=function(t){bN.rf(DN+"fontFamily",t.$M||""),bN.rf(DN+"fontColor",t.QM||""),bN.rf(DN+"fontSize",t.KM||""),bN.rf(DN+"backgroundColor",t.ZM||""),bN.rf(DN+"windowColor",t.JM||""),bN.rf(DN+"edgeStyle",t.tF||"")},T(n,[{key:"hF",get:function(){return this.uF}},{key:"$M",get:function(){return this.uF.$M},set:function(t){this.Kh({$M:t})}},{key:"QM",get:function(){return this.uF.QM},set:function(t){this.Kh({QM:t})}},{key:"KM",get:function(){return this.uF.KM},set:function(t){this.Kh({KM:t})}},{key:"ZM",get:function(){return this.uF.ZM},set:function(t){this.Kh({ZM:t})}},{key:"JM",get:function(){return this.uF.JM},set:function(t){this.Kh({JM:t})}},{key:"tF",get:function(){return this.uF.tF},set:function(t){this.Kh({tF:t})}},{key:"sF",get:function(){return this.uF.sF}},{key:"nF",get:function(){return this.uF.nF},set:function(t){this.Kh({nF:t})}},{key:"iF",get:function(){return this.uF.iF},set:function(t){this.Kh({iF:t})}},{key:"rF",get:function(){return this.uF.rF},set:function(t){this.Kh({rF:t})}},{key:"eF",get:function(){return this.uF.eF},set:function(t){this.Kh({eF:t})}},{key:"X_",get:function(){return this.H_||(this.H_=NN(this)),this.H_}}]),n}(Tu);function BN(t,n){var i,e;t.style.marginLeft=(null!=(i=n.eF)?i:0)+"px",t.style.marginRight=(null!=(e=n.rF)?e:0)+"px",t.style.width="calc(100% - "+t.style.marginLeft+" - "+t.style.marginRight+")"}var xN,ON,LN=function(t){function n(n,e){var r;(r=t.call(this)||this).cF=void 0,r.uc=void 0,r.kM=void 0,r.fF=void 0,r.L_=void 0,r.rM=void 0,r.gM=void 0,r.vF=void 0,r.lF=void 0,r.ED=void 0,r.OM=void 0,r.dF=void 0,r._F=void 0,r.SD=void 0,r.wF=!1,r.Ay=!1,r.Cm=void 0,r.gF=!1,r.yF=void 0,r.mF=void 0,r.pF=void 0,r.kF=void 0,r.bF=void 0,r.AF=function(t){if(!r.gF){r.gF=!0;var n=r.cF,i=dm(t);r.kM.Cw=new ZS(r.um,i,t),gu(n.Ed())}},r.TF=function(t){r.Qs(t.X_)},r.SF=function(t){t.type!==Bf.Ef&&t.type!==Bf.Sf&&r.Qs(t)};var s=Ig(e.uid);m(s)?r.Cm=Tm++:r.Cm=s,r.uc=e;var u=i.L_,o=new EN;r.fF=new tR("4.8.0",u,o),r.L_=new VR(u,e.allowMixedContent),r.ED=new uN,r.OM=new NI(e.isEmbeddable,"4.8.0",AI()),r.bF=new SN(u,r.OM,r.fF,o,e,AI()),r.bF.FM().catch(r.AF),r.dF=new bR(n),r.dF.Ks("Ix",r.TF),r.SD=new PN,r.rM=new fN,r.gM=new dN;var a=new KS(n,e,r.L_,r.ED,r.dF,r.SD);r.ED.gL(a);var h=a;h=new lN(h,r.EF),h=new _N(h,r.yM),r.cF=h,r.kM=new cm(r.cF),r.kM.Js(r.SF),r.kF=new wN(nn(r)),r.mF=new GR(r.kM,r.L_,r.ED),r.vF=new eR(nn(r)),r._F=new NR(r.kM,e.allowNativeFullscreen),r.lF=new wE(r._F),r.dF.cc();var c=new de(r.dF,r.SD,1,[gm.wd]);return r.yF=new _e(c),r.pF=new pN,r}E(n,t);var e=n.prototype;return e.HL=function(t){this.kM.Vg=t,t||this.qg||this.Xy()},e.eM=function(t){this.kM.Qg=t},e.IF=function(){Gy(this,gE,this)},e.xy=function(){this.kM.xy()},e.Oy=function(){this.kM.Oy()},e.Fy=function(t,n){var i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return this.bF.bB(t).catch(this.AF),i=MN(t),e.next=5,Mr.awrap(this.kM.Fy(i,n));case 5:case"end":return e.stop()}},null,this,null,Ye)},e.Xy=function(){this.Ay||(this.kM.Xy(),this.yF.Xy(),this.Ay=!0)},e.dD=function(){return this.lF.JD()===fE.FULLSCREEN},e.qy=function(){this.kM.qy()},e.Wy=function(){this.kM.Wy()},e.Gy=function(){return this.kM.Gy()},e.bw=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mr.awrap(this.kM.Ly());case 2:return t.next=4,Mr.awrap(this.kM.bw());case 4:case"end":return t.stop()}},null,this,null,Ye)},e.Ed=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.tu(),this.pF.Ed(),this.L_.Ed(),this.mF.Ed(),this._F.Ed(),this.lF.Ed(),this.dF.Ed(),this.fF.Ed(),this.yF.Ed(),t.next=11,Mr.awrap(this.kM.Ed());case 11:case"end":return t.stop()}},null,this,null,Ye)},T(n,[{key:"RF",get:function(){return this.ED}},{key:"Ry",get:function(){return this.wF},set:function(t){this.wF=t,this.kM.Ry=t}},{key:"NF",get:function(){return this.yF}},{key:"Cy",get:function(){return this.kM.Cy}},{key:"CF",get:function(){return this.pF}},{key:"DF",get:function(){return this.dF}},{key:"By",get:function(){return this.kM.By}},{key:"cm",get:function(){return this.kF}},{key:"PF",get:function(){return this.mF}},{key:"Py",get:function(){return this.kM.Py}},{key:"BF",get:function(){return this.SD}},{key:"Dy",get:function(){return this.kM.Dy}},{key:"nm",get:function(){return this.kM.nm}},{key:"EF",get:function(){return this.rM}},{key:"yM",get:function(){return this.gM}},{key:"jg",get:function(){return this.kM.jg},set:function(t){this.kM.jg=t}},{key:"im",get:function(){return this.kM.im},set:function(t){this.kM.im=t}},{key:"Jy",get:function(){return this.kM.Jy}},{key:"Hg",get:function(){return this.kM.Hg}},{key:"um",get:function(){return this.kM.um}},{key:"Xg",get:function(){return this.kM.Xg}},{key:"mu",get:function(){return this.kM.mu}},{key:"zg",get:function(){return this.kM.zg}},{key:"Vg",get:function(){return this.kM.Vg},set:function(t){var n=Boolean(t);this.HL(n)}},{key:"qg",get:function(){return this.kM.qg}},{key:"Wg",get:function(){return this.kM.Wg},set:function(t){this.kM.Wg=t}},{key:"ym",get:function(){return this.kM.ym}},{key:"mm",get:function(){return this.kM.mm},set:function(t){this.kM.mm=jS(t)}},{key:"$w",get:function(){return this.kM.$w}},{key:"pm",get:function(){return this.kM.pm}},{key:"Gg",get:function(){return this.kM.Gg}},{key:"Ow",get:function(){return this.Cm}},{key:"Yg",get:function(){return this.kM.Yg}},{key:"$g",get:function(){return this.kM.$g}},{key:"Qg",get:function(){return this.kM.Qg},set:function(t){var n=Ut(Number(t),0,1)||0;this.eM(n)}},{key:"Am",get:function(){return this.kM.Am}}]),n}($g);function MN(t){t.sources;var n=t.sources.filter(function(t){return X(t.integration)});return t.sources=n,t}!function(t){t[t.xF=0]="xF",t[t.OF=1]="OF"}(xN||(xN={})),function(t){t[t.LF=0]="LF"}(ON||(ON={}));var FN={},UN={};function jN(t,n){(FN[n]||(FN[n]=[])).push(t)}function HN(t,n){var i=t;if(FN[n])for(var e=0,r=FN[n];e<r.length;e++){i=(0,r[e])(i)}return i}var XN=[];var zN=t.CustomEvent;var VN,qN=function(){try{var t=new zN("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},WN=function(){function t(t,n){var i=this;this.gC=void 0,this.MF=void 0,this.FF=!1,this.UF=function(t){i.MF.wx(t.error,i.jg)},this.jF=function(){i.MF.vx(i.HF),i.gC.removeEventListener("playing",i.jF),i.FF=!1},this.XF=function(){i.FF||(i.gC.addEventListener("playing",i.jF),i.FF=!0)},this.MF=n,this.gC=t,this.gC.addEventListener("error",this.UF),this.gC.addEventListener("sourcechange",this.XF),this.XF()}return t.prototype.bw=function(){},T(t,[{key:"jg",get:function(){var t=this.gC.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"HF",get:function(){return this.gC.src||""}}]),t}();VN=function(t){new WN(t.X_,t.fF)},XN.push(VN);var GN="theoplayer-stored-volume",YN="theoplayer-stored-mutedstate";jN(function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=bN.BM(GN);(void 0===r||m(r))&&(r=1);var s=bN.xM(YN)||!1;e.Qg=r,e.Vg=s}return e}E(n,t);var i=n.prototype;return i.HL=function(n){this.uc.persistVolume&&bN.rf(YN,""+Boolean(n)),t.prototype.HL.call(this,n)},i.eM=function(n){this.uc.persistVolume&&bN.rf(GN,""+Number(n)),t.prototype.eM.call(this,n)},n}(t)},xN.OF);var $N=new(function(){function t(){this.zF=[],this.H_=void 0}var n=t.prototype;return n.gw=function(t){return this.zF[t]},n.VF=function(t){this.zF.push(t),this.X_.push(t.X_)},n.Qh=function(t){var n=this.zF.indexOf(t);n<0||(Gs(this.zF,n),this.H_&&Gs(this.H_,n))},n.qF=function(t){for(var n=0,i=this.zF;n<i.length;n++){var e=i[n];if(e.Ow===t)return e}},T(t,[{key:"Tw",get:function(){return this.zF.length}},{key:"X_",get:function(){return this.H_||(this.H_=function(t){for(var n=[],i=0;i<t.Tw;i++)n[i]=t.gw(i).X_;return n.getPlayerByUID=function(n){var i=t.qF(n);return i&&i.X_},n}(this)),this.H_}}]),t}()),QN=function(){function t(t){var n=this;this.WF=[],this.GF=void 0,this.y_=new uu,this.YF=void 0,this.QF=function(){return 0===n.WF.length?n.YF?KN(n.YF,n.y_.qs).then(n.KF,n.KF):n.KF():n.WF.shift()().then(n.QF)},this.KF=function(){if(0!==n.WF.length)return n.QF();n.GF=void 0},this.YF=t}var n=t.prototype;return n.ZF=function(t,n){var i=this;return new Ye(function(e){var r=new uu;r.zs(i.y_.qs),n&&r.zs(n);var s=function(){r.Ls()};i.WF.push(function(){var n=KN(t,r.qs);return e(n),n.then(s,s)}),i.GF||(i.GF=i.QF())})},n.Xs=function(){return this.JF(!0)},n.Ed=function(){return this.YF=void 0,this.JF(!1)},n.JF=function(t){var n=this.GF;return this.y_.Xs(),t&&(this.y_=new uu),Ye.resolve(n)},t}();function KN(t,n){return new Ye(function(i){return i(t(n))})}var ZN,JN=function(t){function n(n){var i;return(i=t.call(this,Bf.jf)||this).source=n,i}return E(n,t),n}(Eu),tC=function(t){function n(){var n;return(n=t.call(this)||this).gD=void 0,n.mD=void 0,n.kD=void 0,n.pD=void 0,n.gD=0,n.mD=!0,n.kD=!1,n.pD=1,n}E(n,t);var i=n.prototype;return i.xy=function(){this.mD&&(this.mD=!1,this.Qs(new Iy(this.jg)),this.Qs(new Zb(this.jg)))},i.Oy=function(){this.mD||(this.mD=!0,this.Qs(new By(this.jg,this.im)),this.Qs(new Ey(this.jg)))},i.bw=function(){this.gD=0,this.kD=!1,this.pD=1,this.Oy(),this.Qs(new Sy(this.gD))},i.Ed=function(){this.tu()},i.Wy=function(){},i.qy=function(){},T(n,[{key:"im",get:function(){},set:function(t){}},{key:"jg",get:function(){return this.gD},set:function(t){this.kD&&this.gD===t||(this.gD=t,this.kD=!0,this.Qs(new Ly(this.jg)))}},{key:"qg",get:function(){return this.mD}},{key:"Wg",get:function(){return this.pD},set:function(t){this.pD!==t&&(this.pD=t,this.Qs(new Py(this.jg,this.Wg)))}},{key:"$w",get:function(){return sy.Ng}},{key:"Gg",get:function(){return this.kD}}]),n}(Yg),nC=function(t){function n(){return t.call(this,Bf.wf)||this}return E(n,t),n}(Eu),iC={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},eC={visibility:"hidden"},rC={visibility:"visible"},sC=function(){function t(t){var n,i=this;this.vC=void 0,this.gC=void 0,this.tU=!1,this.nU=void 0,this.iU=void 0,this.eU=function(t){var n;i.tU=!1,i.nU=null==(n=t.source)?void 0:n.poster,i.Kh()},this.OE=function(){i.tU=!0,i.Wy()},this.gC=t,this.kC(),this.vC=((n=ge&&ge.document&&ge.document.createElement("div")).className="theoplayer-poster",ar(iC,n),n),t.um.appendChild(this.vC)}var n=t.prototype;return n.Kh=function(){var t=this.gC.qg,n=this.tU;this.Kl?this.vC.style.backgroundImage='url("'+this.Kl.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.vC.style.backgroundImage="",t&&this.Kl&&!n?this.qy():this.Wy()},n.qy=function(){ar(eC,this.gC.um),ar(rC,this.vC)},n.Wy=function(){ar(eC,this.vC),ar(rC,this.gC.um)},n.kC=function(){this.gC.Ks("sourcechange",this.eU),this.gC.Ks("play",this.OE)},n.Ed=function(){this.gC.nu("sourcechange",this.eU),this.gC.nu("play",this.OE),rr(this.vC)},T(t,[{key:"Kl",get:function(){return void 0!==this.nU?this.nU:void 0!==this.iU?this.iU:void 0}},{key:"rU",set:function(t){this.iU=t,this.Kh()}}]),t}();function uC(t){return function(i){function e(n,e){var r;return(r=i.call(this,n)||this).gC=void 0,r.sU=void 0,r.uU=void 0,r.oU=void 0,r.aU=void 0,r.hU=void 0,r.cU=void 0,r.fU=void 0,r.pC=void 0,r.mC=void 0,r.tN=void 0,r.PD=void 0,r.H_=void 0,r.vU=function(t){t.type!==Bf.Cf&&r.fU.push(t)},r.sU=new t(n,e),r.uU=new tC,r.gC=r.sU,r.oU=new sC(nn(r)),r.hU=new QN,r.cU=!1,r.fU=[],r.pC=!0,r.kC(),r}E(e,i);var r=e.prototype;return r.ZF=function(t,n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.hU.ZF(t,n).catch(fu));case 1:case"end":return i.stop()}},null,this,null,Ye)},r.lU=function(t,n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return hu(n),this.sU.Js(this.vU),i.next=4,Mr.awrap(this.sU.Fy(t,n));case 4:this.sU.au(this.vU);case 5:case"end":return i.stop()}},null,this,null,Ye)},r.dU=function(){var t,n,i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.My())&&!QE(t)&&this.Ry&&this.qg){e.next=3;break}return e.abrupt("return");case 3:return n=t.mutedAutoplay||this.uc.mutedAutoplay,e.next=6,Mr.awrap(this.NF._U());case 6:i=e.sent,e.t0=i,e.next="all"===e.t0?10:"muted"===e.t0?12:14;break;case 10:return this.wU(),e.abrupt("break",14);case 12:return(this.Vg||n===Ry.ALL)&&(this.Vg=!0,this.xy()),e.abrupt("break",14);case 14:case"end":return e.stop()}},null,this,null,Ye)},r.Fy=function(t){var i=this,e=this.mC;e&&!QE(e)&&this.Qs(new Sy(0,0)),this.bw(),this.mC=t,gu(this.ZF(function(e){return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return hu(e),r.prev=1,r.next=4,Mr.awrap(i.lU(t,e));case 4:r.next=11;break;case 6:return r.prev=6,r.t0=r.catch(1),i.mC=void 0,i.cN((s=r.t0,u=n.ErrorCode.SOURCE_NOT_SUPPORTED,s instanceof lf?s:s instanceof v?new lf(u,s.message,s):new lf(u,String(s)))),r.abrupt("return");case 11:return r.next=13,Mr.awrap(i.gU());case 13:case"end":return r.stop()}var s,u},null,null,[[1,6]],Ye)}))},r.gU=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.yU(this.sU),this.Qs(new JN(this.My())),t.next=4,Mr.awrap(this.dU());case 4:case"end":return t.stop()}},null,this,null,Ye)},r.BL=function(t){this.gC.jg=t},r.ML=function(){var t;return null!=(t=this.PD)?t:this.sU.mu},r.FL=function(){var t;return null!=(t=this.tN)?t:this.sU.zg},r.cN=function(t){void 0===this.FL()&&(this.tN=t,this.PD=dm(t),this.Qs(new Xy(t)))},r.xy=function(){this.gC.xy()},r.wU=function(){this.Vg||this.Xy(),this.xy()},r.Xy=function(){this.sU.Xy()},r.Oy=function(){this.gC.Oy()},r.Ly=function(){this.Fy(void 0)},r.qy=function(){this.pC=!0,this.gC.qy()},r.Wy=function(){this.pC=!1,this.gC.Wy()},r.IF=function(){this.sU.IF()},r.eM=function(t){this.sU.eM(t)},r.HL=function(t){this.sU.HL(t)},r.mU=function(t){this.aU=t,t.VF(this)},r.dD=function(){return this.sU.dD()},r.My=function(){return this.mC},r.Gy=function(){return this.sU.Gy()},r.PL=function(){return this.sU.jg},r.xL=function(){return this.sU.Hg},r.RL=function(){return this.sU.nm},r.WL=function(){return this.sU.ym},r.QL=function(){return this.sU.pm},r.bw=function(){var t=this;this.mC=void 0,this.tN=void 0,this.PD=void 0,Qs(this.fU),this.uU.bw(),this.yU(this.uU),this.hU.Xs(),gu(this.hU.ZF(function(n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return hu(n),i.next=3,Mr.awrap(t.sU.bw());case 3:case"end":return i.stop()}},null,null,null,Ye)}))},r.Ed=function(){var t=this;this.Qs(new nC),this.oU.Ed(),this.bC(),this.bw(),gu(this.ZF(function(){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(t.sU.Ed());case 2:t.aU&&(t.aU.Qh(t),t.aU=void 0),t.hU.Ed();case 4:case"end":return n.stop()}},null,null,null,Ye)})),this.tu()},r.yU=function(t){if(this.gC!==t){var n=this.gC.qg,i=this.gC.jg,e=this.gC.Wg,r=this.gC.Gg;this.bC(),t===this.sU?((r||t.jg!==i)&&(t.jg=i),t.Wg!==e&&(t.Wg=e),n?t.Oy():t.xy()):this.uc.retainPlaybackRateOnSourceChange?t.Wg=e:1!==e&&this.Qs(new Py(this.PL(),1)),this.gC=t,this.kC();for(var s=0,u=this.fU;s<u.length;s++){var o=u[s];this.Qs(o)}Qs(this.fU),this.pC?t.qy():t.Wy()}},r.kC=function(){this.gC.Js(this.$s)},r.bC=function(){this.gC.au(this.$s)},r.z_=function(){return t=this,e=function(n){i=n;var e=aI(n,t.uc);t.Fy(e)},r={get abr(){return t.RF.X_},get audioTracks(){return t.Cy.X_},get autoplay(){return t.Ry},set autoplay(n){t.Ry=Boolean(n)},get buffered(){return t.RL()},get canvas(){return t.vF.X_},get clip(){return t.EF.X_},get currentProgramDateTime(){var n;return null!=(n=t.im)?n:null},set currentProgramDateTime(n){t.im=null!=n?n:void 0},get currentTime(){return t.PL()},set currentTime(n){t.BL(Number(n))},get duration(){return t.xL()},get element(){return t.um},get ended(){return t.Xg},get error(){return t.ML()},get errorObject(){return t.FL()},get loop(){return t.yM.yM},set loop(n){t.yM.yM=Boolean(n)},get metrics(){return t.cm.X_},get muted(){return t.Vg},set muted(n){t.HL(n)},get network(){return t.PF.X_},get paused(){return t.qg},get playbackRate(){return t.Wg},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.Wg=i},get played(){return t.WL()},get poster(){return t.pU},set poster(n){t.pU=Ng(n)},get preload(){return t.mm},set preload(n){t.mm=n},get presentation(){return t.lF.X_},get readyState(){return t.$w},get seekable(){return t.QL()},get seeking(){return t.Gg},get source(){return i},set source(t){e(t)},get src(){return ZE(t.My())},set src(t){e({sources:t})},get textTracks(){return t.Py.X_},get textTrackStyle(){return t.BF.X_},get uid(){return t.Ow},get videoHeight(){return t.Yg},get videoTracks(){return t.Dy.X_},get videoWidth(){return t.$g},get volume(){return t.Qg},set volume(n){t.eM(Number(n))},get latency(){return t.Am.X_},destroy:function(){t.Ed(),t=null,i=void 0},play:function(){t.wU()},pause:function(){t.Oy()},stop:function(){i=void 0,t.Ly()},prepareWithUserAction:function(){t.Xy()},addEventListener:function(t,i){n.Ks(t,i)},removeEventListener:function(t,i){n.nu(t,i)},setSource:function(t){e(t)}},(n=new dE(r,!0)).UD(t),r;var t,n,i,e,r},T(e,[{key:"fF",get:function(){return this.sU.fF}},{key:"vF",get:function(){return this.sU.vF}},{key:"uc",get:function(){return this.sU.uc}},{key:"cF",get:function(){return this.sU.cF}},{key:"L_",get:function(){return this.sU.L_}},{key:"FN",get:function(){return this.sU._F}},{key:"lF",get:function(){return this.sU.lF}},{key:"dF",get:function(){return this.sU.dF}},{key:"kM",get:function(){return this.sU.kM}},{key:"RF",get:function(){return this.sU.RF}},{key:"Ry",get:function(){return this.sU.Ry},set:function(t){this.sU.Ry=t,this.dU()}},{key:"NF",get:function(){return this.sU.NF}},{key:"Cy",get:function(){return this.sU.Cy}},{key:"CF",get:function(){return this.sU.CF}},{key:"DF",get:function(){return this.sU.dF}},{key:"X_",get:function(){return this.H_||(this.H_=this.z_()),this.H_}},{key:"By",get:function(){return this.sU.By}},{key:"cm",get:function(){return this.sU.cm}},{key:"PF",get:function(){return this.sU.PF}},{key:"Py",get:function(){return this.sU.Py}},{key:"BF",get:function(){return this.sU.BF}},{key:"Dy",get:function(){return this.sU.Dy}},{key:"EF",get:function(){return this.sU.EF}},{key:"yM",get:function(){return this.sU.yM}},{key:"im",get:function(){return this.gC.im},set:function(t){this.gC.im=t}},{key:"Jy",get:function(){return this.sU.Jy}},{key:"um",get:function(){return this.sU.um}},{key:"Xg",get:function(){return this.sU.Xg}},{key:"Vg",get:function(){return this.sU.Vg},set:function(t){this.sU.Vg=t}},{key:"qg",get:function(){return this.gC.qg}},{key:"pU",get:function(){return this.oU.Kl||""},set:function(t){this.oU.rU=t}},{key:"Wg",get:function(){return this.sU.Wg},set:function(t){this.gC.Wg=t}},{key:"mm",get:function(){return this.sU.mm},set:function(t){this.sU.mm=jS(t)}},{key:"$w",get:function(){return this.gC.$w}},{key:"Gg",get:function(){return this.gC.Gg}},{key:"Ow",get:function(){return this.sU.Ow}},{key:"Yg",get:function(){return this.sU.Yg}},{key:"$g",get:function(){return this.sU.$g}},{key:"Qg",get:function(){return this.sU.Qg},set:function(t){this.sU.Qg=t}},{key:"Am",get:function(){return this.sU.Am}}]),e}($g)}function oC(t,n){var i=Vy(n),e=new(ZN||(ZN=HN(ZN=uC(LN),xN.xF),ZN=HN(ZN,xN.OF)),ZN)(t,i),r=e.X_;return e.IF(),e.mU($N),_.defineProperty(r,"constructor",{value:oC}),r=yg(r),function(t){for(var n=0;n<XN.length;n++)(0,XN[n])(t)}(e),r}wu(function(){t.dispatchEvent&&t.dispatchEvent(qN("theoplayerready"))});var aC,hC={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return zu(t)},n.decode=function(t){return Hu(t)},t}())},cC=["dash","hls","hls-legacy","chromecast","airplay","cache","visibility"],fC=$N.X_,vC=NA.RI.registerContentProtectionIntegration.bind(NA.RI),lC=[Bf.Rf,Bf.If,Ty.Ug,Bf.Hf,Bf.Nf,Bf.bf,Bf.xf,Bf.Bf,Bf.mf,Bf.Cf,Bf.Xf,Bf.gf,Ty.ow,Bf.Pf,Ug.Vw,Au.pu,Au.Au,Bf.df,Bf.lf,Bf.zf],dC={kU:!1},_C=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.VP="bU"}(aC||(aC={}));var wC,gC=function(t){function i(n,i,e,r){var s;(s=t.call(this)||this).Bc=void 0,s.ZR=void 0,s.Vc=void 0,s.AU=!1,s.TU=new ea,s.SU=!1,s.hU=new QN,s.EU=void 0,s.As=void 0,s.ec=void 0,s.IU=function(){s.SU=!0},s.RU=function(){s.NU(!0)},s.Bc=n,s.ZR=i,s.Vc=i.SN,s.EU=e,s.As=r,s.Vc.addEventListener("loadedmetadata",s.IU);for(var u=0;u<_C.length;u++){var o=_C[u];s.Vc.addEventListener(o,s.RU)}return s}E(i,t);var e=i.prototype;return e.CU=function(t,n){var i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Mr.awrap(this.As.Es(t.ls,n));case 2:return i=r.sent,r.next=5,Mr.awrap(i.dc());case 5:return e=r.sent,r.next=8,Mr.awrap(this.DU(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,Ye)},e.PU=function(t){var n=this,i=this.ec;return i?0!==t.NN.length&&t.NN.some(function(t){return t.rc.ls===i.rc}):0!==this.Bc.NN.length?t.NN.some(function(t){return n.Bc.NN.some(function(n){return t.rc===n.rc})}):0===t.NN.length||!this.SU},e.BU=function(t){return this.EU.BU(t),this.Bc=t,Ye.resolve()},e.Ls=function(){var t,n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:for(this.tu(),this.Vc.removeEventListener("loadedmetadata",this.IU),t=0;t<_C.length;t++)n=_C[t],this.Vc.removeEventListener(n,this.RU);return i.next=5,Mr.awrap(this.hU.Ed());case 5:return i.next=7,Mr.awrap(this.xU());case 7:return i.next=9,Mr.awrap(this.EU.bw());case 9:return i.next=11,Mr.awrap(this.DU(void 0));case 11:case"end":return i.stop()}},null,this,null,Ye)},e.NU=function(t){t!==this.AU&&(this.AU=t,t?this.TU.Wu(void 0):this.TU=new ea)},e.DU=function(t){var n=this;return this.hU.ZF(function(){return n.OU(t)})},e.OU=function(t){var i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||this.Vc.src){e.next=4;break}throw new fm(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(t||!this.Vc.src){e.next=6;break}throw new fm(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!t||this.AU){e.next=9;break}return e.next=9,Mr.awrap(this.TU.Hu);case 9:if(!(i=this.ec)){e.next=14;break}return e.next=13,Mr.awrap(i.fc(this.Vc));case 13:this.ec=void 0;case 14:if(!t){e.next=18;break}return e.next=17,Mr.awrap(t.cc(this.Vc));case 17:this.ec=t;case 18:case"end":return e.stop()}},null,this,null,Ye)},e.Fy=function(t){var n=this;return this.hU.ZF(function(){return n.LU(t)})},e.LU=function(t){this.NU(!1);var n=this.ZR.Wg;this.Vc.src=t,this.ZR.Wg=n},e.MU=function(t){var n=this;return this.hU.ZF(function(){return n.FU(t)})},e.FU=function(t){this.LU(t),this.Vc.load()},e.xU=function(){var t=this;return this.hU.ZF(function(){return t.UU()})},e.UU=function(){this.NU(!1),vr(this.Vc)},T(i,[{key:"Cy",get:function(){throw new v("Not implemented")}},{key:"uc",get:function(){return this.Bc}},{key:"SN",get:function(){return this.Vc}},{key:"Dy",get:function(){throw new v("Not implemented")}}]),i}(Tu),yC=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.gL=function(){var t;return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t=this.uc,n.t0=t.DN,n.next=n.t0===ny.Ag?4:n.t0===ny.Tg?4:(n.t0,ny.Sg,6);break;case 4:return this.Vc.setAttribute("crossorigin",t.DN),n.abrupt("break",8);case 6:return this.Vc.removeAttribute("crossorigin"),n.abrupt("break",8);case 8:return void 0!==t.mm?this.Vc.preload=t.mm:this.Vc.preload=FS.NR,void 0!==t.PN?this.Vc.title=t.PN:cr(this.Vc),n.next=12,Mr.awrap(this.Fy(t.Zw));case 12:this.EU.$h(this,t);case 13:case"end":return n.stop()}},null,this,null,Ye)},i.PU=function(t){return!1},i.BU=function(t){return Ye.resolve(void 0)},i.Ls=function(){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return cr(this.Vc),n.next=3,Mr.awrap(t.prototype.Ls.call(this));case 3:case"end":return n.stop()}},null,this,null,Ye)},n.jU=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.Pl))},T(n,[{key:"nm",get:function(){return WS.hD(this.Vc.buffered)}},{key:"Hg",get:function(){return this.Vc.duration}},{key:"HU",get:function(){var t=this.Hg;if(!isFinite(t))return!1;var n=this.nm;return 0!==n.Tw&&t-n.NC(n.Tw-1)<Qt}},{key:"mm",get:function(){return this.Vc.preload},set:function(t){this.Vc.preload=t}},{key:"pm",get:function(){return WS.hD(this.Vc.seekable)}},{key:"XU",get:function(){return this.nm}},{key:"zU",get:function(){if(fr(this.Vc)&&(this.Vc.videoWidth>0||this.Vc.videoHeight>0))return this.nm}}]),n}(gC),mC=function(t){function n(n){var i;return(i=t.call(this,Bf.Nf)||this).currentTime=n,i}return E(n,t),n}(Eu),pC=function(t){function n(){return t.call(this,Bf.bf)||this}return E(n,t),n}(Eu);!function(t){t.VU="qU"}(wC||(wC={}));var kC,bC,AC=[wC.VU];!function(t){t[t.WU=0]="WU",t[t.Yf=1]="Yf",t[t.GU=2]="GU"}(kC||(kC={})),function(t){t.YU="$U"}(bC||(bC={}));var TC=function(t){function n(n){var i;return(i=t.call(this,bC.YU)||this).QU=n,i}return E(n,t),n}(Eu),SC=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).KU=WS.vD(),n}E(n,t);var i=n.prototype;return i.ZU=function(t,n){var i=new WS([t,n]);this.KU=this.KU.YC(i),this.Qs(new TC(i))},i.JU=function(t,n){this.KU=this.KU.QC(new WS([t,n]))},i.bw=function(){this.KU=WS.vD()},i.Ed=function(){this.tu()},T(n,[{key:"tj",get:function(){return this.KU}}]),n}(Tu);function EC(t,n){return void 0===n&&(n=new Rd({highWaterMark:1/0})),new md(new RC(t,n),{highWaterMark:0})}var IC,RC=function(){function t(t,n){var i=this,e=n.size,r=void 0===e?function(){return 1}:e,s=n.highWaterMark,u=void 0===s?1:s;this.hv=void 0,this.nj=void 0,this.ij=void 0,this.Av=[],this.Tv=0,this.GM=void 0,this.ej=!1,this.rj=void 0,this.sj=function(t){return t.done?(i.uj(),void i.GM.close()):(i.Av.push(t.value),i.Tv+=i.nj(t.value),i.ej&&i.uj(),i.aj()?i.hv.read().then(i.sj):void 0)},this.u_=function(t){i.uj(),i.GM.error(t)},this.hv=t.getReader(),this.nj=r,this.ij=u}var n=t.prototype;return n.start=function(t){this.GM=t,this.aj()&&this.hj()},n.pull=function(){this.Av.length>0?this.uj():this.ej=!0,this.aj()&&this.hj()},n.cancel=function(t){return Qs(this.Av),this.Tv=0,this.ej=!1,this.hv.cancel(t)},n.uj=function(){if(0!==this.Av.length){var t=this.Av;this.Av=[],this.Tv=0,this.ej=!1,this.GM.enqueue(t)}},n.aj=function(){return!!this.ej||this.ij-this.Tv>0},n.hj=function(){var t=this;if(!this.rj){var n=this.hv.read().then(this.sj).catch(this.u_);this.rj=n;var i=function(){t.rj===n&&(t.rj=void 0)};n.then(i,i)}},t}(),NC=function(){function t(){this.cj=[],this.Pu=0}var n=t.prototype;return n.VF=function(t){this.cj.push(t),this.Pu+=t.byteLength},n.vj=function(t){if(this.Pu<=t)return this.lj();for(var n=this.cj,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.slice(0,e);if(e<n.length&&i<t){var s=t-i;0,r.push(Wo(n[e],0,s)),i+=s}return{cj:r,Pu:i}},n.dj=function(t){var n=this.vj(t);return 1===n.cj.length?n.cj[0]:$u(n.cj,n.Pu)},n.lj=function(){return{cj:this.cj,Pu:this.Pu}},n._j=function(t){if(this.Pu<=t)return this.wj();for(var n=this.cj,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.splice(0,e);if(n.length>0&&i<t){var s=t-i;0,r.push(Wo(n[0],0,s)),n[0]=Wo(n[0],s),i+=s}return this.Pu-=i,{cj:r,Pu:i}},n.gj=function(t){var n=this._j(t);return 1===n.cj.length?n.cj[0]:$u(n.cj,n.Pu)},n.wj=function(){var t=this.lj();return this.cj=[],this.Pu=0,t},n.yj=function(){var t=1===this.cj.length?this.cj[0]:$u(this.cj,this.Pu);return this.cj=[],this.Pu=0,t},t}();!function(t){t[t.mj=0]="mj",t[t.pj=1]="pj",t[t.bj=2]="bj"}(IC||(IC={}));var CC=function(){var t=n.prototype;function n(){this.Av=new NC,this.ye=IC.mj,this.Aj=0,this.Tj=0,this.Sj()}return t.Ej=function(t,n){},t.Ij=function(){},t.Rj=function(t){this.Av.VF(t),this.Nj(!1)},t.Cj=function(){this.Nj(!0)},t.Dj=function(){return this.ye!==IC.mj||0!==this.Av.Pu},t.Nj=function(t){for(;0!==this.Av.Pu;){if(!t&&this.Aj>this.Av.Pu)return;switch(this.ye){case IC.mj:this.Pj(t);break;case IC.pj:this.Bj(t);break;case IC.bj:this.xj(t)}}},t.Sj=function(){this.ye=IC.mj,this.Aj=8},t.Pj=function(t){var n=Yo(this.Av.dj(this.Aj)),i=new na,e=Ak.kA(n,i);if(!e.wA)return this.Aj=e.AA,void(t&&this.Aj>this.Av.Pu&&this.Oj(this.Av.Pu));var r=e.bA.vs,s=e.bA.Pu;0===s&&(s=1/0),this.Ej(r,s),this.Lj(r)?this.Mj(s):this.Oj(s)},t.Mj=function(t){this.ye=IC.pj,this.Aj=t},t.Bj=function(t){var n=Yo(this.Av.gj(this.Aj)),i=new na,e=Ak.gA(n,i,!t);if(!e.wA)throw new bk(i.Bu);this.Ij(),this.Fj(e.yA),this.Sj()},t.Oj=function(t){this.ye=IC.bj,this.Aj=0,this.Tj=t},t.xj=function(t){var n=this.Av._j(this.Tj);this.Tj-=n.Pu;for(var i=0,e=n.cj;i<e.length;i++){var r=e[i];this.Uj(r)}(0===this.Tj||t&&this.Tj===1/0)&&(this.Ij(),this.Sj())},n}();function DC(t){return t instanceof ec}function PC(t){return t instanceof nc}function BC(t){return t instanceof Zh||t instanceof Jh}function xC(t){return t instanceof Ah}function OC(t){return t instanceof Ja}function LC(t){return t instanceof _c}function MC(t){return t instanceof hc}function FC(t,n){var i=zs(t.boxes,MC);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var e=0,r=t.boxes;e<r.length;e++){var s=r[e];s instanceof fc&&s.flags.dataOffsetPresent&&(s.dataOffset=s.dataOffset+n)}}var UC=function(t){function n(n){var i;return(i=t.call(this)||this).GM=void 0,i.jj=void 0,i.Hj=void 0,i.Xj=Hr(),i.jj=n,i}E(n,t);var i=n.prototype;return i.start=function(t){this.GM=t},i.transform=function(t){this.Rj(t)},i.flush=function(){this.Cj()},i.Lj=function(t){return t===Pp.ub||t===Pp.Ob||t===Pp.qb},i.Fj=function(t){var n=this.zj(t);this.GM.enqueue(n)},i.Uj=function(t){this.GM.enqueue(t)},i.zj=function(t){var n=$o(t.Hi.Hi);switch(t.vs){case"moov":return this.Vj(n);case"sidx":return this.qj(n);case"moof":return this.Wj(n)}return n},i.Gj=function(t){var n=this.Xj.get(t);if(void 0===n)throw new v("Expected to have found a media header timescale for track ID "+t+".");return n},i.Vj=function(t){for(var n=Bc(t),i=0;i<n.boxes.length;i++){var e=n.boxes[i];e instanceof Yh?n.boxes[i]=this.Yj(e):e instanceof $h?n.boxes[i]=this.$j(e):e instanceof nc&&this.Qj(e)}for(var r=0,s=n.boxes;r<s.length;r++){var u=s[r];u instanceof qh&&this.Kj(u)}return n.serialize().join()},i.Yj=function(t){this.Hj=t.timescale;var n=HC(lt.fromNumber(t.duration,!0),this.Zj,this.jj);return 0!==n.getHighBits()?this.$j(function(t){return new $h({creation:lt.fromNumber(t.creationTime,!0),modification:lt.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:lt.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.jj,t.duration=n.toInt(),t)},i.$j=function(t){return this.Hj=t.timescale,t.timescale=this.jj,t.duration=HC(t.duration,this.Zj,this.jj),t},i.Qj=function(t){for(var n,i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof Zh?(n=e.trackId,t.boxes[i]=this.Jj(e)):e instanceof Jh?(n=e.trackId,t.boxes[i]=this.tH(e)):e instanceof Ah?this.nH(e,n):e instanceof vh&&this.iH(e)}},i.Jj=function(t){var n=HC(lt.fromNumber(t.duration,!0),this.Zj,this.jj);return 0!==n.getHighBits()?this.tH(function(t){return new Jh({creation:lt.fromNumber(t.creationTime,!0),modification:lt.fromNumber(t.modificationTime,!0),duration:lt.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.tH=function(t){return t.duration=HC(t.duration,this.Zj,this.jj),t},i.nH=function(t,n){for(var i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof mh?t.boxes[i]=this.eH(e,n):e instanceof ph&&(t.boxes[i]=this.rH(e,n))}},i.eH=function(t,n){this.Xj.set(n,t.timescale);var i=HC(lt.fromNumber(t.duration,!0),t.timescale,this.jj);return 0!==i.getHighBits()?this.rH(function(t){return new ph({creation:lt.fromNumber(t.creationTime,!0),modification:lt.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:lt.fromNumber(t.duration,!0)},t.language,t.flags)}(t),n):(t.timescale=this.jj,t.duration=i.toInt(),t)},i.rH=function(t,n){return this.Xj.set(n,t.timescale),t.timescale=this.jj,t.duration=HC(t.duration,t.timescale,this.jj),t},i.iH=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof hh?this.sH(e):e instanceof ch&&this.uH(e)}},i.sH=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=jC(e.mediaTime,this.Zj,this.jj),e.segmentDuration=jC(e.segmentDuration,this.Zj,this.jj)}},i.uH=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=HC(e.mediaTime,this.Zj,this.jj),e.segmentDuration=HC(e.segmentDuration,this.Zj,this.jj)}},i.Kj=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof zh?this.oH(i):i instanceof jh?t.boxes[n]=this.aH(i):i instanceof Hh&&(t.boxes[n]=this.hH(i))}},i.oH=function(t){var n=this.Gj(t.trackId);t.defaultSampleDuration=jC(t.defaultSampleDuration,n,this.jj)},i.aH=function(t){var n=HC(lt.fromNumber(t.fragmentDuration,!0),this.Zj,this.jj);return 0!==n.getHighBits()?this.hH(function(t){return new Hh(lt.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.hH=function(t){return t.fragmentDuration=HC(t.fragmentDuration,this.Zj,this.jj),t},i.qj=function(t){var n=xc(t);return(n=n instanceof kc?this.cH(n):this.fH(n)).serialize().join()},i.cH=function(t){var n=t.timescale,i=HC(lt.fromNumber(t.earliestPresentationTime,!0),n,this.jj);if(0!==i.getHighBits())return this.fH(function(t){return new bc(t.referenceId,t.timescale,lt.fromNumber(t.earliestPresentationTime,!0),lt.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.jj,t.earliestPresentationTime=i.toInt();for(var e=0,r=t.references;e<r.length;e++){var s=r[e];s.subsegmentDuration=jC(s.subsegmentDuration,n,this.jj)}return t},i.fH=function(t){var n=t.timescale;t.timescale=this.jj,t.earliestPresentationTime=HC(t.earliestPresentationTime,n,this.jj);for(var i=0,e=t.references;i<e.length;i++){var r=e[i];r.subsegmentDuration=jC(r.subsegmentDuration,n,this.jj)}return t},i.Wj=function(t){for(var n=Oc(t),i=n.getSize(),e=0,r=n.boxes;e<r.length;e++){var s=r[e];s instanceof lc&&this.vH(s)}var u=n.getSize();if(u!==i)for(var o=u-i,a=0,h=n.boxes;a<h.length;a++){var c=h[a];c instanceof lc&&FC(c,o)}return n.serialize().join()},i.vH=function(t){for(var n,i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof hc?(n=this.Gj(e.trackId),this.lH(e,n)):e instanceof uc?t.boxes[i]=this.dH(e,n):e instanceof oc?t.boxes[i]=this._H(e,n):e instanceof fc&&this.wH(e,n)}},i.lH=function(t,n){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=jC(t.defaultSampleDuration,n,this.jj))},i.dH=function(t,n){var i=HC(lt.fromNumber(t.baseMediaDecodeTime,!0),n,this.jj);return 0!==i.getHighBits()?this._H(function(t){return new oc(lt.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t),n):(t.baseMediaDecodeTime=i.toInt(),t)},i._H=function(t,n){return t.baseMediaDecodeTime=HC(t.baseMediaDecodeTime,n,this.jj),t},i.wH=function(t,n){for(var i,e,r,s=0,u=0,o=0,a=t.samples;o<a.length;o++){var h=a[o];if(void 0!==h.duration){var c=jC(u+=h.duration,n,this.jj);h.duration=c-s,s=c}void 0!==h.compositionTimeOffset&&(h.compositionTimeOffset=(i=h.compositionTimeOffset,e=n,r=this.jj,lt.fromInt(i,!1).multiply(r).divide(e).toNumber()))}},T(n,[{key:"Zj",get:function(){if(void 0===this.Hj)throw new v("Expected to have found a movie header timescale.");return this.Hj}}]),n}(CC);function jC(t,n,i){return lt.fromInt(t,!0).multiply(i).divide(n).toNumber()}function HC(t,n,i){return hp.Mp(t).fk(hp.Fp(i,!0))._k(hp.Fp(n,!0)).Yp()}var XC,zC,VC,qC=1e5,WC=function(){function t(t){this.gH=void 0,this.gH=new UC(t)}return t.prototype.yH=function(t){return t.pipeThrough(new Nd(this.gH))},t}();function GC(t,n,i){var e=lo(t,n);if(e!==i)throw new l("Expected descriptor with tag "+i+", but found "+e)}function YC(t,n){GC(t,n,XC.mH);var i,e,r,s=$C(t,n),u=n.Bu+s,o=po(t,n),a=lo(t,n),h=0!=(64&a),c=0!=(32&a),f=31&a;(0!=(128&a)&&(i=po(t,n)),h)&&(e=Io(t,n,lo(t,n)));c&&(r=Io(t,n,2));var v=function(t,n){GC(t,n,XC.pH);var i,e=$C(t,n),r=n.Bu+e,s=lo(t,n),u=lo(t,n),o=u>>2,a=0!=(2&u),h=mo(t,n,3),c=bo(t,n),f=bo(t,n);if(n.Bu<r){var v=function(t,n){return t.getUint8(n.Bu)}(t,n);v===XC.kH&&(i=function(t,n){GC(t,n,XC.kH);var i=$C(t,n),e=wo(t,n,i);return{bH:XC.kH,AH:e}}(t,n))}return n.Lu(r),{bH:XC.pH,TH:s,SH:o,EH:a,IH:h,RH:c,NH:f,CH:i}}(t,n);return n.Lu(u),{bH:XC.mH,xw:o,DH:i,Kl:e,PH:f,BH:r,xH:v}}function $C(t,n){for(var i=0,e=0;e<4;e++){var r=lo(t,n);if(i=i<<7|127&r,!(128&r))break}return i}function QC(t,n){for(var i=lo(t,n),e=lo(t,n),r=lo(t,n),s=lo(t,n),u=3&lo(t,n),o=31&lo(t,n),a=[],h=0;h<o;h++){var c=po(t,n);a.push(wo(t,n,c))}for(var f=lo(t,n),v=[],l=0;l<f;l++){var d=po(t,n);v.push(wo(t,n,d))}return{OH:i,LH:e,MH:r,FH:s,UH:u,jH:a,HH:v}}function KC(t){var n=kk(Rk.NA(t),Pp.ub);if(n){for(var i=n.bA.yk,e=[],r=0,s=n.VA;r<s.length;r++){for(var u=s[r],o=u.bA.eT,a=u.JA.bA.yk,h=void 0,c=void 0,f=0,v=u.JA.fT.dT.wT.yT;f<v.length;f++){var l,d,_=ZC(v[f]);if(_)h=null!=(l=_.XH)?l:h,c=null!=(d=_.zH)?d:c}e.push({eT:o,yk:a,VH:{XH:h,zH:c,qH:void 0}})}return{yk:i,VA:e}}}function ZC(t){var n,i;if(t.vs===Pp.bb)n=function(t){return"avc1."+JC(t.LH,2)+JC(t.MH,2)+JC(t.FH,2)}(QC(Yo(t.VT.Hi),new na));else if(t.vs===Pp.Tb||t.vs===Pp.Sb){var e=function(t,n){for(var i=n.ju(),e=no(t,i,8),r=no(t,i,2),s=no(t,i,1),u=no(t,i,5),o=no(t,i,32),a=[],h=0;h<6;h++)a.push(no(t,i,8));var c=no(t,i,8);i.xu(4);var f=no(t,i,12);i.xu(6);var v=no(t,i,2);i.xu(6);var l=no(t,i,2);i.xu(5);var d=no(t,i,3);i.xu(5);for(var _=no(t,i,3),w=no(t,i,16),g=no(t,i,2),y=no(t,i,3),m=no(t,i,1),p=no(t,i,2),k=no(t,i,8),b=[],A=0;A<k;A++){var T=no(t,i,1);i.xu(1);for(var S=no(t,i,6),E=no(t,i,16),I=[],R=0;R<E;R++){var N=no(t,i,16),C=wo(t,new na(i.Bu>>3),N);i.xu(8*N),I.push({WH:N,GH:C})}b.push({YH:T,$H:S,QH:E,KH:I})}return{OH:e,ZH:r,JH:s,tX:u,nX:a,iX:c,eX:f,rX:v,sX:o,uX:l,oX:d,aX:_,hX:w,cX:y,fX:m,vX:g,UH:p,lX:k,dX:b}}(Yo(t.YT.Hi),new na);n=function(t,n){var i=t.toString()+".";switch(n.ZH){case 0:break;case 1:i+="A";break;case 2:i+="B";break;case 3:i+="C";break;default:return}switch(i+=n.tX.toString()+".",i+=(e=n.sX,r=e,r=(r=(r=(r=(r=r>>>1&1431655765|(1431655765&r)<<1)>>>2&858993459|(858993459&r)<<2)>>>4&252645135|(252645135&r)<<4)>>>8&16711935|(16711935&r)<<8)>>>16|r<<16).toString(16)+".",n.JH){case 0:i+="L";break;case 1:i+="H";break;default:return}var e,r;i+=n.iX.toString();for(var s=n.nX.reduce(function(t,n){return 0===t?n:n+1},0),u=0;u<s;u++)i+="."+n.nX[u].toString(16).toUpperCase();return i}(t.vs,e)}else{if(t.vs!==Pp.Rb)return(t.vs===Pp.xb||t.vs===Pp.Bb)&&t.KT?ZC(t.KT):void 0;i=function(t){var n=t.xH;switch(n.TH){case zC._X:return function(t){var n;if(null==(n=t.CH)||!n.AH)return"mp4a.40";return"mp4a.40."+function(t,n){var i=no(t,n,5);31===i&&(i=32+no(t,n,6));var e,r=no(t,n,4);return 15===r&&(e=no(t,n,24)),{wX:i,gX:r,yX:e,mX:no(t,n,4)}}(Yo(t.CH.AH),new io).wX}(n);case zC.pX:return"mp4a.40.2";case zC.kX:return"mp4a.40.34"}}(YC(Yo(t.FT.Hi),new na))}return{XH:n,zH:i,qH:void 0}}function JC(t,n){return Ss(t.toString(16),n,"0")}function tD(t,n){var i=Rk.NA(Yo(t)),e=function(t,n){for(var i,e=0,r=t.VA;e<r.length;e++){var s,u=r[e],o=null==(s=u.gS)?void 0:s.gS;o&&function(){var t=u.bA.eT,e=zs(n.VA,function(n){return n.eT===t}),r=yp.Mp(o,e.yk);i&&!r.Ip(i)||(i=r)}()}return i}(kk(i,Pp.Ob),n),r=kk(i,Pp.Xb);return{Vm:e.pp(),bX:r.Hi}}function nD(t,n){var i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.vs,e.next=e.t0===kC.WU?3:e.t0===kC.Yf?4:e.t0===kC.GU?9:10;break;case 3:return e.abrupt("return",t);case 4:return e.next=6,Mr.awrap(qd(t.Hi,n));case 6:return i=e.sent,hu(n),e.abrupt("return",{vs:kC.WU,Hi:new p(i)});case 9:throw new v("MediaBufferWrapper - Cannot convert opaque SegmentData to ArraySegmentData.");case 10:case"end":return e.stop()}},null,null,null,Ye)}!function(t){t[t.mH=3]="mH",t[t.pH=4]="pH",t[t.kH=5]="kH"}(XC||(XC={})),function(t){t[t._X=64]="_X",t[t.pX=103]="pX",t[t.kX=107]="kX"}(zC||(zC={})),function(t){t[t.AX=0]="AX",t[t.TX=1]="TX",t[t.pX=2]="pX",t[t.SX=5]="SX",t[t.EX=34]="EX"}(VC||(VC={}));var iD=20,eD=F.Pn,rD=function(t){function n(n,i,e,r,s){var u,o;return(o=t.call(this)||this).IX=void 0,o.RX=void 0,o.NX=void 0,o.CX=void 0,o.DX=void 0,o.vL=iD,o.lL=YR,o.PX=!1,o.BX=!1,o.xX=void 0,o.OX=new uu,o.LX=void 0,o.MX=!1,o.FX=void 0,o.UX=!1,o.jX=void 0,o.HX=function(){o.PX=!1},o.IX=i,o.RX=n,o.NX=e,o.NX.addEventListener("updateend",o.HX),o.CX=r,o.DX=s,o.UX=sD(r.Pl,s),null!=(u=i.uc)&&u.Ze&&(o.LX=new WC(qC)),o}E(n,t);var i=n.prototype;return i.XX=function(t,n,i){var e=this;switch(t.vs){case kC.WU:case kC.Yf:return this.zX(function(i){return e.VX(t,n,i)},i);case kC.GU:throw new v("Opaque segments are not supported on web.")}},i.qX=function(t,n){var i=this;switch(t.vs){case kC.WU:return this.zX(function(n){return i.WX(t,n)},n);case kC.Yf:throw new v("Streaming initialization segments are not supported on web.");case kC.GU:throw new v("Opaque initialization segments are not supported on web.")}},i.WX=function(t,n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.UX){i.next=3;break}return this.jX=KC(Yo(t.Hi)),i.abrupt("return");case 3:return i.next=5,Mr.awrap(this.GX(t,void 0,n));case 5:eD&&(this.MX=!1,this.FX=t);case 6:case"end":return i.stop()}},null,this,null,Ye)},i.VX=function(t,n,i){var e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(eD&&this.MX&&this.FX)){u.next=3;break}return u.next=3,Mr.awrap(this.WX(this.FX,i));case 3:if(u.prev=3,hu(i),!this.UX||!this.jX){u.next=12;break}return u.next=8,Mr.awrap(nD(t,i));case 8:r=u.sent,s=tD(r.Hi,this.jX),t={vs:kC.WU,Hi:s.bX},n=Fr({},n,{Kk:s.Vm+(null!=(e=n.Kk)?e:0)});case 12:return u.next=14,Mr.awrap(this.GX(t,n,i));case 14:this.Qs(new Eu(wC.VU));case 15:return u.prev=15,t.vs===kC.Yf&&t.Hi.cancel(new ou).catch(Z),u.finish(15);case 18:case"end":return u.stop()}},null,this,[[3,,15,18]],Ye)},i.GX=function(t,n,i){var e,r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:hu(i),n&&this.YX(n),s.t0=t.vs,s.next=s.t0===kC.WU?5:s.t0===kC.Yf?13:21;break;case 5:if(!this.LX){s.next=10;break}return e=this.LX.yH(zd(t.Hi)),s.next=9,Mr.awrap(this.$X(e,i));case 9:return s.abrupt("return",s.sent);case 10:return s.next=12,Mr.awrap(this.QX(t.Hi));case 12:return s.abrupt("return",s.sent);case 13:if(!this.LX){s.next=18;break}return r=this.LX.yH(t.Hi),s.next=17,Mr.awrap(this.$X(r,i));case 17:return s.abrupt("return",s.sent);case 18:return s.next=20,Mr.awrap(this.$X(t.Hi,i));case 20:return s.abrupt("return",s.sent);case 21:case"end":return s.stop()}},null,this,null,Ye)},i.$X=function(t,n){var i,e,r,s,u,o,a,h;return Mr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=this.RX.nm,e=EC(t),r=e.getReader(),s=!1,c.prev=4;case 5:return c.next=8,Mr.awrap(vu(r.read(),n));case 8:if(!(u=c.sent).done){c.next=12;break}return s=!1,c.abrupt("break",19);case 12:return hu(n),o=Yu(u.value),s=!0,c.next=17,Mr.awrap(this.QX(o));case 17:c.next=5;break;case 19:c.next=36;break;case 21:if(c.prev=21,c.t0=c.catch(4),r.cancel(c.t0).catch(Z),!s){c.next=35;break}return c.next=27,Mr.awrap(this.KX());case 27:a=this.RX.nm.XC(i.zC()),h=0;case 29:if(!(h<a.Tw)){c.next=35;break}return c.next=32,Mr.awrap(this.ZX(a.IC(h),a.NC(h)));case 32:h++,c.next=29;break;case 35:throw c.t0;case 36:case"end":return c.stop()}},null,this,[[4,21]],Ye)},i.JX=function(t,n){var i=this;return this.zX(function(){return i.tz(t,n)})},i.tz=function(t,n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.NX.appendWindowStart===t&&this.NX.appendWindowEnd===n){i.next=6;break}return i.next=3,Mr.awrap(this.KX());case 3:this.NX.appendWindowStart=0,this.NX.appendWindowEnd=n,this.NX.appendWindowStart=t;case 6:case"end":return i.stop()}},null,this,null,Ye)},i.YX=function(t){this.NX.timestampOffset!==t.Kk&&(this.NX.timestampOffset=t.Kk)},i.QX=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.NX.appendBuffer(t),this.BX=!0,n.next=4,Mr.awrap(this.nz());case 4:case"end":return n.stop()}},null,this,null,Ye)},i.iz=function(t,n,i){var e=this;return this.zX(function(i){return e.ZX(t,n,i)},i)},i.ZX=function(t,n,i){return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return hu(i),this.NX.remove(t,n),e.next=4,Mr.awrap(this.nz());case 4:case"end":return e.stop()}},null,this,null,Ye)},i.nz=function(){var t=this,n=this.RX.nm;return new Ye(function(i,e){var r,s=!1,u=function(){s=!0},o=function(){s=!1,r="error"},a=function(){s=!1,r="aborted"},h=function(){c(),s&&!r?(n.iD(t.RX.nm)||t.Qs(new Eu(wC.VU)),i()):e(new v(r))},c=function(){t.NX.removeEventListener("update",u),t.NX.removeEventListener("error",o),t.NX.removeEventListener("abort",a),t.NX.removeEventListener("updateend",h)};t.NX.addEventListener("update",u),t.NX.addEventListener("error",o),t.NX.addEventListener("abort",a),t.NX.addEventListener("updateend",h)})},i.ez=function(){var t=this;return this.zX(function(){return t.KX()})},i.KX=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.IX.$w===ED.xd){t.next=2;break}return t.abrupt("return");case 2:eD&&(this.MX=!0),this.NX.updating&&(this.PX=!0);try{this.NX.abort()}catch(t){0,this.PX=!1}if(!this.cO){t.next=8;break}return t.next=8,Mr.awrap(this.nz().catch(Z));case 8:case"end":return t.stop()}},null,this,null,Ye)},i.rz=function(){return"function"==typeof this.NX.changeType},i.BU=function(t){var n;this.sz(),this.IX.$w!==ED.oz&&(this.CX=t,this.DX=null!=(n=CD(t.Pl))?n:t.Pl,this.UX=sD(t.Pl,this.DX),this.rz()&&this.NX.changeType(this.DX))},i.cz=function(){this.IX.$w!==ED.mf||this.xX||this.cO||(this.NX.timestampOffset=this.NX.timestampOffset,this.IX.fz())},i.zX=function(t,n){var i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.sz(),(i=new uu).zs(this.OX.qs),n&&i.zs(n),e.prev=4,this.xX=t(i.qs),e.next=8,Mr.awrap(this.xX);case 8:if(this.IX.fz(),!this.cO){e.next=12;break}return e.next=12,Mr.awrap(this.nz());case 12:return e.prev=12,this.xX=void 0,i.Ls(),e.finish(12);case 16:case"end":return e.stop()}},null,this,[[4,,12,16]],Ye)},i.sz=function(){if(this.xX)throw new v("Internal error")},i.Ls=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.tu(),this.OX.Xs(),!this.xX){t.next=6;break}return t.next=5,Mr.awrap(this.xX.catch(Z));case 5:this.xX=void 0;case 6:this.NX.removeEventListener("updateend",this.HX);case 7:case"end":return t.stop()}},null,this,null,Ye)},T(n,[{key:"rL",get:function(){return this.vL},set:function(t){this.vL=t}},{key:"aL",get:function(){return this.lL},set:function(t){this.lL=t}},{key:"cO",get:function(){return this.PX||this.NX.updating}}]),n}(Tu);function sD(t,n){return ks(t,"audio/mp4")&&ks(n,"audio/mpeg")}var uD=function(){function t(t,n){this.vz=void 0,this.NX=void 0,this.lz=void 0,this.vz=n,this.NX=t}var n=t.prototype;return n.HU=function(){return!!this.lz&&this.nm.MC().VN(this.lz)},n._z=function(){var t=this.nm;this.lz=t.Tw>0?t.NC(t.Tw-1):0,this.vz.wz()},n.cz=function(){this.lz=void 0},T(t,[{key:"nm",get:function(){if(this.vz.$w===ED.oz)return WS.vD();var t=WS.hD(this.NX.buffered).XC(new WS([0,1/0])),n=this.lz;return void 0!==n&&t.Tw>0&&t.NC(t.Tw-1)===n&&(t=t.YC(WS.fD(n))),t}}]),t}();function oD(t){var n=t.gc("codecs");return n?n.split(",").map(function(t){return t.trim()}):[]}function aD(t,n){var i=hD(t)||cD(t),e=hD(n)||cD(n);return!i&&!e||t===n}function hD(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function cD(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function fD(t,n){if(t===n)return!0;var i=t.split("."),e=n.split("."),r=i[0];if(r!==e[0])return!1;if("mp4a"===r){var s=i[1],u=i[2],o=e[1],a=e[2];if(s!==o)return!1;if(Number(u)!==Number(a))return!1}return!0}function vD(t,n,i,e,r,s,u){var o=new uD(r,t),a=new rD(o,t,r,i,s);return new lD(t,n,i,e,o,a,u)}var lD=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this)||this).IX=void 0,a.Bc=void 0,a.gz=void 0,a.ZR=void 0,a.Cc=void 0,a.yz=void 0,a.RX=void 0,a.mz=void 0,a.pz=jr(),a.IX=n,a.Bc=e,a.Cc=e.Pl,a.gz=r,a.ZR=i,a.RX=s,a.mz=u,a.yz=o,a.mz.Ks(wC.VU,a.$s),a}E(n,t);var i=n.prototype;return i.HU=function(){return this.RX.HU()},i._z=function(){this.RX._z()},i.cz=function(){this.RX.cz(),this.mz.cz()},i.kz=function(t,n){this.yz.ZU(t,n)},i.bz=function(t,n){this.yz.JU(t,n)},i.Az=function(){return this.mz.ez()},i.XX=function(t,n,i){return this.mz.XX(t,n,i)},i.qX=function(t,n,i){return this.mz.qX(t,i)},i.JX=function(t,n){return F.An&&F.Tn<3?this.mz.JX(t,1/0):this.mz.JX(t,n)},i.Qh=function(t,n,i){var e,r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.bz(t,n),e=this.nm,s.next=4,Mr.awrap(this.mz.iz(t,n,i));case 4:r=0!==e.Tw&&0===this.nm.Tw,(F.Ln||F.Sn)&&r&&this.ZR.Lu(this.ZR.jg);case 6:case"end":return s.stop()}},null,this,null,Ye)},i.PU=function(t){var n=t.Pl;if(this.Cc===n)return!0;var i=this.pz.get(n);if(void 0!==i)return i;var e=this.Tz(t);return this.pz.set(n,e),e},i.Tz=function(t){var n=CD(t.Pl);if(void 0===n)return!1;var i=qc(this.Cc),e=qc(n),r=oD(i),s=oD(e);if(this.mz.rz()){if(!function(t,n){return ru(t,n,aD)}(r,s))return!1}else{if(i.vs!==e.vs)return!1;if(!function(t,n){return ru(t,n,fD)}(r,s))return!1}return!0},i.BU=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:n=t.Pl,this.Cc!==n&&(this.pz.clear(),this.mz.BU(t),this.Cc=n),this.Bc=t,this.IX.Sz();case 4:case"end":return i.stop()}},null,this,null,Ye)},i.Ls=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.pz.clear(),this.tu(),this.yz.Ed(),t.prev=3,this.mz.nu(wC.VU,this.$s),t.next=7,Mr.awrap(this.mz.Ls());case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:case"end":return t.stop()}},null,this,[[3,9]],Ye)},T(n,[{key:"nm",get:function(){return this.RX.nm}},{key:"uc",get:function(){return this.Bc}},{key:"Pl",get:function(){return this.Cc}},{key:"Ez",get:function(){return this.gz}},{key:"Iz",get:function(){return this.yz.tj}},{key:"rL",get:function(){return this.mz.rL},set:function(t){this.mz.rL=t}},{key:"aL",get:function(){return this.mz.aL},set:function(t){this.mz.aL=t}},{key:"cO",get:function(){return this.mz.cO}}]),n}(Tu),dD=function(){function t(t,n,i,e){void 0===i&&(i=!1),void 0===e&&(e=!1),this.Rz=void 0,this.IC=t,this.NC=n,this.Nz=i,this.Cz=e,this.Rz=VI()}return t.prototype.Dz=function(){var t=this.IC,n=this.NC;if(this.Nz||this.Cz){var i=.001*(VI()-this.Rz);this.Nz&&(t+=i),this.Cz&&(n+=i)}return t>=n?WS.vD():new WS([t,n])},t}(),_D=100,wD=3500,gD=1e3,yD=2e3,mD=1e4,pD=.01,kD=1,bD=[Bf.Rf,Bf.If,Bf.xf,Bf.Bf,Bf.mf,Bf.Cf,Ty.ow,Ug.Vw],AD=function(){function t(t,n,e){var r=this;this.TE=sy.Ng,this.Pz=!1,this.Bz=[],this.xz=void 0,this.Oz=void 0,this.Lz=0,this.Mz=0,this.Fz=0,this.Uz=0,this.jz=1,this.Hz=void 0,this.Xz=void 0,this.zz=function(t){var n=r.ZR.jg;t.QU.VN(n)&&r.Vz(n)},this.qz=nt(function(){r.Wz(Ty.ow)},_D),this.Gz=nt(function(){r.Wz(Bf.Nf)},_D),this.Yz=nt(function(){r.Wz(Bf.Hf)},_D),this.$z=function(){r.Qz()?0===r.Uz&&(r.ZR.Ks(Bf.Hf,r.Yz),r.Oz=i.$n(function(){r.Kz()},wD)):r.Zz()},this.Jz=function(){var t=r.Lz,n=r.Fz,e=r.ZR.jg,s=i.Gn(),u=r.RX.nm;if(t!==e)return r.Lz=e,r.Fz=s,r.jz=1,void(r.Hz=i.N_?yD:gD);if(r.Qz()&&0!==u.Tw&&n>0&&s>n+r.Hz){var o,a,h=r.tj.MC().QC(u),c=h.sD(e);if(-1!==c){var f=h.IC(c);if(f-e<kD){var v=h.NC(c);0,o=v}}if(!o)(o=null==(a=r.Xz)?void 0:a.determineStallJumpTarget())||(o=e+r.jz*pD,u.VN(o)||(o=r.tV(e,u)));0,r.Lz=o,r.jz++,r.Hz=w.min(2*r.Hz,mD),r.ZR.Lu(o)}},this.RX=t,this.ZR=n,this.ZR.Ks(Ty.ow,this.qz),this.ZR.Ks(Bf.Nf,this.Gz),this.ZR.Ks(bD,this.$z),this.Xz=e,this.Hz=i.N_?yD:gD}var n=t.prototype;return n.nV=function(t){this.Bz.push(t),t.Ks(bC.YU,this.zz)},n.Ed=function(){var t=this;this.Zz(),this.TE=sy.Ng,this.ZR.nu(Ty.ow,this.qz),this.ZR.nu(Bf.Nf,this.Gz),this.ZR.nu(bD,this.$z),this.Bz.forEach(function(n){return n.nu(bC.YU,t.zz)}),void 0!==this.xz&&(i.Yn(this.xz),this.xz=void 0),this.Pz=!0},n.Wz=function(t){if(!this.Pz)if(t!==Bf.Hf||0!==this.Uz){var n=this.ZR.$w;if(n<=sy.Dg){var i=this.ZR.jg;this.Vz(i)||this.Jz()}t===Ty.ow&&(this.TE=n)}else this.Kz()},n.Vz=function(t){var n=this;if(this.ZR.Xg)return!1;var e=this.RX.nm,r=-1,s=e.KC(t);if(-1!==s){if(e.NC(s)<=t+.5&&e.Tw>s+1){var u=e.IC(s+1);u<=t+1&&(r=u)}}else{var o=this.tj.MC().QC(this.RX.nm),a=o.KC(t);-1!==a&&(r=o.NC(a))}if(-1!==r&&!(w.abs(r-t)<=.001)){if(i.N_){if(void 0!==this.xz)return!1;this.Mz=this.ZR.jg,this.xz=i.$n(function(){n.Mz===n.ZR.jg&&n.ZR.Lu(r),n.xz=void 0},250)}else this.ZR.Lu(r);return!0}return!1},n.iV=function(){this.Oz&&(i.Yn(this.Oz),this.Oz=void 0),this.ZR.nu(Bf.Hf,this.Yz)},n.Kz=function(){0===this.Uz&&(this.iV(),this.Uz=i.Sr(this.Jz,250))},n.Zz=function(){0!==this.Uz&&(i.Er(this.Uz),this.Uz=0),this.iV(),this.ZR.Gg||(this.Fz=0)},n.Qz=function(){return!this.ZR.qg&&!this.ZR.Gg&&0!==this.ZR.Wg&&!this.ZR.Xg&&!this.ZR.mu&&(this.eV()||this.ZR.$w>=sy.Pg)},n.eV=function(){var t=this.ZR.jg,n=this.RX.nm,i=n.KC(t);return-1!==i&&n.NC(i)>t+.5},n.tV=function(t,n){var i=n.KC(t);return i>-1?n.NC(i):t},T(t,[{key:"tj",get:function(){return this.Bz.reduce(function(t,n){return t.YC(n.tj)},WS.vD())}}]),t}();function TD(t){var n=[];if(t.rV&&n.push(t.rV.nm),t.sV&&n.push(t.sV.nm),0===n.length)return WS.vD();for(var i=0,e=0;e<n.length;e++){var r=n[e];r.Tw>0&&(i=w.max(i,r.NC(r.Tw-1)))}for(var s=t.HU,u=new WS([0,i],[!0,s]),o=0;o<n.length;o++){var a=n[o];s&&a.Tw>0&&(a=a.YC(new WS([a.NC(a.Tw-1),i],[!0,!0]))),u=u.XC(a)}return u}function SD(t,n,i){var e,r=t.nm,s=r.KC(n);if(s>=0){if(!(s+1<r.Tw))return Ye.resolve();e=r.IC(s+1)}else{if(!((s=r.sD(n))>=0))return Ye.resolve();e=r.IC(s)}return t.Qh(e,1/0,i)}var ED,ID=F.En||F.In;!function(t){t.oz="closed",t.xd="open",t.mf="ended"}(ED||(ED={}));var RD=function(){function t(){}return t.prototype.uV=function(){return new MediaSource},t}(),ND=function(t){function n(n,i,e,r,s,u){var o;return void 0===s&&(s=new RD),(o=t.call(this,n,i,e,r)||this).oV=void 0,o.aV=void 0,o.hV=void 0,o.cV=new dD(0,1/0),o.JR=void 0,o.fV=void 0,o.vV=void 0,o.lV=!1,o.dV=function(){o._V()},o.wV=function(){o.ZR.wV()},o.oV=s,o.JR=o.oV.uV(),o.ZR.Ks(Bf.xf,o.dV),o.vV=new AD(nn(o),o.ZR,u),o}E(n,t);var i=n.prototype;return i.gV=function(t){if(m(t)||t<0)throw new v("Invalid duration");this.yV()?this.mV(t):this.fV=t},i.mV=function(t){var n=t===1/0,i=n?Mt:t;if(n&&this.JR.setLiveSeekableRange){var e=w.pow(2,39);this.JR.setLiveSeekableRange(0,e)}this.JR.duration=i,this.fV=void 0},i.pV=function(t,n,i,e){this.cV=new dD(t,n,!!i,!!e)},i.gL=function(){var t,n,i,e,r,s,u,o,a,h,c;return Mr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return t=this.Bc,n=zs(t.kV,function(t){return ks(t.Pl,"audio")}),i=zs(t.kV,function(t){return ks(t.Pl,"video")}),f.next=5,Mr.awrap(this.bV());case 5:n&&(r=new SC,this.vV.nV(r),s=null!=(e=CD(n.Pl))?e:n.Pl,u=this.JR.addSourceBuffer(s),this.aV=vD(this,this.ZR,n,gm._d,u,s,r),this.aV.Ks(wC.VU,this.wV)),i&&(a=new SC,this.vV.nV(a),h=null!=(o=CD(i.Pl))?o:i.Pl,c=this.JR.addSourceBuffer(h),this.hV=vD(this,this.ZR,i,gm.wd,c,h,a),this.hV.Ks(wC.VU,this.wV)),this.EU.$h(this,t);case 8:case"end":return f.stop()}},null,this,null,Ye)},i.bV=function(){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=URL.createObjectURL(this.JR),i.next=3,Mr.awrap(t.prototype.MU.call(this,n));case 3:if(this.$w===ED.xd){i.next=6;break}return i.next=6,Mr.awrap(ng(this.JR,"sourceopen"));case 6:case"end":return i.stop()}},null,this,null,Ye)},i.yV=function(){if(this.$w!==ED.xd)return!1;var t=this.aV&&this.aV.cO,n=this.hV&&this.hV.cO;return!(t||n)},i._z=function(){this.lV=!0,this.aV&&this.aV._z(),this.hV&&this.hV._z(),this.lV=!1,this._V()},i.cz=function(){this.aV&&this.aV.cz(),this.hV&&this.hV.cz()},i.PU=function(n){var i=zs(n.kV,function(t){return ks(t.Pl,"audio")}),e=zs(n.kV,function(t){return ks(t.Pl,"video")});if(this.aV){if(!i)return!1;if(!this.aV.PU(i))return!1}else if(i)return!1;if(this.hV){if(!e)return!1;if(!this.hV.PU(e))return!1}else if(e)return!1;return!!t.prototype.PU.call(this,n)},i.BU=function(n){var i,e,r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=zs(n.kV,function(t){return ks(t.Pl,"audio")}),e=zs(n.kV,function(t){return ks(t.Pl,"video")}),r=[],this.aV&&r.push(this.aV.BU(i)),this.hV&&r.push(this.hV.BU(e)),s.next=7,Mr.awrap(Ye.all(r));case 7:return s.next=9,Mr.awrap(t.prototype.BU.call(this,n));case 9:case"end":return s.stop()}},null,this,null,Ye)},i.Ls=function(){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.aV){n.next=4;break}return n.next=3,Mr.awrap(this.aV.Ls());case 3:this.aV=void 0;case 4:if(!this.hV){n.next=8;break}return n.next=7,Mr.awrap(this.hV.Ls());case 7:this.hV=void 0;case 8:return this.Vc.src&&URL.revokeObjectURL(this.Vc.src),this.ZR.nu(Bf.xf,this.dV),this.vV.Ed(),n.next=13,Mr.awrap(t.prototype.Ls.call(this));case 13:case"end":return n.stop()}},null,this,null,Ye)},i.Sz=function(){var t=this,n=this.Bc,i=n.kV.map(function(n){return ks(n.Pl,"audio")&&t.aV?t.aV.uc:ks(n.Pl,"video")&&t.hV?t.hV.uc:n});this.Bc=Fr({},n,{kV:i})},i.wz=function(){this.lV||this._V()},i._V=function(){this.AV&&this.yV()&&(this.JR.endOfStream(),this.fV=void 0,this.Qs(new Eu(aC.VP)),this.ZR.wV())},i.fz=function(){this.yV()&&(this.HU?this._V():void 0!==this.fV&&this.mV(this.fV))},i.Vz=function(t){return this.vV.Vz(t)},n.jU=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.kV;n<i.length;n++){if(void 0===CD(i[n].Pl))return!1}return!0},T(n,[{key:"rV",get:function(){return this.aV}},{key:"sV",get:function(){return this.hV}},{key:"Hg",get:function(){if(this.fV)return this.fV;var t=this.JR.duration;return t===Mt?1/0:t}},{key:"nm",get:function(){return ID?TD(this):(t=this,n=WS.hD(this.Vc.buffered),(i=n).Tw>0&&t.HU&&(i=i.YC(WS.fD(i.NC(i.Tw-1)))),i);var t,n,i}},{key:"XU",get:function(){var t;return null==(t=this.aV)?void 0:t.nm}},{key:"zU",get:function(){var t;return null==(t=this.hV)?void 0:t.nm}},{key:"pm",get:function(){return this.cV.Dz().XC(new WS([0,this.Hg],[!0,!0]))}},{key:"HU",get:function(){return(!this.aV||this.aV.HU())&&(!this.hV||this.hV.HU())}},{key:"$w",get:function(){return this.JR.readyState}},{key:"AV",get:function(){if(!this.HU)return!1;var t=this.nm;return 0!==t.Tw&&t.IC(t.Tw-1)<=this.ZR.jg}}]),n}(gC);function CD(t){var n=qc(t),i="audio/mp4"===n.vs&&function(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(oD(n),["mp4a.40.34"]);if(MediaSource.isTypeSupported(t)&&(!i||!F.Pn))return t;if(i){var e=zs(['audio/mp4; codecs="mp3"',"audio/mpeg"],function(t){return MediaSource.isTypeSupported(t)});return void 0!==e?e:void 0}}var DD=[Bf.Xf,Bf.Cf,Bf.xf,Bf.Rf,Bf.If],PD=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return(c=t.call(this)||this).gD=n,c.oa=i,c.TV=e,c.mD=r,c.kD=s,c.yD=u,c.pD=o,c.Ca=a,c.SV=h,c}E(n,t);var i=n.prototype;return i.Oy=function(){this.mD||(this.mD=!0,this.Qs(new Ey(this.jg)))},i.xy=function(){this.mD&&(this.mD=!1,this.Qs(new Iy(this.jg)))},i.Ls=function(){this.tu()},T(n,[{key:"jg",get:function(){return this.gD},set:function(t){this.jg!==t&&(this.gD=t,this.kD=!0,this.Qs(new Ly(this.jg)))}},{key:"Hg",get:function(){return this.oa}},{key:"Xg",get:function(){return this.TV}},{key:"qg",get:function(){return this.mD}},{key:"$w",get:function(){return this.SV}},{key:"Gg",get:function(){return this.kD}},{key:"Vg",get:function(){return this.yD},set:function(t){this.Vg!==t&&(this.yD=t,this.Qs(new Fy(this.jg,this.Qg)))}},{key:"Wg",get:function(){return this.pD},set:function(t){this.Wg!==t&&(this.pD=t,this.Qs(new Py(this.jg,this.Wg)))}},{key:"Qg",get:function(){return this.Ca},set:function(t){this.Qg!==t&&(this.Ca=t,this.Qs(new Fy(this.jg,this.Qg)))}}]),n}(Tu);function BD(t){return new PD(t.jg,t.Hg,t.Xg,t.qg,t.Gg,t.Vg,t.Wg,t.Qg,t.$w)}function xD(t,n){n.Hg===t.Hg||m(n.Hg)&&m(t.Hg)||t.Qs(new Dy(t.Hg)),t.Vg=n.Vg,t.Qg=n.Qg,t.Wg=n.Wg,n.qg?t.Oy():t.xy().catch(Z),n.jg!==t.jg||n.$w>sy.Ng&&t.$w===sy.Ng?t.Lu(n.jg):!n.Gg&&t.Gg?t.Qs(new Ly(t.jg)):n.Gg&&!t.Gg&&t.$w>=sy.Dg&&t.Qs(new My(t.jg)),!n.Xg&&t.Xg&&t.Qs(new xy(t.jg))}var OD=function(t){function n(n){var i;return(i=t.call(this)||this).ZR=void 0,i.TE=sy.Ng,i.EV=function(){i.RV()},i.ZR=n,i}E(n,t);var i=n.prototype;return i.NV=function(t){this.TE!==t&&(this.TE=t,this.Qs(new Hy(this.ZR.jg,t)))},i.RV=function(){this.NV(this.$L())},i.bw=function(){this.NV(sy.Ng)},i.Ls=function(){this.tu()},T(n,[{key:"$w",get:function(){return this.$L()}}]),n}(Tu),LD=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],MD=function(t){function n(n){var i;i=t.call(this,n)||this;for(var e=0;e<LD.length;e++){var r=LD[e];i.ZR.SN.addEventListener(r,i.EV)}return i}E(n,t);var i=n.prototype;return i.$L=function(){var t=this.ZR.SN.readyState;return t>sy.Dg&&this.ZR.CV?sy.Dg:(this.ZR.SN.seeking&&t>sy.Cg&&(t=sy.Cg),t)},i.Ls=function(){for(var n=0;n<LD.length;n++){var i=LD[n];this.ZR.SN.removeEventListener(i,this.EV)}t.prototype.Ls.call(this)},n}(OD),FD=Qt,UD=function(t){function n(n){var i;(i=t.call(this,n)||this).ZR.Ks(Bf.xf,i.EV);for(var e=0;e<LD.length;e++){var r=LD[e];i.ZR.SN.addEventListener(r,i.EV)}return i}E(n,t);var i=n.prototype;return i.$L=function(){if(this.ZR.SN.readyState===sy.Ng)return sy.Ng;var t=this.DV(),n=t?t.NC-t.IC:0;if(!t)return sy.Cg;var i=this.ZR.Wg;return this.PV()||n>=3*i?sy.Bg:n>=3?sy.Pg:sy.Dg},i.DV=function(){var t=this.ZR.jg,n=this.ZR.nm.GC(.04),i=n.KC(t);if(!(i<0))return{IC:t,NC:n.NC(i)}},i.PV=function(){if(this.ZR.Xg)return!0;var t=this.ZR.Hg,n=this.DV();return!!n&&t-n.NC<=FD},i.Ls=function(){this.ZR.nu(Bf.xf,this.EV);for(var n=0;n<LD.length;n++){var i=LD[n];this.ZR.SN.removeEventListener(i,this.EV)}t.prototype.Ls.call(this)},n}(OD),jD=[Ty.ow,Bf.Rf,Bf.If,Bf.xf,Bf.Bf,Bf.mf,Ug.Vw],HD=function(t){function n(n){var i;return(i=t.call(this,n)||this).Vc=void 0,i.BV=!1,i.ME=function(){i.BV=!0,i.Kh()},i.Vc=n.SN,i.Vc.addEventListener(Ty.Ug,i.ME),i}E(n,t);var i=n.prototype;return i.xV=function(){return this.BV&&t.prototype.xV.call(this)},i.Kh=function(){this.BV&&(this.Vc.paused||this.Vc.ended||this.Vc.error)&&(this.BV=!1),t.prototype.Kh.call(this)},i.bw=function(){t.prototype.bw.call(this),this.BV=!1},i.Ls=function(){this.Vc.removeEventListener(Ty.Ug,this.ME),t.prototype.Ls.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).NE=void 0,i.OV=!1,i.fO=function(){i.Kh()},i.NE=n,i.NE.Ks(jD,i.fO),i}E(n,t);var i=n.prototype;return i.LV=function(){return this.NE.$w<sy.Pg},i.xV=function(){return!this.NE.Gg&&!(this.NE.qg||this.NE.Xg||this.NE.mu||this.LV())},i.Kh=function(){var t=this.OV;this.OV=this.xV(),!t&&this.OV&&this.Qs(new Jb(this.NE.jg))},i.bw=function(){this.OV=!1},i.Ls=function(){this.tu(),this.NE.nu(jD,this.fO)},n}(Tu)),XD=function(t){function n(n){var i;return(i=t.call(this,Ug.Vw)||this).mu=void 0,i.mu=n,i}return E(n,t),n}(Eu);function zD(t,n,i,e,r,s,u){void 0===r&&(r=!1),void 0===s&&(s=0),void 0===u&&(u=t.length);for(var o=s,a=u-1;o<=a;){var h=o+(a-o>>1),c=e(i(t[h]),n);if(c<0)o=h+1;else if(c>0)a=h-1;else{if(!(r&&h>s&&0===e(i(t[h-1]),n)))return h;a=h-1}}return~o}function VD(t,n){return t.Vm<=n&&t.qm>n}function qD(t,n){return function(t,n){return Hs(t.Vm,n.Vm,Qm)}(t,n)||function(t,n){return Hs(t.qm,n.qm,Qm)}(t,n)}function WD(t,n){var i=zD(t,n,J,qD,!0);if(i<0)return i;for(;i<t.length&&qD(n,t[i])===Bs.Rs;i++)if(t[i].hp(n))return i;return-(i+1)}function GD(t){var n=t.V_;if(!n)return-1;if(t instanceof Zm)return n.MV(t);var i=n.Qw;if(!i)return-1;var e=WD(i.Aw,t);return e>=0?e:-1}function YD(t,n){var i=function(t,n,i){for(var e=t.length,r=n.length,s=0,u=0,o=[],a=[];s<e&&u<r;){var h=t[s],c=n[u];h===c?(s++,u++):i(c,h)<=0?(o.push(c),u++):(a.push(h),s++)}for(;s<e;)a.push(t[s]),s++;for(;u<r;)o.push(n[u]),u++;return{FV:o,UV:a}}(t,n,qD);return function(t,n){for(var i=n.length,e=0;e<i;e++)t[e]=n[e];t.length=i}(t,n),i}var $D=function(){function t(t){this.jV=void 0,this.H_=void 0,this.jV=t}var n=t.prototype;return n.z_=function(){return function(t){for(var n=[],i=0;i<t.Tw;i++)n[i]=t.Ru(i).X_;return n.item=function(n){var i=0|n,e=t.Ru(i);return e&&e.X_||void 0},_.defineProperty(n,"constructor",{value:Wm}),n}(this)},n.Im=function(t){for(var n=this.jV,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.hp(e))return!0}return!1},n.Ru=function(t){return this.jV[t]},T(t,[{key:"Aw",get:function(){return this.jV}},{key:"Tw",get:function(){return this.jV.length}},{key:"X_",get:function(){if(this.H_){var t=this.jV;this.H_.length=t.length;for(var n=0;n<t.length;n++)this.H_[n]=t[n].X_}else this.H_=this.z_();return this.H_}}]),t}(),QD=function(t){function n(n,i){var e;return(e=t.call(this,og.ow)||this).V_=n,e.$w=i,e}return E(n,t),n.prototype.z_=function(){return new KD(this.V_.X_,Wg(this.$w))},n}(ag),KD=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return E(n,t),n}(hg),ZD=function(t){function n(n){var i;return(i=t.call(this,og.hw)||this).V_=n,i}return E(n,t),n.prototype.z_=function(){return new JD(this.V_.X_)},n}(ag),JD=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return E(n,t),n}(hg),tP=function(t){function n(n){var i;return(i=t.call(this,og.q_)||this).zm=n,i}return E(n,t),n.prototype.z_=function(){return new nP(this.zm.X_)},n}(ag),nP=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return E(n,t),n}(hg),iP=function(t){function n(n){var i;return(i=t.call(this,og.G_)||this).zm=n,i}return E(n,t),n.prototype.z_=function(){return new eP(this.zm.X_)},n}(ag),eP=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return E(n,t),n}(hg),rP=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this)||this).H_=void 0,h.Oh=void 0,h.Cm=Am(),h.HV=!1,h.XV=void 0,h.zV=void 0,h.Nm=void 0,h.va=void 0,h.HD=Fg.Hw,h.SV=Pm.NONE,h.VV=void 0,h.zi=void 0,h.qV=void 0,h.jV=[],h.WV=[],h.GV=void 0,h.YV=void 0,h.$V=0,h.QV=0,h.Oh=i||"",h.XV=a||"",h.zV=n,h.va=r||"",h.HV=Boolean(s),h.qV=Boolean(o),h.zi=u||Bm.DEFAULT,h.Nm=e||"",h.GV=new $D(h.jV),h.YV=new $D(h.WV),h}E(n,t);var i=n.prototype;return i.KV=function(t){return zs(this.GV.Aw,function(n){return n.xw===t})},i.z_=function(){return zg(this)},i.iP=function(t){var n=Hg(t);n!==this.Ww&&(this.HD=n,n===Fg.Hw&&(this.WV.forEach(function(t){t.cp=!1}),Qs(this.WV),this.QV=0),this.Qs(new _g(this)))},i.mE=function(t){if(t&&!t.V_){var n=WD(this.Qw.Aw,t);if(!(n>=0)){t.V_=this;var i=-(n+1);this.jV.splice(i,0,t),this.ZV(i),t.ap=i,i<this.QV&&(this.QV=i),this.Qs(new tP(t))}}},i.uE=function(t){if(t&&t.V_===this){var n=this.MV(t);if(!(n<0)){t.cp=!1;var i=this.WV,e=WD(i,t);e>=0&&Gs(i,e),Gs(this.jV,n),this.ZV(n),t.ap=-1,this.QV>n&&--this.QV,this.Qs(new iP(t))}}},i.JV=function(t,n){var i=this.WV,e=this.jV,r=this.QV,s=!1;n&&(r=0);for(var u=i.length-1;u>=0;u--){VD(i[u],t)||(s=!0,Gs(i,u))}for(;r<e.length&&e[r].Vm<=t;){var o=e[r];if(0===t)break;VD(o,t)&&!Ys(i,o)&&(s=!0,i.push(o)),r++}s&&Ls(i,qD),this.QV=r},i.MV=function(t){return(-1===t.ap||t.ap>=this.$V)&&this.tq(),t.ap},i.tq=function(){for(var t=this.jV,n=this.$V;n<t.length;n++)t[n].ap=n;this.$V=t.length},i.ZV=function(t){t<this.$V&&(this.$V=t)},i.Gw=function(t){this.Yw||(this.Ww=t)},i.Ed=function(){this.tu();for(var t=this.jV.slice(),n=0;n<t.length;n++){t[n].Ed()}Qs(this.jV),Qs(this.WV)},T(n,[{key:"Kw",get:function(){return this.YV}},{key:"Qw",get:function(){return this.GV}},{key:"kE",get:function(){return this.HV},set:function(t){this.HV=t}},{key:"Yw",get:function(){return this.qV}},{key:"X_",get:function(){return this.H_||(this.H_=this.z_()),this.H_}},{key:"xw",get:function(){return this.Oh}},{key:"Ow",get:function(){return this.Cm}},{key:"qw",get:function(){return this.XV},set:function(t){this.XV=t}},{key:"Lw",get:function(){return this.zV}},{key:"Mw",get:function(){return this.Nm},set:function(t){t!==this.Nm&&(this.Nm=t,this.Qs(new pm(this)))}},{key:"Fw",get:function(){return this.va}},{key:"Ww",get:function(){return this.HD},set:function(t){this.iP(t)}},{key:"$w",get:function(){return this.SV},set:function(t){this.SV!==t&&(this.SV=t,this.Qs(new QD(this,this.SV)))}},{key:"Zw",get:function(){return this.VV},set:function(t){this.VV=t}},{key:"vs",get:function(){return this.zi},set:function(t){this.zi!==t&&(this.zi=t,this.Qs(new ZD(this)))}}]),n}(Tu),sP=function(t){function n(n,i){var e;return(e=t.call(this,Fm.Um,n)||this).gk=i,e}return E(n,t),n.prototype.z_=function(){return new uP(this.zm.X_)},n}(zm),uP=function(t){function n(n){return t.call(this,"enter",n)||this}return E(n,t),n}(Vm),oP=function(t){function n(n,i){var e;return(e=t.call(this,Fm.Hm,n)||this).gk=i,e}return E(n,t),n.prototype.z_=function(){return new aP(this.zm.X_)},n}(zm),aP=function(t){function n(n){return t.call(this,"exit",n)||this}return E(n,t),n}(Vm),hP=function(t){function n(n){var i;return(i=t.call(this,og.Q_)||this).zm=n,i}return E(n,t),n.prototype.z_=function(){return new cP(this.zm.X_)},n}(ag),cP=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return E(n,t),n}(hg),fP=function(t){function n(n){var i;return(i=t.call(this,og.Z_)||this).zm=n,i}return E(n,t),n.prototype.z_=function(){return new vP(this.zm.X_)},n}(ag),vP=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return E(n,t),n}(hg),lP=function(t){function n(n){var i;return(i=t.call(this)||this).nq=void 0,i.sp=void 0,i.Cm=void 0,i.ep=void 0,i.H_=void 0,i.rp=!1,i.iq=function(){i.cp=!0},i.rq=function(){i.cp=!1},i.Cm=Rm(),i.nq=n,i.nq.addEventListener("enter",i.iq),i.nq.addEventListener("exit",i.rq),i}E(n,t);var i=n.prototype;return i.z_=function(){return qm(this)},i.hp=function(t){return this===t||Ag(this,t)&&Km(this,t)},i.Ed=function(){this.tu(),this.nq.removeEventListener("enter",this.iq),this.nq.removeEventListener("exit",this.rq)},T(n,[{key:"Ow",get:function(){return this.Cm}},{key:"Vm",get:function(){return this.nq.startTime},set:function(t){this.nq.startTime=t}},{key:"qm",get:function(){return this.nq.endTime},set:function(t){this.nq.endTime=t}},{key:"Wm",get:function(){return this.sp},set:function(t){this.sp=t}},{key:"fp",get:function(){return!!this.nq.pauseOnExit},set:function(t){this.nq.pauseOnExit=!!t}},{key:"V_",get:function(){return this.ep},set:function(t){this.ep=t}},{key:"xw",get:function(){return this.nq.id||""}},{key:"X_",get:function(){return this.H_||(this.H_=this.z_()),this.H_}},{key:"cp",get:function(){return this.rp},set:function(t){this.cp!==t&&(this.rp=t,t?(this.Qs(new sP(this,this.Vm)),this.ep&&this.ep.Qs(new hP(this))):(this.Qs(new oP(this,this.qm)),this.ep&&this.ep.Qs(new fP(this))))}}]),n}(Yg),dP=function(t){function n(n){var i;return(i=t.call(this,og.nw)||this).V_=n,i}return E(n,t),n.prototype.z_=function(){return new _P(this.V_.X_)},n}(ag),_P=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return E(n,t),n}(hg);function wP(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new gP(t),t.THEOplayerVTTRegion=n),n}}var gP=function(){function t(t){this.uq=void 0,this.H_=void 0,this.uq=t}return T(t,[{key:"oq",get:function(){return this.uq}},{key:"xw",get:function(){return this.uq.id||""}},{key:"yp",get:function(){return+this.uq.width||0},set:function(t){this.uq.width=t||0}},{key:"vp",get:function(){return+this.uq.lines||0},set:function(t){this.uq.lines=t||0}},{key:"lp",get:function(){return+this.uq.regionAnchorX||0},set:function(t){this.uq.regionAnchorX=t||0}},{key:"dp",get:function(){return+this.uq.regionAnchorY||0},set:function(t){this.uq.regionAnchorY=t||0}},{key:"wp",get:function(){return+this.uq.viewportAnchorX||0},set:function(t){this.uq.viewportAnchorX=t||0}},{key:"gp",get:function(){return+this.uq.viewportAnchorY||0},set:function(t){this.uq.viewportAnchorY=t||0}},{key:"_p",get:function(){return this.uq.scroll||""}},{key:"X_",get:function(){return this.H_||(this.H_=sp(this)),this.H_}}]),t}();var yP=function(t){function n(n){return t.call(this,n)||this}return E(n,t),T(n,[{key:"Wm",get:function(){return this.nq.text},set:function(t){this.nq.text=t}},{key:"tp",get:function(){return this.nq.vertical||""},set:function(t){this.nq.vertical=t||""}},{key:"Jm",get:function(){return this.nq.snapToLines},set:function(t){this.nq.snapToLines=t}},{key:"Ym",get:function(){return this.nq.line},set:function(t){this.nq.line=t}},{key:"Pu",get:function(){return+this.nq.size},set:function(t){this.nq.size=Ut(t,0,100)}}]),n}(lP),mP=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.hp=function(n){return this===n||Ag(this,n)&&t.prototype.hp.call(this,n)&&Jm(this,n)},T(n,[{key:"Zm",get:function(){return wP(this.nq.region)}},{key:"$m",get:function(){return this.nq.lineAlign||"start"},set:function(t){this.nq.lineAlign=t||"start"}},{key:"Qm",get:function(){return this.nq.position},set:function(t){this.nq.position=t}},{key:"Km",get:function(){return this.nq.positionAlign||"auto"},set:function(t){this.nq.positionAlign=t||"auto"}},{key:"Gm",get:function(){return this.nq.align||"center"},set:function(t){this.nq.align=t||"center"}},{key:"X_",get:function(){return this.H_||(this.H_=Gm(this)),this.H_}}]),n}(yP),pP=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.hp=function(n){return this===n||Ag(this,n)&&t.prototype.hp.call(this,n)&&Jm(this,n)},T(n,[{key:"Zm",get:function(){return wP(this.oq)}},{key:"oq",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.nq.track,this.nq.regionId)}},{key:"$m",get:function(){return"middle"===(t=this.nq.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.nq.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"Qm",get:function(){return this.nq.position},set:function(t){var n,i;this.nq.position=(n=t,i=this.Gm,Xm(n,i))}},{key:"Km",get:function(){return t=this.nq.positionAlign||"middle",jm[t];var t},set:function(t){var n,i;this.nq.positionAlign=(n=t||"center",i=this.Gm,Um[Hm(n,i)])}},{key:"Gm",get:function(){return"middle"===(t=this.nq.align||"middle")?"center":t;var t},set:function(t){var n;this.nq.align="center"===(n=t||"center")?"middle":n}},{key:"X_",get:function(){return this.H_||(this.H_=Gm(this)),this.H_}}]),n}(yP);function kP(t,n){return t.Wm===n.Wm}function bP(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Vm<t.Vm)AP(n,i,t.Vm);else{var e=n[0];if(e.Vm>t.Vm)t.qm=e.Vm;else{var r=WD(n,t);if(!(r>=0)){var s=-(r+1),u=s-1;if(u>=0)n[u].Vm<t.Vm&&AP(n,u,t.Vm);if(s<n.length){var o=n[s];t.qm=o.Vm}}}}}}function AP(t,n,i){for(var e=t[n].Vm,r=n;r>=0&&t[r].Vm===e;r--)t[r].qm=i}function TP(t){return qm(t)}var SP,EP,IP=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).aq=void 0,e.aq=i,e}return E(n,t),n.prototype.hp=function(n){return this===n||Ag(this,n)&&t.prototype.hp.call(this,n)&&kP(this,n)},T(n,[{key:"Wm",get:function(){return this.aq}},{key:"X_",get:function(){return this.H_||(this.H_=TP(this)),this.H_}}]),n}(lP);function RP(t){switch(t){case SP.ISO_8859_1:case SP.UTF16_BOM:case SP.UTF16:case SP.UTF8:return!0}return!1}function NP(t){switch(t){case SP.ISO_8859_1:return No;case SP.UTF16_BOM:return Bo;case SP.UTF16:return xo;case SP.UTF8:return Xo}}function CP(t,n){var i=n.Bu,e=t.byteLength,r=$o(t);return n.xu(e-i),Zo(r,i,e).buffer}function DP(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function PP(t,n,i){var e=lo(t,n);if(RP(e)){var r=NP(e);return{id:i,language:Io(t,n,3),description:r(t,n),text:r(t,n)}}}function BP(t,n,i){var e=lo(t,n);if(RP(e)){var r=NP(e);return{id:i,mimeType:No(t,n),fileName:r(t,n),description:r(t,n),data:CP(t,n)}}}function xP(t,n,i){var e=lo(t,n);if(RP(e)){for(var r=NP(e),s=[];n.Bu<t.byteLength;)s.push({involvement:r(t,n),involvee:r(t,n)});return{id:i,entries:s}}}function OP(t,n,i){var e=lo(t,n);if(RP(e)){for(var r=NP(e),s=Io(t,n,3),u=lo(t,n),o=lo(t,n),a=r(t,n),h=!1,c=[];n.Bu<t.byteLength;){var f=void 0;if(e===SP.UTF16_BOM){var v=Po(t,n);void 0===v?v=h:h=v,f=xo(t,n,v)}else f=r(t,n);if(!f||n.Bu+4>t.byteLength)break;c.push({text:f,timestamp:bo(t,n)})}return{id:i,language:s,format:u,contentType:o,description:a,entries:c}}}function LP(t,n,i){return{id:i,ownerIdentifier:No(t,n),identifier:CP(t,n)}}function MP(t,n,i){var e=lo(t,n);if(RP(e)){var r=NP(e);return{id:i,language:Io(t,n,3),description:r(t,n),text:r(t,n)}}}function FP(t,n,i){var e=lo(t,n);if(RP(e))return{id:i,text:NP(e)(t,n)}}function UP(t,n,i){return{id:i,url:No(t,n)}}function jP(t,n,i){var e=lo(t,n);if(RP(e)){var r=NP(e);return{id:i,description:r(t,n),text:r(t,n)}}}function HP(t,n,i){var e=lo(t,n);if(RP(e))return{id:i,description:NP(e)(t,n),url:No(t,n)}}function XP(t,n,i){switch(i){case"COM":return PP(t,n,i);case"GEO":return BP(t,n,i);case"IPL":return xP(t,n,i);case"PIC":return function(t,n,i){var e=lo(t,n);if(RP(e)){var r,s,u=NP(e),o=Io(t,n,3),a=lo(t,n),h=u(t,n);return"--\x3e"===o?(r=o,s=No(t,n)):(r="image/"+o.toLowerCase(),s=CP(t,n)),{id:i,mimeType:r,pictureType:a,description:h,data:s}}}(t,n,i);case"SLT":return OP(t,n,i);case"TXX":return jP(t,n,i);case"UFI":return LP(t,n,i);case"ULT":return MP(t,n,i);case"WXX":return HP(t,n,i);default:if("T"===i.charAt(0))return FP(t,n,i);if("W"===i.charAt(0))return UP(t,n,i)}}function zP(t,n,i){switch(i){case"APIC":return function(t,n,i){var e=lo(t,n);if(RP(e)){var r=NP(e),s=No(t,n);return{id:i,mimeType:s,pictureType:lo(t,n),description:r(t,n),data:"--\x3e"===s?No(t,n):CP(t,n)}}}(t,n,i);case"COMM":return PP(t,n,i);case"COMR":return function(t,n,i){var e=lo(t,n);if(RP(e)){var r,s,u=NP(e),o=No(t,n),a=Io(t,n,8),h=No(t,n),c=lo(t,n),f=u(t,n),v=u(t,n);return n.Bu<t.byteLength&&(r=No(t,n)||"image/",s=CP(t,n)),{id:i,price:o,validUntil:a,contactURL:h,receivedAs:c,nameOfSeller:f,description:v,pictureMimeType:r,sellerLogo:s}}}(t,n,i);case"GEOB":return BP(t,n,i);case"IPLS":return xP(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:No(t,n),data:CP(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:lo(t,n),position:bo(t,n)}}(t,n,i);case"SYLT":return OP(t,n,i);case"TXXX":return jP(t,n,i);case"UFID":return LP(t,n,i);case"USER":return function(t,n,i){var e=lo(t,n);if(RP(e)){var r=NP(e);return{id:i,language:Io(t,n,3),text:r(t,n)}}}(t,n,i);case"USLT":return MP(t,n,i);case"WXXX":return HP(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return FP(t,n,i);default:var e=i.charAt(0);if("T"===e)return FP(t,n,i);if("W"===e)return UP(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(SP||(SP={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(EP||(EP={}));var VP=10;function qP(t,n){return(127&lo(t,n))<<21|(127&lo(t,n))<<14|(127&lo(t,n))<<7|127&lo(t,n)}function WP(t,n){switch(t){case EP.V24:return{hq:vo(n,0),cq:vo(n,1),fq:vo(n,2),vq:vo(n,3)};case EP.V23:return{hq:vo(n,0),cq:vo(n,1),fq:vo(n,2)};case EP.V22:return{hq:vo(n,0),lq:vo(n,1)}}}function GP(t,n,i){switch(i.IA){case EP.V23:i.RA.cq&&function(t,n){var i=n.Bu,e=bo(t,n)+4,r=32768&po(t,n);n.Lu(i+e),r&&bo(t,n)}(t,n);break;case EP.V24:i.RA.cq&&function(t,n){var i=n.Bu,e=qP(t,n);n.Lu(i+e)}(t,n)}}function YP(t,n){if(t.byteLength-n.Bu<VP)return null;if(73!==lo(t,n)||68!==lo(t,n)||51!==lo(t,n))return null;var i=lo(t,n),e=lo(t,n);if(!function(t){switch(t){case EP.V22:case EP.V23:case EP.V24:return!0}return!1}(i))return null;var r=lo(t,n),s=qP(t,n);return{IA:i,dq:e,RA:WP(i,r),_q:s}}function $P(t,n,i){switch(i.IA){case EP.V22:return function(t,n,i){return{xw:Io(t,n,3),Pu:mo(t,n,3)}}(t,n);case EP.V23:return function(t,n,i){var e=Io(t,n,4),r=bo(t,n);lo(t,n);var s=lo(t,n);return{xw:e,Pu:r,RA:{lq:vo(s,0),wq:vo(s,1),groupingIdentity:vo(s,2)}}}(t,n);case EP.V24:return function(t,n,i){var e=Io(t,n,4),r=qP(t,n);lo(t,n);var s=lo(t,n);return{xw:e,Pu:r,RA:{groupingIdentity:vo(s,1),lq:vo(s,4),wq:vo(s,5),hq:vo(s,6),gq:vo(s,7)}}}(t,n)}}function QP(t){for(var n=new p(t.byteLength),i=0,e=0;e<t.byteLength;e++){var r=t.getUint8(e);255===r&&e++,n[i]=r,i++}return new DataView(n,0,i)}function KP(t,n){var i=n||new na,e=YP(t,i);return e?{bA:e,yq:function(t,n,i){var e=[],r=n.Bu,s=Go(t,r,r+i._q),u=new na;switch(n.xu(i._q),i.IA){case EP.V22:case EP.V23:i.RA.hq&&(s=QP(s))}GP(t,n,i);for(;u.Bu<s.byteLength;)e.push(ZP(s,u,i));return e}(t,i,e)}:null}function ZP(t,n,i){var e,r,s=$P(t,n,i),u=n.Bu,o=Go(t,u,u+s.Pu);switch(n.xu(s.Pu),i.IA){case EP.V22:var a=s;e=XP(r=o,new na,a.xw);break;case EP.V23:var h=s,c=new na;!function(t,n,i){var e,r,s,u=i.RA;u.lq&&(e=bo(t,n)),u.wq&&(r=lo(t,n)),u.groupingIdentity&&(s=lo(t,n))}(o,c,h),e=zP(r=Go(o,c.Bu,o.byteLength),new na,h.xw);break;case EP.V24:var f=s,v=new na;f.RA.hq&&(o=QP(o)),function(t,n,i){var e,r,s,u,o=i.RA;o.groupingIdentity&&(e=lo(t,n)),o.lq&&(r=bo(t,n)),o.wq&&(s=lo(t,n)),o.gq&&(u=qP(t,n))}(o,v,f),e=zP(r=Go(o,v.Bu,o.byteLength),new na,f.xw)}if(!e){var l=Jo($o(r));e=DP(s.xw,l.buffer)}return e}function JP(t){return function(t,n,i){return FP(t,n,i)}(new DataView(t.data),new na,t.key)}function tB(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return JP(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return DP(t.key,t.data)}(t)}var nB="org.id3";var iB=function(t){function n(n,i,e){var r;return void 0===e&&(e=!0),(r=t.call(this)||this).Rm=void 0,r.mq=void 0,r.jV=[],r.WV=[],r.GV=void 0,r.YV=void 0,r.Cm=void 0,r.Nm=void 0,r.HD=Fg.Hw,r.SV=Pm.NONE,r.H_=void 0,r.VV=void 0,r.zi=Bm.DEFAULT,r.pq=void 0,r.kq=function(){r.bq(),r.Rm.removeEventListener("cuechange",r.kq)},r.Aq=function(){r.Ww!==Fg.Hw&&(r.Tq(),r.JV(),r.jV.length&&r.Sq(Pm.LOADING))},r.Eq=function(){r.Sq(Pm.LOADED)},r.Iq=function(){r.Sq(Pm.ERROR)},r.Rm=n,r.pq=e,r.Rm.addEventListener("cuechange",r.kq),r.Rm.addEventListener("cuechange",r.Aq),r.mq=i,r.mq&&(r.VV=m_(r.mq.src),r.mq.addEventListener("load",r.Eq),r.mq.addEventListener("error",r.Iq)),r.Cm=Am(),r.Nm=n.label||"",r.GV=new $D(r.jV),r.YV=new $D(r.WV),r.Ww=r.Rq,wu(function(){r.Aq(),r.Sq(Pm.NONE)}),r}E(n,t);var i=n.prototype;return i.z_=function(){return zg(this)},i.bq=function(){var t=this.Ww;this.Nq||t!==Fg.zw?this.Rq=t:this.Rq=Fg.Xw},i.Cq=function(){var t=this.Ww,n=this.Rq;t!==n&&(this.Nq||t!==Fg.zw||n!==Fg.Xw)&&("metadata"===this.Lw&&n===Fg.Hw?this.Ww=t:this.Ww=n)},i.RV=function(t){this.SV!==t&&(this.SV=t,this.Qs(new QD(this,t)))},i.Sq=function(t){var n=w.max(this.SV,this.Dq,t);this.RV(n)},n.Pq=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.Bq=function(t){var i=n.Pq(t);if(i)return i;if(V(i=this.xq(t)))for(var e=0,r=i;e<r.length;e++){r[e].V_=this}else i.V_=this;return t.THEOplayerTextTrackCue=i,i},i.xq=function(t){return(n=t)&&n.type===nB&&n.value?(this.vs=Bm.ID3,function(t){var n;try{n=tB(t.value)}catch(t){n=DP("")}return new IP(t,n)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this.vs=Bm.ID3,function(t){var n=[];try{var i=KP(new DataView(t.data));if(i)for(var e=0,r=i.yq;e<r.length;e++){var s=r[e];n.push(new IP(t,s))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.vs=Bm.WEBVTT,function(t){return"regionId"in t}(t)?new pP(t):new mP(t)):new lP(t);var n},i.Oq=function(t){var n=[];if(!t)return n;for(var i=t.length,e=0;e<i;e++){var r=this.Bq(t[e]||t.item(e));if(V(r))for(var s=0;s<r.length;s++){var u=r[s];n.push(u)}else n.push(r)}return n},i.Tq=function(){for(var t=this.Oq(this.Rm.cues),n=YD(this.jV,t),i=0,e=n.UV;i<e.length;i++){var r=e[i];r.nu(Fm.Hm,this.Aq),r.nu(Fm.Um,this.Aq),this.Qs(new iP(r))}for(var s=0,u=n.FV;s<u.length;s++){var o=u[s];o.Ks(Fm.Um,this.Aq),o.Ks(Fm.Hm,this.Aq),this.Qs(new tP(o))}},i.JV=function(){for(var t=this.Oq(this.Rm.activeCues),n=YD(this.WV,t),i=0,e=n.UV;i<e.length;i++){e[i].cp=!1}for(var r=0,s=n.FV;r<s.length;r++){s[r].cp=!0}(n.FV.length||n.UV.length)&&this.Qs(new dP(this))},i.Gw=function(t){this.Ww=t},i.Ed=function(){this.tu();for(var t=this.jV.slice(),n=0;n<t.length;n++){t[n].Ed()}Qs(this.jV),Qs(this.WV),this.Rm.removeEventListener("cuechange",this.Aq),this.mq&&(this.Rm.removeEventListener("load",this.Eq),this.Rm.removeEventListener("error",this.Iq)),this.mq&&rr(this.mq)},T(n,[{key:"Kw",get:function(){return this.YV}},{key:"kE",get:function(){return this.mq?this.mq.default:void 0}},{key:"Qw",get:function(){return this.GV}},{key:"X_",get:function(){return this.H_||(this.H_=this.z_()),this.H_}},{key:"xw",get:function(){return this.Rm.id||this.mq&&this.mq.id||""}},{key:"Ow",get:function(){return this.Cm}},{key:"qw",get:function(){return this.Rm.inBandMetadataTrackDispatchType||""}},{key:"Lw",get:function(){return this.Rm.kind||Jk.Qb}},{key:"Mw",get:function(){return this.Nm},set:function(t){t!==this.Mw&&(this.Nm=t,this.Qs(new pm(this)))}},{key:"Fw",get:function(){return this.Rm.language||""}},{key:"Ww",get:function(){return this.HD},set:function(t){var n=this.Ww;this.HD=Hg(t),this.bq();var i=this.Ww;n!==i&&this.Qs(new _g(this)),i!==Fg.Hw&&this.Sq(Pm.LOADING)}},{key:"Rq",get:function(){return Hg(this.Rm.mode)},set:function(t){this.Rm.mode=t}},{key:"Om",get:function(){return this.Rm}},{key:"$w",get:function(){return this.SV}},{key:"Dq",get:function(){return this.mq?+this.mq.readyState||Pm.NONE:Pm.LOADED}},{key:"Zw",get:function(){return this.VV}},{key:"vs",get:function(){return this.zi},set:function(t){this.zi!==t&&(this.zi=t,this.Qs(new ZD(this)))}},{key:"Nq",get:function(){return this.pq},set:function(t){this.pq=t,this.bq()}}]),n}(Tu);function eB(t){return t instanceof iB}function rB(t,n){return js(t.gk,n.gk)||function(t,n){return t.V_===n.V_?Us(GD(t),GD(n)):_b(t.V_,n.V_)}(t.zm,n.zm)||function(t,n){return t===n?Bs.Rs:t===Fm.Um?Bs.Cs:Bs.Ns}(t.type,n.type)}var sB=function(){function t(t,n){var i=this;this.gC=void 0,this.Lq=void 0,this.Ey=[],this.Mq=0,this.Fq=0,this.Uq=[],this.jq=[],this.Hq=!1,this.Xq=!1,this.zq=void 0,this.Vq=function(){i.Mq=0,i.qq(),i.Wq()},this.Gq=function(){i.qq(),i.Wq()},this.Yq=function(){i.Xq=!0,i.zq=i.gC.jg,i.$q()},this.Qq=function(){i.qq(),i.Wq()},this.Kq=function(){i.Zq(),i.qq(),i.Wq()},this.Jq=function(t){Ys(i.jq,t.zm)||i.jq.push(t.zm),i.tW()},this.nW=function(t){Ws(i.Uq,t.zm),Ws(i.jq,t.zm),i.tW()},this.Lq=n,this.gC=t,t.Ks(Bf.Hf,this.Gq),t.Ks(Bf.Rf,this.Gq),t.Ks(Ty.Ug,this.Gq),t.Ks(Bf.If,this.Gq),t.Ks(Bf.xf,this.Yq),t.Ks(Bf.Bf,this.Qq),this.tW()}var n=t.prototype;return n.bw=function(){Qs(this.Uq);for(var t=0,n=this.Ey.slice();t<n.length;t++){var i=n[t];this.mw(i)}this.$q(),this.Mq=0,this.Fq=0,this.Hq=!1,this.Xq=!1,this.zq=void 0},n.yw=function(t){if(!Ys(this.Ey,t)){if(this.Ey.push(t),t.Ks(og.q_,this.Jq),t.Ks(og.G_,this.nW),t.Ks(og.ew,this.Kq),t.Qw.Tw>0){for(var n=0,i=t.Qw.Aw;n<i.length;n++){var e=i[n];this.jq.push(e)}this.tW()}this.Zq()}},n.mw=function(t){if(Ws(this.Ey,t)){if(t.nu(og.q_,this.Jq),t.nu(og.G_,this.nW),t.nu(og.ew,this.Kq),t.Qw.Tw>0){for(var n=0,i=t.Qw.Aw;n<i.length;n++){var e=i[n];Ws(this.Uq,e),Ws(this.jq,e)}this.tW()}this.Zq()}},n.Zq=function(){this.Hq=this.Ey.some(function(t){return t.Ww!==Fg.Hw})},n.Wq=function(){this.gC.Gg||this.gC.qg?this.$q():this.tW()},n.tW=function(){this.Hq&&(this.Mq||(this.Mq=this.Lq.De(this.Vq)))},n.$q=function(){this.Mq&&(this.Lq.iW(this.Mq),this.Mq=0)},n.qq=function(){var t;if(this.Hq&&!this.gC.Gg){var n=this.Ey,i=this.Fq,e=null!=(t=this.zq)?t:this.gC.jg,r=e-i<-.1,s=this.Xq||r;s&&e>i&&e-i<.1&&(s=!1),this.Xq=!1,this.zq=void 0;for(var u,o=[],a=0;a<n.length;a++){var h=n[a];if(h.Ww!==Fg.Hw){h.JV(e,s);for(var c=0,f=h.Kw.Aw;c<f.length;c++){var v=f[c];o.push(v)}}}if(s)u=this.Uq;else{u=[];for(var l=0;l<n.length;l++){var d=n[l];d.Ww!==Fg.Hw&&db(d,i-Qt,e,u)}}for(var _=u.length-1;_>=0;_--)Ys(o,u[_])&&Gs(u,_);var g=[];if(!s)for(var y=u.length-1;y>=0;y--){var m=u[y];m.Vm>i&&m.qm<=e&&(g.push(m),Gs(u,y))}for(var p=0,k=this.jq;p<k.length;p++){Ws(g,k[p])}Qs(this.jq);for(var b=[],A=[],T=0;T<g.length;T++){var S=g[T];S.cp||b.push(new sP(S,S.Vm)),b.push(new oP(S,w.max(S.Vm,S.qm))),S.cp=!1}for(var E=0,I=u;E<I.length;E++){var R=I[E];R.cp&&(b.push(new oP(R,w.max(R.Vm,R.qm))),R.cp=!1)}for(var N=0;N<o.length;N++){var C=o[N];C.cp||(b.push(new sP(C,C.Vm)),C.cp=!0)}b.sort(rB);for(var D=0;D<b.length;D++){var P=b[D],B=P.zm;B.Qs(P);var x=B.V_;x&&(P.type===Fm.Um?x.Qs(new hP(B)):x.Qs(new fP(B)),Ys(A,x)||A.push(x))}A.sort(_b);for(var O=0;O<A.length;O++){var L=A[O];L.Qs(new dP(L))}this.Fq=e,this.Uq=o}},n.Ed=function(){this.bw(),this.gC.nu(Bf.Hf,this.Gq),this.gC.nu(Bf.Rf,this.Gq),this.gC.nu(Ty.Ug,this.Gq),this.gC.nu(Bf.If,this.Gq),this.gC.nu(Bf.xf,this.Yq),this.gC.nu(Bf.Bf,this.Qq)},t}(),uB=function(){function t(){}var n=t.prototype;return n.De=function(t){return vR(t)},n.iW=function(t){lR(t)},t}(),oB=new uB,aB=function(t){function n(n,i){return void 0===i&&(i=oB),t.call(this,n,i)||this}return E(n,t),n}(sB),hB=function(t){function n(n,i,e){return t.call(this,n,1/0,i,!1,e)||this}return E(n,t),n.prototype.hp=function(n){return this===n||Ag(this,n)&&t.prototype.hp.call(this,n)&&kP(this,n)},T(n,[{key:"X_",get:function(){return this.H_||(this.H_=TP(this)),this.H_}}]),n}(Zm),cB=function(t){function n(n,i,e){return void 0===e&&(e=Bm.DEFAULT),t.call(this,Jk.Zb,"",i||"","",!1,e,!1,n)||this}return E(n,t),n}(rP),fB=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).vs=Bm.ID3,e}E(n,t);var i=n.prototype;return i.mE=function(n){bP(n,this.jV),t.prototype.mE.call(this,n)},i.z_=function(){return zg(this)},n}(cB);function vB(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,e=tB(t.value);return t.THEOplayerTextTrackCue=new hB(i,e),t.THEOplayerTextTrackCue}var lB=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).Rm=void 0,i.Aq=function(){i.Ww!==Fg.Hw&&(i.Tq(),i.Sq(Pm.LOADED))},i.Rm=n,i.Rm.addEventListener("cuechange",i.Aq),i.Ww=i.Rq,wu(function(){i.Aq()}),i}E(n,t);var i=n.prototype;return i.iP=function(n){t.prototype.iP.call(this,n),this.Rq=this.Ww},i.Sq=function(t){this.$w=w.max(this.$w,t)},i.Tq=function(){var t=this.Rm.cues;if(t){for(var n=function(t){for(var n=t.length,i=[],e=0;e<n;e++)i.push(vB(t[e]||t.item(e)));return Ls(i,qD),i}(t),i=YD(this.Qw.Aw.slice(),n),e=0,r=i.UV;e<r.length;e++){var s=r[e];this.uE(s)}for(var u=0,o=i.FV;u<o.length;u++){var a=o[u];this.mE(a)}}},i.Ed=function(){this.Rm.removeEventListener("cuechange",this.Aq),t.prototype.Ed.call(this)},T(n,[{key:"xw",get:function(){return this.Rm.id||""}},{key:"qw",get:function(){return this.Rm.inBandMetadataTrackDispatchType||""}},{key:"Fw",get:function(){return this.Rm.language||""}},{key:"Rq",get:function(){return Hg(this.Rm.mode)},set:function(t){this.Rm.mode=t}},{key:"Om",get:function(){return this.Rm}}]),n}(fB),dB=function(t){function n(n,i){var e;return(e=t.call(this)||this).eW=Hr(),e.HR=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((n=t.V_).vs){i.next=4;break}return i.next=4,Mr.awrap(n.fu(og.hw));case 4:if(n.vs===Bm.ID3){i.next=6;break}return i.abrupt("return");case 6:if(0!==n.Qw.Tw){i.next=11;break}return i.next=9,Mr.awrap(n.fu(og.q_));case 9:i.next=6;break;case 11:e.rW(n);case 12:case"end":return i.stop()}},null,null,null,Ye)},e.XR=function(t){var n=t.V_;if(n.vs===Bm.ID3&&e.eW.has(n.Ow)){var i=e.eW.get(n.Ow);e.mw(i),e.lE.pE(i),n.nu(og.q_,e.sW)}},e.sW=function(t){_B(t.zm)&&e.uW(t.zm)},e.lE=n,e.oW=i,e.aW(),e}E(n,t);var i=n.prototype;return i.aW=function(){this.oW.Ks(eg.M_,this.HR),this.oW.Ks(eg.U_,this.XR)},i.hW=function(){this.oW.nu(eg.M_,this.HR),this.oW.nu(eg.U_,this.XR)},i.rW=function(t){var n=t.Qw.Aw[0];if(_B(n)){var i=function(t){var n=t.match(wB);if(!n)return;return{V_:n[1],Fw:n[2]}}(n.Wm.description),e=i.V_,r=i.Fw;if(!this.cW(e,r)){var s=this.lE.gE(Jk.Qb,t.xw,e,r,!1,Bm.TTML);this.yw(s),this.eW.set(t.Ow,s);for(var u=0,o=t.Qw.Aw;u<o.length;u++){var a=o[u];_B(a)&&this.uW(a)}t.Ks(og.q_,this.sW)}}},i.cW=function(t,n){return this.VA.Aw.some(function(i){return i.Mw===t&&i.Fw===n})},i.uW=function(t){if(t.V_)for(var n=this.eW.get(t.V_.Ow),i=Hk(t.Wm.text,n,{$k:0,Qk:1/0,Kk:t.Vm}),e=0;e<i.length;e++){var r=i[e];n.mE(r)}},i.bw=function(){var n,i,e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:for(n=0,i=this.oW.Aw;n<i.length;n++)i[n].nu(og.q_,this.sW);for(e=0,r=this.VA.Aw;e<r.length;e++)s=r[e],this.lE.pE(s);return this.eW.clear(),u.next=5,Mr.awrap(t.prototype.bw.call(this));case 5:case"end":return u.stop()}},null,this,null,Ye)},i.Ed=function(){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.hW(),n.next=3,Mr.awrap(t.prototype.Ed.call(this));case 3:case"end":return n.stop()}},null,this,null,Ye)},n}(pb);function _B(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.Wm)&&wB.test(n.description);var n}var wB=/^Track:(.+),Lang:(.+)$/;var gB=function(t){function n(n){var i;return(i=t.call(this,Bf.lf)||this).errorObject=void 0,i.errorObject=n,i}return E(n,t),T(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Eu),yB=function(t){function n(){return t.call(this,Bf.df)||this}return E(n,t),n}(Eu),mB=function(t){function n(n){var i;return(i=t.call(this,"Vf")||this).fW=n,i}return E(n,t),n}(Eu),pB=new QN,kB=function(t){function n(n){var i;return(i=t.call(this,"Gh")||this).session=n,i}return E(n,t),n}(Eu),bB=function(t){function e(e,r,s){var u;return(u=t.call(this)||this).vW=!1,u.lW=!1,u.y_=new uu,u.dW=void 0,u.Xh=function(t){if(!u.y_.qs.Ds)switch(t.wu){case"license-request":case"license-renewal":u.eI(t._u,t.yu).catch(function(t){return u.Ec(t)});break;default:u.Ec(new fm(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.wu))}},u._W=function(t){u.wW.nc.Nu(function(t,n){switch(t){case"usable":i.$n(function(){u.lW=!0,u.Qs(new yB)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Qs(new mB(n))}})},u.gW=function(t){u.Ec(new fm(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.wW=e,u.yW=r,u.mW=s,e.Ks("_u",u.Xh),e.Ks("du",u._W),e.Ks("mu",u.gW),e.Jh.then(function(){return u.pW()}),u}E(e,t);var r=e.prototype;return r.Yh=function(){var t=this;return this.vW=!0,pB.ZF(function(n){return t.kW(n)},this.y_.qs)},r.kW=function(t){var i,e,r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,hu(t),s.next=4,Mr.awrap(this.yW.QE(t));case 4:return s.next=6,Mr.awrap(this.yW.KE(this.mW.ds,this.mW.Su,t));case 6:return i=s.sent,s.next=9,Mr.awrap(this.wW.Yh(this.mW.ds,this.mW.Su,i));case 9:s.next=18;break;case 11:throw s.prev=11,s.t0=s.catch(0),cu(s.t0),e=s.t0 instanceof aa?s.t0.$u:void 0,r=new fm(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",s.t0,void 0,void 0,void 0,void 0,e),this.Ec(r),r;case 18:case"end":return s.stop()}},null,this,[[0,11]],Ye)},r.eI=function(t,i){var e,r,s,u;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,!sa(t)){o.next=7;break}return o.next=4,Mr.awrap(this.yW.fI(new p(t),this.y_.qs));case 4:e=o.sent,o.next=10;break;case 7:return o.next=9,Mr.awrap(this.yW.vI(new p(t),i,this.y_.qs));case 9:e=o.sent;case 10:o.next=17;break;case 12:if(o.prev=12,o.t0=o.catch(0),!au(o.t0)){o.next=16;break}return o.abrupt("return");case 16:throw o.t0;case 17:if(!this.y_.qs.Ds){o.next=19;break}return o.abrupt("return");case 19:return r=this.dW,s=new ea,this.dW=s,o.prev=22,o.next=25,Mr.awrap(this.wW.Kh(e));case 25:return o.next=27,Mr.awrap(mu(100));case 27:o.next=33;break;case 29:throw o.prev=29,o.t1=o.catch(22),u=o.t1 instanceof aa?o.t1.$u:void 0,new fm(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",o.t1,void 0,void 0,void 0,void 0,u);case 33:if(o.prev=33,void 0===r){o.next=37;break}return o.next=37,Mr.awrap(r.Hu);case 37:return s.Wu(),this.dW===s&&(this.dW=void 0),o.finish(33);case 40:case"end":return o.stop()}},null,this,[[0,12],[22,29,33,40]],Ye)},r.Ec=function(t){var i=t instanceof fm?t:new fm(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Qs(new gB(i)),this.Gh()},r.pW=function(){this.wW.nu("_u",this.Xh),this.wW.nu("du",this._W),this.wW.nu("mu",this.gW),this.lW=!1,this.y_.Xs(),this.Qs(new kB(this))},r.Gh=function(){var t;return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.tu();case 1:if(void 0===(t=this.dW)){n.next=5;break}return n.next=5,Mr.awrap(t.Hu);case 5:if(this.dW!==t){n.next=1;break}case 6:return this.pW(),n.next=9,Mr.awrap(this.wW.Gh().catch(Z));case 9:case"end":return n.stop()}},null,this,null,Ye)},e}(Tu),AB=[Bf.df,Bf.lf,Bf.zf],TB=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Vh=void 0,r.ec=void 0,r.bW=void 0,r.AW=[],r.TW=void 0,r.SW=[],r.EW=function(t){t.session.nu(AB,r.$s),t.session.nu("Gh",r.EW),Ws(r.AW,t.session)},r.Vh=n,r.ec=i,r.bW=e,r}E(n,t);var i=n.prototype;return i.cI=function(){return this.bW.cI()},i.IW=function(t){return this.TW||(this.TW=this.RW(t)),this.TW},i.RW=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return hu(t),i.next=3,Mr.awrap(this.bW.fI(new p(ra()),t));case 3:if(n=i.sent,hu(t),this.ec){i.next=7;break}throw new v("Invalid MediaKeys when setting ServerCertificate");case 7:return i.next=9,Mr.awrap(this.ec.hc(n.buffer));case 9:case"end":return i.stop()}},null,this,null,Ye)},i.NW=function(t){var n,i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ec){e.next=2;break}throw new v("Invalid MediaKeys when creating KeySession");case 2:return e.prev=2,this.SW.push(t),e.next=6,Mr.awrap(this.ec.ac("temporary"));case 6:return n=e.sent,i=new bB(n,this.bW,t),this.AW.push(i),i.Ks(AB,this.$s),i.Ks("Gh",this.EW),e.abrupt("return",i);case 12:return e.prev=12,Ws(this.SW,t),e.finish(12);case 15:case"end":return e.stop()}},null,this,[[2,,12,15]],Ye)},i.DW=function(t){if(t.PW)return!1;for(var n=0,i=this.AW;n<i.length;n++){if(SB(i[n].mW,t))return!0}for(var e=0,r=this.SW;e<r.length;e++){if(SB(r[e],t))return!0}return!1},i.Ed=function(){var t;return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.ec=void 0,this.tu(),t=this.AW.slice(),Qs(this.AW),n.next=6,Mr.awrap(Ye.all(t.map(function(t){return t.Gh()})));case 6:this.bW.Ls();case 7:case"end":return n.stop()}},null,this,null,Ye)},T(n,[{key:"rc",get:function(){return this.Vh}}]),n}(Tu);function SB(t,n){return!t.PW&&t.ds===n.ds&&Wu(t.Su,n.Su)}var EB=function(t){function e(n){var i;return(i=t.call(this)||this).ZR=void 0,i.y_=new uu,i.hU=new QN,i.Bc=void 0,i.bW=void 0,i.JR=void 0,i.Vh=void 0,i.BW=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Mr.awrap(i.xW(t.ds,t.Su,i.y_.qs));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),au(n.t0)||i.Ec(n.t0);case 8:case"end":return n.stop()}},null,null,[[0,5]],Ye)},i.ZR=n,i.ZR.Ks(Au.pu,i.BW),i}E(e,t);var r=e.prototype;return r.$h=function(t,n){this.JR=t,this.BU(n)},r.BU=function(t){this.Bc=t,this.OW(this.y_.qs).catch(fu)},r.OW=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.Fr.qe){n.next=5;break}return n.next=3,Mr.awrap(this.LW(t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:if(!this.Bc||!this.Bc.MW){n.next=9;break}return n.next=8,Mr.awrap(this.FW(t));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},null,this,null,Ye)},r.LW=function(t){var n,i,e,r,s,u,o,a,h,c,f;return Mr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(null==(n=this.Bc)?void 0:n.NN){v.next=3;break}return v.abrupt("return",!1);case 3:i=!1,e=0,r=null!=(s=null==(u=this.Bc)?void 0:u.NN)?s:[];case 5:if(!(e<r.length)){v.next=27;break}o=r[e],a=0,h=null!=(c=o.FR)?c:[];case 8:if(!(a<h.length)){v.next=22;break}return f=h[a],v.prev=10,v.next=13,Mr.awrap(this.xW(o.rc.ds,f,t));case 13:i=!0,v.next=19;break;case 16:v.prev=16,v.t0=v.catch(10),cu(v.t0);case 19:a++,v.next=8;break;case 22:if(!i){v.next=24;break}return v.abrupt("return",!0);case 24:e++,v.next=5;break;case 27:return v.abrupt("return",!1);case 28:case"end":return v.stop()}},null,this,[[10,16]],Ye)},r.xW=function(t,e,r){var s,u,o,a,h,c,f,v,l,d;return Mr.async(function(_){for(;;)switch(_.prev=_.next){case 0:if(hu(r),e.byteLength){_.next=3;break}return _.abrupt("return");case 3:if(this.Bc&&this.Bc.NN.length){_.next=5;break}throw new fm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(t===Zr||t===ts||t===Jr){_.next=8;break}return _.abrupt("return");case 8:s=$A(t,e),u=this.Bc.NN,a=0;case 11:if(!(a<u.length)){_.next=42;break}if(h=u[a],hu(r),(c=s[h.rc._s])&&h.rc.ds===t){_.next=17;break}return _.abrupt("continue",39);case 17:return _.prev=17,_.next=20,Mr.awrap(this.UW(h,r));case 20:if(!(f=_.sent).cI()){_.next=24;break}return _.next=24,Mr.awrap(f.IW());case 24:if(v=this.ZR.hm,l={ds:h.rc.ds,Su:c,PW:v},!this.jW(f,l)){_.next=32;break}return _.next=29,Mr.awrap(f.NW(l));case 29:return d=_.sent,_.next=32,Mr.awrap(d.Yh());case 32:return _.abrupt("return");case 35:_.prev=35,_.t0=_.catch(17),cu(_.t0),o=_.t0;case 39:a++,_.next=11;break;case 42:return _.next=44,Mr.awrap(i.Ir());case 44:if(!_.sent){_.next=48;break}throw new fm(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new fm(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return _.stop()}},null,this,[[17,35]],Ye)},r.FW=function(t){var n,i,e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=null==(n=this.Bc)?void 0:n.NN){u.next=3;break}return u.abrupt("return");case 3:e=0;case 4:if(!(e<i.length)){u.next=23;break}return r=i[e],hu(t),u.prev=7,u.next=10,Mr.awrap(this.UW(r,t));case 10:if(!(s=u.sent).cI()){u.next=14;break}return u.next=14,Mr.awrap(s.IW());case 14:return u.abrupt("return");case 17:u.prev=17,u.t0=u.catch(7),cu(u.t0);case 20:e++,u.next=4;break;case 23:case"end":return u.stop()}},null,this,[[7,17]],Ye)},r.jW=function(t,n){return i.Fr.Ve||!t.DW(n)},r.UW=function(t,n){var i=this;return this.hU.ZF(function(n){return i.HW(t,n)},n)},r.HW=function(t,n){var i,e,r,s,u;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(hu(n),this.Bc&&this.bW&&this.JR){o.next=3;break}throw new v("Not initialized");case 3:if(!this.Vh){o.next=7;break}if(this.Vh.rc===t.rc){o.next=6;break}throw new v("Internal key system error");case 6:return o.abrupt("return",this.Vh);case 7:return i=this.bW,e=Fr({},t,{zN:t.zN.map(function(n){var e;return Fr({},n,{persistentState:null!=(e=n.persistentState)?e:i.BI(t.rc),yc:n.yc||i.yc(t.rc)})})}),o.next=11,Mr.awrap(this.JR.CU(e.rc,e.zN));case 11:return r=o.sent,s=i.MR(e),(u=new TB(e.rc,r,s)).Ks([Bf.df,Bf.lf,Bf.zf],this.$s),this.Vh=u,o.abrupt("return",u);case 17:case"end":return o.stop()}},null,this,null,Ye)},r.Ec=function(t){var i=t instanceof fm?t:new fm(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Qs(new gB(i))},r.bw=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.JR=void 0,this.Bc=void 0,this.y_.Xs(),this.y_=new uu,t.next=6,Mr.awrap(this.XW());case 6:case"end":return t.stop()}},null,this,null,Ye)},r.XW=function(){var t;return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(this.hU.Xs());case 2:if(!(t=this.Vh)){n.next=8;break}return t.nu(Bf.zf,this.$s),this.Vh=void 0,n.next=8,Mr.awrap(t.Ed());case 8:case"end":return n.stop()}},null,this,null,Ye)},r.Ls=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.tu(),this.ZR.nu(Au.pu,this.BW),t.next=4,Mr.awrap(this.bw());case 4:return t.next=6,Mr.awrap(this.hU.Ed());case 6:case"end":return t.stop()}},null,this,null,Ye)},T(e,[{key:"zW",get:function(){var t;return null==(t=this.Vh)?void 0:t.rc}},{key:"EN",get:function(){return this.bW},set:function(t){this.bW=t}}]),e}(Tu),IB=F.En||F.In,RB=F.qn,NB=.5,CB=5,DB=F.Pn,PB=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Vc=void 0,s.VW=void 0,s.tN=void 0,s.pC=!0,s.JR=void 0,s.qW=new QN,s.WW=void 0,s.GW=void 0,s.YW=void 0,s.EU=void 0,s.Ey=void 0,s.SD=void 0,s.$W=[],s.QW=void 0,s.KW=void 0,s.ZW=void 0,s.JW=void 0,s.tG=void 0,s.nG=void 0,s.iG=NaN,s.eG=void 0,s.rG=void 0,s.kD=!1,s.sG=Ye.resolve(),s.uG=new uu,s.oG=[],s.aG=WS.vD(),s.hG=void 0,s.cG=1,s.fG=!1,s.vG=!1,s.lG=!1,s.dG=!1,s.As=void 0,s._G=!1,s.wG=!1,s.gG=!1,s.yG=!1,s.mG=0,s.Xz=void 0,s.pG=function(t){var n=t.track,i=s.kG(n);s.bG(n,i)},s.AG=function(t){var n=OB(s.QW,t.track);n&&s.QW.mw(n)},s.TG=function(){for(var t=0;t<s.Ey.Tw;t++){var n=s.Ey.gw(t);n instanceof iB&&n.Cq()}},s.SG=function(){s.QW.bw()},s.EG=function(){var t=s.JR,n=t.rV,i=t.sV;if(n&&i)if(t.HU)s.IG();else if(t.$w!==ED.oz){var e=n.nm,r=i.nm;if(0!==e.Tw&&0!==r.Tw){var u=s.jg;if(u<e.IC(0)||u<r.IC(0))s.IG();else if(e.VN(u)!==r.VN(u)){if(t.Vz(u))return;s.RG()}else{if(s.IG(),!s.mG&&s.YW.xV())e.$C(r).tD(u,u+NB)&&(s.mG=vR(s.NG))}}else s.IG()}},s.NG=function(){s.mG=0,s.EG()},s.CG=function(){if(!(s.Gg||s.$w>=sy.Pg)){0;var t=s.JR,n=t.rV,i=t.sV;if(n&&i){var e=s.jg,r=n.nm,u=i.nm;if(r.VN(e)&&u.VN(e))r.$C(u).tD(e-CB,e)&&(s.gG?s.IG():s.DG())}}},s.PG=function(){s.Qs(new Iy(s.jg))},s.BG=function(){s.xG(new ou),s.Qs(new Ey(s.jg))},s.OG=function(){s.LG(),s.Qs(new Jb(s.jg))},s.MG=function(){s.FG(s.Wg)},s.UG=function(){s.Qs(new Dy(s.Hg))},s.jG=function(){s.Qs(new mC(s.jg))},s.HG=function(){s.Qs(new pC)},s.XG=function(){var t=s.jg,n=s.Gg,i=s.$w<sy.Pg&&!s.Xg,e=void 0!==s.rG,r=e&&s.rG!==t;(n||!e||r&&!i)&&(s.Qs(new By(s.jg,void 0)),s.rG=t)},s.zG=function(){!s.fG&&s.Xg&&(s.fG=!0,s.Qs(new xy(s.jg)))},s.VG=function(){if(null!==s.Vc.error){var t,n=s.Vc.error;s.cN(new vm(null!=(t=n.code)?t:am.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},s.qG=function(){s.vG&&(s.WG(),s.lG=!0)},s.GG=function(){s.Qs(new Fy(s.jg,s.Qg))},s.YG=function(){s.$g>0&&s.Yg>0&&s.Qs(new Nb)},s.$G=function(t){s.Qs(new Pu(t.initDataType,t.initData||new ArrayBuffer(0)))},s.QG=function(){s.Qs(new Bu)},s.KG=function(t){var n=t.initData,i=n?Jo(n).buffer:new ArrayBuffer(0);s.Qs(new Pu(Zr,i))},s.ZG=function(t){if(t.initData){var n=function(t){try{var n=Yo(t),i=new na,e=bo(n,i,!0),r=wo(n,i,e),s=Uo(r,!0);return Fo(s)}catch(t){return}}(t.initData);if(!n)return;s.Qs(new Pu(ts,n))}else s.Qs(new Pu(ts,new ArrayBuffer(0)))},s.JG=function(t){var n=t.initData,i=n?Jo(n).buffer:new ArrayBuffer(0);s.Qs(new Pu(Zr,i))},s.tY=function(){s.LG()},s.nY=function(t){s.xG(t)},s.iY=function(t){s.Qs(t),t.type===Bf.lf&&s.cN(dm(t.errorObject))},s.Vc=n,s.As=i,s.VW=e,s.SD=r,s.GW=new MD(nn(s)),s.GW.Ks(Ty.ow,s.$s),s.YW=new HD(nn(s)),s.YW.Ks(Ty.Ug,s.OG),s.EU=new EB(nn(s)),s.EU.Ks([Bf.df,Bf.lf,Bf.zf],s.iY),s.Ey=new tb,s.QW=new tb,s.KW=new SS([s.Ey,s.QW]),s.ZW=new dB(nn(s),s.KW),s.JW=new SS([s.KW,s.ZW.VA]),s.tG=new aB(nn(s)),s.eY(),s.RN(),s}E(n,t);var e=n.prototype;return e.rY=function(){this.SN.ended||this.jg===this.Hg||(this.fG=!1)},e.sY=function(){return void 0!==this.nG&&this.Hg===this.nG},e.FG=function(t){this.cG!==t&&(this.cG=t,this.Qs(new Py(this.jg,t)))},e.GN=function(){return gN(this.Vc)},e.xy=function(){var t=this.uY();return this.oY(),t},e.oY=function(){this._G?this.wG&&(this.wG=!1,this.Qs(new Iy(this.jg))):this.aY()},e.aY=function(){if(this.WW)this.WW.xy();else{F.Pn&&!F.un&&this.Vc.preload===FS.dC&&(this.Vc.preload=FS.Zb);var t=this.Wg,n=this.Vc.play();t!==this.SN.playbackRate&&(this.Wg=t),$(n)?n.then(this.tY,this.nY):this.YW.xV()&&this.LG()}},e.Oy=function(){this._G?this.wG||(this.wG=!0,this.Qs(new Ey(this.jg))):this.hY()},e.hY=function(){this.WW?this.WW.Oy():(this.Vc.pause(),this.YW.Kh()),this.cY(new ou)},e.uY=function(){var t=new ea;return this.oG.push(t),t.Hu},e.fY=function(){for(var t=0,n=this.oG;t<n.length;t++){n[t].Wu(void 0)}Qs(this.oG)},e.cY=function(t){for(var n=0,i=this.oG;n<i.length;n++){i[n].Gu(t)}Qs(this.oG)},e.LG=function(){this._G||this.WW||this.fY()},e.xG=function(t){this._G||this.WW||this.cY(t)},e.Lu=function(t,n){this.WW?this.WW.jg=t:(this.uG.Xs(),this.uG=new uu,this.sG=this.vY(t,this.sG,this.uG.qs).catch(Z))},e.WN=function(t){var n=this.YN;if(n&&!m(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.Lu(i)}},e.vY=function(t,n,i){var e,r,s,u,o,a,h,c,f=this;return Mr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,this.nG=t,this.iG=t,this.kD=!0,this.fG&&!this.sY()&&(this.fG=!1),this.Qs(new Ly(t)),v.next=8,Mr.awrap(n.catch(Z));case 8:if(hu(i),this.dG&&this.lY(),this.$w!==sy.Ng){v.next=13;break}return v.next=13,Mr.awrap(this.fu(Ty.ow,i));case 13:if(0!==this.Vc.seekable.length){v.next=19;break}return v.next=16,Mr.awrap(Ye.race([ng(this.Vc,"timeupdate",i),mu(100,i)]));case 16:hu(i),v.next=13;break;case 19:e=this.dY(t),r=this.pm,s=!0,u=!1;case 23:if((r=this.pm).Tw>0&&!r.VN(e)&&(e=r.UC(e),s=!0),DB&&void 0!==(o=this._Y())&&e>o&&(e=o,s=!0),u){v.next=37;break}if(!(void 0!==(a=this.wY())&&e>a)){v.next=37;break}return u=!0,v.next=33,Mr.awrap(this.gY(a,i));case 33:return v.next=35,Mr.awrap(ng(this.Vc,"seeked",i));case 35:hu(i),s=!0;case 37:if(!s){v.next=56;break}return s=!1,v.next=41,Mr.awrap(this.gY(e,i));case 41:hu(i),h=this.jg,r=this.pm,e=r.UC(e),c=1;case 46:if(!(w.abs(e-h)>=Qt)){v.next=56;break}return r=this.pm,e=xB(e,r,c),v.next=51,Mr.awrap(this.gY(e,i));case 51:hu(i),h=this.jg,c++,v.next=46;break;case 56:if(this.Vc.seeking||this.$w<sy.Dg){v.next=58;break}return v.abrupt("break",63);case 58:return v.next=60,Mr.awrap(du(function(t){var n;return Ye.race([ng(f.Vc,"seeked",t),f.fu([Bf.Nf,Bf.gf,Ty.ow],t),null==(n=f.JR)?void 0:n.fu(aC.VP,t)].filter(H))},i));case 60:hu(i),v.next=23;break;case 63:this.yY(),v.next=71;break;case 66:if(v.prev=66,v.t0=v.catch(0),!au(v.t0)){v.next=70;break}return v.abrupt("return");case 70:0;case 71:case"end":return v.stop()}},null,this,[[0,66]],Ye)},e.gY=function(t,n){var i,e,r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(hu(n),i=this.pm,t=i.UC(t),!this.dG){s.next=18;break}e=!0;case 5:if(!(e||this.$w<sy.Pg)){s.next=17;break}if((i=this.pm).VN(t)||(t=i.UC(t),e=!0),!e){s.next=13;break}return e=!1,this.nG=t,this.mY(this.jg),s.abrupt("continue",5);case 13:return s.next=15,Mr.awrap(this.fu([Ty.ow,Bf.gf],n));case 15:s.next=5;break;case 17:hu(n);case 18:if(r=ng(this.Vc,"seeking",n),this.Vc.currentTime=t,this.nG=void 0,this.mY(this.jg),!this.Vc.seeking){s.next=25;break}return s.next=25,Mr.awrap(r);case 25:case"end":return s.stop()}},null,this,null,Ye)},e.dY=function(t){var n=this.nm;if(n&&!n.VN(t)){var i=n.KC(t,.05);if(i>-1){var e=n.IC(i);if(t<e)return e}}return t},e._Y=function(){if(this.JR&&this.JR.HU){var t=this.JR.XU,n=this.JR.zU,i=t&&n?t.XC(n):t||n;if(i&&0!==i.Tw){var e=i.IC(i.Tw-1),r=i.NC(i.Tw-1);return w.max(e,r-.001)}}},e.wY=function(){if(this.JR&&this.JR.HU){var t=this.JR.zU;if(t&&0!==t.Tw){var n=t.IC(t.Tw-1),i=t.NC(t.Tw-1)-.02;return i-=.001,w.max(n,i)}}},e.mY=function(t){this.iG!==t&&(this.iG=t,this.Qs(new Ly(t)))},e.yY=function(){this.kD=!1,this.iG=NaN,this.dG&&this.pY(),this.Qs(new My(this.jg))},e.lY=function(){this._G||(this.wG=this.qg,this._G=!0,this.hY())},e.pY=function(){this._G&&(this._G=!1,this.wG||this.oY())},e.jU=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.vs===Rb.bE&&yC.jU(i,this.Vc))return i;if(i.vs===Rb.AE&&ND.jU(i))return i}},e.Wy=function(){this.pC=!1,fr(this.Vc)&&(this.Vc.style.display="none")},e.qy=function(){this.pC=!0,fr(this.Vc)&&(this.Vc.style.display="block")},e.gE=function(t,n,i,e,r,s,u,o){var a=new rP(t,n,i,e,r,s,u,o);return this.Ey.yw(a),this.tG.yw(a),a},e.xN=function(){return!0},e.LN=function(t,n,i,e){var r=s.createElement("track");r.src=m_(t),r.kind=n,r.label=null!=i?i:"",e&&(r.srclang=e),r.id=HI(),this.Vc.appendChild(r);var u=this.Vc.textTracks.getTrackById(r.id),o=new iB(u,r);return this.QW.yw(o),this.$W.push(o),o},e.pE=function(t){this.Ey.mw(t),this.tG.mw(t)},e.UN=function(){for(var t=0,n=this.Ey.Aw.slice();t<n.length;t++){n[t].Ed()}this.Ey.bw();for(var i=0,e=this.$W.slice();i<e.length;i++){var r=e[i];this.QW.mw(r),r.Ed()}Qs(this.$W)},e.RN=function(){var t=this.Vc.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.pG),t.addEventListener("removetrack",this.AG),t.addEventListener("change",this.TG)),this.Vc.addEventListener("emptied",this.SG)},e.HN=function(){var t=this.Vc.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.pG),t.removeEventListener("removetrack",this.AG),t.removeEventListener("change",this.TG)),this.Vc.removeEventListener("emptied",this.SG)},e.bG=function(t,n){if(F.Pn){if(t.kind===Jk.Zb)return void this.kY(t);if(t.kind===Jk.tE&&""===t.label&&""===t.language&&!LB(t))return void this.bY(t,n)}OB(this.QW,t)||this.QW.yw(new iB(t,n))},e.kY=function(t){t.mode=Fg.Xw;var n=new lB(t);this.QW.yw(n),this.tG.yw(n)},e.bY=function(t,n){var i=this;t.addEventListener("cuechange",function e(){LB(t)&&(t.removeEventListener("cuechange",e),i.QW.yw(new iB(t,n)))}),t.mode=Fg.Xw},e.kG=function(t){for(var n=this.Vc.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},e.$h=function(t){var n=this;return this.qW.ZF(function(i){var e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(hu(i),!n.JR){r.next=3;break}throw new v("Already loaded a media source");case 3:if(t.vs!==Rb.bE){r.next=9;break}e=new yC(t,n,n.EU,n.As),n.dG=!1,n.AY(new MD(n)),r.next=17;break;case 9:if(t.vs!==Rb.AE){r.next=16;break}e=new ND(t,n,n.EU,n.As,void 0,n.Xz),n.dG=IB,n.AY(n.dG?new UD(n):new MD(n)),RB&&(n.Ks(Bf.Hf,n.EG),n.Ks(Ty.ow,n.CG)),r.next=17;break;case 16:throw new v("Unsupported configuration");case 17:return n.JR=e,r.next=20,Mr.awrap(e.gL());case 20:return r.abrupt("return",e);case 21:case"end":return r.stop()}},null,null,null,Ye)})},e.RG=function(){if(!this.gG){var t=this.Wg;this.gG=!0,this.Wg=t,this.Vc.playbackRate=0,this.GW&&this.GW.RV()}},e.IG=function(){if(this.gG){var t=this.Wg;this.gG=!1,this.Wg=t,this.DG()}},e.DG=function(){this.Vc.currentTime=this.Vc.currentTime,this.GW&&this.GW.RV()},e.AY=function(t){var n=this.$w;this.GW.Ls(),this.GW=t,this.GW.Ks(Ty.ow,this.$s);var i=this.$w;n!==i&&this.Qs(new Hy(this.jg,i))},e.bw=function(){var t=this;return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.kD=!1,this.aG=WS.vD(),this.uG.Xs(),this.nG=void 0,this.iG=NaN,this.eG=void 0,this.dG=!1,this._G=!1,this.tN=void 0,this.fG=!1,this.rG=void 0,this.vG=!1,this.lG&&(this.eY(),this.lG=!1),this.cY(new ou),this.AY(new MD(this)),this.YW.bw(),this.IG(),RB&&(lR(this.mG),this.mG=0,this.nu(Bf.Hf,this.EG),this.nu(Ty.ow,this.CG)),n.next=20,Mr.awrap(this.qW.Xs());case 20:return n.next=22,Mr.awrap(this.qW.ZF(function(){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.JR){n.next=4;break}return n.next=3,Mr.awrap(t.JR.Ls());case 3:t.JR=void 0;case 4:case"end":return n.stop()}},null,null,null,Ye)}));case 22:case"end":return n.stop()}},null,this,null,Ye)},e.Ls=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.lG=!1,this.WG(),this.HN(),t.next=5,Mr.awrap(this.bw());case 5:return t.next=7,Mr.awrap(this.qW.Ed());case 7:return this.YW.Ls(),this.GW.Ls(),t.next=11,Mr.awrap(this.EU.Ls());case 11:return this.UN(),this.Ey.Ed(),this.QW.Ed(),t.next=16,Mr.awrap(this.ZW.Ed());case 16:this.KW.Ed(),this.JW.Ed(),this.tu();case 19:case"end":return t.stop()}},null,this,null,Ye)},e.eY=function(){this.SN.addEventListener("play",this.PG),this.SN.addEventListener("pause",this.BG),this.SN.addEventListener("timeupdate",this.XG),this.SN.addEventListener("progress",this.jG),this.SN.addEventListener("loadstart",this.HG),this.SN.addEventListener("ended",this.zG),this.SN.addEventListener("ratechange",this.MG),this.SN.addEventListener("volumechange",this.GG),this.SN.addEventListener("durationchange",this.UG),this.SN.addEventListener("resize",this.YG),this.SN.addEventListener("loadedmetadata",this.YG),this.SN.addEventListener("error",this.VG),this.SN.addEventListener("emptied",this.qG),Ds()?(this.Vc.addEventListener("encrypted",this.$G),this.Vc.addEventListener("waitingforkey",this.QG)):void 0!==ge.WebKitMediaKeys&&"function"==typeof ge.WebKitMediaKeys.isTypeSupported?this.Vc.addEventListener("webkitneedkey",this.ZG):Ps()?this.Vc.addEventListener("webkitneedkey",this.JG):void 0!==ge.MSMediaKeys&&"function"==typeof ge.MSMediaKeys.isTypeSupported&&this.Vc.addEventListener("msneedkey",this.KG)},e.WG=function(){this.SN.removeEventListener("play",this.PG),this.SN.removeEventListener("pause",this.BG),this.SN.removeEventListener("timeupdate",this.XG),this.SN.removeEventListener("progress",this.jG),this.SN.removeEventListener("loadstart",this.HG),this.SN.removeEventListener("ended",this.zG),this.SN.removeEventListener("ratechange",this.MG),this.SN.removeEventListener("volumechange",this.GG),this.SN.removeEventListener("durationchange",this.UG),this.SN.removeEventListener("resize",this.YG),this.SN.removeEventListener("loadedmetadata",this.YG),this.SN.removeEventListener("error",this.VG),this.SN.removeEventListener("encrypted",this.$G),this.SN.removeEventListener("waitingforkey",this.QG),this.SN.removeEventListener("webkitneedkey",this.ZG),this.SN.removeEventListener("webkitneedkey",this.JG),this.SN.removeEventListener("msneedkey",this.KG),this.SN.removeEventListener("emptied",this.qG)},e.TY=function(){this.WW||(this.aG=this.ym,this.WW=BD(this),this.WG(),this.WW.Ks(DD,this.$s))},e.SY=function(){if(this.WW){var t=this.WW;this.WW=void 0,this.GW.RV(),xD(this,t),t.Ls(),this.eY()}},e.cN=function(t){this.tN=t,this.cY(this.tN),this.Qs(new XD(this.tN))},e.EY=function(){this.IY||(aO(this.Vc,i.Fr),this.yG=!0)},e.RY=function(t){t.appendChild(this.Vc)},e.wV=function(){RB&&this.EG(),this.GW.RV()},e.tm=function(){this.EU.XW().catch(Z)},T(n,[{key:"CV",get:function(){return this.gG}},{key:"nm",get:function(){return this.JR?this.JR.nm:WS.vD()}},{key:"im",get:function(){var t=this.YN;if(t&&!m(t.getTime())){var n=1e3*this.jg;return new Date(t.getTime()+n)}}},{key:"YN",get:function(){if(this.SN.getStartDate)return this.kD&&this.eG||(this.eG=this.SN.getStartDate()),this.eG}},{key:"jg",get:function(){return this.WW?this.WW.jg:void 0!==this.nG?this.nG:this.Vc.currentTime}},{key:"DF",get:function(){return this.VW}},{key:"Hg",get:function(){return this.WW?this.WW.Hg:this.JR?this.JR.Hg:this.Vc.duration}},{key:"Xg",get:function(){return this.Gg?this.sY():this.WW?this.WW.Xg:this.Vc.ended||this.fG}},{key:"mu",get:function(){return this.tN}},{key:"SN",get:function(){return this.Vc}},{key:"qg",get:function(){return this._G?this.wG:this.WW?this.WW.qg:this.Vc.paused}},{key:"ym",get:function(){return this.aG.YC(WS.hD(this.Vc.played))}},{key:"uT",get:function(){return this.Vc.offsetHeight*i.Fr.Xe}},{key:"yp",get:function(){return this.Vc.offsetWidth*i.Fr.Xe}},{key:"FN",get:function(){return $S}},{key:"$w",get:function(){return this.GW.$w}},{key:"pm",get:function(){return this.JR?this.JR.pm:WS.vD()}},{key:"Gg",get:function(){return this.WW?this.WW.Gg:this.kD}},{key:"Vg",get:function(){return this.WW?this.WW.Vg:this.Vc.muted},set:function(t){this.WW?this.WW.Vg=t:this.Vc.muted=t}},{key:"Wg",get:function(){return this.WW?this.WW.Wg:void 0!==this.hG?this.hG:this.Vc.playbackRate},set:function(t){this.WW?this.WW.Wg=t:this.qg||this.gG?(this.hG=t,this.FG(t)):(this.hG=void 0,this.Vc.playbackRate=t)}},{key:"NY",get:function(){return this.pC}},{key:"Qg",get:function(){return this.WW?this.WW.Qg:this.Vc.volume},set:function(t){this.WW?this.WW.Qg=t:this.Vc.volume=t}},{key:"Py",get:function(){return this.JW}},{key:"BF",get:function(){return this.SD}},{key:"hm",get:function(){return!!this.Vc.webkitCurrentPlaybackTargetIsWireless}},{key:"IY",get:function(){return this.yG}},{key:"CY",get:function(){return Fr({},dC)}},{key:"EN",get:function(){return this.EU.EN},set:function(t){this.EU.EN=t}},{key:"DY",get:function(){return this.Xz},set:function(t){this.Xz=t}},{key:"zW",get:function(){return this.EU.zW}},{key:"Tm",get:function(){return this.vG},set:function(t){this.vG=t,this.lG&&!this.vG&&(this.lG=!1,this.eY())}}]),n}(Tu);var BB=.01;function xB(t,n,i){if(void 0===i&&(i=0),!n.Tw)return 0;var e=n.UC(t),r=BB*i;return e===n.IC(0)?e+=r:e===n.NC(n.Tw-1)&&(e-=r),e}function OB(t,n){for(var i=0,e=t.Aw;i<e.length;i++){var r=e[i];if(r.Om===n)return r}}function LB(t){return!!t.cues&&t.cues.length>0}var MB={$M:void 0,QM:void 0,KM:void 0,ZM:void 0,JM:void 0,tF:void 0,sF:void 0,nF:void 0,iF:void 0,eF:void 0,rF:void 0},FB=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).H_=void 0,n}return E(n,t),T(n,[{key:"X_",get:function(){return this.H_||(this.H_=NN(this)),this.H_}},{key:"$M",get:function(){}},{key:"QM",get:function(){}},{key:"KM",get:function(){}},{key:"ZM",get:function(){}},{key:"JM",get:function(){}},{key:"tF",get:function(){}},{key:"sF",get:function(){}},{key:"nF",get:function(){}},{key:"iF",get:function(){}},{key:"eF",get:function(){}},{key:"rF",get:function(){}}]),n}(Tu);new FB;var UB=function(t){function n(n,i,e){return t.call(this,n,i,e,new FB)||this}return E(n,t),n.prototype.Gy=function(){},T(n,[{key:"Yg",get:function(){return 0}},{key:"$g",get:function(){return 0}}]),n}(PB),jB="theoplayer-texttracks",HB=function(){function t(t){void 0===t&&(t=5),this.PY=void 0;var n=ge.document.createElement("div");n.className=jB,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.width="100%",n.style.height="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.PY=n,this.qy()}var n=t.prototype;return n.Wy=function(){this.PY.style.display="none"},n.qy=function(){this.PY.style.display="block"},n.RY=function(t){t.appendChild(this.PY)},n.Ed=function(){rr(this.PY)},T(t,[{key:"um",get:function(){return this.PY}}]),t}();function XB(t,n){return Fr({},n,Tg({$M:(i=t).$M,QM:i.QM,KM:i.KM,ZM:i.ZM,JM:i.JM,tF:i.tF,sF:i.sF,nF:i.nF,iF:i.iF,eF:i.eF,rF:i.rF}));var i}function zB(t){return t.KM&&bs(t.KM,"%")?Number(t.KM.replace("%",""))/100:t.KM&&bs(t.KM,"em")?Number(t.KM.replace("em","")):1}var VB,qB,WB=function(){function t(t,n,i,e,r){var s=this;this.BY=Hr(),this.xY=!0,this.OY=void 0,this.LY=Fr({},MB),this.MY=[],this.ep=void 0,this.Vc=void 0,this.VW=void 0,this.FY=void 0,this.UY=function(t){return s.mE(t.zm)},this.jY=function(t){return s.removeCue(t.zm)},this.HY=function(){return s.XY()},this.zY=function(t){return s.VY(t.zm)},this.qY=function(t){return s.WY(t.zm)},this.GY=function(t){return s.YY(t.zm)},this.$Y=function(t){s.QY(t.yp,t.uT)},this.ep=t,this.FY=this.OY=r,this.Vc=this.KY(i),this.VW=e,n.appendChild(this.Vc)}var n=t.prototype;return n.ZY=function(t){var n=this.JY(t);if(!n)return!1;for(var i=0;i<n.length;i++){rr(n[i])}return this.t$(t),!0},n.gL=function(){var t=this;this.n$(),this.ep.Qw.Aw.forEach(function(n){return t.mE(n)}),this.DF.Ks("Ix",this.$Y),this.QY(this.DF.xx,this.DF.Bx)},n.i$=function(t){this.LY=t,this.OY=XB(this.LY,this.FY),this.OY.$M&&(this.SN.style.fontFamily=this.OY.$M),this.OY.sF&&(this.SN.style.visibility=this.OY.sF),this.QY(this.DF.xx,this.DF.Bx),this.e$(!0)},n.r$=function(){return this.OY},n.s$=function(t){return this.BY.has(t.Ow)},n.n$=function(){this.ep.Ks(og.q_,this.UY),this.ep.Ks(og.G_,this.jY),this.ep.Ks(og.ew,this.HY)},n.u$=function(){this.ep.nu(og.q_,this.UY),this.ep.nu(og.G_,this.jY),this.ep.nu(og.ew,this.HY)},n.o$=function(t){t.Ks(Fm.Um,this.zY),t.Ks(Fm.Hm,this.qY),t.Ks(Fm.fw,this.GY)},n.a$=function(t){t.nu(Fm.Um,this.zY),t.nu(Fm.Hm,this.qY),t.nu(Fm.fw,this.GY)},n.mE=function(t){this.o$(t),t.cp&&this.VY(t)},n.removeCue=function(t){this.a$(t),this.WY(t)},n.XY=function(){this.ep.Ww===Fg.zw?this.h$():this.c$()},n.h$=function(){if(this.xY){this.xY=!1;var t=this.DF.xx,n=this.DF.Bx;this.QY(t,n),this.e$(!1)}},n.c$=function(){this.xY||(this.xY=!0,this.e$(!0))},n.VY=function(t){this.xY||t.cp&&!this.s$(t)&&this.e$(!1)},n.WY=function(t){this.s$(t)&&this.e$(!1)},n.YY=function(t){(t.cp||this.s$(t))&&this.e$(!0)},n.e$=function(t){var n=this.MY,i=this.xY?[]:this.ep.Kw.Aw.slice();this.f$(i,n,t),this.MY=i},n.JY=function(t){var n;return null==(n=this.BY.get(t.Ow))?void 0:n.v$},n.l$=function(t,n){this.BY.set(t.Ow,{zm:t,v$:n})},n.t$=function(t){this.BY.delete(t.Ow)},n.d$=function(){return this.MY.slice()},n.Ed=function(){var t=this;rr(this.SN),this.BY.clear(),this.u$(),this.ep.Qw.Aw.forEach(function(n){return t.a$(n)}),this.DF.nu("Ix",this.$Y)},T(t,[{key:"V_",get:function(){return this.ep}},{key:"SN",get:function(){return this.Vc}},{key:"DF",get:function(){return this.VW}},{key:"_$",get:function(){return this.OY}},{key:"w$",get:function(){return this.LY}}]),t}();function GB(t){return YB[t||"none"]}!function(t){t.g$='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.y$='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.m$='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.p$='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(VB||(VB={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(qB||(qB={}));var YB={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"},$B=Xr({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),QB={QM:qB.WHITE,$M:"Arial, Helvetica, Sans-Serif",KM:"100%",ZM:qB.TRANSPARENT,JM:qB.TRANSPARENT,tF:"none",sF:"visible",nF:void 0,iF:void 0,eF:void 0,rF:void 0},KB=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,QB)||this}E(n,t);var i=n.prototype;return i.KY=function(t){var n=s.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",ur(n.style,"flex"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.QY=function(t,n){var i=w.min(t,n)/15;this.SN.style.fontSize=i+"px"},i.f$=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.cp||this.ZY(r)}for(var s=0;s<t.length;s++){var u=t[s];this.k$(u)}},i.k$=function(t){var n=this.JY(t);n||(n=this.b$(t),this.l$(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.SN.appendChild(r)}},i.b$=function(t){var n,i=[],e=t.$S,r=t.Zk,u=t.Wm;if(0===_.keys(r).length){sx(n=s.createElement("div"));for(var o=ZB(u,e,t.QS,void 0),a=0;a<o.length;a++){var h=o[a];n.appendChild(h)}i.push(n)}else for(var c=0,f=_.keys(r);c<f.length;c++){var v=f[c],l=s.createElement("div");l.id=v;var d=ZB(u,e,t.QS,l);if(d){sx(l),tx(l,"region",r[v],e);for(var w=0;w<d.length;w++){var g=d[w];l.appendChild(g)}i.push(l)}i.push(l)}return i},i.i$=function(t){var n,i,e,r;n=this.SN,i=t,n.style.marginTop=(null!=(e=i.nF)?e:0)+"px",n.style.marginBottom=(null!=(r=i.iF)?r:0)+"px",n.style.height="calc(100% - "+n.style.marginTop+" - "+n.style.marginBottom+")",BN(this.SN,t)},n}(WB);function ZB(t,n,i,e){var r,u;if(Jt(t)&&("SPAN"===(u=t).di.toUpperCase()||"P"===u.di.toUpperCase()||"BR"===u.di.toUpperCase()||"DIV"===u.di.toUpperCase()||"BODY"===u.di.toUpperCase())){var o=function t(n){var i=n.Bi("region");if("p"===n.di.toLowerCase())return i;var e=[];for(var r=0,s=n.Pi;r<s.length;r++){var u=s[r];e.push(t(u))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var e=!0,r=i+1;r<t.length;r++)if(t[i]===t[r]){e=!1;break}e&&n.push(t[i])}}(e);return 0===e.length?i:1===e.length?null!=(o=e[0])?o:i:void 0;var o}(t);if(!o||(null==e?void 0:e.id)===o){(r="BODY"===t.di.toUpperCase()?e:function(t){var n;switch(t.di.toUpperCase()){case"BR":n=s.createElement("br");break;case"SPAN":JB(n=s.createElement("span"),t);break;case"P":n=s.createElement("p"),(i=n).style.fontFamily="inherit",i.style.color="inherit",i.style.textAlign="inherit",i.style.padding="0",i.style.margin="0",i.style.lineHeight="inherit",JB(n,t);break;case"DIV":JB(n=s.createElement("div"),t)}var i;return n}(t))&&(function(t,n,i,e){var r=n.Bi("style");ix(t,n.di,r,i,e),function(t,n,i){for(var e=0,r=n.Ui;e<r.length;e++){var s=r[e],u=Ok(s._i,["ebutts","tts","xml"]);ex(t,n.di,u,s.Ai,i)}}(t,n,e)}(r,t,n,e),function(t,n,i){var e=null==n?void 0:n.Bi("smpte:backgroundImage");if(e){e=e.replace("#","");var r=i&&function t(n,i){if(i(n))return n;for(var e=0,r=n.Pi;e<r.length;e++){var s=r[e],u=t(s,i);if(u)return u}return null}(i,function(t){return t.Ui.some(function(t){return"id"===t.di&&t.Ai===e})});r&&nx(t,r,n,!0)}!function(t,n){var i=n.Pi[0];if(!i||"metadata"!==i.di.toLowerCase())return;var e=i.Pi[0];nx(t,e,n)}(t,n)}(r,t,i));for(var a=[],h=t.Ii,c=0;c<h.length;c++){var f=ZB(h[c],n,i,e);f&&(a=a.concat(f))}if("BODY"!==t.di.toUpperCase()){for(var v=0,l=a;v<l.length;v++){var d,_=l[v];null==(d=r)||d.appendChild(_)}return r?[r]:[]}return a}}else tn(t)&&(r=s.createTextNode(t.Hi));return r?[r]:[]}function JB(t,n){var i=n.xi(Pk,"id");i&&(t.id=i)}function tx(t,n,i,e){ix(t,n,i.style,e,t);for(var r=0,s=_.keys(i);r<s.length;r++){var u=s[r];ex(t,n,u,i[u],t)}}function nx(t,n,i,e){void 0===e&&(e=!1),e&&(t.style.width=t.style.height="100%");var r=s.createElement("img");r.src=function(t){var n=t&&t.Ii.length>0?t.Ii[0]:null;return n&&tn(n)?"data:image/png;base64,"+n.Hi:""}(n),r.id=t.id,r.style.height="100%",r.style.maxWidth="100%",function(t,n){ur(t.style,"flex");var i=n.Bi("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var e=n.Bi("smpte:backgroundImageHorizontal");if(e)switch(e.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(r)}function ix(t,n,i,e,r){if(i)for(var s=0,u=i.split(" ");s<u.length;s++){var o=u[s];if(e[o])for(var a=0,h=_.keys(e[o]);a<h.length;a++){var c=h[a],f=Ok(c,["ebutts","tts","xml"]);"style"===f.toLowerCase()?ix(t,n,e[o][c],e,r):ex(t,n,f,e[o][c],r)}}}function ex(t,n,i,e,r){switch(i){case"backgroundColor":t.style.backgroundColor=e;break;case"color":t.style.color=e;break;case"direction":t.style.direction=e;break;case"display":"none"===e&&(t.style.display="none");break;case"fontFamily":var s=$B.get(e);t.style.fontFamily=s||e;break;case"fontSize":bs(e,"px")?e=g(e)/24+"em":bs(e,"c")&&(e=e.replace("c","em")),t.style.fontSize=e;break;case"fontStyle":t.style.fontStyle=e;break;case"fontWeight":t.style.fontWeight=e;break;case"lineHeight":t.style.lineHeight=e;break;case"opacity":t.style.opacity=e;break;case"overflow":t.style.overflow=e;break;case"padding":t.style.padding=e;break;case"textAlign":"right"===e?(t.style.textAlign="right",t.style.justifyContent="flex-end"):"start"===e?(t.style.textAlign="start",t.style.justifyContent="flex-start"):"center"===e?(t.style.textAlign="center",t.style.justifyContent="center"):"end"===e?(t.style.textAlign="end",t.style.justifyContent="flex-end"):"left"===e&&(t.style.textAlign="left",t.style.justifyContent="flex-start");break;case"textDecoration":var u=e;u=(u=(u=(u=u.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough","none")).replace("noOverline","none"),t.style.textDecoration=u;break;case"unicodeBidi":t.style.unicodeBidi=e.replace("bidiOverride","bidi-override");break;case"visibility":t.style.visibility=e;break;case"zIndex":t.style.zIndex=e;break;case"displayAlign":var o;if("before"===e.toLowerCase())o="flex-start";else if("center"===e.toLowerCase())o="center";else{if("after"!==e.toLowerCase())return;o="flex-end"}t.style.alignItems=o;break;case"extent":var a,h,c=rx(n.toLowerCase())?r:t,f=e.split(" ");f.length>=2?(a=f[0],h=f[1]):a=h="100%",c&&(c.style.height=h,c.style.width=a);break;case"origin":var v=rx(n.toLowerCase())?r:t,l=e.split(" "),d=l[0],_=l[1];v&&(d||_)&&(d&&(v.style.left=d),_&&(v.style.top=_));break;case"showBackground":break;case"wrapOption":t.style.whiteSpace=e.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap");break;case"writingMode":var w,y,m,p;switch(e){case"lrtb":w="horizontal-tb";break;case"rltb":w="horizontal-tb",y="rtl",p="bidi-override";break;case"tbrl":w="vertical-rl",m="upright";break;case"tblr":w="vertical-lr",m="upright";break;case"lr":w="horizontal-tb";break;case"rl":w="horizontal-tb",y="rtl";break;case"tb":w="vertical-rl",m="upright";break;default:return}t.style.writingMode=w,t.style.setProperty("-webkit-writing-mode",w),y&&(t.style.direction=y),m&&(t.style.textOrientation=m,t.style.setProperty("-webkit-text-orientation",m)),p&&(t.style.unicodeBidi=p);break;case"textOutline":break;case"linePadding":if(bs(e,"c")){var k=e.replace("c","em");t.style.paddingLeft=t.style.paddingRight=k}break;case"multiRowAlign":"auto"===e.toLowerCase()?t.style.textAlign="":t.style.textAlign="value"}}function rx(t){return"div"===t||"p"===t||"span"===t}function sx(t){ur(t.style,"flex"),t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px",t.style.textAlign="start",t.style.writingMode="horizontal-tb",t.style.setProperty("-webkit-writing-mode","horizontal-tb"),t.style.padding="0",t.style.margin="0",t.style.lineHeight="1.3em"}var ux,ox,ax=void 0;function hx(t,n){for(var i,e=ux.A$,r="",s=[],u=t.charAt(n.Bu),o="",a={vs:ox.T$,Ri:"",S$:[]};n.Bu<t.length+1;){switch(u=n.Bu<t.length?t.charAt(n.Bu):"EOF",e){case ux.A$:switch(u){case"&":var h=t.substring(n.Bu).match(/&#?[0-9a-zA-Z]+;/);h?(r+=(i=h[0],ax||(ax=ge.document.createElement("textarea")),ax.innerHTML=i,ax.value),n.xu(h[0].length-1)):r+="&";break;case"<":if(r)return{vs:ox.E$,Wm:r};e=ux.I$;break;case"EOF":return{vs:ox.E$,Wm:r};default:r+=u}break;case ux.I$:switch(u){case"\t":case"\n":case"\f":case" ":e=ux.R$;break;case".":e=ux.N$;break;case"/":e=ux.C$;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,e=ux.D$;break;case">":return n.xu(1),a;case"EOF":return a;default:r=u,e=ux.P$}break;case ux.P$:switch(u){case"\t":case"\f":case" ":e=ux.R$;break;case"\n":o=u,e=ux.R$;break;case".":e=ux.N$;break;case">":return n.xu(1),{vs:ox.T$,Ri:r,S$:[]};case"EOF":return{vs:ox.T$,Ri:r,S$:[]};default:r+=u}break;case ux.N$:switch(u){case"\t":case"\f":case" ":s.push(o),o="",e=ux.R$;break;case"\n":s.push(o),o=u,e=ux.R$;break;case".":s.push(o),o="";break;case">":return n.xu(1),s.push(o),{vs:ox.T$,Ri:r,S$:s};case"EOF":return s.push(o),{vs:ox.T$,Ri:r,S$:s};default:o+=u}break;case ux.R$:switch(u){case"&":e=ux.B$;break;case">":n.xu(1);var c=o.trim();return c=c.replace(/\s/," "),{vs:ox.T$,Ri:r,S$:s,x$:c};default:o+=u}break;case ux.B$:for(var f="",v=n.Bu;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",e=ux.R$;break;case ux.C$:switch(u){case">":return n.xu(1),{vs:ox.O$,Ri:r};case"EOF":return{vs:ox.O$,Ri:r};default:r+=u}break;case ux.D$:switch(u){case">":return n.xu(1),{vs:ox.L$,M$:r};case"EOF":return{vs:ox.L$,M$:r};default:r+=u}}n.xu(1)}return a}function cx(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}!function(t){t.A$="Data",t.I$="Tag",t.P$="StartTag",t.N$="StartTagClass",t.R$="StartTagAnnotation",t.B$="CharRefInAnnotation",t.C$="EndTag",t.D$="TimestampTag"}(ux||(ux={})),function(t){t.E$="string",t.T$="starttag",t.O$="endtag",t.L$="timestamp"}(ox||(ox={}));var fx,vx=function(){function t(t,n,i,e){this.F$=void 0,this.U$=void 0,this.yp=void 0,this.uT=void 0,this.F$=t,this.U$=n,this.yp=i,this.uT=e}var n=t.prototype;return n.j$=function(t){return this.F$<t.H$&&this.H$>t.F$&&this.U$<t.X$&&this.X$>t.U$},n.Im=function(t){return this.F$<=t.F$&&t.H$<=this.H$&&this.U$<=t.U$&&t.X$<=this.X$},n.Mu=function(){return new t(this.F$,this.U$,this.yp,this.uT)},T(t,[{key:"H$",get:function(){return this.F$+this.yp},set:function(t){this.F$=t-this.yp}},{key:"X$",get:function(){return this.U$+this.uT},set:function(t){this.U$=t-this.uT}}]),t}(),lx={QM:qB.WHITE,$M:"sans-serif",KM:"100%",ZM:"rgba(0,0,0,0.8)",JM:qB.TRANSPARENT,tF:"none",sF:"visible",nF:void 0,iF:void 0,eF:void 0,rF:void 0},dx="theoplayer-webvtt-region-",_x="theoplayer-webvtt-styling-",wx="theoplayer-webvtt-voice-",gx="theoplayer-webvtt-default-style",yx=5.23,mx=1.14,px=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,lx)||this).z$=jr(),s.V$=Sx(3),s}E(n,t);var i=n.prototype;return i.KY=function(t){var n=s.createElement("div");n.className="theoplayer-webvtt-texttrack-"+t,hr(n),n.style.overflow="hidden",n.style.pointerEvents="none";var i=this._$.$M;return i&&(n.style.fontFamily=i),n.style.whiteSpace="pre-line",function(){if(s.getElementById(gx))return;for(var t=[],n=0;n<Bx.length;n++){var i=Bx[n],e=i[0],r=i[1];t.push("."+_x+e+" { color: "+r+" !important; }"),t.push("."+_x+"q$"+e+" { background-color: "+r+" !important; }"),t.push("video::cue(."+e+") { color: "+r+"; }"),t.push("W$"+e+") { background-color: "+r+"; }")}var u=s.createElement("style");u.id=gx,u.innerHTML=t.join("\n"),s.body.appendChild(u)}(),n},i.gL=function(){this.SN.appendChild(this.V$),t.prototype.gL.call(this)},i.QY=function(t,n){var i=this,e=w.min(t/100,n/100),r=zB(this._$);this.z$.forEach(function(t){var n=t.Zm,s=t.G$;i.Y$(s,e,r,n)}),this.Y$(this.V$,e,r)},i.i$=function(n){BN(this.SN,n),t.prototype.i$.call(this,n)},i.f$=function(t,n,i){for(var e=this,r=this.SN,s=this.DF.Bx/100,u=[],o=0;o<t.length;o++){var a=t[o];void 0!==a.Zm&&(Ys(u,a.Zm)||u.push(a.Zm))}this.z$.forEach(function(t,n){var r=t.Zm,s=t.G$;!i&&Ys(u,r)||(rr(s),e.z$.delete(n))});for(var h=0;h<n.length;h++){var c=n[h];!i&&c.cp||this.ZY(c)}var f=[],v=Nx(this.V$.getBoundingClientRect());f.push.apply(f,this.Q$(v));for(var l=0;l<u.length;l++){var d=u[l],_=void 0;this.z$.has(d.xw)?_=this.z$.get(d.xw).G$:(_=Ex(d,s),r.appendChild(_),this.z$.set(d.xw,{Zm:d,G$:_})),f.push(Nx(_.getBoundingClientRect()))}for(var w=0;w<t.length;w++){var g=t[w],y=this.k$(g,f,v);void 0!==y&&f.push(y)}},i.Q$=function(t){var n=[],i=this._$;if(void 0!==i.nF){var e=t.Mu();e.uT=i.nF,n.push(e)}if(void 0!==i.iF){var r=t.Mu();r.uT=i.iF,r.X$=t.X$,n.push(r)}return n},i.k$=function(t,n,i){var e,r;t.Zm?(r=this.z$.get(t.Zm.xw).G$,"up"===t.Zm._p&&r.children.length>=1&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s")):r=this.V$;var s=null==(e=this.JY(t))?void 0:e[0];if(s?r.appendChild(s):(s=this.K$(t),r.appendChild(s),t.Zm||(t.Jm?function(t,n,i,e){var r=Ix(t),s=r?i.uT:i.yp,u=y(getComputedStyle(n).lineHeight);if(0===u)return;var o=Nx(n.getBoundingClientRect()),a=w.round(np(t));"rl"===t.tp&&(a=-(a+1));var h=u*a;"rl"===t.tp&&(h=h-o.yp+u);a<0&&(h+=s,u=-u);r?o.U$+=h:o.F$+=h;var c=o.Mu(),f=!1;for(;!i.Im(o)||Rx(o,e);)if(r)if(u<0&&o.U$<i.U$||u>0&&o.X$>i.X$){if(o.U$=c.U$,f)break;u=-u,f=!0}else o.U$+=u;else if(u<0&&o.F$<i.F$||u>0&&o.H$>i.H$){if(o.F$=c.F$,f)break;u=-u,f=!0}else o.F$+=u;r?n.style.top=(o.U$-i.U$)/i.uT*100+"%":n.style.left=(o.F$-i.F$)/i.yp*100+"%"}(t,s,i,n):function(t,n,i,e){var r=Nx(n.getBoundingClientRect());if(0===r.yp||0===r.uT)return;Ix(t)?"center"===t.$m?r.U$-=r.uT/2:"end"===t.$m&&(r.U$-=r.uT):"center"===t.$m?r.F$-=r.yp/2:"end"===t.$m&&(r.F$-=r.yp);var s,u=r.Mu(),o=u,a=1,h=!1;s=""===t.tp?[fx.POS_Y,fx.NEG_Y,fx.POS_X,fx.NEG_X]:"lr"===t.tp?[fx.POS_X,fx.NEG_X,fx.POS_Y,fx.NEG_Y]:[fx.NEG_X,fx.POS_X,fx.POS_Y,fx.NEG_Y];var c=y(getComputedStyle(n).lineHeight)/4;if(c>0){for(var f=0;f<s.length&&!h;f++){for(;!Dx(r,i,s[f],.01)&&(!i.Im(r)||Rx(r,e));)Cx(r,s[f],c);if(i.Im(r)){o=r.Mu(),h=!0;break}var v=(l=r,d=i,_=void 0,g=void 0,void 0,_=w.max(0,w.min(l.H$,d.H$)-w.max(l.F$,d.F$)),g=w.max(0,w.min(l.X$,d.X$)-w.max(l.U$,d.U$)),_*g/(l.yp*l.uT));a>v&&(o=r.Mu(),a=v),r=u.Mu()}i.Im(r)||(o=u.Mu())}var l,d,_,g;n.style.left=(o.F$-i.F$)/i.yp*100+"%",n.style.top=(o.U$-i.U$)/i.uT*100+"%"}(t,s,i,n)),this.l$(t,[s])),!t.Zm)return Nx(s.getBoundingClientRect())},i.K$=function(t){for(var n=new na,i=t.Wm,e=this.Z$(t),r={J$:void 0,um:e},u=r,o="",a="",h=[r],c=[],f=[];n.Bu<i.length;){var v=hx(i,n);if(v.vs===ox.E$){var l=s.createElement("span");cx(l,v.Wm),kx(l,h),""!==o&&(l.lang=o),this.tQ(l,a),u.um.appendChild(l)}else if(v.vs===ox.T$){var d=v.Ri.toLowerCase();switch(d){case"i":case"b":case"u":case"ruby":var _=s.createElement(d);u.um.appendChild(_),u={J$:v,um:_},h.push(u);break;case"rt":var w;if("ruby"===(null==(w=u.J$)?void 0:w.Ri.toLowerCase())){var g=s.createElement("rt");u.um.appendChild(g),u={J$:v,um:g},h.push(u)}break;case"c":case"v":u={J$:v,um:u.um},h.push(u);break;case"font":var y,m=null==(y=v.x$)?void 0:y.match(/(?:^| )color=["']([^"']+)/i);m&&(a=m[1],f.push(a),u={J$:v,um:u.um},h.push(u));break;case"lang":var p;o=null!=(p=v.x$)?p:"",c.push(o)}}else if(v.vs===ox.O$){var k,b=v.Ri.toLowerCase(),A=null==(k=u.J$)?void 0:k.Ri.toLowerCase();A===b?(h.pop(),u=h[h.length-1],"font"===b&&(f.pop(),a=f.length>0?f[f.length-1]:"")):"rt"===A&&"ruby"===b?(h.pop(),h.pop(),u=h[h.length-1]):"lang"===b&&(c.pop(),o=c.length>0?c[c.length-1]:"")}else if(v.vs===ox.L$){var T=v.M$,S=new na;try{ik(T,S)}catch(t){ct("ERROR collecting timestamp",t)}}}return e},i.tQ=function(t,n){var i=this._$,e=this.w$;i.ZM&&(t.style.background=i.ZM);var r=e.QM||n||i.QM;r&&(t.style.color=r)},i.Y$=function(t,n,i,e){if(e){var r=bx(e,n);t.style.height=r*i+"px",t.style.left=Ax(e)+"%",t.style.top=Tx(e,n)+"px"}t.style.fontSize=yx*n*i+"px"},i.Z$=function(t){var n=s.createElement("div");n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.Gm,function(t,n){"rl"===n.tp?t.style.writingMode="vertical-rl":"lr"===n.tp?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=rp(n);Ix(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,e,r=ep(n),s=ip(n),u=rp(n);if(Ix(n)){switch(r){case"line-left":i=s;break;case"center":i=s-u/2;break;case"line-right":i=s-u}e=n.Jm?0:np(n)}else{switch(r){case"line-left":e=s;break;case"center":e=s-u/2;break;case"line-right":e=s-u}i=n.Jm?0:np(n)}t.style.left=i+"%",t.style.top=e+"%"}(n,t);var i=this._$.JM;i&&(n.style.background=i);var e=this._$.QM;return e&&(n.style.color=e),n.style.textShadow=GB(this._$.tF),n},n}(WB);function kx(t,n){for(var i=0;i<n.length;i++){var e=n[i];if(e.J$){for(var r=0,s=e.J$.S$;r<s.length;r++){var u=s[r];sr(t,_x+u)}"v"===e.J$.Ri.toLowerCase()&&e.J$.x$&&sr(t,wx+e.J$.x$)}}}function bx(t,n){return t.vp*(yx*n)*mx}function Ax(t){return t.wp-t.lp*t.yp/100}function Tx(t,n){var i=t.gp,e=t.dp*bx(t,n)/100;return w.max(0,i-e)}function Sx(t){var n=s.createElement("div");return n.className=dx+"default",hr(n),n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=yx*t+"px",n.style.lineHeight=mx+"em",n}function Ex(t,n){var i=Sx(n);i.className=dx+t.xw;var e=t.yp,r=bx(t,n);return i.style.width=e+"%",i.style.height=r+"px",i.style.left=Ax(t)+"%",i.style.right="",i.style.top=Tx(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function Ix(t){return""===t.tp}function Rx(t,n){return n.some(function(n){return t.j$(n)})}function Nx(t){return new vx(t.left,t.top,t.width,t.height)}function Cx(t,n,i){switch(n){case fx.POS_X:t.F$+=i;break;case fx.NEG_X:t.F$-=i;break;case fx.POS_Y:t.U$+=i;break;case fx.NEG_Y:t.U$-=i}}function Dx(t,n,i,e){switch(i){case fx.POS_X:return t.H$>n.H$+e;case fx.NEG_X:return t.F$<n.F$-e;case fx.POS_Y:return t.X$>n.X$+e;case fx.NEG_Y:return t.U$<n.U$-e}}!function(t){t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y"}(fx||(fx={}));var Px,Bx=[["white","#fff"],["lime","#0f0"],["cyan","#0ff"],["red","#f00"],["yellow","#ff0"],["magenta","#f0f"],["blue","#00f"],["black","#000"]];!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(Px||(Px={}));var xx={QM:qB.WHITE,$M:VB.m$,KM:"100%",ZM:qB.BLACK,JM:"transparent",tF:"none",nQ:Px.FONT_REGULAR,sF:"visible",nF:void 0,iF:void 0,eF:void 0,rF:void 0},Ox=[{iQ:qB.WHITE,nQ:Px.FONT_REGULAR,eQ:0},{iQ:qB.WHITE,nQ:Px.FONT_UNDERLINE,eQ:0},{iQ:qB.GREEN,nQ:Px.FONT_REGULAR,eQ:0},{iQ:qB.GREEN,nQ:Px.FONT_UNDERLINE,eQ:0},{iQ:qB.BLUE,nQ:Px.FONT_REGULAR,eQ:0},{iQ:qB.BLUE,nQ:Px.FONT_UNDERLINE,eQ:0},{iQ:qB.CYAN,nQ:Px.FONT_REGULAR,eQ:0},{iQ:qB.CYAN,nQ:Px.FONT_UNDERLINE,eQ:0},{iQ:qB.RED,nQ:Px.FONT_REGULAR,eQ:0},{iQ:qB.RED,nQ:Px.FONT_UNDERLINE,eQ:0},{iQ:qB.YELLOW,nQ:Px.FONT_REGULAR,eQ:0},{iQ:qB.YELLOW,nQ:Px.FONT_UNDERLINE,eQ:0},{iQ:qB.MAGENTA,nQ:Px.FONT_REGULAR,eQ:0},{iQ:qB.MAGENTA,nQ:Px.FONT_UNDERLINE,eQ:0},{iQ:qB.WHITE,nQ:Px.FONT_ITALICS,eQ:0},{iQ:qB.WHITE,nQ:Px.FONT_UNDERLINE_ITALICS,eQ:0},{iQ:qB.WHITE,nQ:Px.FONT_REGULAR,eQ:0},{iQ:qB.WHITE,nQ:Px.FONT_UNDERLINE,eQ:0},{iQ:qB.WHITE,nQ:Px.FONT_REGULAR,eQ:4},{iQ:qB.WHITE,nQ:Px.FONT_UNDERLINE,eQ:4},{iQ:qB.WHITE,nQ:Px.FONT_REGULAR,eQ:8},{iQ:qB.WHITE,nQ:Px.FONT_UNDERLINE,eQ:8},{iQ:qB.WHITE,nQ:Px.FONT_REGULAR,eQ:12},{iQ:qB.WHITE,nQ:Px.FONT_UNDERLINE,eQ:12},{iQ:qB.WHITE,nQ:Px.FONT_REGULAR,eQ:16},{iQ:qB.WHITE,nQ:Px.FONT_UNDERLINE,eQ:16},{iQ:qB.WHITE,nQ:Px.FONT_REGULAR,eQ:20},{iQ:qB.WHITE,nQ:Px.FONT_UNDERLINE,eQ:20},{iQ:qB.WHITE,nQ:Px.FONT_REGULAR,eQ:24},{iQ:qB.WHITE,nQ:Px.FONT_UNDERLINE,eQ:24},{iQ:qB.WHITE,nQ:Px.FONT_REGULAR,eQ:28},{iQ:qB.WHITE,nQ:Px.FONT_UNDERLINE,eQ:28}],Lx=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];function Mx(t,n){return mp(t.rQ,n.rQ)||Us(t.vS,n.vS)}var Fx=32,Ux=/CC([1-4])=(.*)/;function jx(t){if(!t)return[];var n=[],i=t.trim().split(";");if(i.every(function(t){return t.match(Ux)}))for(var e=0;e<i.length;e++){var r=i[e].match(Ux),s=r[1],u=r[2];n.push({sQ:Number(s),uQ:u})}else for(var o=0;o<i.length;o++)n.push({sQ:o+1,uQ:i[o]});return n}var Hx=function(){function t(t,n,i){this.oQ=void 0,this.aQ=t,this.hQ=n,this.OY=i}var n=t.prototype;return n.cQ=function(){return this.oQ=this.fQ(),this.vQ(),this.lQ(),this.oQ},n.fQ=function(){var t=s.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.dQ/Fx*this.hQ._Q*100+"%",t.style.height=1.2*this.wQ+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.hQ.gQ?"calc(1em - 1ch)":"";var n=this.OY.$M;n&&(t.style.fontFamily=n);var i=this.OY.JM;return i&&(t.style.backgroundColor=i),t},n.vQ=function(){if(this.oQ){var t=this.mQ.yQ/15*100,n=this.mQ.eQ/Fx*100,i=(Fx-this.pQ.eQ-1)/Fx*100,e=(15-this.pQ.yQ-1)/15*100;this.hQ.kQ||(n=i=1,this.oQ.style.width="98%"),e<t?this.oQ.style.bottom=e*this.hQ._Q+"%":this.oQ.style.top=t*this.hQ._Q+"%",i<n?this.oQ.style.right=i+"%":this.oQ.style.left=n+"%"}},n.lQ=function(){for(var t=this.aQ.bQ.sort(Xx),n=0;n<t.length;n++)this.AQ(t[n-1],t[n]),this.TQ(t[n]);this.AQ(t[t.length-1],void 0)},n.TQ=function(n){var i,e=XB(this.OY,n.SQ),r=t.EQ(e);cx(r,n.IQ),null==(i=this.oQ)||i.appendChild(r)},t.EQ=function(t){var n=s.createElement("span");n.style.display="inline-block",t.nQ!==Px.FONT_ITALICS&&t.nQ!==Px.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.nQ!==Px.FONT_UNDERLINE&&t.nQ!==Px.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline");var i=t.QM;i&&(n.style.color=i);var e=t.ZM;return e&&(n.style.backgroundColor=e),n.style.textShadow=GB(t.tF),n.style.height="1.2em",n},n.AQ=function(t,n){var i=t?t.RQ.yQ:this.aQ.NQ.yQ,e=n?n.NQ.yQ:this.aQ.RQ.yQ,r=t?t.RQ.eQ:this.aQ.NQ.eQ,s=n?n.NQ.eQ:this.aQ.RQ.eQ;i<e&&(!n||t&&t.NQ.yQ!==n.NQ.yQ?this.CQ():this.DQ(this.aQ.RQ.eQ-r),r=this.aQ.NQ.eQ),r<s&&(n?this.DQ(s-r):this.CQ())},n.CQ=function(){var t,n=s.createElement("br");null==(t=this.oQ)||t.appendChild(n)},n.DQ=function(t){var n;if(!(t<=0)){var i=s.createElement("span");i.style.display="inline-block",cx(i,Ts(" ",t)),null==(n=this.oQ)||n.appendChild(i)}},T(t,[{key:"mQ",get:function(){return this.aQ.NQ}},{key:"pQ",get:function(){return this.aQ.RQ}},{key:"dQ",get:function(){return this.aQ.RQ.eQ-this.aQ.NQ.eQ+1}},{key:"wQ",get:function(){return this.aQ.RQ.yQ-this.aQ.NQ.yQ+1}}]),t}();function Xx(t,n){return function(t,n){if(t.yQ!==n.yQ)return t.yQ-n.yQ;return t.eQ-n.eQ}(t.NQ,n.NQ)}var zx=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,xx)||this).BQ=void 0,s.xQ=void 0,s}E(n,t);var i=n.prototype;return i.KY=function(t){var n=s.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",this._$.$M&&(n.style.fontFamily=this._$.$M),n},i.QY=function(t,n){this.OQ()},i.OQ=function(){var t,n=zB(this._$);this.xQ={_Q:(t=100*n)/100,gQ:t<=100,kQ:t<=150};var i=this.LQ/Fx;this.BQ=i*n,this.SN.style.fontSize=this.BQ+"px"},i.f$=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.cp||this.ZY(r)}for(var s=0;s<t.length;s++){var u=t[s];this.k$(u)}},i.k$=function(t){this.xQ&&this.xQ.kQ?this.MQ(80):this.MQ(100),this.OQ();var n=this.JY(t);n||(n=this.b$(t),this.l$(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.SN.appendChild(r)}},i.b$=function(t){var n=this;return t.Wm.map(function(t){return new Hx(t,n.xQ,n._$).cQ()})},i.MQ=function(t){var n=(100-t)/2;this.SN.style.left=n+"%",this.SN.style.width=t+"%"},T(n,[{key:"LQ",get:function(){var t=this.SN.offsetWidth;return this.xQ&&this.xQ.kQ||(t*=.8),t}}]),n}(WB),Vx=function(){function t(t,n,i,e,r){var s=this;this.FQ=void 0,this.VW=void 0,this.Ey=void 0,this.UQ=void 0,this.jQ=[],this.SD=void 0,this.HQ=function(t){var n=t.V_;n.Ks(og.ow,s.XQ),n.Ks(og.hw,s.XQ),n instanceof iB&&(n.Nq=s.Nq),s.zQ(n)},this.XQ=function(t){var n=t.V_;s.zQ(n)},this.VQ=function(t){var n=t.V_;n.nu(og.ow,s.XQ),n.nu(og.hw,s.XQ),s.qQ(n)},this.WQ=function(){for(var t=s.Nq,n=0,i=s.Ey.Aw;n<i.length;n++){var e=i[n];e instanceof iB&&(e.Nq=t)}},this.GQ=function(){for(var t=0,n=s.jQ;t<n.length;t++){n[t].i$(s.SD)}},this.YQ=function(){for(var t=0,n=s.jQ;t<n.length;t++){var i=n[t];i.i$(Fr({},i.r$(),{sF:"hidden"}))}},this.$Q=function(){for(var t=0,n=s.jQ;t<n.length;t++){var i=n[t];i.i$(Fr({},i.r$(),{sF:"visible"}))}},this.FQ=t,this.VW=n,this.Ey=i,this.UQ=r,this.SD=e,this.Ey.Ks(eg.M_,this.HQ),this.Ey.Ks(eg.U_,this.VQ),this.Ey.Ks(og.ew,this.XQ),this.UQ.Ks(VS.ew,this.WQ),this.SD.Ks("uw",this.GQ),this.WQ()}var n=t.prototype;return n.QQ=function(t){for(var n=0,i=this.jQ;n<i.length;n++){var e=i[n];if(e.V_===t)return e}},t.KQ=function(t){switch(t.vs){case Bm.TTML:case Bm.SRT:case Bm.WEBVTT:case Bm.CEA608:return!0}return!1},n.ZQ=function(t){switch(t.vs){case Bm.TTML:return new KB(t,this.FQ,t.Mw,this.VW);case Bm.SRT:case Bm.WEBVTT:return new px(t,this.FQ,t.Mw,this.VW);case Bm.CEA608:return new zx(t,this.FQ,t.Mw,this.VW)}},n.JQ=function(t){var n=this.QQ(t);n||(n=this.ZQ(t))&&(n.gL(),n.i$(this.SD),this.jQ.push(n),t.Ww===Fg.zw&&n.h$())},n.qQ=function(t){for(var n=this.jQ,i=n.length-1;i>=0;i-=1){var e=n[i];e.V_===t&&(e.Ed(),Gs(n,i))}},n.zQ=function(n){var i;(i=n.Lw)!==Jk.Qb&&i!==Jk.tE||!t.KQ(n)||(n.$w===Pm.ERROR?this.qQ(n):this.JQ(n))},n.bw=function(){for(var t=0,n=this.jQ;t<n.length;t++){var i=n[t];i.V_.nu(og.ow,this.XQ),i.V_.nu(og.hw,this.XQ),i.Ed()}Qs(this.jQ)},n.Ed=function(){this.bw();for(var t=0,n=this.jQ;t<n.length;t++){n[t].Ed()}this.Ey.nu(eg.M_,this.HQ),this.Ey.nu(eg.U_,this.VQ),this.Ey.nu(og.ew,this.XQ),this.UQ.nu(VS.ew,this.WQ),this.SD.nu("uw",this.GQ)},T(t,[{key:"Nq",get:function(){return this.UQ.dD}}]),t}();function qx(t){var n=new RR,i=function(t){var n=[];return ER.nO(t)&&n.push(new ER(t)),IR.nO(t)&&n.push(new IR(t)),n}(t);if(i.length>0){for(var e=0;e<i.length;e++){var r=i[e];n.uO(r)}n.sO(i[0])}return n}var Wx,Gx=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r)||this).tK=void 0,s.nK=void 0,s.iK=void 0,s.iK=qx(n),s.tK=new HB,s.nK=new Vx(s.tK.um,s.DF,s.Py,s.BF,s.FN),s}E(n,t);var i=n.prototype;return i.Gy=function(){return this.Vc},i.Ls=function(){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.iK.Ed(),this.tK.Ed(),this.nK.Ed(),n.next=5,Mr.awrap(t.prototype.Ls.call(this));case 5:case"end":return n.stop()}},null,this,null,Ye)},i.Wy=function(){t.prototype.Wy.call(this),this.tK.Wy()},i.qy=function(){t.prototype.qy.call(this),this.tK.qy()},i.RY=function(n){t.prototype.RY.call(this,n),this.tK.RY(n)},T(n,[{key:"SN",get:function(){return this.Vc}},{key:"Yg",get:function(){return this.Vc.videoHeight}},{key:"$g",get:function(){return this.Vc.videoWidth}},{key:"FN",get:function(){return this.iK}}]),n}(PB);!function(t){t.eK="HELLO",t.rK="HI_THERE",t.sK="INITIALIZE",t.uK="APPEND_INIT",t.oK="APPEND_DATA",t.aK="ACK",t.hK="REMOVE",t.cK="DESTROY_SESSION"}(Wx||(Wx={}));var Yx=function(){function t(){this._e=void 0,this.Xc=void 0,this.hU=new QN}var n=t.prototype;return n.fK=function(t){var n=this;return this.hU.ZF(function(t){var i,e,r,s,u,a;return Mr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(hu(t),i=new MessageChannel,e=i.port1,r=i.port2,o.serviceWorker.controller){h.next=7;break}return h.next=7,Mr.awrap(ng(o.serviceWorker,"install",t));case 7:if("activated"===o.serviceWorker.controller.state){h.next=10;break}return h.next=10,Mr.awrap(ng(o.serviceWorker.controller,"activate",t));case 10:return s={kind:Wx.eK,port:r},o.serviceWorker.controller.postMessage(s,[r]),e.start(),n._e=e,h.prev=15,h.next=18,Mr.awrap(ng(e,"message",t));case 18:if(u=h.sent,(a=u.data).kind===Wx.rK){h.next=23;break}throw new v("Could not set up message channel");case 23:n.Xc=a.sessionId,h.next=30;break;case 26:throw h.prev=26,h.t0=h.catch(15),au(h.t0)&&n.vK(),h.t0;case 30:case"end":return h.stop()}},null,null,[[15,26]],Ye)},t)},n.lK=function(t,n){var i=this;return this._e,this.hU.ZF(function(){var e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i._e){r.next=2;break}throw new v("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i._e.postMessage(t,n),r.next=7,Mr.awrap(ng(i._e,"message"));case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},null,null,null,Ye)})},n.dK=function(){var t=this;return this.hU.ZF(function(){return t.vK()})},n.vK=function(){if(o.serviceWorker.controller&&"activated"===o.serviceWorker.controller.state&&this._e){var t={kind:Wx.cK};this._e.postMessage(t),this._e.close(),this._e=void 0}},t}(),$x=function(){function t(){this._K=cp.Nk}var n=t.prototype;return n.wK=function(t,n){var i=t.Dp(n);this._K=i.kp(this.gK)?this._K:i},n.yK=function(t){this._K=t},T(t,[{key:"gK",get:function(){return this._K}}]),t}(),Qx=function(t){function n(n,i){var e;return(e=t.call(this)||this).mK=void 0,e.pK=void 0,e.hU=new QN,e.kK=!1,e.bK=!1,e.JB=n,e.AK=i,e}E(n,t);var i=n.prototype;return i.kz=function(t,n){},i.bz=function(t,n){},i.HU=function(){return this.bK},i.Az=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,Ye)},i.JX=function(t,n){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,Ye)},i.XX=function(t,n,i){var e,r,s=this;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t.vs===kC.WU){u.next=2;break}throw new v("Streaming or opaque segments are not supported yet.");case 2:return e=t.Hi,r=function(){var t,i,r;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.buffer,i={kind:Wx.oK,mimeType:s.JB,segment:e,startPts:n.TK,totalDuration:n.Hg},u.next=4,Mr.awrap(s.AK.lK(i,[t]));case 4:void 0===s.mK&&(r=n.TK+n.Kk,s.mK=r,s.pK=r),s.pK=s.pK+n.Hg,s.Qs(new Eu(wC.VU));case 7:case"end":return u.stop()}},null,null,null,Ye)},u.abrupt("return",this.hU.ZF(function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return hu(t),n.prev=1,s.kK=!0,n.next=5,Mr.awrap(r());case 5:return n.prev=5,s.kK=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],Ye)},i));case 5:case"end":return u.stop()}},null,this,null,Ye)},i.qX=function(t,n,i){var e,r,s=this;return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.vs===kC.WU){n.next=2;break}throw new v("Streaming or opaque initialization segments are not supported yet.");case 2:return e=t.Hi,r=function(){var t;return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t={kind:Wx.uK,mimeType:s.JB,segment:e},n.next=3,Mr.awrap(s.AK.lK(t,[]));case 3:case"end":return n.stop()}},null,null,null,Ye)},n.abrupt("return",this.hU.ZF(function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return hu(t),n.prev=1,s.kK=!0,n.next=5,Mr.awrap(r());case 5:return n.prev=5,s.kK=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],Ye)},i));case 5:case"end":return n.stop()}},null,this,null,Ye)},i._z=function(){this.bK=!0},i.cz=function(){this.bK=!1},i.Qh=function(t,n,i){var e,r=this;return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(){var t;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t={kind:Wx.hK,mimeType:r.JB,endTime:n},i.next=3,Mr.awrap(r.AK.lK(t));case 3:r.mK=void 0,r.pK=void 0,r.Qs(new Eu(wC.VU));case 6:case"end":return i.stop()}},null,null,null,Ye)},t.abrupt("return",this.hU.ZF(function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return hu(t),n.prev=1,r.kK=!0,n.next=5,Mr.awrap(e());case 5:return n.prev=5,r.kK=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],Ye)},i));case 2:case"end":return t.stop()}},null,this,null,Ye)},i.PU=function(t){return this.JB===t.Pl},i.BU=function(t){return this.JB=t.Pl,Ye.resolve()},i.Ls=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.tu(),t.next=3,Mr.awrap(this.hU.Ed());case 3:case"end":return t.stop()}},null,this,null,Ye)},T(n,[{key:"nm",get:function(){return void 0===this.mK||void 0===this.pK?WS.vD():new WS([this.mK,this.pK])}},{key:"uc",get:function(){return{Pl:this.JB}}},{key:"Ez",get:function(){return gm.Jl}},{key:"YB",get:function(){return this.JB}},{key:"Iz",get:function(){return WS.vD()}},{key:"rL",get:function(){return 30},set:function(t){}},{key:"aL",get:function(){return 30},set:function(t){}},{key:"cO",get:function(){return this.kK}},{key:"SK",get:function(){return this.mK}},{key:"qm",get:function(){return this.pK}}]),n}(Tu),Kx=function(){function t(t,n){this.Bc=void 0,this.aV=void 0,this.hV=void 0,this.Bc=t,this.hV=zs(n,function(t){return Boolean(t.YB.match(/video/))}),this.aV=zs(n,function(t){return Boolean(t.YB.match(/audio/))}),this.EK()}t.IK=function(n,i){for(var e=[],r=0;r<n.kV.length;r++){var s=n.kV[r].Pl;e.push(new Qx(s,i))}return new t(n,e)};var n=t.prototype;return n.EK=function(){},n.Ls=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mr.awrap(Ye.all([this.aV,this.hV].filter(H).map(function(t){return t.Ls()})));case 2:case"end":return t.stop()}},null,this,null,Ye)},n.gV=function(t){},n.pV=function(t,n,i,e){},n._z=function(){var t,n;null==(t=this.aV)||t._z(),null==(n=this.hV)||n._z()},n.cz=function(){var t,n;null==(t=this.aV)||t.cz(),null==(n=this.hV)||n.cz()},n.PU=function(t){return t===this.Bc},n.BU=function(t){return this.Bc=t,Ye.resolve()},T(t,[{key:"RK",get:function(){return[this.aV,this.hV].filter(H)}},{key:"rV",get:function(){return this.aV}},{key:"nm",get:function(){return TD(this)}},{key:"uc",get:function(){return this.Bc}},{key:"Hg",get:function(){return 0}},{key:"HU",get:function(){var t,n,i,e,r=null==(t=null==(n=this.aV)?void 0:n.HU())||t,s=null==(i=null==(e=this.hV)?void 0:e.HU())||i;return r&&s}},{key:"pm",get:function(){return new WS([0,1/0])}},{key:"sV",get:function(){return this.hV}},{key:"Dy",get:function(){throw new v("Not implemented")}}]),t}(),Zx=cp.jp,Jx=new cp(-1/0),tO=cp.Nk,nO=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.bp=function(t,n){return t.Ip(n)?Bs.Cs:t.hp(n)?Bs.Rs:Bs.Ns},i.Em=function(t,n){return t.Em(n)},i.Dp=function(t,n){return t.Dp(n)},i.Ep=function(t,n){return t.Ep(n)},i.jC=function(){return Zx},i.HC=function(){return tO},i.qC=function(){return Jx},n.hD=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new cp(t.start(e)),new cp(t.end(e)));return new n(i)},n.NK=function(t){for(var i=[],e=[],r=0;r<t.Tw;r++)i.push(new cp(t.IC(r))),i.push(new cp(t.NC(r))),e.push(t.RC(r)),e.push(t.DC(r));return new n(i,e)},n.fD=function(t){return new n([t,t],[!0,!0])},i.FC=function(t,i){return new n(t,i)},i.LC=function(t){return t.Ik},n.vD=function(){return iO},n}(qS),iO=new nO([]),eO=function(t){function n(n){var i;return(i=t.call(this)||this).CK=!0,i.AK=new Yx,i.DK=new $x,i.JR=void 0,i.GW=void 0,i.PK=!0,i.BK=new ea,i.kD=!1,i.sG=Ye.resolve(),i.uG=new uu,i.xK=!0,i.aG=WS.vD(),i.iK=void 0,i.LK=void 0,i.yG=!1,i.sN=void 0,i.MK=function(){i.qg||i.FK.Tw<=0||i.nm.Tw<=0||i.DK.wK(new cp(i.nm.NC(i.nm.Tw-1)),i.FK.NC(i.FK.Tw-1))},i.UK=function(){i.Qs(new xy(i.jg))},i.jK=function(){i.Qs(new By(i.jg,i.im))},i.HK=function(){i.Qs(new Py(i.jg,i.Wg))},i.XK=function(){i.Qs(new Fy(i.jg,i.Qg))},i.zK=function(){i.Qs(new Dy(i.Hg))},i.VK=function(){i.Qs(new Jb(i.jg))},i.qK=function(){i.Lu(i.jg)},i.WK=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:i.xK&&i.Qs(new Iy(i.jg)),i.PK=!1,i.xK=!0;case 3:case"end":return t.stop()}},null,null,null,Ye)},i.GK=function(){i.PK=!0,i.Qs(new Ey(i.jg))},i.LK=n,i.GW=new MD(nn(i)),i.LK.setAttribute("id","player_video"),i.LK.setAttribute("x-webkit-airplay","deny"),i.LK.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),i.LK.playsInline=!0,i.LK.style.width="100%",i.LK.style.height="100%",i.YK(),i.$K(),i.iK=qx(i.LK),i}E(n,t);var e=n.prototype;return e.YK=function(){this.LK.addEventListener("timeupdate",this.MK),this.LK.addEventListener("ended",this.UK),this.LK.addEventListener("timeupdate",this.jK),this.LK.addEventListener("ratechange",this.HK),this.LK.addEventListener("volumechange",this.XK),this.LK.addEventListener("durationchange",this.zK),this.LK.addEventListener("playing",this.VK),this.LK.addEventListener("seeking",this.qK),this.LK.addEventListener("play",this.WK),this.LK.addEventListener("pause",this.GK)},e.QK=function(){this.LK.removeEventListener("timeupdate",this.MK),this.LK.removeEventListener("ended",this.UK),this.LK.removeEventListener("timeupdate",this.jK),this.LK.removeEventListener("ratechange",this.HK),this.LK.removeEventListener("volumechange",this.XK),this.LK.removeEventListener("durationchange",this.zK),this.LK.removeEventListener("playing",this.VK),this.LK.removeEventListener("seeking",this.qK),this.LK.removeEventListener("play",this.WK),this.LK.removeEventListener("pause",this.GK)},e.$K=function(){this.GW.Ks(Ty.ow,this.$s)},e.KK=function(){this.GW.nu(Ty.ow,this.$s)},e.Lu=function(t,n){this.uG.Xs(),this.uG=new uu,this.sG=this.vY(t,this.sG,this.uG.qs).catch(Z)},e.vY=function(t,n,i){var e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.aG=this.ym,r=null==(e=this.JR)?void 0:e.RK){u.next=4;break}return u.abrupt("return");case 4:return s=w.max.apply(w,r.map(function(t){return t.SK?t.SK:1/0})),this.kD=!0,this.Qs(new Ly(t)),u.next=9,Mr.awrap(n.catch(Z));case 9:if(hu(i),u.prev=10,this.CK||this.ZK(),this.LK.load(),this.PK){u.next=17;break}return this.xK=!1,u.next=17,Mr.awrap(vu(this.LK.play(),i));case 17:if(!(this.$w<sy.Dg)){u.next=22;break}return u.next=20,Mr.awrap(this.GW.fu(Ty.ow,i));case 20:u.next=17;break;case 22:this.BK.Wu(),this.CK=!1,this.kD=!1,this.Qs(new My(this.jg)),u.next=32;break;case 28:throw u.prev=28,u.t0=u.catch(10),this.BK.Gu(u.t0),u.t0;case 32:return u.prev=32,this.JK(),this.DK.yK(new cp(s)),u.finish(32);case 36:case"end":return u.stop()}},null,this,[[10,28,32,36]],Ye)},e.Oy=function(){this.PK=!0,this.LK.pause()},e.xy=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.PK){t.next=2;break}return t.abrupt("return");case 2:return this.LK.src||this.EY(),t.next=5,Mr.awrap(this.BK.Hu);case 5:return t.next=7,Mr.awrap(this.LK.play());case 7:case"end":return t.stop()}},null,this,null,Ye)},e.Ls=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.AK&&this.AK.dK().catch(Z),this.uG.Xs(),this.QK(),this.KK(),this.GW.Ls(),this.tu();case 6:case"end":return t.stop()}},null,this,null,Ye)},e.bw=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.AK&&this.AK.dK().catch(Z),this.uG.Xs(),this.LK.removeAttribute("src"),this.LK.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.LK.removeAttribute("x-airplay-deny"),this.LK.load(),this.GW.bw(),this.aG=WS.vD();case 8:case"end":return t.stop()}},null,this,null,Ye)},e.EY=function(){this.IY||(aO(this.LK,i.Fr),this.yG=!0)},e.ZK=function(){var t,n=this.LK.getClientRects();if(n.length>0){var i,e,r=(t=n[0]).width,s=this.LK.videoWidth/this.LK.videoHeight,u=t.height;r/u>s?(i=u*s,e=u):(e=r/s,i=r),this.LK.style.width=i+"px",this.LK.style.height=e+"px",this.LK.style.marginLeft=(r-i)/2+"px",this.LK.style.marginTop=(u-e)/2+"px",this.LK.style.backgroundColor="black"}},e.JK=function(){this.LK.style.width="100%",this.LK.style.height="100%",this.LK.style.marginLeft="",this.LK.style.marginTop="",this.LK.style.backgroundColor=""},e.LN=function(t,n,i,e){},e.gE=function(t,n,i,e,r,s){},e.jU=function(t){},e.GN=function(){return gN(this.LK)},e.qy=function(){this.LK.style.display="block"},e.Wy=function(){this.LK.style.display="none"},e.TY=function(){},e.$h=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.vs!==Rb.bE){i.next=2;break}throw new v("Not yet implemented");case 2:return i.next=4,Mr.awrap(this.AK.fK());case 4:return n={kind:Wx.sK,mediaBufferConfigs:t.kV.map(function(t){return t.Pl})},i.next=7,Mr.awrap(this.AK.lK(n));case 7:return this.JR=Kx.IK(t,this.AK),this.LK.preload="none",this.LK.src="https://theo.proxy/"+this.AK.Xc+"/master.m3u8",i.abrupt("return",this.JR);case 11:case"end":return i.stop()}},null,this,null,Ye)},e.SY=function(){},e.pE=function(t){},e.UN=function(){},e.WN=function(t){},e.xN=function(){return!1},e.RY=function(t){t.appendChild(this.LK)},e.Gy=function(){return this.LK},e.rY=function(){},e.tm=function(){},T(n,[{key:"SN",get:function(){return this.LK}},{key:"CV",get:function(){return!1}},{key:"jg",get:function(){return this.LK.currentTime+this.DK.gK.Ik}},{key:"qg",get:function(){return this.LK.paused}},{key:"Qg",get:function(){return this.LK.volume},set:function(t){this.LK.volume=t}},{key:"Wg",get:function(){return this.LK.playbackRate},set:function(t){this.LK.playbackRate=t}},{key:"tZ",get:function(){return this.LK.defaultPlaybackRate}},{key:"nm",get:function(){var t,n;return null!=(t=null==(n=this.JR)?void 0:n.nm)?t:WS.vD()}},{key:"FK",get:function(){return nO.hD(this.LK.buffered)}},{key:"ym",get:function(){var t=WS.cD(this.nZ);return this.aG.YC(t.xu(this.DK.gK.Ik))}},{key:"nZ",get:function(){return nO.hD(this.LK.played)}},{key:"Gg",get:function(){return this.kD}},{key:"Hg",get:function(){return this.LK.duration}},{key:"Vg",get:function(){return this.LK.muted},set:function(t){this.LK.muted=t}},{key:"SQ",get:function(){return this.LK.style}},{key:"CY",get:function(){return Fr({},dC,{kU:!0})}},{key:"$w",get:function(){return this.GW.$w}},{key:"Yg",get:function(){return this.LK.videoHeight}},{key:"$g",get:function(){return this.LK.videoWidth}},{key:"Xg",get:function(){return this.LK.ended}},{key:"uT",get:function(){return this.LK.height||this.LK.clientHeight}},{key:"yp",get:function(){return this.LK.width||this.LK.clientWidth}},{key:"hm",get:function(){return!1}},{key:"IY",get:function(){return this.yG}},{key:"im",get:function(){}},{key:"DF",get:function(){}},{key:"mu",get:function(){}},{key:"FN",get:function(){return this.iK}},{key:"pm",get:function(){return this.JR?this.JR.pm:WS.vD()}},{key:"YN",get:function(){}},{key:"Py",get:function(){}},{key:"BF",get:function(){}},{key:"Tm",get:function(){return!1},set:function(t){}},{key:"NY",get:function(){return"block"===this.LK.style.display}},{key:"EN",get:function(){return this.sN},set:function(t){this.sN=t}},{key:"DY",get:function(){},set:function(t){}},{key:"zW",get:function(){}}]),n}(Tu),rO=2,sO=[gm._d,gm.wd];function uO(t){var n=s.createElement(t);return fr(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),oO(n),n}function oO(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),vr(t),t.pause(),t.playbackRate=1,t.preload=FS.lC,t.controls=!1,t.style.display="none",fr(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function aO(t,n){if(n.Oe){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var e=t.play();$(e)&&gu(e),t.pause()}}var hO;de=(hO={iZ:function(){function t(t,n,i,e,r){void 0===i&&(i=rO),void 0===e&&(e=sO),void 0===r&&(r=If()),this.eZ=void 0,this.rZ=void 0,this.As=void 0,this.sZ=void 0,this.VW=void 0,this.SD=void 0,this.uZ=void 0,this.eZ=i,this.rZ=[].concat(e),this.As=r,this.VW=t,this.SD=n,this.sZ=jr(),this.oZ()}var n=t.prototype;return n.ND=function(t){for(var n=0,i=this.DD;n<i.length;n++){i[n].RY(t)}},n.TN=function(t){var n=zs(this.sZ.get(t),function(t){return t.aZ});if(n)return n.aZ=!1,n.hZ},n.cZ=function(t){if(!this.uZ)throw new v("Error creating iOS Safari MediaController");return this.uZ},n.XN=function(t){var n,i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.SN,i=n.tagName.toLowerCase(),r.next=4,Mr.awrap(t.bw());case 4:oO(n),(e=zs(this.sZ.get(i)||[],function(n){return t===n.hZ}))&&(e.aZ=!0);case 7:case"end":return r.stop()}},null,this,null,Ye)},n.CD=function(){for(var t=0,n=this.DD;t<n.length;t++){n[t].EY()}},n.Ed=function(){for(var t=0,n=this.DD;t<n.length;t++){var i=n[t],e=i.SN;i.Ls(),oO(e),rr(e)}},n.oZ=function(){for(var t=0,n=this.rZ;t<n.length;t++){var i=n[t],e=[];this.sZ.set(i,e);for(var r=0;r<this.eZ;r++){var s=uO(i),u=i===gm._d?new UB(s,this.As,this.VW):new Gx(s,this.As,this.VW,this.SD);e.push({hZ:u,aZ:!0})}}if(F.Pn&&F.un){var o=uO(gm.wd);this.uZ=new eO(o)}},T(t,[{key:"DD",get:function(){for(var t=[],n=0,i=this.rZ;n<i.length;n++){var e=i[n],r=this.sZ.get(e).map(function(t){return t.hZ});t.push.apply(t,r)}return this.uZ&&t.push(this.uZ),t}}]),t}(),fZ:function(){function t(n){var i=this;this.vZ=new QN,this.lZ=function(){var n,e,r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=i.bD.TN(gm.wd),e=n.SN,s.next=4,Mr.awrap(t.dZ(e));case 4:return r=s.sent,s.next=7,Mr.awrap(i.bD.XN(n));case 7:return s.abrupt("return",r);case 8:case"end":return s.stop()}},null,null,null,Ye)},this.bD=n}var n=t.prototype;return n._U=function(){return this.vZ.ZF(this.lZ)},n.Xy=function(){this.bD.CD()},t.dZ=function(n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!F.Sn&&!F.An){i.next=2;break}return i.abrupt("return","all");case 2:return n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),i.next=5,Mr.awrap(t._Z());case 5:return i.next=7,Mr.awrap(t.wZ(n));case 7:if(!i.sent){i.next=9;break}return i.abrupt("return","all");case 9:return i.next=11,Mr.awrap(t.gZ(n));case 11:if(!i.sent){i.next=13;break}return i.abrupt("return","muted");case 13:return i.abrupt("return","none");case 14:case"end":return i.stop()}},null,null,null,Ye)},t.wZ=function(t){var n,i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.play(),e.prev=1,$(n)){e.next=4;break}return e.abrupt("return",!F.vn);case 4:return i=mu(100),e.next=7,Mr.awrap(Ye.race([n,i]));case 7:return e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",!1);case 13:return e.prev=13,t.pause(),e.finish(13);case 16:case"end":return e.stop()}},null,null,[[1,10,13,16]],Ye)},t.gZ=function(n){var i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n.muted=!0,e.next=3,Mr.awrap(t.wZ(n));case 3:return i=e.sent,n.muted=!1,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,null,null,Ye)},t._Z=function(){return new Ye(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else a(t,0)})},n.Ed=function(){this.vZ.Ed()},t}(),yZ:{ax:function(t){ge.addEventListener("beforeunload",t)},Ax:function(t){ge.removeEventListener("beforeunload",t)}},mZ:r}).iZ,_e=hO.fZ,we=hO.yZ,ge=hO.mZ,ye=ge&&ge.location,me=ge&&ge.navigator;var cO=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.KN=function(n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(r.MediaSource){i.next=2;break}return i.abrupt("return",!1);case 2:return i.abrupt("return",t.prototype.KN.call(this,n));case 3:case"end":return i.stop()}},null,this,null,Ye)},n}(function(){function t(){}return t.prototype.KN=function(n){var i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(fy(n.type)){e.next=2;break}return e.abrupt("return",!1);case 2:if(!(i=n.contentProtection)||MA(i)){e.next=10;break}if(jA(i)){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,Mr.awrap(t.pZ(i));case 8:if(e.sent){e.next=10;break}return e.abrupt("return",!1);case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}},null,null,null,Ye)},t.pZ=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=t.playready,!n.t0){n.next=5;break}return n.next=4,Mr.awrap(i.Dr());case 4:n.t0=n.sent;case 5:if(!n.t0){n.next=7;break}return n.abrupt("return",!0);case 7:if(n.t1=t.widevine,!n.t1){n.next=12;break}return n.next=11,Mr.awrap(i.Pr());case 11:n.t1=n.sent;case 12:if(!n.t1){n.next=14;break}return n.abrupt("return",!0);case 14:if(n.t2=t.clearkey,!n.t2){n.next=19;break}return n.next=18,Mr.awrap(i.Nr());case 18:n.t2=n.sent;case 19:if(!n.t2){n.next=21;break}return n.abrupt("return",!0);case 21:return n.next=23,Mr.awrap(i.Ir());case 23:if(!n.sent){n.next=25;break}return n.abrupt("return",!0);case 25:return n.abrupt("return",!1);case 26:case"end":return n.stop()}},null,null,null,Ye)},t}());function fO(t){return m_(t)}function vO(t,n){var i=m_(t);return n?""+i+n:""+i}var lO=function(){function t(t,n,i,e){this.kZ=t,this.bZ=n,this.AZ=i,this.TZ=e}var n=t.prototype;return n.SZ=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Mr.awrap(this.kZ.EZ(t.map(fO)));case 2:return n=i.sent,i.abrupt("return",n.shift());case 4:case"end":return i.stop()}},null,this,null,Ye)},n.IZ=function(t,n){var i=vO(t,n);return this.bZ.Iu(i)},n.RZ=function(t,n){var i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e=vO(t,n),r.next=3,Mr.awrap(this.AZ.Ru(e));case 3:if(r.t0=i=r.sent,null!=r.t0){r.next=8;break}r.t1=void 0,r.next=9;break;case 8:r.t1=i.data;case 9:return r.abrupt("return",r.t1);case 10:case"end":return r.stop()}},null,this,null,Ye)},n.HM=function(t){return this.TZ.Ru(t)},t}(),dO=function(){function t(){}var n=t.prototype;return n.NZ=function(t){return Ye.resolve(!1)},n.CZ=function(t){return Ye.reject(_O)},n.DZ=function(t){return Ye.reject(_O)},n.Iu=function(t){return Ye.resolve(!1)},n.Ru=function(t){return Ye.resolve(void 0)},n.PZ=function(t,n){return Ye.resolve(void 0)},n.EZ=function(t){return Ye.resolve([])},n.BZ=function(){return Ye.resolve([])},n.xZ=function(t){return Ye.resolve([])},n.OZ=function(t,n){return Ye.resolve([])},n.Qh=function(t){return Ye.reject(_O)},n.LZ=function(t){return Ye.reject(_O)},n.MZ=function(){return Ye.reject(_O)},t}(),_O="Storage disabled",wO=function(){function t(){this.FZ=void 0,this.UZ=void 0,this.jZ=void 0,this.HZ=void 0,this.XZ=void 0,this.FZ=new dO,this.UZ=new dO,this.jZ=new dO,this.HZ=new dO,this.XZ=new dO}return t.IK=function(){return Ye.resolve(new t)},t.prototype.zZ=function(t){return Ye.reject(gO)},t}(),gO="Storage disabled",yO=function(){function t(t){var n=this;this.Hs=new ea,this.VZ=void 0,this.Hs.Wu(t),this.Hs.Hu.then(function(t){n.VZ=t})}var n=t.prototype;return n.NZ=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.VZ,i.t0){i.next=5;break}return i.next=4,Mr.awrap(this.qZ);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.NZ(t));case 7:case"end":return i.stop()}},null,this,null,Ye)},n.CZ=function(t,n){var i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.VZ,e.t0){e.next=5;break}return e.next=4,Mr.awrap(this.qZ);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.CZ(t,n));case 7:case"end":return e.stop()}},null,this,null,Ye)},n.DZ=function(t,n){var i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.VZ,e.t0){e.next=5;break}return e.next=4,Mr.awrap(this.qZ);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.DZ(t,n));case 7:case"end":return e.stop()}},null,this,null,Ye)},n.Iu=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.VZ,i.t0){i.next=5;break}return i.next=4,Mr.awrap(this.qZ);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Iu(t));case 7:case"end":return i.stop()}},null,this,null,Ye)},n.Ru=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.VZ,i.t0){i.next=5;break}return i.next=4,Mr.awrap(this.qZ);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Ru(t));case 7:case"end":return i.stop()}},null,this,null,Ye)},n.PZ=function(t,n){var i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.VZ,e.t0){e.next=5;break}return e.next=4,Mr.awrap(this.qZ);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.PZ(t,n));case 7:case"end":return e.stop()}},null,this,null,Ye)},n.EZ=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.VZ,i.t0){i.next=5;break}return i.next=4,Mr.awrap(this.qZ);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.EZ(t));case 7:case"end":return i.stop()}},null,this,null,Ye)},n.BZ=function(){var t;return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.VZ,n.t0){n.next=5;break}return n.next=4,Mr.awrap(this.qZ);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.BZ());case 7:case"end":return n.stop()}},null,this,null,Ye)},n.xZ=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.VZ,i.t0){i.next=5;break}return i.next=4,Mr.awrap(this.qZ);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.xZ(t));case 7:case"end":return i.stop()}},null,this,null,Ye)},n.OZ=function(t,n){var i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.VZ,e.t0){e.next=5;break}return e.next=4,Mr.awrap(this.qZ);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.OZ(t,n));case 7:case"end":return e.stop()}},null,this,null,Ye)},n.Qh=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.VZ,i.t0){i.next=5;break}return i.next=4,Mr.awrap(this.qZ);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Qh(t));case 7:case"end":return i.stop()}},null,this,null,Ye)},n.LZ=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.VZ,i.t0){i.next=5;break}return i.next=4,Mr.awrap(this.qZ);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.LZ(t));case 7:case"end":return i.stop()}},null,this,null,Ye)},n.MZ=function(){var t;return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.VZ,n.t0){n.next=5;break}return n.next=4,Mr.awrap(this.qZ);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.MZ());case 7:case"end":return n.stop()}},null,this,null,Ye)},T(t,[{key:"qZ",get:function(){return this.Hs.Hu}}]),t}(),mO=function(){function t(t){var n=this;this.Hs=new ea,this.WZ=void 0,this.UZ=void 0,this.FZ=void 0,this.jZ=void 0,this.HZ=void 0,this.XZ=void 0,this.Hs.Wu(t);var i=this.Hs.Hu;i.then(function(t){n.WZ=t}),this.UZ=new yO(i.then(function(t){return t.UZ})),this.FZ=new yO(i.then(function(t){return t.FZ})),this.jZ=new yO(i.then(function(t){return t.jZ})),this.HZ=new yO(i.then(function(t){return t.HZ})),this.XZ=new yO(i.then(function(t){return t.XZ}))}return t.prototype.zZ=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.WZ,i.t0){i.next=5;break}return i.next=4,Mr.awrap(this.GZ);case 4:i.t0=i.sent;case 5:return n=i.t0,i.next=8,Mr.awrap(n.zZ(t));case 8:return i.abrupt("return",i.sent);case 9:case"end":return i.stop()}},null,this,null,Ye)},T(t,[{key:"GZ",get:function(){return this.Hs.Hu}}]),t}();function pO(t){return new v("This storage cannot handle persistency type "+t)}var kO=function(){function t(){this.Ho=[]}var n=t.prototype;return n.NZ=function(t){return Ye.resolve("temporary"===t)},n.CZ=function(t,n){return void 0===n&&(n="temporary"),"temporary"!==n?Ye.reject(pO(n)):(this.YZ(t.key),this.Ho.push(t),Ye.resolve())},n.DZ=function(t,n){if(void 0===n&&(n="temporary"),"temporary"!==n)return Ye.reject(pO(n));for(var i=0;i<t.length;i++){var e=t[i];this.YZ(e.key)}for(var r=0;r<t.length;r++){var s=t[r];this.Ho.push(s)}return Ye.resolve()},n.Iu=function(t){return Ye.resolve(Boolean(this.$Z(t)))},n.Ru=function(t){return Ye.resolve(this.$Z(t))},n.PZ=function(t,n){return Ye.resolve(this.QZ(t,n))},n.EZ=function(t){var n=this,i=t?t.map(function(t){return n.$Z(t)}):this.Ho;return Ye.resolve(i.filter(H))},n.BZ=function(){return Ye.resolve([].concat(this.Ho))},n.xZ=function(t){return this.OZ(t,"key")},n.OZ=function(t,n){var i=this.Ho.filter(function(i){return i[n]===t});return Ye.resolve(i)},n.Qh=function(t){return this.YZ(t),Ye.resolve()},n.LZ=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.YZ(i)}return Ye.resolve()},n.MZ=function(){return Qs(this.Ho),Ye.resolve()},n.$Z=function(t){return this.QZ(t,"key")},n.QZ=function(t,n){for(var i=0,e=this.Ho;i<e.length;i++){var r=e[i];if(r[n]===t)return r}},n.YZ=function(t){var n=this.$Z(t);n&&Ws(this.Ho,n)},t}(),bO=function(){function t(){this.FZ=void 0,this.UZ=void 0,this.jZ=void 0,this.HZ=void 0,this.XZ=void 0,this.FZ=new kO,this.UZ=new kO,this.jZ=new kO,this.HZ=new kO,this.XZ=new kO}return t.IK=function(){return Ye.resolve(new t)},t.prototype.zZ=function(t){return t(this)},t}(),AO=function(){function t(t){this.KZ=t}var n=t.prototype;return n.NZ=function(t){var n,i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.KZ;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Mr.awrap(e.NZ(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,Ye)},n.CZ=function(t,n){var i,e,r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n&&(n="persistent"),i=0,e=this.KZ;case 2:if(!(i<e.length)){s.next=11;break}return r=e[i],s.next=6,Mr.awrap(r.NZ(n));case 6:if(!s.sent){s.next=8;break}return s.abrupt("return",r.CZ(t));case 8:i++,s.next=2;break;case 11:throw pO(n);case 12:case"end":return s.stop()}},null,this,null,Ye)},n.DZ=function(t,n){var i,e,r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n&&(n="persistent"),i=0,e=this.KZ;case 2:if(!(i<e.length)){s.next=11;break}return r=e[i],s.next=6,Mr.awrap(r.NZ(n));case 6:if(!s.sent){s.next=8;break}return s.abrupt("return",r.DZ(t));case 8:i++,s.next=2;break;case 11:throw pO(n);case 12:case"end":return s.stop()}},null,this,null,Ye)},n.Iu=function(t){var n,i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.KZ;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Mr.awrap(e.Iu(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,Ye)},n.Ru=function(t){var n,i,e,r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=0,i=this.KZ;case 1:if(!(n<i.length)){s.next=11;break}return e=i[n],s.next=5,Mr.awrap(e.Ru(t));case 5:if(!(r=s.sent)){s.next=8;break}return s.abrupt("return",r);case 8:n++,s.next=1;break;case 11:return s.abrupt("return",void 0);case 12:case"end":return s.stop()}},null,this,null,Ye)},n.PZ=function(t,n){var i,e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.KZ;case 1:if(!(i<e.length)){u.next=11;break}return r=e[i],u.next=5,Mr.awrap(r.PZ(t,n));case 5:if(!(s=u.sent)){u.next=8;break}return u.abrupt("return",s);case 8:i++,u.next=1;break;case 11:return u.abrupt("return",void 0);case 12:case"end":return u.stop()}},null,this,null,Ye)},n.EZ=function(t){var n,i,e,r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.KZ;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Mr.awrap(r.EZ(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,Ye)},n.BZ=function(){var t,n,i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:t=[],n=0,i=this.KZ;case 2:if(!(n<i.length)){r.next=13;break}return e=i[n],r.t0=t.push,r.t1=t,r.next=8,Mr.awrap(e.BZ());case 8:r.t2=r.sent,r.t0.apply.call(r.t0,r.t1,r.t2);case 10:n++,r.next=2;break;case 13:return r.abrupt("return",t);case 14:case"end":return r.stop()}},null,this,null,Ye)},n.xZ=function(t){var n,i,e,r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.KZ;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Mr.awrap(r.xZ(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,Ye)},n.OZ=function(t,n){var i,e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=[],e=0,r=this.KZ;case 2:if(!(e<r.length)){u.next=13;break}return s=r[e],u.t0=i.push,u.t1=i,u.next=8,Mr.awrap(s.OZ(t,n));case 8:u.t2=u.sent,u.t0.apply.call(u.t0,u.t1,u.t2);case 10:e++,u.next=2;break;case 13:return u.abrupt("return",i);case 14:case"end":return u.stop()}},null,this,null,Ye)},n.Qh=function(t){var n,i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.KZ;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Mr.awrap(e.Qh(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,Ye)},n.LZ=function(t){var n,i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.KZ;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Mr.awrap(e.LZ(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,Ye)},n.MZ=function(){var t,n,i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=this.KZ;case 1:if(!(t<n.length)){e.next=8;break}return i=n[t],e.next=5,Mr.awrap(i.MZ());case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}},null,this,null,Ye)},t}();function TO(t){return function(){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Mr.awrap(Ye.all(t.map(function(t){return t()})));case 2:return n=i.sent,i.abrupt("return",EO.IK(n));case 4:case"end":return i.stop()}},null,null,null,Ye)}}var SO,EO=function(){function t(t){this.ZZ=void 0,this.JZ=void 0,this.tJ=void 0,this.nJ=void 0,this.iJ=void 0,this.eJ=void 0,this.ZZ=t,this.JZ=new AO(t.map(function(t){return t.HZ})),this.tJ=new AO(t.map(function(t){return t.XZ})),this.nJ=new AO(t.map(function(t){return t.jZ})),this.iJ=new AO(t.map(function(t){return t.FZ})),this.eJ=new AO(t.map(function(t){return t.UZ}))}return t.IK=function(n){return Ye.resolve(new t(n))},t.prototype.zZ=function(n){var i=this;if(0===this.ZZ.length)return n(this);var e=[],r=0;return this.ZZ[r].zZ(function s(u){return e.push(u),++r<i.ZZ.length?i.ZZ[r].zZ(s):n(new t(e))})},T(t,[{key:"HZ",get:function(){return this.JZ}},{key:"XZ",get:function(){return this.tJ}},{key:"jZ",get:function(){return this.nJ}},{key:"FZ",get:function(){return this.iJ}},{key:"UZ",get:function(){return this.eJ}}]),t}(),IO=function(){function t(t){this.rJ=void 0,this.sJ=[],this.uJ=!0,this.rJ=t}var n=t.prototype;return n.IK=function(){return new mO(this.oJ())},n.oJ=function(){var t,n,i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.uJ){e.next=4;break}return e.next=3,Mr.awrap(Ye.resolve());case 3:this.uJ=!1;case 4:t=0,n=this.sJ;case 5:if(!(t<n.length)){e.next=18;break}return i=n[t],e.prev=7,e.next=10,Mr.awrap(TO([bO.IK,i])());case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(7);case 15:t++,e.next=5;break;case 18:return e.next=20,Mr.awrap(TO([bO.IK,this.rJ])());case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}},null,this,[[7,13]],Ye)},n.mU=function(t){if(!this.uJ)throw new v("Registration overdue");this.sJ.push(t)},t}(),RO=function(){function t(){}return t.mU=function(n){t.OR.mU(n)},T(t,null,[{key:"Wn",get:function(){return t.aJ||(t.aJ=t.OR.IK()),t.aJ}}]),t}();function NO(t){return void 0!==t.Yg}function CO(t,n,i,e,r){var s,u;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:void 0===i&&(i=3),void 0===e&&(e=1e3),void 0===r&&(r=1/0),s=0;case 4:return o.prev=5,o.next=8,Mr.awrap(t(n));case 8:return o.abrupt("return",o.sent);case 11:if(o.prev=11,o.t0=o.catch(5),cu(o.t0),!(s<i)){o.next=20;break}return u=w.min(e*w.pow(2,s),r),s++,o.next=19,Mr.awrap(mu(u,n));case 19:return o.abrupt("continue",4);case 20:throw o.t0;case 21:o.next=4;break;case 23:case"end":return o.stop()}},null,null,[[5,11]],Ye)}RO.OR=new IO(wO.IK),RO.aJ=void 0,function(t){t.bE="static",t.AE="dynamic"}(SO||(SO={}));var DO,PO=31536e3,BO=2592e3,xO=86400,OO=3600,LO=60,MO=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,FO=function(){function t(t){this.hJ=void 0;var n=t.match(MO);if(!n)throw new v("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,e=Number(n[2])||0,r=Number(n[3])||0,s=Number(n[4])||0,u=Number(n[5])||0,o=Number(n[6])||0;this.hJ=i*PO+e*BO+r*xO+s*OO+u*LO+o}var n=t.prototype;return n.cJ=function(){return this.hJ},n.fJ=function(){return 1e3*this.hJ},T(t,[{key:"vJ",get:function(){return yp.Dk(this.hJ,1e3)}}]),t}();!function(t){t.lJ="progressive",t.dJ="interlaced",t.Jl="unknown"}(DO||(DO={}));var UO=function(){function t(t,n){this._J=t,this.wJ=n}return t.prototype.pp=function(){return this._J/this.wJ},t}(),jO=/^(?:true|false)$/i,HO=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function XO(t){if(void 0!==t)return new FO(t)}function zO(t){if(void 0!==t){var n=t.match(HO);if(!n)throw new v("The given value could not be parsed as a valid Date");var i=n[1],e=n[2],r=n[3],s=n[4],u=n[5],o=n[6],a=n[7],h=n[8],c=n[9],f=n[10],l=n[11],d=("-"===i?-1:1)*Number(e),_=Number(r)-1,g=Number(s),y=Number(u),p=Number(o),k=Number(a),b=Number("0."+(h||"")),A=w.round(1e3*b);if(c)p-=("-"===c?-1:1)*(60*Number(f)+Number(l));var T=new Date(Date.UTC(d,_,g,y,p,k,A));if(m(T.getTime()))throw new v("The given value could not be parsed as a valid Date");return T}}function VO(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[WO(n[1]),WO(n[2])]}}function qO(t){if(void 0!==t){if(!m(Number(t)))try{return lt.fromString(t,!0)}catch(t){}throw new v("The given value could not be parsed as a valid unsigned long")}}function WO(t){if(void 0!==t){var n=Number(t);if(!m(n))return n;throw new v("The given value could not be parsed as a valid Number")}}function GO(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),e=Number(n[1]||1);if(!m(i)&&!m(e))return new UO(i,e);throw new v("The given value could not be parsed as a valid frame rate")}}function YO(t){if(void 0!==t){if(jO.test(t))return"true"===t.toLowerCase();if(!m(g(t)))return Boolean(g(t));throw new v("The given value could not be parsed as a valid Boolean.")}}function $O(t){return{Kl:t.ji,gJ:YO(t.Bi("availabilityTimeComplete")),yJ:WO(t.Bi("availabilityTimeOffset"))}}function QO(t){return t.map($O)}function KO(t){var n,i,e,r,s,u,o=aL(t),a=(i="default_KID",e="urn:mpeg:cenc:2013",r="cenc",void 0===(s=(n=t).xi(e,i))&&(s=n.Bi(r+":"+i)),s),h=Bk(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==h&&(u=Ku(h.ji)),!u){var c=Bk(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==c&&(u=function(t){var n=Hu(t.ji),i=new p([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=n.length,r=12+i.length+4+e,s=new ArrayBuffer(r),u=new p(s),o=new DataView(s),a=new na;Ao(o,a,r),Ao(o,a,1886614376),Ao(o,a,0),go(o,a,i),Ao(o,a,e),go(o,a,n),0;return u.buffer}(c))}return{XE:a,mJ:u,pJ:o.pJ,Ai:o.Ai}}function ZO(t){return{kJ:t.Bi("sourceURL"),bJ:VO(t.Bi("range"))}}function JO(t,n){var i=t.Bi("d"),e=t.Bi("t"),r=WO(t.Bi("r"));n.push({Hg:i,Vm:e,AJ:r})}function tL(t){return{TJ:t.Bi("index"),SJ:VO(t.Bi("indexRange")),JA:t.Bi("media"),EJ:VO(t.Bi("mediaRange"))}}function nL(t){var n,i;return Fr({},rL(t),{IJ:(n=t.Ei("SegmentURL"),(i=n.map(tL)).length>0?i:void 0),RJ:t.Bi("xlink:href"),NJ:t.Bi("xlink:actuate")})}function iL(t){var n=t.map(nL);return n.length>0?n:void 0}function eL(t){var n=YO(t.Bi("availabilityTimeComplete")),i=WO(t.Bi("availabilityTimeOffset")),e=VO(t.Bi("indexRange")),r=YO(t.Bi("indexRangeExact")),s=t.Ei("Initialization");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.Ri+" element can not have more than one Initialization element.");var u=1===s.length?ZO(s[0]):void 0,o=qO(t.Bi("presentationTimeOffset")),a=t.Ei("RepresentationIndex");if(a.length>1)throw new v("The provided MPEG-DASH document's "+t.Ri+" element can not have more than one RepresentationIndex element.");return{gJ:n,yJ:i,SJ:e,CJ:r,DJ:u,PJ:o,BJ:1===a.length?ZO(a[0]):void 0,xJ:XO(t.Bi("timeShiftBufferDepth")),yk:WO(t.Bi("timescale"))}}function rL(t){var n=eL(t),i=t.Ei("BitstreamSwitching"),e=i.length>0?ZO(i[0]):void 0,r=WO(t.Bi("duration")),s=t.Ei("SegmentTimeline");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.Ri+" element can not have more than one SegmentTimeline element.");return Fr({},n,{OJ:e,Hg:r,LJ:1===s.length?function(t){for(var n=[],i=t.Ei("S"),e=0;e<i.length;e++)JO(i[e],n);return n}(s[0]):void 0,MJ:WO(t.Bi("startNumber")),FJ:WO(t.Bi("endNumber"))})}function sL(t){return Fr({},rL(t),{UJ:t.Bi("bitstreamSwitching"),jJ:t.Bi("index"),HJ:t.Bi("initialization"),XJ:t.Bi("media")})}function uL(t){return{zJ:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(WO)):1===n.length?n.map(WO)[0]:void 0}}(t.Bi("audioSamplingRate")),VH:t.Bi("codecs"),VJ:YO(t.Bi("codingDependency")),qJ:function(t){if(0!==t.length)return t.map(KO)}(t.Ei("ContentProtection")),WJ:t.Ei("EssentialProperty").map(hL),GJ:GO(t.Bi("frameRate")),uT:WO(t.Bi("height")),YJ:WO(t.Bi("maxPlayoutRate")),$J:WO(t.Bi("maximumSAPPeriod")),YB:t.Bi("mimeType"),QJ:t.Bi("profiles"),KJ:t.Bi("sar"),ZJ:function(t){switch(t){case DO.lJ:case DO.dJ:case DO.Jl:return t;default:return}}(t.Bi("scanType")),JJ:t.Bi("segmentProfiles"),n0:WO(t.Bi("startWithSAP")),yp:WO(t.Bi("width"))}}function oL(t){var n=uL(t),i=WO(t.Bi("bandwidth")),e=QO(t.Ei("BaseURL")),r=t.Bi("dependencyId"),s=t.Bi("id"),u=t.Bi("mediaStreamStructureId"),o=WO(t.Bi("qualityRanking")),a=t.Ei("SegmentBase");if(a.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var h=1===a.length?eL(a[0]):void 0,c=iL(t.Ei("SegmentList")),f=t.Ei("SegmentTemplate");if(f.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");return Fr({},n,{PR:i,i0:e,e0:r,xw:s,r0:u,s0:o,u0:h,o0:c,a0:1===f.length?sL(f[0]):void 0})}function aL(t){return{pJ:t.Bi("schemeIdUri"),Ai:t.Bi("value")}}function hL(t){return aL(t)}function cL(t){return aL(t)}function fL(t){return aL(t)}function vL(t){var n,i=uL(t),e=function(t){return t.map(fL)}(t.Ei("Accessibility")),r=QO(t.Ei("BaseURL")),s=YO(t.Bi("bitstreamSwitching")),u=t.Bi("contentType"),o=WO(t.Bi("group")),a=WO(t.Bi("id")),h=(null==(n=t.Ei("Label")[0])?void 0:n.ji)||"",c=t.Bi("lang"),f=WO(t.Bi("maxBandwidth")),l=GO(t.Bi("maxFrameRate")),d=WO(t.Bi("maxHeight")),_=WO(t.Bi("maxWidth")),w=WO(t.Bi("minBandwidth")),g=GO(t.Bi("minFrameRate")),y=WO(t.Bi("minHeight")),m=WO(t.Bi("minWidth")),p=t.Bi("par"),k=t.Ei("Representation").map(oL);if(0===k.length)throw new v("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var b=function(t){return t.map(cL)}(t.Ei("Role")),A=YO(t.Bi("segmentAlignment"))||!1,T=t.Ei("SegmentBase");if(T.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var S=1===T.length?eL(T[0]):void 0,E=iL(t.Ei("SegmentList")),I=t.Ei("SegmentTemplate");if(I.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var R,N=1===I.length?sL(I[0]):void 0,C=WO(t.Bi("selectionPriority")),D=C||1,P=YO(t.Bi("subsegmentAlignment"))||!1;try{R=WO(t.Bi("subsegmentStartsWithSAP"))}catch(t){}return Fr({},i,{h0:e,i0:r,OJ:s,Pl:u,c0:o,xw:a,Mw:h,Fw:c,f0:f,v0:l,l0:d,d0:_,_0:w,w0:g,g0:y,y0:m,m0:p,p0:k,k0:b,b0:A,u0:S,o0:E,a0:N,QN:D,A0:P,T0:R,S0:t.Bi("xlink:actuate")||"onRequest",E0:t.Bi("xlink:href")})}function lL(t){var n=qO(t.Bi("presentationTime"))||lt.ZERO,i=qO(t.Bi("duration")),e=WO(t.Bi("id")),r=function(t){for(var n=t.Ui,i={},e=0;e<n.length;e++)i[n[e]._i]=n[e].Ai;return i}(t),s=t.ji;return{ES:n,Hg:i,xw:e,Ui:r,Hi:""!==s.trim()?s:t.Bi("messageData")||""}}function dL(t){return{E0:t.Bi("xlink:href"),S0:t.Bi("xlink:actuate"),pJ:t.Bi("schemeIdUri"),Ai:t.Bi("value"),yk:WO(t.Bi("timescale")),PJ:qO(t.Bi("presentationTimeOffset")),$B:t.Ei("Event").map(lL)}}function _L(t,n){var i=t.Ei("AssetIdentifier");if(i.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var e=1===i.length?aL(i[0]):void 0,r=t.Ei("AdaptationSet").map(vL),s=QO(t.Ei("BaseURL")),u=YO(t.Bi("bitstreamSwitching")),o=XO(t.Bi("duration")),a=t.Ei("EventStream").map(dL),h=t.Bi("id"),c=n&&XO(n.Bi("start")),f=t.Ei("SegmentBase");if(f.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var l=1===f.length?eL(f[0]):void 0,d=iL(t.Ei("SegmentBase")),_=t.Ei("SegmentTemplate");if(_.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var w=1===_.length?sL(_[0]):void 0,g=XO(t.Bi("start"));t.Ei("Subset");var y=t.Bi("xlink:href");return{I0:r,R0:e,i0:s,OJ:u,Hg:o,N0:a,xw:h,C0:c,u0:l,o0:d,a0:w,IC:g,S0:t.Bi("xlink:actuate"),E0:y}}function wL(t){var n=t.Bi("schemeIdUri");if(n)return{pJ:n,Ai:t.Bi("value")}}function gL(t,n){var i=zO(t.Bi("availabilityEndTime")),e=zO(t.Bi("availabilityStartTime")),r=QO(t.Ei("BaseURL")),s=t.Bi("id"),u=t.Ei("Location").map(function(t){return""+t.ji}),o=XO(t.Bi("maxSegmentDuration")),a=XO(t.Bi("maxSubsegmentDuration")),h=XO(t.Bi("mediaPresentationDuration"));t.Ei("Metrics");var c=XO(t.Bi("minBufferTime"));if(!c)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=XO(t.Bi("minimumUpdatePeriod")),l=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(_L(t[i],t[i+1]));return n}(t.Ei("Period"));if(!l.length)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var d=t.Bi("profiles");if(!d)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{D0:i,P0:e,i0:r,xw:s,B0:u,x0:n,O0:o,L0:a,M0:h,F0:c,U0:f,j0:l,QJ:d,H0:zO(t.Bi("publishTime")),X0:XO(t.Bi("suggestedPresentationDelay")),xJ:XO(t.Bi("timeShiftBufferDepth")),vs:function(t){switch(t){case SO.bE:case SO.AE:return t;default:return}}(t.Bi("type")),z0:function(t){for(var n=[],i=0;i<t.length;i++){var e=wL(t[i]);e&&n.push(e)}return n}(t.Ei("UTCTiming"))}}var yL=function(){function t(){}return t.prototype.V0=function(t,n){return function(t,n){if(!t)throw new v("The provided MPEG-DASH document does not contain a valid MPD root element.");return gL(t,n)}(i.ui(t).Xi,n)},t}();function mL(t){return{get bandwidth(){return t.PR},get codecs(){return t.VH},get id(){return t.xw},get uid(){return t.Ow},get name(){return t.Mw},get averageBandwidth(){return t.q0},get label(){return t.Mw},set label(n){t.Mw=Ng(n)},get height(){return t.uT},get width(){return t.yp},get frameRate(){return t.GJ},get firstFrame(){return t.W0},get available(){return t.aZ},addEventListener:function(n,i){t.Ks(n,i)},removeEventListener:function(n,i){t.nu(n,i)}}}function pL(t){return{get bandwidth(){return t.PR},get codecs(){return t.VH},get id(){return t.xw},get uid(){return t.Ow},get name(){return t.Mw},get averageBandwidth(){return t.q0},get label(){return t.Mw},set label(n){if(!G(n))throw new v("Unexpected - The provided label is not a string");t.Mw=n},get audioSamplingRate(){return t.zJ},get available(){return t.aZ},addEventListener:function(n,i){t.Ks(n,i)},removeEventListener:function(n,i){t.nu(n,i)}}}var kL,bL=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return E(n,t),n}(Eu),AL=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Ow=void 0,u.Nm=void 0,u.G0=void 0,u.xw=n,u.PR=i,u.VH=e,u.Y0=s,u.Ow=Em(),u.Nm=r||"",u.G0=!0,u}return E(n,t),n.prototype.cE=function(){this.G0=!1,this.Qs(new bL(this.X_))},T(n,[{key:"Mw",get:function(){return this.Nm},set:function(t){this.Nm!==t&&(this.Nm=t,this.Qs(new bL(this.X_)))}},{key:"q0",get:function(){}},{key:"aZ",get:function(){return this.G0}}]),n}(Tu),TL=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return void 0===h&&(h=0),(c=t.call(this,n,i,e,r,s)||this).H_=void 0,c.GJ=u,c.yp=o,c.uT=a,c.W0=h,c}return E(n,t),T(n,[{key:"X_",get:function(){return this.H_||(this.H_=mL(this)),this.H_}}]),n}(AL),SL=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r,s)||this).H_=void 0,o.zJ=u,o}return E(n,t),T(n,[{key:"X_",get:function(){return this.H_||(this.H_=pL(this)),this.H_}}]),n}(AL);!function(t){t.$0="Q0",t.K0="Z0"}(kL||(kL={}));var EL=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).J0=function(t){n.Qs(t)},n}return E(n,t),T(n,[{key:"n1",get:function(){var t=this.i1();return null==t?void 0:t.IC}},{key:"e1",get:function(){var t=this.i1();return null==t?void 0:t.NC}}]),n}(Tu);function IL(t){return K(t.s1)}function RL(t){return IL(t)?t.s1:t.TJ}var NL=function(t){function n(n,i){var e;if((e=t.call(this)||this).u1=void 0,e.H_=void 0,e.o1=void 0,e.a1=void 0,e.h1=void 0,e.u1=n,e.o1=i,e.o1.Ks(kL.$0,e.J0),e.vs===gm.wd){var r,s,u=null!=(r=null==(s=e.GJ)?void 0:s.pp())?r:NaN;e.a1=new TL(e.xw,e.PR,e.rr,"","",u,e.yp,e.uT)}else e.vs===gm._d?e.a1=new SL(e.xw,e.PR,e.rr,"","",e.zJ):e.a1=void 0;return e}E(n,t);var i=n.prototype;return i.c1=function(t){var n=IL(t)?this.o1.f1(t):this.o1.c1(t);return{Kl:n.Kl,bJ:n.bJ,Ad:this.v1.Ad}},i.l1=function(){return this.o1.l1()},i.i1=function(){return this.o1.i1()},i.d1=function(){return this.o1.d1()},i._1=function(t){return this.o1._1(t)},i.w1=function(t,n,i){return this.o1.w1(t,this.v1.Ad,n,i)},i.g1=function(t){return IL(t)?this.LJ.m1(t):this.LJ.g1(t)},i.b1=function(t){return IL(t)?this.LJ.A1(t):this.LJ.b1(t)},i.Ed=function(){this.o1.nu(kL.$0,this.J0)},T(n,[{key:"T1",get:function(){return this.u1}},{key:"zJ",get:function(){var t;return null!=(t=this.o1.Hi.zJ)?t:this.T1.zJ}},{key:"PR",get:function(){return this.o1.Hi.PR||0}},{key:"VH",get:function(){var t=this.o1.Hi;return t.VH?[t.VH]:this.T1.VH}},{key:"S1",get:function(){var t=this.o1.Hi;return t.VH?[t.VH]:[]}},{key:"rr",get:function(){return this.o1.Hi.VH||this.T1.rr}},{key:"VJ",get:function(){return this.o1.Hi.VJ||this.T1.VJ}},{key:"qJ",get:function(){return this.o1.Hi.qJ||this.T1.qJ}},{key:"Pl",get:function(){return this.YB+'; codecs="'+this.rr+'"'}},{key:"WJ",get:function(){var t=this.o1.Hi;return t.WJ.length?t.WJ:this.T1.WJ}},{key:"X_",get:function(){return this.H_||(this.H_=(t=this,{get id(){return t.xw},get type(){return t.vs},get bandwidth(){return t.PR},get width(){return t.yp},get height(){return t.uT},get frameRate(){var n,i;return null!=(n=null==(i=t.GJ)?void 0:i.pp())?n:NaN},get audioSamplingRate(){return t.zJ}}));var t}},{key:"GJ",get:function(){var t;return null!=(t=this.o1.Hi.GJ)?t:this.T1.GJ}},{key:"uT",get:function(){return this.o1.Hi.uT||this.T1.uT}},{key:"xw",get:function(){return this.o1.Hi.xw||""}},{key:"E1",get:function(){return this.h1},set:function(t){this.h1=t}},{key:"I1",get:function(){var t=this.o1.R1();if(t)return{Kl:t.Kl,bJ:t.bJ,Ad:this.v1.Ad}}},{key:"YJ",get:function(){return this.o1.Hi.YJ||this.T1.YJ||1}},{key:"$J",get:function(){return this.o1.Hi.$J||this.T1.$J}},{key:"v1",get:function(){return this.N1.v1}},{key:"YB",get:function(){return this.o1.Hi.YB||this.T1.YB}},{key:"N1",get:function(){return this.T1.N1}},{key:"QJ",get:function(){return this.o1.Hi.QJ||this.T1.QJ}},{key:"C1",get:function(){return this.a1}},{key:"KJ",get:function(){return this.o1.Hi.KJ||this.T1.KJ}},{key:"ZJ",get:function(){return this.o1.Hi.ZJ||this.T1.ZJ}},{key:"D1",get:function(){return this.o1.D1}},{key:"JJ",get:function(){return this.o1.Hi.JJ||this.T1.JJ}},{key:"LJ",get:function(){return this.o1.LJ}},{key:"n0",get:function(){return this.o1.Hi.n0||this.T1.n0}},{key:"vs",get:function(){var t=this.YB.split("/")[0];return"application"===t||"text"===t||vb(this.YB,this.VH)?gm.Jn:"video"===t?gm.wd:"audio"===t?gm._d:"image"===t?gm.yd:gm.Jl}},{key:"yp",get:function(){return this.o1.Hi.yp||this.T1.yp}}]),n}(EL),CL=function(t){function n(n,i){var e;return(e=t.call(this)||this).P1=[],e.o1=void 0,e.B1=void 0,e.O1=[],e.B1=n,e.o1=i,e.o1.Ks(kL.$0,e.J0),e}E(n,t);var i=n.prototype;return i.Kh=function(t,n){var i,e=this;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==this.O1.length){r.next=6;break}return this.O1=[],i=this.o1.p0.map(function(i){return e.L1(i,t,n)}),r.next=5,Mr.awrap(Ye.all(i));case 5:this.O1=r.sent.filter(H);case 6:this.M1();case 7:case"end":return r.stop()}},null,this,null,Ye)},i.L1=function(t,n,i){var e,r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=new NL(this,t),s.next=3,Mr.awrap(n(e));case 3:if(r=s.sent,hu(i),r){s.next=7;break}return s.abrupt("return",void 0);case 7:return s.abrupt("return",e);case 8:case"end":return s.stop()}},null,this,null,Ye)},i.M1=function(){if(!this.O1.length)throw new v("Detected an AdaptationSet without any supported Representations.")},i.i1=function(){return this.o1.i1()},i.d1=function(){return this.o1.d1()},i.Ed=function(){this.o1.nu(kL.$0,this.J0);for(var t=0,n=this.O1;t<n.length;t++){n[t].Ed()}Qs(this.O1)},T(n,[{key:"h0",get:function(){return this.o1.Hi.h0}},{key:"zJ",get:function(){var t;return null!=(t=this.o1.Hi.zJ)?t:-1}},{key:"VH",get:function(){if(this.o1.Hi.VH)return[this.o1.Hi.VH];for(var t=[],n=0,i=this.p0;n<i.length;n++){var e=i[n];e.S1.length&&-1===t.indexOf(e.rr)&&t.push(e.rr)}return t}},{key:"rr",get:function(){return this.VH.join()}},{key:"VJ",get:function(){return this.o1.Hi.VJ}},{key:"qJ",get:function(){return this.o1.Hi.qJ}},{key:"Pl",get:function(){return this.YB+'; codecs="'+this.rr+'"'}},{key:"WJ",get:function(){return this.P1}},{key:"GJ",get:function(){return this.o1.Hi.GJ}},{key:"c0",get:function(){return this.o1.Hi.c0}},{key:"uT",get:function(){return this.o1.Hi.uT||0}},{key:"xw",get:function(){return this.o1.Hi.xw}},{key:"Mw",get:function(){return this.o1.Hi.Mw||""}},{key:"YJ",get:function(){return this.o1.Hi.YJ}},{key:"$J",get:function(){return this.o1.Hi.$J}},{key:"v1",get:function(){return this.N1.v1}},{key:"YB",get:function(){return this.o1.Hi.YB||this.O1[0].YB}},{key:"N1",get:function(){return this.B1}},{key:"QJ",get:function(){return this.o1.Hi.QJ}},{key:"p0",get:function(){return this.O1}},{key:"k0",get:function(){return this.o1.Hi.k0||[]}},{key:"KJ",get:function(){return this.o1.Hi.KJ}},{key:"ZJ",get:function(){return this.o1.Hi.ZJ}},{key:"JJ",get:function(){return this.o1.Hi.JJ}},{key:"QN",get:function(){return this.o1.Hi.QN}},{key:"n0",get:function(){return this.o1.Hi.n0}},{key:"vs",get:function(){var t=(this.o1.Hi.Pl||this.YB).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||vb(this.YB,this.VH)?gm.Jn:"video"===t?gm.wd:"audio"===t?gm._d:"image"===t?gm.yd:gm.Jl}},{key:"yp",get:function(){return this.o1.Hi.yp||0}},{key:"uQ",get:function(){return this.o1.Hi.Fw||""}},{key:"F1",get:function(){return this.n1}},{key:"U1",get:function(){var t=this.F1,n=this.e1;if(void 0!==t&&void 0!==n){var i=w.min(n,this.v1.j1);return w.max(t,i)}}}]),n}(EL);function DL(t,n){for(var e=[],r=0;r<n.length;r++)for(var s=n[r],u=0;u<t.length;u++){var o=t[u];e.push(i.Or(o,s))}return e}var PL=function(){function t(t,n){this.B1=void 0,this.H1=void 0,this.ua=void 0,this.X1=void 0,this.z1=void 0,this.B1=t,this.H1=n,this.ua=n.yk,this.X1=n.yJ,this.z1=n.PJ}var n=t.prototype;return n.V1=function(t){var n=t-this.B1.IC;if(!(n<0||n>=this.B1.Hg)){var i=this.q1();return void 0!==i&&jt(i,n,1e-5)?this.W1():this.G1(n)}},n.Y1=function(t){var n=t-this.B1.IC;if(!(n<0))return this.Q1(w.min(n,this.B1.Hg))},n.W1=function(){return this.K1(0)},n.Z1=function(){var t=this.B1.Hg;if(isFinite(t))return this.Q1(t)},n.l1=function(t){if(this.B1.J1.vs===SO.AE){var n=this.n2(t);if(!n)return;return{i2:t,e2:this.s2(t),u2:n}}var i=this.W1();if(i)return{i2:t,e2:i,u2:this.Z1()}},n.d1=function(t,n){if(n){var i=this.o2(n.e2),e=this.a2(n.u2);if(e){var r=this.h2(e);(!i||r.getTime()<i.getTime())&&(i=r)}return i}var s=this.W1();if(s){var u=this.h2(s);if(t.getTime()<u.getTime())return u}var o=this.B1.J1.P0;return t.getTime()<o.getTime()?o:void 0},n.n2=function(t){var n=(t.getTime()-this.B1.J1.P0.getTime())/1e3-this.B1.IC+this.X1,i=this.Q1(Ut(n,0,this.B1.Hg));if(i&&(i=this.c2(i,t))){for(var e=this.a2(i);e&&this.f2(e,t);)i=e,e=this.a2(i);return i}},n.s2=function(t){var n,i=this.H1.xJ;if(i){var e=(t.getTime()-this.B1.J1.P0.getTime())/1e3-this.B1.IC-i.cJ();(n=this.Q1(Ut(e,0,this.B1.Hg)))||(n=this.W1())}else n=this.W1();if(n&&(n=this.c2(n,t))){for(var r=this.l2(n);r&&this.f2(r,t);)n=r,r=this.l2(n);return n}},n.c2=function(t,n){for(var i=t;i&&this.h2(i).getTime()>n.getTime();)i=this.l2(i);if(i){var e=this.o2(i);if(e&&e.getTime()<=n.getTime()){var r=this.l2(i);for(r&&this.f2(r,n)&&(i=r);i;){if(this.h2(i).getTime()>n.getTime())return;if(this.f2(i,n))break;i=this.a2(i)}if(!i)return}return i}},n.f2=function(t,n){if(this.h2(t).getTime()>n.getTime())return!1;var i=this.o2(t);return!(i&&n.getTime()>=i.getTime())},n.d2=function(t,n){if(this._2(t).getTime()>n.getTime())return!1;var i=this.o2(t);return!(i&&n.getTime()>=i.getTime())},n.w2=function(t,n,i){var e=Zt(n,this.ua)+this.B1.IC;return{TJ:t,g2:n,Vm:e,Hg:i,qm:e+i}},n._2=function(t){return this.B1.J1.vs===SO.AE?new Date(this.B1.J1.P0.getTime()+1e3*(t.Vm+t.Hg)):this.B1.J1.P0},n.h2=function(t){var n=this._2(t);return this.B1.J1.vs===SO.AE?new Date(n.getTime()-1e3*this.X1):n},n.o2=function(t){var n=1/0;if(this.B1.J1.vs===SO.AE){var i=this.H1.xJ;i&&(n=this._2(t).getTime()+1e3*t.Hg+i.fJ())}var e=this.B1.J1.D0;return e&&(n=w.min(n,e.getTime())),n===1/0?void 0:new Date(n)},n.m2=function(t,n){return t.TJ+n},n._1=function(t){return!1},n.w1=function(t,n,i,e,r){var s=this.b2(t);if(!s)return Ye.reject(new v("Invalid segment"));var u=this.A2(s.TJ);return u?Ye.resolve(u):this.T2(s.TJ,n,i,e,r)},n.A2=function(t){},n.T2=function(t,n,i,e,r){return Ye.reject(new v("Not supported"))},n.l2=function(t){var n=this.b2(t);if(n)return this.K1(n.TJ-1)},n.a2=function(t){var n=this.b2(t);if(n)return this.K1(n.TJ+1)},n.b2=function(t){var n=this.K1(t.TJ);if(n&&n.Vm===t.Vm)return n;var i=this.V1(t.Vm);return i&&i.Vm===t.Vm?i:void 0},n.S2=function(t){var n=this.E2(t);if(n&&this._1(n.TJ)){var i=this.A2(n.TJ);if(i)return i.S2(t)}},n.E2=function(t){return this.K1(t.I2)},n.g1=function(t){var n=this.b2(t);return!!n&&0===n.TJ},n.m1=function(t){var n=this.S2(t);return!!n&&0===n.s1},n.b1=function(t){var n=this.b2(t);if(!n)return!1;var i=this.Z1();return!!i&&n.TJ===i.TJ},n.A1=function(t){var n=this.S2(t);if(!n)return!1;var i=this.Z1();if(!i||n.I2!==i.TJ)return!1;var e=this.A2(n.I2);return n.s1+1===e.Tw},T(t,[{key:"Kk",get:function(){return this.B1.IC-Zt(this.z1,this.ua)}},{key:"PJ",get:function(){return Zt(this.z1,this.ua)}}]),t}(),BL=function(t){function n(n,i){var e;(e=t.call(this,i,n)||this).R2=void 0,e.N2=void 0;var r=n.C2,s=n.Hg;if(void 0===r||void 0===s)throw new v("MultipleSegmentBase does not have a segment duration specified.");return e.N2=r,e.R2=s,e}E(n,t);var i=n.prototype;return i.K1=function(t){if(!(t<0)){var n=this.N2.multiply(t),i=Zt(n,this.ua),e=this.B1.Hg;if(!(i>=e)){var r=this.D2();if(void 0!==r){if(t>r)return;if(t===r)return this.w2(t,n,e-i)}return isFinite(e)&&i+this.R2>e?this.w2(t,n,e-i):this.w2(t,n,this.R2)}}},i.q1=function(){return 0},i.G1=function(t){var n=w.floor(t/this.R2),i=this.D2();return void 0!==i&&n>=i?this.K1(i):this.K1(n)},i.Q1=function(t){if(t>=this.B1.Hg){var n=w.ceil(this.B1.Hg/this.R2)-1,i=this.D2();return void 0!==i&&n>=i?this.K1(i):this.K1(n)}return this.G1(t)},i.D2=function(){var t,n=this.H1.FJ;if(void 0!==n)return n-(null!=(t=this.H1.MJ)?t:1);if(isFinite(this.B1.Hg)){var i=this.H1.P2;if(void 0!==i&&i>0)return i-1}},i.B2=function(){if(isFinite(this.B1.Hg))return this.Z1()},i.O2=function(t,n){return this.N2.multiply(t.TJ+(n-1))},i.Kh=function(){},n}(PL);function xL(t,n){var i=t.length;if(0===i)return-1;for(var e=0,r=i-1,s=t[e].Vm,u=t[r].qm;e<=r&&s.lessThanOrEqual(n)&&n.lessThan(u);){var o=e+w.floor(n.subtract(s).toNumber()/u.subtract(s).toNumber()*(r-e)),a=t[o],h=a.Vm,c=o+1<i?t[o+1].Vm:a.qm;if(c.lessThanOrEqual(n))e=o+1,s=c;else{if(!n.lessThan(h))return o;r=o-1,u=h}}return-1}var OL=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).L2=[],e.M2=void 0,e.F2=lt.ZERO,e.Kh(),e}E(n,t);var i=n.prototype;return i.K1=function(t){if(!(t<0))return t<this.L2.length?this.L2[t].U2:this.j2(t-this.L2.length)},i.q1=function(){if(this.L2.length>0)return Zt(this.L2[0].Vm,this.ua)},i.G1=function(t){if(this.M2&&Zt(this.M2.Vm,this.ua)<=t){var n=Zt(this.M2.Vm,this.ua),i=Zt(this.M2.Hg,this.ua),e=w.floor((t-n)/i);return this.j2(e)}if(this.L2.length>0&&jt(t,Zt(this.L2[0].Vm,this.ua),1e-5))return this.L2[0].U2;var r=xL(this.L2,lt.fromNumber(t*this.ua));return r<0?void 0:this.L2[r].U2},i.Q1=function(t){if(!this.M2&&this.L2.length>0){var n=this.L2[this.L2.length-1];if(i=t,e=Zt(n.qm,this.ua),Hs(i,e,1e-5)>=0)return n.U2}var i,e,r=this.q1();return r&&t<r?this.L2[0].U2:this.G1(t)},i.B2=function(){return isFinite(this.B1.Hg)?this.Z1():this.K1(this.L2.length-1)},i.O2=function(t){return this.H2(t)},i.j2=function(t){if(this.M2){var n=this.M2.Vm,i=this.M2.Hg,e=n.add(i.multiply(t)),r=Zt(e,this.ua),s=this.B1.Hg;if(!(r>=s)){var u=this.L2.length+t,o=w.min(Zt(i,this.ua),r+s);return this.w2(u,e,o)}}},i.H2=function(t){return t.g2.add(this.z1)},i.Kh=function(){var t=this.H1.Hi.LJ;if(!t)throw new v("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.X2(t)},i.X2=function(t){var n=this.z1;this.z2(t,n);var i=this.V2(t);this.q2(t,n,i.W2,i.I2)},i.z2=function(t,n){var i=this.L2;if(0===t.length)Qs(i);else{for(var e=t[0],r=e.Vm?lt.fromString(e.Vm,!1).subtract(n):lt.ZERO,s=0;s<i.length&&i[s].Vm.lessThan(r);)s++;s>0&&i.splice(0,s)}},i.V2=function(t){for(var n=this.L2,i=this.F2,e=0,r=0;e<t.length&&r<n.length;){var s=t[e].AJ||0;if(s<0)break;var u=r+s;if(u>=n.length)break;if(n[u].Vm.greaterThanOrEqual(i))break;if(n[r].U2.TJ===r)r=u+1;else for(;r<=u;)n[r].U2.TJ=r,r++;0,e++}return{W2:e,I2:r}},i.q2=function(t,n,i,e){for(var r,s=this.L2,u=i,o=e;u<t.length;){var a=t[u],h=lt.fromString(a.Hg,!1),c=a.AJ||0,f=void 0;if(a.Vm){if(f=lt.fromString(a.Vm,!1).subtract(n),o>0){var v=s[o-1];v.qm.greaterThan(f)&&(v.Hg=f.subtract(v.Vm),v.qm=v.Vm.add(v.Hg))}}else f=o>0?s[o-1].qm:lt.ZERO;if(c<0){if(u+1===t.length){r={Vm:f,Hg:h};break}for(var l=lt.fromString(t[u+1].Vm,!1).subtract(n);f.lessThan(l);){var d=f.add(h);this.G2(s,o,f,h,d),f=d,o++}}else for(var _=o+c;o<=_;){var w=f.add(h);this.G2(s,o,f,h,w),f=w,o++}u++}o<s.length&&s.splice(o),s.length>0&&(this.F2=s[s.length-1].Vm),this.M2=r},i.G2=function(t,n,i,e,r){if(n<t.length){var s=t[n];0,s.Hg.equals(e)?s.U2.TJ=n:t[n]={Vm:i,Hg:e,qm:r,U2:this.w2(n,i,Zt(e,this.ua))}}else t.push({Vm:i,Hg:e,qm:r,U2:this.w2(n,i,Zt(e,this.ua))})},n}(PL),LL=function(){function t(t,n,i){this.N1=void 0,this.Y2=void 0,this.qi=void 0,this.Q2=void 0,this.K2=void 0,this.N1=t,this.Y2=n,this.qi=i}var n=t.prototype;return n.Z2=function(){if(this.K2=this.J2(),this.K2)return this.K2;if(this.Y2)return this.Y2.LJ;throw new v("Missing media segment information.")},n.R1=function(t){var n=this.DJ;if(n)return{Kl:(void 0!==n.kJ?i.Or(n.kJ,t.i0[0]):t.i0[0]).href,bJ:n.bJ};var e=this.SJ;return e?{Kl:t.i0[0].href,bJ:[0,e[0]-1]}:void 0},n.Kh=function(t){this.qi=t,this.K2&&this.K2.Kh()},T(t,[{key:"Hi",get:function(){return this.qi}},{key:"yJ",get:function(){return this.qi&&void 0!==this.qi.yJ?this.qi.yJ:this.Y2?this.Y2.yJ:0}},{key:"PJ",get:function(){return this.qi&&void 0!==this.qi.PJ?this.qi.PJ:this.Y2?this.Y2.PJ:lt.ZERO}},{key:"xJ",get:function(){return this.qi&&void 0!==this.qi.xJ?this.qi.xJ:this.Y2?this.Y2.xJ:this.N1.J1.xJ}},{key:"yk",get:function(){return this.qi&&void 0!==this.qi.yk?this.qi.yk:this.Y2&&this.Y2.yk?this.Y2.yk:1}},{key:"SJ",get:function(){return this.qi&&void 0!==this.qi.SJ?this.qi.SJ:this.Y2?this.Y2.SJ:void 0}},{key:"DJ",get:function(){return this.qi&&void 0!==this.qi.DJ?this.qi.DJ:this.Y2?this.Y2.DJ:void 0}},{key:"LJ",get:function(){return this.Q2||(this.Q2=this.Z2()),this.Q2}}]),t}(),ML=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.J2=function(){return this.qi.LJ?new OL(this,this.N1):void 0!==this.qi.Hg?new BL(this,this.N1):void 0},T(n,[{key:"Hg",get:function(){return void 0!==this.qi.Hg?this.qi.Hg/this.yk:this.Y2&&this.Y2 instanceof n?this.Y2.Hg:void 0}},{key:"C2",get:function(){return void 0!==this.qi.Hg?lt.fromNumber(this.qi.Hg):this.Y2&&this.Y2 instanceof n?this.Y2.C2:void 0}},{key:"MJ",get:function(){return void 0!==this.qi.MJ?this.qi.MJ:this.Y2&&this.Y2 instanceof n?this.Y2.MJ:void 0}},{key:"FJ",get:function(){return void 0!==this.qi.FJ?this.qi.FJ:this.Y2&&this.Y2 instanceof n?this.Y2.FJ:void 0}}]),n}(LL),FL=function(){function t(t){this.n3=void 0,this.n3=t}return t.prototype.Wu=function(t){return this.n3.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,e,r){if("$$"===n)return"$";var s=t[i];if(void 0===s)return n;if(void 0===e)return s.toString();var u=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(s,r);return void 0===u?n:u=Ss(u,Number(e),"0")})},t}();var UL=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).i3=void 0,r.e3=void 0,r.i3=e.HJ?new FL(e.HJ):void 0,r.e3=e.XJ?new FL(e.XJ):void 0,r}E(n,t);var e=n.prototype;return e.R1=function(n){var e=this.HJ;if(!e)return t.prototype.R1.call(this,n);var r=e.Wu({Bandwidth:n.Hi.PR,RepresentationID:n.Hi.xw});return{Kl:i.Lr(r,n.i0[0])}},e.c1=function(t,n){var e,r=null!=(e=n.D1.MJ)?e:1,s=this.XJ.Wu({Bandwidth:n.Hi.PR,Number:n.LJ.m2(t,r),RepresentationID:n.Hi.xw,Time:n.LJ.O2(t,r)});return{Kl:i.Lr(s,n.i0[0])}},e.f1=function(t,n){},T(n,[{key:"HJ",get:function(){return this.i3?this.i3:this.Y2&&this.Y2 instanceof n?this.Y2.HJ:void 0}},{key:"XJ",get:function(){return this.e3?this.e3:this.Y2&&this.Y2 instanceof n?this.Y2.XJ:void 0}},{key:"P2",get:function(){}}]),n}(ML),jL=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var e=n.prototype;return e.c1=function(t,n){var e=this.qi.IJ[t.TJ],r=n.i0[0];return{Kl:(e.JA?i.Or(e.JA,r):r).href,bJ:e.EJ}},e.f1=function(t,n){},T(n,[{key:"P2",get:function(){return void 0!==this.qi.IJ?this.qi.IJ.length:this.Y2&&this.Y2 instanceof ML?this.Y2.P2:void 0}}]),n}(ML),HL=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).I2=void 0,u.r3=void 0,u.yk=void 0,u.s3=void 0,u.PJ=void 0,u.u3=void 0,u.I2=n,u.r3=i,u.yk=e.yk,u.s3=r,u.PJ=s,u.u3=u.o3(e),u}E(n,t);var i=n.prototype;return i.a3=function(t){if(t>=0&&t<this.Tw)return this.h3(this.u3[t])},i.c3=function(t){var n=this.f3(t);if(this.u3.length>0){var i=this.u3[0];if(n<=Zt(i.Vm,this.yk))return this.h3(i)}var e=xL(this.u3,lt.fromNumber(n*this.yk));if(!(e<0))return this.h3(this.u3[e])},i.v3=function(t){var n=this.f3(t);if(this.u3.length>0){var i=this.u3[this.u3.length-1];if(n>=Zt(i.qm,this.yk))return this.h3(i)}return this.c3(t)},i.h3=function(t){var n=Zt(t.Vm,this.yk)-this.PJ,i=n+this.s3,e=Zt(t.Hg,this.yk);return{I2:this.I2,s1:t.TJ,Vm:i,g2:lt.fromNumber(n*this.yk),Hg:e,qm:i+e,l3:[this.r3+t.r3,this.r3+t.d3]}},i.o3=function(t){for(var n=[],i=t.XS,e=t.zS.toNumber(),r=0,s=0,u=t.qS;s<u.length;s++){var o=u[s],a=o.MS,h=lt.fromNumber(o.Hg),c=i.add(h);0===o.LS&&n.push({TJ:r++,Vm:i,Hg:h,qm:c,r3:e,d3:e+a-1}),e+=a,i=c}return n},i.f3=function(t){return t-this.s3+this.PJ},T(n,[{key:"Tw",get:function(){return this.u3.length}}]),n}(function(){function t(){}return t.prototype.S2=function(t){var n=this.a3(t.s1);if(n&&n.Vm===t.Vm)return n;var i=this.c3(t.Vm);return i&&i.Vm===t.Vm?i:void 0},t}()),XL=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this)._3=void 0,e.w3=void 0,e.g3=void 0,e._3=n.SJ,e.w3=e.w2(0,lt.ZERO,e.B1.Hg),e}E(n,t);var i=n.prototype;return i.K1=function(t){if(0===t)return this.w3},i.q1=function(){return 0},i.G1=function(t){return this.w3},i.Q1=function(t){return this.G1(t)},i.B2=function(){return this.w3},i.O2=function(t,n){return lt.ZERO},i.l1=function(t){var n=this.y3(t);return n&&{i2:t,e2:n,u2:n}},i.y3=function(t){var n=this.w3;return this.f2(n,t)?n:void 0},i.n2=function(t){return this.y3(t)},i.s2=function(t){return this.y3(t)},i.Kh=function(){},i._1=function(t){return 0===t&&void 0!==this._3},i.A2=function(t){return this.g3},i.T2=function(t,n,i,e,r){var s,u,o;return Mr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return s=n.i0[0].href,u=this._3,a.next=4,Mr.awrap(e.m3(s,u,i,r));case 4:return o=a.sent,this.g3=this.b3(t,o),a.abrupt("return",this.g3);case 7:case"end":return a.stop()}},null,this,null,Ye)},i.b3=function(t,n){var i=this._3,e=Ak.mA(new DataView(n),new na);if(e.vs!==Pp.qb)throw new v("Invalid segment index");var r=Rk.UA(e.Hi),s=i[1]+1;return new HL(t,s,r,this.B1.IC,Zt(this.z1,this.ua))},n}(PL),zL=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.c1=function(t,n){return{Kl:n.i0[0].href}},i.f1=function(t,n){return{Kl:n.i0[0].href,bJ:t.l3}},i.J2=function(){return new XL(this,this.N1)},T(n,[{key:"MJ",get:function(){}}]),n}(LL),VL=function(t){function n(){return t.call(this,kL.$0)||this}return E(n,t),n}(Eu);var qL=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).b_=void 0,r.qi=void 0,r.A3=void 0,r.H1=void 0,r.T3=1/0,r.S3=void 0,r.b_=i,r.E3(n,e),r}E(n,t);var i=n.prototype;return i.I3=function(){return this.H1||this.b_&&this.b_.I3()},i.R3=function(t){var n=this.N1,i=this.b_&&this.b_.I3();this.qi.a0?this.H1=new UL(n,i,this.qi.a0):this.qi.o0?this.H1=new jL(n,i,this.qi.o0[0]):this.qi.u0?this.H1=new zL(n,i,this.qi.u0):t&&!i&&(this.H1=new zL(n,i,void 0))},i.E3=function(t,n){this.qi=t,this.A3=t.i0&&t.i0.length>0?DL(t.i0.map(function(t){return t.Kl}),n):n.slice(),this.H1&&(t.a0?this.H1.Kh(t.a0):t.o0?this.H1.Kh(t.o0[0]):t.u0&&this.H1.Kh(t.u0))},i.i1=function(){var t;return null==(t=this.S3)?void 0:t.N3},i.d1=function(){var t;return null==(t=this.S3)?void 0:t.C3},i.D3=function(t){var n=this.T3,i=this.N1.Hg,e=this.S3,r=this.P3(t);e&&jt(i,n,1e-5)&&$L(e,r)||(this.T3=i,this.S3=r,this.Qs(new VL))},i.Ls=function(){this.tu()},T(n,[{key:"Hi",get:function(){return this.qi}},{key:"i0",get:function(){return this.A3}}]),n}(Tu);function WL(t){for(var n,i=0;i<t.length;i++){var e=t[i].i1();if(e){n=e.IC;break}}if(void 0!==n){for(var r,s=t.length-1;s>=0;s--){var u=t[s].i1();if(u){r=u.NC;break}}if(void 0!==r)return{IC:n,NC:r}}}function GL(t){if(0!==t.length){for(var n=0,i=1/0,e=0;e<t.length;e++){var r=t[e].i1();if(!r)return;if((n=w.max(n,r.IC))>=(i=w.min(i,r.NC)))return}return{IC:n,NC:i}}}function YL(t){for(var n,i=0;i<t.length;i++){var e=t[i].d1();e&&(!n||e.getTime()<n.getTime())&&(n=e)}return n}function $L(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.C3,n.C3)&&function(t,n){return t&&n?jt(t.IC,n.IC,1e-5)&&jt(t.NC,n.NC,1e-5):t===n}(t.N3,n.N3)}var QL=function(t){function n(n,i,e){var r;(r=t.call(this)||this).B1=void 0,r.Oh=void 0,r.B3=void 0,r.B1=n,r.Oh=i,r.B3=e.slice();for(var s=0;s<e.length;s++){e[s].Ks(kL.$0,r.J0)}return r}E(n,t);var i=n.prototype;return i.i1=function(){return GL(this.B3)},i.d1=function(){for(var t,n=0,i=this.B3;n<i.length;n++){var e=i[n].d1();e&&(!t||e.getTime()<t.getTime())&&(t=e)}return t},i.Ed=function(){this.tu();for(var t=0,n=this.B3;t<n.length;t++){n[t].nu(kL.$0,this.J0)}},T(n,[{key:"I0",get:function(){return this.B3}},{key:"VH",get:function(){return this.I0.reduce(function(t,n){for(var i=0,e=n.VH;i<e.length;i++){var r=e[i];Ys(t,r)||t.push(r)}return t},[])}},{key:"rr",get:function(){return this.VH.length>0?this.VH[0]:""}},{key:"vs",get:function(){return this.B3[0].vs}},{key:"xw",get:function(){return this.Oh}},{key:"v1",get:function(){return this.B1.v1}},{key:"YB",get:function(){return this.B3[0].YB}},{key:"N1",get:function(){return this.B1}},{key:"p0",get:function(){return Zs(this.I0,function(t){return t.p0})}}]),n}(EL),KL=function(t){function n(){return t.call(this,kL.K0)||this}return E(n,t),n}(Eu);function ZL(t){for(var n=[],i=function(i){var e=t[i],r=void 0,s=e.c0;void 0===s||(r=zs(n,function(t){return t.xw===s})),r||(r={xw:s,I0:[]},n.push(r)),r.I0.push(e)},e=0;e<t.length;e++)i(e);return n}var JL,tM=function(t){function n(n,i){var e;return(e=t.call(this)||this).o1=void 0,e.B3=[],e.x3=[],e.O3=void 0,e.L3=!1,e.O3=n,e.o1=i,e.o1.Ks(kL.$0,e.J0),e}E(n,t);var i=n.prototype;return i.M3=function(t,n){if(0!==this.x3.length){for(var i=t,e=0,r=this.x3;e<r.length;e++){var s=r[e],u=s.vs;if(u===gm._d||u===gm.wd){var o=s.e1;if(void 0===o)return;i=n(i,o)}}return i}},i.F3=function(){this.L3||(this.L3=!0,this.Qs(new KL),this.Ed())},i.Kh=function(t,n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==this.B3.length){i.next=7;break}return i.next=3,Mr.awrap(this.U3(this.o1.I0,t,n));case 3:this.j3(this.B3),hu(n),i.next=9;break;case 7:return i.next=9,Mr.awrap(this.H3(t,n));case 9:case"end":return i.stop()}},null,this,null,Ye)},i.U3=function(t,n,i){var e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:e=0;case 1:if(!(e<t.length)){u.next=17;break}return r=t[e],s=new CL(this,r),u.prev=4,u.next=7,Mr.awrap(s.Kh(n,i));case 7:this.B3.push(s),u.next=14;break;case 10:u.prev=10,u.t0=u.catch(4),cu(u.t0);case 14:e++,u.next=1;break;case 17:case"end":return u.stop()}},null,this,[[4,10]],Ye)},i.j3=function(t){for(var n=ZL(t),i=0;i<n.length;i++){var e=n[i],r=new QL(this,e.xw,e.I0);this.x3.push(r)}},i.H3=function(t,n){var i,e,r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.B3;case 1:if(!(i<e.length)){s.next=8;break}return r=e[i],s.next=5,Mr.awrap(r.Kh(t,n));case 5:i++,s.next=1;break;case 8:case"end":return s.stop()}},null,this,null,Ye)},i.i1=function(){return this.o1.i1()},i.d1=function(){return this.o1.d1()},i.Ed=function(){this.tu(),this.o1.nu(kL.$0,this.J0);for(var t=0,n=this.x3;t<n.length;t++){n[t].Ed()}for(var i=0,e=this.B3;i<e.length;i++){e[i].Ed()}Qs(this.B3),Qs(this.x3)},T(n,[{key:"I0",get:function(){return this.B3}},{key:"X3",get:function(){return this.x3}},{key:"R0",get:function(){return this.o1.Hi.R0}},{key:"Hg",get:function(){return this.o1.Hg}},{key:"NC",get:function(){return this.IC+this.Hg}},{key:"N0",get:function(){return this.o1.Hi.N0||[]}},{key:"xw",get:function(){return this.o1.xw}},{key:"Z0",get:function(){return this.L3}},{key:"v1",get:function(){return this.O3}},{key:"z3",get:function(){return this.O3.V3(this)}},{key:"N1",get:function(){return this}},{key:"q3",get:function(){return this.O3.W3(this)}},{key:"G3",get:function(){return this.M3(1/0,w.min)}},{key:"Y3",get:function(){return this.M3(0,w.max)}},{key:"IC",get:function(){return this.o1.IC}},{key:"Ad",get:function(){return this.v1.Ad}}]),n}(EL),nM=function(t){function n(){return t.call(this,Bf.Af)||this}return E(n,t),n}(Eu);!function(t){t.Q3="K3"}(JL||(JL={}));var iM=function(t){function n(){return t.call(this,JL.Q3)||this}return E(n,t),n}(Eu),eM=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.i0)||this).u1=void 0,e.Z3=void 0,e.u1=i,e.R3(!0),e}E(n,t);var i=n.prototype;return i._1=function(t){return!!zc(this.YB)&&this.LJ._1(t.TJ)},i.w1=function(t,n,i,e){return this.LJ.w1(t,this,n,i,e)},i.R1=function(){return this.D1.R1(this)},i.c1=function(t){return this.D1.c1(t,this)},i.f1=function(t){return this.D1.f1(t,this)},i.l1=function(){return this.Z3},i.P3=function(t){var n=this.LJ,i=n.l1(t),e=i&&function(t,n){var i,e=t.e2,r=t.u2,s=t.i2,u=e.Vm,o=n._2(r);if(o.getTime()<=s.getTime())i=r.qm;else{var a=(o.getTime()-s.getTime())/1e3,h=w.max(r.Hg-a,0);i=r.Vm+h}return{IC:u,NC:i}}(i,n),r=this.LJ.d1(t,i);return this.Z3=i,{i2:t,N3:e,C3:r}},i.Kh=function(t){this.E3(t,this.u1.i0)},T(n,[{key:"T1",get:function(){return this.u1}},{key:"N1",get:function(){return this.u1.N1}},{key:"J1",get:function(){return this.u1.J1}},{key:"YB",get:function(){return this.qi.YB||this.u1.YB}},{key:"D1",get:function(){return this.I3()}},{key:"LJ",get:function(){return this.D1.LJ}}]),n}(qL),rM=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.i0)||this).B1=void 0,e.O1=void 0,e.B1=i,e.R3(!1),e.O1=n.p0.map(function(t){return new eM(t,nn(e))}),e}E(n,t);var i=n.prototype;return i.Kh=function(t){this.E3(t,this.B1.i0);var n=t.p0||[];if(this.O1.length!==n.length)throw new v("Expected "+this.O1.length+' representations in adaptation set "'+t.xw+'", found '+n.length);for(var i=0;i<n.length;i++)this.O1[i].Kh(n[i])},i.D3=function(n){for(var i=0,e=this.O1;i<e.length;i++){e[i].D3(n)}t.prototype.D3.call(this,n)},i.P3=function(t){return{i2:t,N3:GL(this.O1),C3:YL(this.O1)}},i.Ls=function(){for(var n=0,i=this.O1;n<i.length;n++){i[n].Ls()}t.prototype.Ls.call(this)},T(n,[{key:"p0",get:function(){return this.O1}},{key:"N1",get:function(){return this.B1}},{key:"J1",get:function(){return this.B1.J1}},{key:"c0",get:function(){return this.qi.c0}},{key:"YB",get:function(){var t;return this.qi.YB||(null==(t=this.O1[0])?void 0:t.Hi.YB)||""}}]),n}(qL),sM=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i,void 0,n.i0)||this).J3=void 0,s.KS=void 0,s.oa=void 0,s.B3=void 0,s.x3=[],s.J3=n,s.KS=e,s.oa=r,s.R3(!1),s.B3=(i.I0||[]).map(function(t){return new rM(t,nn(s))}),s.x3=ZL(s.B3),s}E(n,t);var i=n.prototype;return i.Kh=function(t,n){this.E3(t,this.J3.i0),this.oa=n;var i=t.I0||[];if(this.B3.length!==i.length)throw new v("Expected "+this.B3.length+' adaptation sets in period "'+t.xw+'", found '+i.length);for(var e=0;e<i.length;e++)this.B3[e].Kh(i[e])},i.D3=function(n){for(var i=0,e=this.B3;i<e.length;i++){e[i].D3(n)}t.prototype.D3.call(this,n)},i.P3=function(t){return{i2:t,N3:GL(this.B3),C3:YL(this.B3)}},i.Ls=function(){for(var n=0,i=this.B3;n<i.length;n++){i[n].Ls()}t.prototype.Ls.call(this)},T(n,[{key:"I0",get:function(){return this.B3}},{key:"X3",get:function(){return this.x3}},{key:"N1",get:function(){return this}},{key:"J1",get:function(){return this.J3}},{key:"xw",get:function(){return this.qi.xw}},{key:"IC",get:function(){return this.KS}},{key:"Hg",get:function(){return this.oa}}]),n}(qL),uM=new Date("2000-01-01"),oM=function(t){function n(n,i,e,r){var s;if((s=t.call(this)||this).qi=void 0,s.n4=void 0,s.i4=void 0,s.Fq=void 0,s.e4=void 0,s.S3=void 0,s.A3=void 0,s.r4=void 0,s.s4=void 0,s.u4=void 0,s.o4=[],s.n4=i,s.Kh(n,e,r),n.vs===SO.AE){var u=s.B2();u&&u.D0&&u.D0.getTime()<uM.getTime()&&(s.u4=new Date(s.H0.getTime()-1e3*(u.U2.Vm+u.U2.Hg)),s.D3(r))}return s}E(n,t);var e=n.prototype;return e.i1=function(){var t;return null==(t=this.S3)?void 0:t.N3},e.d1=function(){var t;return null==(t=this.S3)?void 0:t.C3},e.Kh=function(t,n,e,r){var s;this.qi=t,this.i4=n,this.e4=null!=r?r:e,this.Fq=e;var u,o=[(u=n,i.Or(".",u))];this.A3=t.i0&&t.i0.length>0?DL(t.i0.map(function(t){return t.Kl}),o):o,this.r4=t.B0&&t.B0.length>0?DL(t.B0,this.A3):[];var a=this.r4.map(function(t){return t.href}),h=n.href;Ys(a,h)||(this.r4.push(n),a.push(h));var c=this.n4.href;Ys(a,c)||(this.r4.push(this.n4),a.push(c)),this.s4=null==(s=t.M0)?void 0:s.cJ();var f=t.vs===SO.AE,v=function(t,n,i){for(var e=[],r=0;r<t.length;r++){var s=t[r],u=void 0;if(s.IC)u=s.IC.cJ();else if(r>0&&t[r-1].Hg){var o=e[r-1],a=t[r-1].Hg.cJ();u=o+a}else{if(0!==r||n)break;u=0}e.push(u)}for(var h=[],c=0;c<e.length-1;c++)h.push({Hi:t[c],IC:e[c],Hg:e[c+1]-e[c]});if(e.length>0){var f=e.length-1,v=t[f],l=e[f],d=1/0;n||(d=v.Hg?v.Hg.cJ():i-l),h.push({Hi:v,IC:l,Hg:d})}return h}(t.j0,f,this.s4);this.a4(v),this.D3(e)},e.a4=function(t){var n=this.o4;if(0!==t.length){for(var i=t[0].Hi.xw,e=0;e<n.length&&n[e].xw!==i;)e++;for(var r=n.splice(0,e),s=0;s<r.length;s++){r[s].Ls()}for(var u=0;u<t.length;u++){var o=t[u];if(u<n.length){var a=n[u];0,a.Kh(o.Hi,o.Hg)}else n.push(new sM(this,o.Hi,o.IC,o.Hg))}}else Qs(n)},e.D3=function(t){for(var n=0,i=this.o4;n<i.length;n++){i[n].D3(t)}var e=this.S3,r=this.P3(t);e&&$L(e,r)||(this.S3=r,this.Qs(new VL))},e.P3=function(t){return{i2:t,N3:WL(this.o4),C3:YL(this.o4)}},e.B2=function(){if(0!==this.o4.length){var t=this.o4[this.o4.length-1];if(!isFinite(t.Hg)&&0!==t.I0.length){var n=t.I0[0];if(0!==n.p0.length){var i=n.p0[0].LJ,e=i.B2();if(e)return{U2:e,D0:i.o2(e)}}}}},e.Ls=function(){this.tu();for(var t=0,n=this.o4;t<n.length;t++){n[t].Ls()}},T(n,[{key:"Hi",get:function(){return this.qi}},{key:"vs",get:function(){return this.qi.vs||SO.bE}},{key:"P0",get:function(){return this.u4||this.qi.P0||this.H0}},{key:"D0",get:function(){return this.qi.D0}},{key:"M0",get:function(){return this.s4}},{key:"i0",get:function(){return this.A3}},{key:"B0",get:function(){return this.r4}},{key:"j0",get:function(){return this.o4}},{key:"H0",get:function(){return this.qi.H0||this.Fq}},{key:"xJ",get:function(){return this.qi.xJ}},{key:"h4",get:function(){return this.e4}},{key:"c4",get:function(){return this.Fq}}]),n}(Tu);var aM=function(){function t(t,n,i){this.f4=0,this.dE=t,this.v4=n,this.l4=i}var n=t.prototype;return n.gL=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(this.d4(t,this.dE,this.v4,this.l4).catch(fu));case 2:case"end":return n.stop()}},null,this,null,Ye)},n._4=function(){return new Date(Wt()+this.f4)},n.d4=function(t,n,i,e){var r,s,u;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!e){o.next=4;break}return o.next=3,Mr.awrap(this.w4(n,e,i));case 3:r=o.sent;case 4:if(void 0!==r){o.next=17;break}hu(i),s=0;case 7:if(!(s<t.length)){o.next=17;break}return u=t[s],o.next=11,Mr.awrap(this.g4(n,u,i));case 11:if(void 0===(r=o.sent)){o.next=14;break}return o.abrupt("break",17);case 14:s++,o.next=7;break;case 17:this.f4=void 0===r?0:r-Wt();case 18:case"end":return o.stop()}},null,this,null,Ye)},n.g4=function(t,n,i){var e,r,s,u;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=n.pJ,o.t0=e,o.next="urn:mpeg:dash:utc:http-xsdate:2012"===o.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===o.t0?4:"urn:mpeg:dash:utc:direct:2012"===o.t0?10:"urn:mpeg:dash:utc:direct:2014"===o.t0?10:16;break;case 4:if(!(r=n.Ai)){o.next=9;break}return o.next=8,Mr.awrap(this.w4(t,r,i));case 8:return o.abrupt("return",o.sent);case 9:return o.abrupt("break",17);case 10:if(!(s=n.Ai)){o.next=15;break}if(u=new Date(s).getTime(),m(u)){o.next=15;break}return o.abrupt("return",u);case 15:return o.abrupt("break",17);case 16:return o.abrupt("return");case 17:case"end":return o.stop()}},null,this,null,Ye)},n.w4=function(t,n,i){var e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Mr.awrap(t.$l({Kl:n,md:c_.GET,Wl:xf.Jn,qs:i}));case 3:return e=u.sent,u.next=6,Mr.awrap(e.Rl());case 6:if(r=u.sent,s=new Date(r).getTime(),m(s)){u.next=10;break}return u.abrupt("return",s);case 10:u.next=16;break;case 12:u.prev=12,u.t0=u.catch(0),cu(u.t0);case 16:case"end":return u.stop()}},null,null,[[0,12]],Ye)},t}(),hM=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).y4=void 0,s.o1=void 0,s.m4=void 0,s.b4=!0,s.o4=[],s.A4=void 0,s.T4=void 0,s.S4=void 0,s.dE=void 0,s.E4=void 0,s.A4=n,s.m4=n.Zw,s.T4=i,s.dE=e,s.y4=r,s.E4=new aM(s.dE,s.y4,s.A4.I4),s}E(n,t);var e=n.prototype;return e.R4=function(t){var n=this.gm;this.b4=t,n!==this.gm&&this.Qs(new iM)},e.Kh=function(t,n,e){var r,s,u,o,a,h,c,f,v,l,d,_,w;return Mr.async(function(g){for(;;)switch(g.prev=g.next){case 0:if(s=[],u=[],o=t.x0?i.Or(t.x0,this.m4):this.m4,void 0!==this.o1){g.next=10;break}return g.next=6,Mr.awrap(this.E4.gL(t.z0));case 6:this.o1=new oM(t,this.m4,o,this._4()),this.o1.Ks(kL.$0,this.$s),g.next=11;break;case 10:this.o1.Kh(t,o,this._4(),n);case 11:if(0===(a=this.o1.j0).length)h=this.o4.slice(),Qs(this.o4);else{for(c=a[0].xw,f=0;f<this.o4.length&&this.o4[f].xw!==c;)f++;for(h=this.o4.splice(0,f),v=0;v<a.length;v++)l=a[v],d=void 0,v<this.o4.length?d=this.o4[v]:(d=new tM(this,l),s.push(d)),u.push(d.Kh(this.T4,e))}return g.next=15,Mr.awrap(Ye.all(u));case 15:for((r=this.o4).push.apply(r,s),_=0,w=h;_<w.length;_++)w[_].F3();this.Qs(new nM);case 18:case"end":return g.stop()}},null,this,null,Ye)},e._4=function(){return this.E4._4()},e.W3=function(t){var n=this.o4.indexOf(t);if(n>0)return this.o4[n-1]},e.V3=function(t){var n=this.o4.indexOf(t);if(n>=0&&n+1<this.o4.length)return this.o4[n+1]},e.i1=function(){return this.o1?this.o1.i1():void 0},e.d1=function(){return this.o1&&this.o1.d1()},e.D3=function(t){this.o1&&this.o1.D3(t)},e.Ed=function(){this.tu(),this.S4=void 0,this.R4(!1);for(var t=0,n=this.o4;t<n.length;t++){n[t].Ed()}Qs(this.o4),this.o1&&this.o1.Ls()},T(n,[{key:"D0",get:function(){return this.o1&&this.o1.D0}},{key:"P0",get:function(){return this.o1&&this.o1.P0}},{key:"xw",get:function(){return this.o1&&this.o1.Hi.xw}},{key:"h4",get:function(){var t;return null==(t=this.o1)?void 0:t.h4}},{key:"N4",get:function(){var t;return null==(t=this.o1)?void 0:t.c4}},{key:"B0",get:function(){return this.o1?this.o1.B0.map(function(t){return t.href}):[this.C4]}},{key:"C4",get:function(){return this.m4.href}},{key:"O0",get:function(){return this.o1&&this.o1.Hi.O0}},{key:"L0",get:function(){return this.o1&&this.o1.Hi.L0}},{key:"M0",get:function(){return this.o1&&this.o1.Hi.M0}},{key:"F0",get:function(){return this.o1&&this.o1.Hi.F0}},{key:"U0",get:function(){var t,n,i=(null==(t=this.o1)?void 0:null==(n=t.Hi.U0)?void 0:n.fJ())||0;return w.max(i,fM)}},{key:"gm",get:function(){return this.b4}},{key:"j0",get:function(){return this.o4}},{key:"D4",get:function(){return this.vs===SO.AE?this.j1:this.P4}},{key:"B4",get:function(){var t=this.D4;if(void 0!==t)for(var n=0,i=this.j0;n<i.length;n++){var e=i[n];if(e.IC<=t&&e.NC>t)return e}}},{key:"QJ",get:function(){return this.o1&&this.o1.Hi.QJ}},{key:"H0",get:function(){return this.o1&&this.o1.H0}},{key:"G3",get:function(){for(var t=this.o4.length-1;t>=0;t-=1){var n=this.o4[t].G3;if(n)return n}}},{key:"j1",get:function(){var t=this.G3;if(void 0!==t){var n=t-this.x4;return w.max(n,this.P4)}}},{key:"P4",get:function(){for(var t=0,n=this.o4;t<n.length;t++){var i=n[t].n1;if(void 0!==i)return i}}},{key:"Ad",get:function(){return Boolean(this.A4.Ad)}},{key:"x4",get:function(){var t=this.o1&&this.o1.Hi.X0;return t?t.cJ():this.vs===SO.AE?this.O4:0}},{key:"O4",get:function(){return this.A4.O4?this.A4.O4:1.5*this.F0.cJ()}},{key:"xJ",get:function(){return this.o1&&this.o1.xJ}},{key:"vs",get:function(){return this.o1?this.o1.vs:void 0}}]),n}(Tu),cM=function(){function t(t,n,i,e){this.O3=void 0,this.O3=new hM(t,n,i,e)}return T(t,[{key:"v1",get:function(){return this.O3}}]),t}(),fM=1e3,vM=w.pow(2,31)-1,lM=function(){function t(t,n,i,e){var r=this;this.L4=void 0,this.o1=void 0,this.M4=void 0,this.F4=void 0,this.U4=void 0,this.j4=new uu,this.H4=function(t){var n,i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.o1.v1._4(),e.next=4,Mr.awrap(r.X4(r.o1.v1.B0,t));case 4:return i=e.sent,e.next=7,Mr.awrap(r.o1.v1.Kh(i,n,t));case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),ub(e.t0)&&r.o1.v1.R4(!1),e.t0;case 13:case"end":return e.stop()}},null,null,[[0,9]],Ye)},this.L4=e,this.o1=new cM(t,n,i,this.j4.qs)}var n=t.prototype;return n.p_=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.o1.v1.Qs(new pC),n.prev=1,n.next=4,Mr.awrap(CO(this.H4,t));case 4:this.o1.v1.R4(!0),n.next=13;break;case 7:throw n.prev=7,n.t0=n.catch(1),cu(n.t0),this.F4=void 0,this.o1.v1.R4(!1),new v("The provided MPEG-DASH document could not be loaded - "+n.t0.message);case 13:this.M4=this.z4(this.j4.qs);case 14:case"end":return n.stop()}},null,this,[[1,7]],Ye)},n.z4=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:if(this.o1.v1.vs!==SO.AE){n.next=6;break}return n.next=4,Mr.awrap(vu(this.V4,t));case 4:n.next=1;break;case 6:n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}},null,this,[[0,8]],Ye)},n.q4=function(t){var n,i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(hu(t),!((n=this.W4())>0)){e.next=6;break}return i=w.min(n,vM),e.next=6,Mr.awrap(mu(i,t));case 6:return e.prev=6,e.next=9,Mr.awrap(CO(this.H4,t,1/0,fM,3e4));case 9:this.o1.v1.R4(!0);case 10:return e.prev=10,this.U4=void 0,e.finish(10);case 13:case"end":return e.stop()}},null,this,[[6,,10,13]],Ye)},n.W4=function(){var t=this.o1.v1._4().getTime()-this.o1.v1.h4.getTime();return this.o1.v1.U0-t},n.G4=function(t){var n=this.o1.v1.d1();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.o1.v1.D3(t);var e=this.o1.v1.d1();return e?e.getTime()-t.getTime():NaN},n.Y4=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return this.U4||(this.U4=this.q4(t)),(n=new uu).zs(t),i.prev=3,i.next=6,Mr.awrap(Ye.race([this.U4,this.Q4(n.qs)].filter(H)));case 6:i.next=11;break;case 8:i.prev=8,i.t0=i.catch(3),fu(i.t0);case 11:return i.prev=11,n.Xs(),i.finish(11);case 14:case"end":return i.stop()}},null,this,[[3,8,11,14]],Ye)},n.Q4=function(t){var n=this.o1.v1._4(),i=this.G4(n);if(!m(i))return this.K4(i,t)},n.K4=function(t,n){var i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mr.awrap(mu(t,n));case 2:i=this.o1.v1._4(),this.o1.v1.D3(i);case 4:case"end":return e.stop()}},null,this,null,Ye)},n.X4=function(t,n){var i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Mr.awrap(this.L4.Z4(t,{},n,!1));case 2:return i=r.sent,e=new yL,r.abrupt("return",e.V0(i.J4,i.Ql));case 5:case"end":return r.stop()}},null,this,null,Ye)},n.Ed=function(){return this.j4.Xs(),this.M4=void 0,this.F4=void 0,this.U4=void 0,this.o1.v1.Ed(),Ye.resolve()},T(t,[{key:"t5",get:function(){return this.o1}},{key:"n5",get:function(){return this.F4||(this.F4=this.p_(this.j4.qs),gu(this.F4)),this.F4}},{key:"V4",get:function(){return this.o1.v1.N4&&this.o1.v1.vs===SO.AE?this.Y4(this.j4.qs):this.n5}}]),t}(),dM=function(t){function n(n,i){var e;return(e=t.call(this,"e5")||this).i5=n,e.r5=i,e}return E(n,t),n}(Eu),_M=function(t){function n(n,i){var e;(e=t.call(this)||this).s5=void 0,e.ww=void 0,e.zi=void 0,e.zi=n,e.ww=i;for(var r=0,s=e.ww;r<s.length;r++){s[r].c0=nn(e)}return e}E(n,t);var i=n.prototype;return i.hE=function(t){t&&this.s5!==t&&this.u5(t)},i.cE=function(t){this.s5===t&&this.u5(void 0)},i.u5=function(t){this.s5=t,this.Qs(new dM(this,this.s5))},i.Ed=function(){this.tu();for(var t=0,n=this.ww;t<n.length;t++){n[t].c0=void 0}Qs(this.ww)},T(n,[{key:"r5",get:function(){return this.s5}},{key:"vs",get:function(){return this.zi}},{key:"VA",get:function(){return this.ww.slice()}}]),n}(Tu),wM=function(t){function n(n,i){var e;return(e=t.call(this,og.dw)||this).Uw=void 0,e.V_=void 0,e.Uw=n||[],e.V_=i,e}return E(n,t),n.prototype.z_=function(){return new gM(this.Uw.map(function(t){return t.X_}))},n}(sg),gM=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).quality=void 0,i.qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return E(n,t),n}(Eu),yM=function(t){function n(n){var i;return(i=t.call(this,og.QUALITY_UNAVAILABLE)||this).quality=n,i}return E(n,t),n.prototype.z_=function(){return new mM(this.quality.X_)},n}(ag),mM=function(t){function n(n){var i;return(i=t.call(this,"qualityunavailable")||this).quality=n,i}return E(n,t),n}(hg),pM=function(t){function n(){return t.call(this,og.NO_QUALITY)||this}return E(n,t),n}(Eu);function kM(t){return{PR:t.PR,rr:t.VH,uT:bM(t)?t.uT:0,vs:bM(t)?gm.wd:gm._d,yp:bM(t)?t.yp:0}}function bM(t){var n=t;return void 0!==n.uT&&void 0!==n.yp}var AM,TM,SM=0,EM=function(t){function n(n,i,e,r){var s;void 0===r&&(r="alternative"),(s=t.call(this)||this).o5=void 0,s.u1=void 0,s.a5=void 0,s.Dm=!1,s.H_=void 0,s.h5=void 0,s.Oh="",s.Cm=void 0,s.zV=void 0,s.Nm=void 0,s.va=void 0,s.c5=!1,s.Sm=new mm,s.f5=void 0,s.v5=void 0,s.l5=void 0,s.d5=function(){return s.Qs(new pm(nn(s)))},s.u1=n,s.a5=i,s.Oh=String(SM++),s.Cm=Am(),s.zV=r,s.va=n.uQ,s.Nm=n.Mw,s.l5=n.vs;for(var u=0;u<e.length;u++){var o=e[u];o.Ks("update",s.d5),s.Uw.Em(o)}return s}E(n,t);var e=n.prototype;return e._5=function(t){if(this.Sm.Im(t)){t.cE();var n=this.w5();if(this.f5&&Ys(this.f5,t)){var i=this.f5.filter(function(t){return t.aZ});0===i.length&&n.length>0?this.jw=n:this.jw=i}else this.jw=n;this.Qs(new yM(t))}},e.w5=function(){for(var t=[],n=0,i=this.Sm.Aw;n<i.length;n++){var e=i[n];e.aZ&&t.push(e)}return t},e.g5=function(t){this.o5=t.C1,this.Qs(t)},e.y5=function(t){if(t&&0!==t.length){for(var n=[],i=0,e=this.p0;i<e.length;i++)for(var r=e[i],s=0;s<t.length;s++){var u=t[s];u===r.C1&&u.aZ&&n.push(r)}return n}},e.Bm=function(t){this.Dm=t,this.h5&&(t?this.h5.hE(this):this.h5.cE(this))},e.m5=function(t){this.Dm=t,this.c5!==t&&(this.c5=t,this.Qs(new _g(this)))},e.Ed=function(){for(var t=0,n=this.Sm.Aw;t<n.length;t++){n[t].nu("update",this.d5)}this.Sm.bw()},T(n,[{key:"Pw",get:function(){return this.o5}},{key:"T1",get:function(){return this.u1}},{key:"p5",get:function(){return this.a5}},{key:"Bw",get:function(){return this.Dm},set:function(t){this.Bm(t)}},{key:"X_",get:function(){return this.H_||(this.H_=Og(this)),this.H_}},{key:"c0",get:function(){return this.h5},set:function(t){this.h5=t}},{key:"xw",get:function(){return this.Oh}},{key:"Ow",get:function(){return this.Cm}},{key:"Lw",get:function(){return this.zV}},{key:"Fw",get:function(){return this.va}},{key:"Mw",get:function(){return this.Nm},set:function(t){t!==this.Nm&&(this.Nm=t,this.Qs(new pm(this)))}},{key:"Ww",get:function(){return this.Bw?"enabled":"disabled"}},{key:"jw",get:function(){return this.f5},set:function(t){var n=this,e=[];if(t){var r=(null!=t?t:[]).filter(function(t){var e=n.Pw?kM(n.Pw):void 0;return i.Fr.Me(e,kM(t))});if(0===r.length)return;e=r.filter(function(t){return t.aZ})}else e=this.w5();0===e.length&&this.Qs(new pM),this.f5=t&&this.Sm.Im(t)?t:void 0,this.v5=this.y5(this.f5),this.Qs(new wM(t,this))}},{key:"k5",get:function(){return this.v5}},{key:"Uw",get:function(){return this.Sm}},{key:"p0",get:function(){return this.T1&&this.T1.p0}},{key:"b5",get:function(){return this.l5}}]),n}(Tu);!function(t){t[t.fP=0]="fP",t[t.A5=1]="A5",t[t.T5=10]="T5",t[t.S5=11]="S5",t[t.E5=12]="E5",t[t.I5=13]="I5",t[t.R5=14]="R5",t[t.N5=15]="N5",t[t.C5=20]="C5",t[t.D5=21]="D5",t[t.P5=22]="P5",t[t.B5=23]="B5",t[t.x5=24]="x5",t[t.O5=30]="O5",t[t.L5=31]="L5",t[t.M5=32]="M5",t[t.F5=33]="F5",t[t.U5=34]="U5",t[t.j5=35]="j5",t[t.H5=40]="H5",t[t.X5=41]="X5",t[t.z5=42]="z5",t[t.V5=43]="V5",t[t.q5=44]="q5",t[t.W5=50]="W5",t[t.G5=51]="G5",t[t.Y5=60]="Y5",t[t.Q5=61]="Q5",t[t.K5=62]="K5",t[t.Z5=63]="Z5",t[t.J5=70]="J5",t[t.t6=71]="t6",t[t.n6=72]="n6",t[t.i6=73]="i6",t[t.e6=74]="e6",t[t.r6=75]="r6",t[t.s6=76]="s6",t[t.u6=77]="u6",t[t.o6=90]="o6",t[t.a6=91]="a6"}(TM||(TM={}));(AM={})[TM.fP]="Failed because",AM[TM.A5]="Created",AM[TM.T5]="Starting because unknown reason",AM[TM.S5]="Starting because new track loading",AM[TM.E5]="Starting because manifest changed",AM[TM.I5]="Starting because seek",AM[TM.R5]="Starting because timeupdate",AM[TM.N5]="Starting because buffering is being resumed",AM[TM.C5]="Interrupting because unknown reason",AM[TM.D5]="Interrupting because segment has a gap",AM[TM.P5]="Interrupting because segment is missing",AM[TM.B5]="Interrupting because seeking",AM[TM.x5]="Interrupting because buffer is full",AM[TM.O5]="Pausing because unknown reason",AM[TM.L5]="Pausing because target buffer reached",AM[TM.M5]="Pausing because no target time",AM[TM.F5]="Pausing because no segment selected",AM[TM.U5]="Pausing because end of stream is reached",AM[TM.j5]="Pausing because initialization segment is missing",AM[TM.H5]="Stopping because unknown reason",AM[TM.X5]="Stopping because manifest went offline",AM[TM.z5]="Stopping because seeking",AM[TM.V5]="Stopping because buffering is being paused",AM[TM.q5]="Stopping because unload",AM[TM.W5]="Resetting because unknown reason",AM[TM.G5]="Resetting because player was reset",AM[TM.Z5]="Marking gap at",AM[TM.Y5]="Target time is",AM[TM.J5]="[Selection 1] Select nothing if the target time has already been appended.",AM[TM.t6]="[Selection 2] Select nothing if the time-based lookup failed.",AM[TM.n6]="[Selection 3] If the segment has not been appended, select time-based lookup.",AM[TM.i6]="[Selection 4A] Select the first unappended segment that occurs before the segment.",AM[TM.e6]="[Selection 4B] Notify gap if no previous segment is available.",AM[TM.r6]="[Selection 5A] Select the first unappended segment that occurs after the segment.",AM[TM.s6]="[Selection 5B] Select nothing if no next segment is available.",AM[TM.u6]="[Selection 6] Unreachable",AM[TM.Q5]="Selected segment is",AM[TM.K5]="Appended segment is",AM[TM.o6]="Test setup",AM[TM.a6]="Test";var IM,RM,NM=function(t){function n(n,i,e){var r;return(r=t.call(this,Bf.pu)||this).currentTime=n,r.initDataType=i,r.initData=e,r}return E(n,t),n}(Eu);function CM(t,n,i,e,r){for(var s=[],u=[],o=0;o<n.length;o++){var a=n[o];a.vs===gm._d?s=s.concat(a.VA):a.vs===gm.wd&&(u=u.concat(a.VA))}return[DM(t,s,i,e,null==r?void 0:r.preferredAudioCodecs),PM(t,u,i,e,null==r?void 0:r.preferredVideoCodecs)].filter(H)}function DM(t,n,i,e,r){var s,u=zs(e||[],function(t){return t.b5===gm._d&&t.Bw});return BM(n,[xM(u,i,t),(s=u,function(t){var n=s?s.Fw:"",i=t.some(function(t){return""!==t.Fw})?t.filter(function(t){return""!==t.Fw}):t;if(""===n)return i;var e=zs(i,function(t){return t.Fw===n});return e?[e]:i}),OM(u,r),LM()])}function PM(t,n,i,e,r){var s=zs(e||[],function(t){return t.b5===gm.wd&&t.Bw});return BM(n,[xM(s,i,t),OM(s,r),LM()])}function BM(t,n){if(0!==t.length){for(var i=t,e=0;e<n.length;e++){var r=n[e];if(1===i.length)return i[0];i=r(i)}return i[0]}}function xM(t,n,i){return function(e){var r=t?t.T1.xw:void 0;if(!H(r))return e;var s=null==n?void 0:n.R0,u=i.R0,o=s&&u&&s.Ai===u.Ai,a=zs(e,function(t){return t.T1.xw===r});return o&&a?[a]:e}}function OM(t,n){return function(i){if(void 0===t&&n&&n.length>0)for(var e=function(t){var e=n[t],r=i.filter(function(t){return t.Uw.Aw.some(function(t){return fD(t.VH,e)})});if(r.length>0)return{v:r}},r=0;r<n.length;r++){var s=e(r);if("object"==typeof s)return s.v}return i}}function LM(){return function(t){for(var n=[],i=-1/0,e=0;e<t.length;e++){var r=t[e],s=r.T1.QN;s>i?(i=s,n=[r]):s===i&&n.push(r)}return n}}!function(t){t.h6="api",t.c6="start"}(IM||(IM={})),function(t){t.f6="v6"}(RM||(RM={}));var MM=function(t){function n(n){var i;return(i=t.call(this,Bf.Tf)||this).error=n,i}return E(n,t),n}(Eu);function FM(t,n){return function(t,n){var i=t.yp&&n.yp,e=t.uT&&n.uT;return i||e?i&&e?t.yp*t.uT-n.yp*n.uT:i?t.yp-n.yp:e?t.uT-n.uT:(t.yp||1)*(t.uT||1)-(n.yp||1)*(n.uT||1):0}(t,n)||function(t,n){return t.PR-n.PR}(t,n)}var UM=function(){function t(t,n,i,e,r){this.l6=void 0,this.d6=void 0,this.wr=void 0,this._6=void 0,this.w6=void 0,this.d6=t,this.l6=n,this.wr=i,this._6=e,this.w6=r}var n=t.prototype;return n.g6=function(n,i,e,r){var s=t.sortByQuality(n);if(void 0!==this._6&&void 0===i&&n.length>1){var u=t.y6(s,this._6);u&&(s=u)}var o=this.m6(s,i,e,r);return o.length?o[o.length-1]:s[0]},n.m6=function(n,i,e,r){for(var s,u=t.sortByQuality(n),o={p6:void 0===r||this.l6.k6?this.l6.p6:r,Wg:(s=e,void 0!==s.Wg&&e.Wg?e.Wg:1),b6:e.yp,A6:e.uT},a=u,h=0,c=this.d6;h<c.length;h++){a=(0,c[h])(a,i,o,this.wr,this.w6)}return a},t.T6=function(n){return t.sortByQuality(n)[0]},t.S6=function(n,i){var e;return i?t.T6(null!=(e=t.y6(n,i))?e:n):t.T6(n)},t.y6=function(t,n){for(var i=function(i){var e=n[i],r=t.filter(function(t){return fD(t.rr,e)});if(r.length>0)return{v:r}},e=0;e<n.length;e++){var r=i(e);if("object"==typeof r)return r.v}},t.sortByQuality=function(t){var n=[].concat(t);return n.sort(FM),n},t}(),jM=3,HM=function(){function t(t,n,i){void 0===i&&(i=jM),this.dE=t,this.E6=n,this.I6=i}var n=t.prototype;return n.R6=function(t,n,i){return this.N6(t,n,!0,i)},n.C6=function(t,n,i){return this.N6(t,n,!1,i)},n.N6=function(t,n,i,e){var r,s,u,o,a,h,c,f;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:s=100,u=0;case 2:if(!(u<this.I6)){i.next=31;break}if(!(u>0)){i.next=7;break}return i.next=6,Mr.awrap(mu(s,e));case 6:s<1e4&&(s=w.min(2*s,1e4));case 7:o=0;case 8:if(!(o<t.length)){i.next=28;break}return a=t[o],i.prev=10,h=new __({Kl:a,Wl:xf.Jn,ql:n,Ad:this.E6,md:c_.GET,vs:f_.td,kd:v_.Jl,qs:e}),i.next=14,Mr.awrap(this.dE.$l(h));case 14:return c=i.sent,i.next=17,Mr.awrap(c.Rl(e));case 17:return f=i.sent,i.abrupt("return",{J4:f,D6:a,Ql:c.Ql});case 22:i.prev=22,i.t0=i.catch(10),r=i.t0;case 25:o++,i.next=8;break;case 28:u++,i.next=2;break;case 31:throw r;case 32:case"end":return i.stop()}},null,this,[[10,22]],Ye)},t}(),XM=function(){function t(t){this.P6=void 0,this.P6=t}return t.prototype.Z4=function(t,n,i,e){var r,s,u,o;return Mr.async(function(a){for(;;)switch(a.prev=a.next){case 0:void 0===e&&(e=!1),s=0,u=this.P6;case 2:if(!(s<u.length)){a.next=17;break}return o=u[s],a.prev=4,a.next=7,Mr.awrap(o.Z4(t,n,i,e));case 7:return a.abrupt("return",a.sent);case 10:a.prev=10,a.t0=a.catch(4),cu(a.t0),r=a.t0;case 14:s++,a.next=2;break;case 17:throw r;case 18:case"end":return a.stop()}},null,this,[[4,10]],Ye)},t}(),zM=function(){function t(t){this.B6=t}return t.prototype.Z4=function(t,n,i,e){var r;return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(this.B6.SZ(t));case 2:if(!(r=n.sent)){n.next=7;break}return n.abrupt("return",{J4:r.data,D6:r.locationURL,Ql:r.responseURL});case 7:throw new v("Manifest fetch from cache unsuccesful");case 8:case"end":return n.stop()}},null,this,null,Ye)},t}(),VM=function(){function t(t){this.x6=t}return t.prototype.Z4=function(t,n,i,e){return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===e&&(e=!1),!e){r.next=7;break}return r.next=4,Mr.awrap(this.x6.R6(t,n,i));case 4:return r.abrupt("return",r.sent);case 7:return r.next=9,Mr.awrap(this.x6.C6(t,n,i));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,Ye)},t}();function qM(t,n){return new XM([new zM(n),new VM(t)])}var WM=function(){function t(t,n,i){this.L4=t,this.O6=n,this.L6=i}var n=t.prototype;return n.Z4=function(t,n,i,e){var r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return void 0===e&&(e=!1),s.next=3,Mr.awrap(this.L4.Z4(t,n,i,e));case 3:return r=s.sent,s.next=6,Mr.awrap(this.M6(r));case 6:return s.abrupt("return",r);case 7:case"end":return s.stop()}},null,this,null,Ye)},n.M6=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(this.O6.CZ({key:fO(t.D6),locationURL:m_(t.D6),responseURL:m_(t.Ql),data:t.J4,references:[this.L6.xw]}));case 2:case"end":return n.stop()}},null,this,null,Ye)},t}(),GM=function(t){function n(){return t.call(this,Bf.Ef)||this}return E(n,t),n}(Eu),YM=function(t){function n(){return t.call(this,Bf.Sf)||this}return E(n,t),n}(Eu),$M=function(t){function n(){return t.call(this)||this}E(n,t);var i=n.prototype;return i.F6=function(t){return t.$w=Pm.LOADED,this.yw(t),t},i.U6=function(t){for(var n=0,i=this.VA.Aw;n<i.length;n++){var e=i[n];if(e.qw===t)return e}},n}(pb);function QM(t,n){return""===n?t:t+" "+n}var KM=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,!1,null==s?void 0:s.toString())||this).Ui=void 0,u.j6=void 0,u.Ui=r,u.j6=s,u}return E(n,t),n.prototype.hp=function(n){return this===n||Ag(this,n)&&t.prototype.hp.call(this,n)&&this.Wm===n.Wm},T(n,[{key:"X_",get:function(){var t;return this.H_||(this.H_=pg(qm(t=this),{get attributes(){return t.Ui},get eventID(){var n;return""+(null!=(n=t.j6)?n:"")}})),this.H_}}]),n}(Zm),ZM=function(t){function n(n){var i;return(i=t.call(this)||this).lE=void 0,i.J3=void 0,i.H6=function(){var t,n,e=null!=(t=null==(n=i.J3.i1())?void 0:n.IC)?t:0;if(e>0)for(var r=0,s=i.VA.Aw;r<s.length;r++){mb(s[r],e)}for(var u=0,o=i.J3.j0;u<o.length;u++){var a=o[u];if(a.NC>e)for(var h=0,c=a.N0;h<c.length;h++){var f=c[h];i.X6(f,a,e)}}},i.lE=n,i}E(n,t);var i=n.prototype;return i.z6=function(t){var n=this.lE.gE(Jk.Zb,"","","",void 0,Bm.EVENT_STREAM);return n.qw=t,this.F6(n),n},i.X6=function(t,n,i){var e,r,s,u=t.pJ,o=null!=(e=t.Ai)?e:"",a=null!=(r=t.yk)?r:1,h=null!=(s=t.PJ)?s:lt.ZERO,c=QM(u,o),f=this.U6(c);f||(f=this.z6(c));for(var v=0,l=t.$B;v<l.length;v++){var d=l[v];if(!JM(d,f)){var _=tF(d,a,h,n);_.qm>i&&f.mE(_)}}},i.$h=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(this.bw());case 2:this.J3=t,this.J3.Ks(Bf.Af,this.H6),this.H6();case 5:case"end":return n.stop()}},null,this,null,Ye)},i.bw=function(){var n,i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this.J3&&(this.J3.nu(Bf.Af,this.H6),this.J3=void 0),n=0,i=this.VA.Aw;n<i.length;n++)e=i[n],this.lE.pE(e);return r.next=4,Mr.awrap(t.prototype.bw.call(this));case 4:case"end":return r.stop()}},null,this,null,Ye)},n}($M);function JM(t,n){var i=t.xw;if(void 0!==i&&zs(n.Qw.Aw,function(n){return n.j6===i&&n.Wm===t.Hi}))return!0;return!1}function tF(t,n,i,e){var r=t.xw,s=t.ES.toSigned().subtract(i),u=t.Hg,o=t.Hi,a=t.Ui,h=s.toNumber()/n+e.IC,c=u?u.toNumber()/n:void 0,f=void 0!==c?h+c:e.Y3;return new KM(h,f,o,a,r)}function nF(t,n,i,e){var r=[],s=zs(i,function(t){return t.pJ===Kr});if(void 0!==s){var u=s.Ai?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.Ai.toLowerCase()):"cenc";if(void 0!==u){for(var o=0;o<i.length;o++){var a=i[o];if(a.pJ!==Kr)for(var h=0,c=ys(a.pJ);h<c.length;h++){var f=c[h];r.push({rc:f,FR:a.mJ?[a.mJ]:[],ZI:void 0})}}if(r.length)return{HE:t,V6:{q6:u,XE:s.XE},W6:r,G6:n===gm._d?e.slice():[],Y6:n===gm.wd?e.slice():[],MW:!1}}}}function iF(t,n){var i;if(!t)return n;if(!n)return t;var e=[],r=jr();return eF(e,r,t.W6),eF(e,r,n.W6),{HE:t.HE,V6:{q6:t.V6.q6,XE:null!=(i=t.V6.XE)?i:n.V6.XE},W6:e,G6:rF(t.G6,n.G6,Ys),Y6:rF(t.Y6,n.Y6,Ys),MW:t.MW||n.MW||!1}}function eF(t,n,i){for(var e=0;e<i.length;e++){var r=i[e],s=r.rc.gs,u=void 0;n.has(s)?(u=n.get(s)).FR=rF(u.FR,r.FR,sF):(u=Fr({},r),t.push(u),n.set(s,u))}}function rF(t,n,i){for(var e=t.slice(),r=0;r<n.length;r++){var s=n[r];i(e,s)||e.push(s)}return e}function sF(t,n){for(var i=0;i<t.length;i++){if(Wu(t[i],n))return!0}return!1}function uF(t,n){var i,e=t.qJ;if(e){for(var r=t.YB,s=[],u=0,o=t.VH;u<o.length;u++){var a=o[u];s.push(r+'; codecs="'+a+'"')}i=nF(n||{},t.vs,e,s)}for(var h=0,c=t.p0;h<c.length;h++){i=iF(i,oF(c[h],n))}return i}function oF(t,n){return nF(n||{},t.vs,t.qJ||[],[t.Pl])}function aF(t,n){switch(n.vs){case Qr.rs:return t.widevine;case Qr.ns:return t.playready;case Qr.hs:return t.fairplay;case Qr.us:return t.clearkey}}function hF(t,n,i){if(0!==t.length)return t.map(function(t){return{contentType:t,encryptionScheme:n,robustness:i}})}var cF=function(t){function n(n){var i;(i=t.call(this)||this).lE=void 0,i.O1=[],i.Q6=void 0,i.J3=void 0,i.Kh=function(){for(var t=[],n=0,e=i.J3.j0;n<e.length;n++)for(var r=0,s=e[n].I0;r<s.length;r++){var u=s[r];if(u.vs===gm.yd&&u.p0.length>0){var o=u.p0[0];t.push(o),i.K6(o)||i.z6(o),-1===i.O1.indexOf(o)&&(i.O1.push(o),o.Ks(kL.$0,i.Q6)),i.Z6(o)}}i.J6(t)},i.Z6=function(t){var n=i.t8(t);n&&t&&n.Ww!==Fg.Hw&&(i.n8(),function(t,n){var i=t.LJ,e=t.l1();if(!e)return;var r=e.e2,s=e.u2,u=t.yp,o=t.uT,a=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(As(i.pJ,vF)||As(i.pJ,lF)){var e=i.Ai.match(fF);if(e){var r=e[1],s=e[2];return[Number(r),Number(s)]}}}return[1,1]}(t.WJ),h=a[0],c=a[1],f=r;for(;f&&f.TJ<=s.TJ;){for(var v=t.D1.Hg||f.Hg,l=t.c1(f).Kl,d=dF(n,f,l,u,o,h,c,v),_=0;_<d.length;_++){var w=d[_];n.mE(w)}f=i.a2(f)}}(t,n))},i.lE=n;var e=nn(i);return i.Q6=function(){e.Z6(this)},i}E(n,t);var i=n.prototype;return i.z6=function(t){var n=this.lE.gE(Jk.Zb,t.xw,"thumbnails","",!1,Bm.DEFAULT);return n.Ww=Fg.zw,this.F6(n),n},i.$h=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(this.bw());case 2:this.J3=t,this.J3.Ks(Bf.Af,this.Kh),this.Kh();case 5:case"end":return n.stop()}},null,this,null,Ye)},i.J6=function(t){this.i8(t),this.e8()},i.e8=function(){for(var t=[],n=0,i=this.VA.Aw;n<i.length;n++){var e=i[n];this.r8(e)||t.push(e)}for(var r=0;r<t.length;r++){var s=t[r];this.mw(s)}},i.i8=function(t){for(var n=[],i=0,e=this.O1;i<e.length;i++){var r=e[i];-1===t.indexOf(r)&&n.push(r)}for(var s=0;s<n.length;s++){var u=n[s];Ws(this.O1,u)}},i.bw=function(){var n,i,e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:for(this.J3&&(this.J3.nu(Bf.Af,this.Kh),this.J3=void 0),n=0,i=this.O1;n<i.length;n++)i[n].nu(kL.$0,this.Q6);for(this.O1.length=0,e=0,r=this.VA.Aw;e<r.length;e++)s=r[e],this.lE.pE(s);return u.next=6,Mr.awrap(t.prototype.bw.call(this));case 6:case"end":return u.stop()}},null,this,null,Ye)},i.Ed=function(){return this.Q6=void 0,t.prototype.Ed.call(this)},i.n8=function(){var t,n,i=null!=(t=null==(n=this.J3.i1())?void 0:n.IC)?t:0;if(i>0)for(var e=0,r=this.VA.Aw;e<r.length;e++){mb(r[e],i)}},i.K6=function(t){return this.VA.Aw.some(function(n){return n.xw===t.xw})},i.t8=function(t){return zs(this.VA.Aw,function(n){return n.xw===t.xw})},i.r8=function(t){return this.O1.some(function(n){return t.xw===n.xw})},n}($M),fF=/^(\d+)x(\d+)$/,vF="http://dashif.org/guidelines/thumbnail_tile",lF="http://dashif.org/thumbnail_tile";function dF(t,n,i,e,r,s,u,o){var a=[],h=n.Vm,c=s*u,f=e/s,v=r/u,l=w.round(f),d=w.round(v),_=o/c;if(1===c){var g=h+_;return _F(t,h,g,i)?a:[new Zm(h,g,i,!1)]}for(var y=0;y<u;y++)for(var m=0;m<s;m++){var p=h+(y*s+m)*_,k=p+_,b=i+"#xywh="+w.round(m*f)+","+w.round(y*v)+","+l+","+d;if(_F(t,p,k,b)||a.push(new Zm(p,k,b,!1)),k>=n.qm)return a}return a}function _F(t,n,i,e){return t.Qw.Aw.some(function(t){return t.Vm===n&&t.qm===i&&t.Wm===e})}var wF=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,u,!1)||this).s8=void 0,o.pe=void 0,o.u8=void 0,o.s8=e,o.pe=r,o.u8=s,o}return E(n,t),n.prototype.hp=function(n){return this===n||Ag(this,n)&&t.prototype.hp.call(this,n)&&bg(this.Wm,n.Wm)},T(n,[{key:"SS",get:function(){return this.s8}},{key:"Ai",get:function(){return this.pe}},{key:"o8",get:function(){return this.u8}},{key:"X_",get:function(){var t;return this.H_||(this.H_=pg(qm(t=this),{get schemeIDURI(){return t.SS},get value(){return t.Ai},get emsgID(){return t.o8}})),this.H_}}]),n}(Zm),gF=function(t){function n(n){var i;return(i=t.call(this)||this).lE=void 0,i.lE=n,i}E(n,t);var i=n.prototype;return i.a8=function(t,i,e){var r=Rk.NA(Yo(t));if(r){var s=function(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];pk(r,n)&&i.push(r)}return i}(r,Pp.Vb);if(s.length){var u=n.h8(r,i,e);this.c8(s,u,e)}}},i.c8=function(t,n,i){for(var e=0;e<t.length;e++){var r=t[e],s=void 0,u=(s=1===r.IA?r.ES.toNumber()/r.yk+i:n+r.NS/r.yk)+r.IS/r.yk;"https://aomedia.org/emsg/ID3"===r.SS?this.f8(r,s):this.v8(r,s,u)}},i.v8=function(t,n,i){var e=QM(t.SS,t.Ai),r=this.U6(e);r||(r=this.l8(e),this.F6(r)),r.mE(new wF(n,i,t.SS,t.Ai,t.xw,t.RS))},i.f8=function(t,n){var i=KP(Yo(t.RS));if(i){var e=QM(t.SS,t.Ai),r=this.U6(e);r||(r=this.d8(e),this.F6(r));for(var s=0,u=i.yq;s<u.length;s++){var o=u[s],a=new hB(n,o);bP(a,r.Qw.Aw),r.mE(a)}}},n.h8=function(t,n,i){var e=kk(t,Pp.qb);return e?Zt(e.XS,e.yk)+i:n},i.l8=function(t){var n=this.lE.gE(Jk.Zb,"","","",void 0,Bm.EMSG);return n.qw=t,n.Ww=Fg.Xw,n},i.d8=function(t){var n=this.lE.gE(Jk.Zb,"","","",void 0,Bm.ID3);return n.qw=t,n.Ww=Fg.Xw,n},i.bw=function(){var n,i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(n=0,i=this.VA.Aw;n<i.length;n++)e=i[n],this.lE.pE(e);return r.next=3,Mr.awrap(t.prototype.bw.call(this));case 3:case"end":return r.stop()}},null,this,null,Ye)},n}($M),yF=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).J3=void 0,n.H6=function(){var t,i,e=null!=(t=null==(i=n.J3.i1())?void 0:i.IC)?t:0;n.vE(e)},n}E(n,t);var i=n.prototype;return i.$h=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(this.bw());case 2:this.J3=t,this.J3.Ks(Bf.Af,this.H6),this.H6();case 5:case"end":return n.stop()}},null,this,null,Ye)},i.bw=function(){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.J3&&(this.J3.nu(Bf.Af,this.H6),this.J3=void 0),n.next=3,Mr.awrap(t.prototype.bw.call(this));case 3:case"end":return n.stop()}},null,this,null,Ye)},n}(gF);var mF=function(){function t(t){this.B6=void 0,this._8=!1,this.B6=t}var n=t.prototype;return n.IZ=function(t,n){return this._8?this.B6.IZ(t,n):Ye.resolve(!1)},n.RZ=function(t,n){return this._8?this.B6.RZ(t,n):Ye.resolve(void 0)},n.SZ=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Mr.awrap(this.B6.SZ(t));case 2:return n=i.sent,this._8=void 0!==n,i.abrupt("return",n);case 5:case"end":return i.stop()}},null,this,null,Ye)},n.HM=function(t){return this.B6.HM(t)},t}(),pF=[Bf.Nf,Bf.Df,Bf.Of,Bf.Tf,Bf.Lf],kF=[Bf.Cf,Bf.Pf,Bf.Xf];var bF=function(t){function e(i,e,r,s,u){var o;return(o=t.call(this)||this).dE=void 0,o.ED=void 0,o.B6=void 0,o.ZR=void 0,o.w8=void 0,o.eN=void 0,o.g8=void 0,o.y8=void 0,o.m8=!1,o.p8=NaN,o.tN=void 0,o.nN=void 0,o._G=!1,o.k8=void 0,o.nG=void 0,o.b8=!1,o.A8=!1,o._E=new uu,o.T8=new ea,o.S8=!1,o.o1=void 0,o.E8=void 0,o.b4=!0,o.I8=!0,o.R8=void 0,o.aG=WS.vD(),o.iN=FS.dC,o.N8=void 0,o.SE=!0,o.C8=void 0,o.D8=void 0,o.P8=void 0,o.kD=!1,o.pC=!0,o.aN=new RS,o.B8=new uu,o.x8=Ye.resolve(),o.uG=new uu,o.sG=Ye.resolve(),o.O8=!1,o.L8=new uu,o.M8=Ye.resolve(),o.F8=void 0,o.U8=void 0,o.Ty=void 0,o.Sy=void 0,o.Ey=void 0,o.j8=void 0,o.H8=void 0,o.lE=void 0,o.X8=void 0,o.z8=void 0,o.V8=void 0,o.q8=0,o.W8=0,o.G8=0,o.oN=new bS,o.Y8=function(){o.B8.Xs(),o.uG.Xs(),o.L8.Xs(),o.L8=new uu,o.M8=o.Q8(o.x8,o.sG,o.M8,o.L8.qs).catch(o.K8)},o.fN=function(){o.Qs(new By(o.jg,o.im))},o.BW=function(t){o.Qs(new NM(o.jg,t.ds,t.Su))},o.Z8=function(t){o.q8+=t._m,o.Qs(t)},o.J8=function(t){var n=t.segments.filter(function(t){return t.t9});t.track===gm._d?o.W8=n.length:t.track===gm.wd&&(o.G8=n.length)},o.UG=function(){var t=o.Hg;m(t)||t===o.p8||(o.p8=t,o.Qs(new Dy(o.p8)))},o.n9=function(){o.i9()},o.zG=function(t){o.Xg&&o.Qs(t)},o.e9=function(t){o.$s(t),o.A8||(o.A8=!0,o.w8.r9())},o.s9=function(){o.o1.v1.nu(Bf.bf,o.s9),o.Qs(new pC)},o.u9=function(t){o.cN(t.errorObject),o.Qs(t)},o.o9=function(t){o.cN(t.errorObject)},o.K8=function(t){au(t)||o.cN(new lf(n.ErrorCode.MEDIA_DECODE_ERROR,t.message,t))},o.a9=function(){if(o.h9&&!o.qg){var t=o.o1.v1.D4;0,o.Lu(t)}},o.c9=function(t){o.b8=o.Gg,o.Qs(t)},o.f9=function(t){var n=o.b8,i=o.Gg;o.b8=i,n&&!i&&o.Qs(t)},o.v9=function(t){var n=t.V_;n.Ww===Fg.zw?(o.l9(n),o.U8=n):n===o.U8&&n.Ww===Fg.Hw&&(o.U8=void 0,o.d9())},o._9=function(){o._G||o.R8&&(o.R8.Wu(),o.R8=void 0)},o.w9=function(t){o._G||o.R8&&(o.R8.Gu(t),o.R8=void 0)},o.g9=function(){var t,n,i=o.o1.v1.gm;(o.R4(i),i)?o.Y8():(null==(t=o.g8)||t.y9(TM.X5),null==(n=o.y8)||n.y9(TM.X5),o.m9(),o.p9(),o.L8.Xs())},o.dE=i,o.ED=r,o.B6=new mF(s),o.ZR=u,o.Ty=new jg,o.Sy=new jg,o.ZR.Ks(Bf.gf,o.UG),o.ZR.Ks(Au.pu,o.BW),o.ZR.Ks(Bf.mf,o.zG),o.ZR.Ks(Bf.xf,o.c9),o.ZR.Ks(Bf.Bf,o.f9),o.ZR.Ks(Bf.Hf,o.fN),o.ZR.Ks([Bf.Rf,Bf.If],o.n9),o.ZR.Ks(kF,o.$s),o.w8=new AF(nn(o),o.ZR),o.eN=new nA(o.w8,!0),o.eN.Ks(Ny,o.$s),o.j8=new Gg,o.j8.Ks(og.ew,o.v9),o.H8=new Gg,o.lE=o.k9(),o.z8=new ZM(o.lE),o.V8=new cF(o.lE),o.X8=new yF(o.lE),o.Ey=new SS([o.j8,o.z8.VA,o.V8.VA,o.X8.VA]),o}E(e,t);var r=e.prototype;return r.b9=function(t,n,i,e){var r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return(r=this.A9(this.dE,this.ED,this.B6,this.C8,t,e)).Ks(kL.K0,this.a9),r.Ks(Bf.Tf,this.$s),s.next=5,Mr.awrap(r.gL(n,i));case 5:return s.abrupt("return",r);case 6:case"end":return s.stop()}},null,this,null,Ye)},r.Q8=function(t,n,i,e){var r,s,u,o,a,h;return Mr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=3,Mr.awrap(Ye.all([t,n,i]));case 3:return hu(e),c.next=7,Mr.awrap(vu(this.T8.Hu,e));case 7:return r=this.g8,c.next=11,Mr.awrap(r.y9());case 11:if(this.cz(),hu(e),s=r.hC,u=r.T9,o=r.S9,a=this.E9(s,o,s,u,!1),h=this.I9(o,a),!this.R9(h)){c.next=23;break}return c.next=21,Mr.awrap(this.N9(o,a,h));case 21:c.next=27;break;case 23:return a=this.E9(s,o,s,u,!0),h=this.I9(o,a),c.next=27,Mr.awrap(this.C9(o,a,h,e));case 27:hu(e),this.Gg?this.Lu(this.jg):this.D9(),this.P9();case 30:case"end":return c.stop()}},null,this,null,Ye)},r.N9=function(t,n,i){var e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e=this.g8,r.next=4,Mr.awrap(this.B9(i));case 4:return this.F8=i,r.next=7,Mr.awrap(this.x9(e,t,n));case 7:return r.next=9,Mr.awrap(e.O9(TM.S5));case 9:case"end":return r.stop()}},null,this,null,Ye)},r.C9=function(t,n,i,e){var r,s,u;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return r=this.g8,this.lY(),this.L9(),s=this.M9,o.next=7,Mr.awrap(this.F9());case 7:return o.next=9,Mr.awrap(this.uV(i));case 9:return this.F8=i,o.next=12,Mr.awrap(this.x9(r,t,n));case 12:return o.prev=12,u=this.U9(s,e),o.next=16,Mr.awrap(r.O9(TM.S5));case 16:return o.next=18,Mr.awrap(u);case 18:return o.prev=18,this.pY(),this.j9(),o.finish(18);case 22:case"end":return o.stop()}},null,this,[[12,,18,22]],Ye)},r.H9=function(){var t,n,i=this.X9;return 0===i.Tw||(null!=(t=null==(n=this.MN)?void 0:n.NC)?t:this.M9)>=i.IC(0)},r.z9=function(t){this.aG=this.aG.YC(t)},r.V9=function(t){t.Ks(pF,this.$s),t.Ks(Bf.Ff,this.Z8),t.Ks(Bf.cf,this.J8),t.Ks(Ug.Vw,this.o9),t.Ks(Bf.lf,this.u9),t.Ks("e5",this.Y8),t.Ks("q9",this.Y8)},r.W9=function(t){t.nu(pF,this.$s),t.nu(Bf.Ff,this.Z8),t.nu(Bf.cf,this.J8),t.nu(Ug.Vw,this.o9),t.nu(Bf.lf,this.u9),t.nu("e5",this.Y8),t.nu("q9",this.Y8)},r.G9=function(t){t.Ks(Bf.Nf,this.$s)},r.Y9=function(t){t.nu(Bf.Nf,this.$s)},r.Q9=function(t){var n,i=null==(n=this.o1)?void 0:n.v1;if(!i)return WS.vD();var e=i.P4,r=t?i.G3:i.j1;if(void 0===e||void 0===r)return WS.vD();if(!t){var s=this.K9;s.Tw>0&&s.NC(s.Tw-1)>r&&(r=w.min(s.NC(s.Tw-1),i.G3))}var u=this.Hg;return isFinite(u)&&u>r&&(r=u),e>r?WS.vD():new WS([e,r]).MC()},r.$h=function(t,n){var i,e,r,s,u,o,a;return Mr.async(function(h){for(;;)switch(h.prev=h.next){case 0:hu(n),h.prev=1,i=this.o1.v1.B4,e=this.o1.v1.D4,h.next=9;break;case 6:throw h.prev=6,h.t0=h.catch(1),new v("Something went wrong determining the start of the provided MPEG-DASH stream");case 9:if(i){h.next=11;break}throw new v("Something went wrong determining the initial Period of the provided MPEG-DASH stream");case 11:if(void 0!==e){h.next=13;break}throw new v("Something went wrong determining the start time of the provided MPEG-DASH stream");case 13:return t.textTracks&&this.Z9(t.textTracks),this.lY(),r=this.J9(i),s=CM(i,r,void 0,void 0,this.P8),u=this.E9(i,s,i,s,!0),s.forEach(function(t){return t.Bw=!0}),o=this.I9(s,u),h.next=22,Mr.awrap(this.uV(o));case 22:return this.F8=o,hu(n),h.next=26,Mr.awrap(this.b9(i,r,s,u));case 26:return a=h.sent,hu(n),this.t7(a),this.pY(),hu(n),h.next=33,Mr.awrap(a.O9());case 33:hu(n),this.O8||this.Lu(e,IM.c6);case 35:case"end":return h.stop()}},null,this,[[1,6]],Ye)},r.D9=function(){this.B8.Xs(),this.B8=new uu,this.x8=this.n7(this.x8,this.M8,this.B8.qs).catch(this.K8)},r.m9=function(){this.B8.Xs()},r.n7=function(t,n,i){var e,r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Mr.awrap(Ye.all([t,n]));case 2:hu(i);case 4:if(r=null==(e=this.g8)?void 0:e.hC){s.next=9;break}return s.abrupt("break",17);case 9:return s.next=11,Mr.awrap(this.i7(r,i));case 11:if(s.sent){s.next=15;break}return s.abrupt("break",17);case 15:s.next=4;break;case 17:case"end":return s.stop()}},null,this,null,Ye)},r.i7=function(t,n){var i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:hu(n),i=this.g8;case 3:if(this.o1.v1.vs!==SO.AE||t.z3&&void 0!==t.z3.n1){r.next=10;break}return r.next=6,Mr.awrap(vu(this.E8.V4,n));case 6:return r.next=8,Mr.awrap(this.e7());case 8:r.next=3;break;case 10:return hu(n),r.next=13,Mr.awrap(this.e7());case 13:hu(n);case 15:if(i.r7()){r.next=22;break}return r.next=18,Mr.awrap(i.fu(RM.f6,n));case 18:return r.next=20,Mr.awrap(this.e7());case 20:r.next=15;break;case 22:return hu(n),r.next=25,Mr.awrap(this.e7());case 25:if(hu(n),e=t.z3){r.next=31;break}return this._z(),r.abrupt("return",!1);case 31:if(!this.s7(e)){r.next=36;break}return r.next=34,Mr.awrap(this.u7(e,n));case 34:r.next=38;break;case 36:return r.next=38,Mr.awrap(this.o7(e,n));case 38:return r.abrupt("return",!0);case 39:case"end":return r.stop()}},null,this,null,Ye)},r.s7=function(t){var n,i,e,r,s,u,o=null!=(n=null==(i=this.C8)?void 0:null==(e=i.dash)?void 0:e.useSeamlessPeriodSwitch)?n:NE.lC;if(o===NE.GP)return!0;if(o===NE.YP)return!1;var a=this.g8,h=null==a?void 0:a.hC,c=null==a?void 0:a.S9,f=CM(t,this.J9(t),h,c,this.P8),v=this.E9(t,f,h,c,!1);if(o===NE.CLEAR_ONLY&&(null!=(r=this.g8)&&r.a7||v)||o===NE.SAME_DRM_ONLY&&(null==(s=this.g8)||!s.a7||!v)&&(null!=(u=this.g8)&&u.a7||v))return!1;var l=this.I9(f,v);return this.R9(l)},r.h7=function(){return!1},r.l9=function(t){for(var n=this.c7(),i=0;i<n.length;i++){var e=n[i];e!==t&&(e.Ww=Fg.Hw)}},r.P9=function(){if(void 0!==this.U8){if(this.U8.Yw){var t=zs(this.Cy.Aw,function(t){return t.Bw});void 0!==t&&this.U8.Fw===t.Fw||(this.U8.Ww=Fg.Hw)}}else this.d9()},r.d9=function(){if(!this.c7().length){var t=zs(this.Cy.Aw,function(t){return t.Bw});if(void 0!==t)for(var n=this.Py.Aw.filter(function(t){return t.Yw}),i=0;i<n.length;i++){var e=n[i];if(e.Fw===t.Fw)return e.Ww=Fg.zw,void(this.U8=e)}}},r.c7=function(){return this.Py.Aw.filter(function(t){return t.Ww===Fg.zw&&(t.Lw===Jk.tE||t.Lw===Jk.Qb)})},r.f7=function(t){if(t&&this.U8){var n=function(t,n){if(""!==t.Fw)return n.filter(function(n){return n.Fw===t.Fw})[0]}(this.U8,t.Py.Aw);n&&(n.Ww=Fg.zw)}},r.u7=function(t,n){var i,e,r,s,u,o,a,h,c;return Mr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return i=this.g8,e=this.y8,r=this.F8,f.prev=3,hu(n),s=i.hC,u=i.S9,o=this.J9(t),a=CM(t,o,s,u,this.P8),h=this.E9(t,a,s,u,!1),a.forEach(function(t){return t.Bw=!0}),c=this.I9(a,h),f.next=15,Mr.awrap(i.y9());case 15:if(this.cz(),hu(n),!e||e.hC!==t){f.next=24;break}if(!this.R9(c)){f.next=21;break}return f.next=21,Mr.awrap(this.B9(c));case 21:this.F8=c,f.next=39;break;case 24:if(!e){f.next=27;break}return f.next=27,Mr.awrap(e.Ed(!0));case 27:if(!this.R9(c)){f.next=31;break}return f.next=31,Mr.awrap(this.B9(c));case 31:return this.F8=c,f.next=35,Mr.awrap(this.b9(t,o,a,h));case 35:e=f.sent,this.y8=e,this.G9(e),this.H8.Cw=e.Py;case 39:return f.next=41,Mr.awrap(e.O9());case 41:hu(n);case 43:if(!(this.M9<t.IC)){f.next=48;break}return f.next=46,Mr.awrap(this.ZR.fu(Bf.Hf,n));case 46:f.next=43;break;case 48:hu(n),this.t7(e),f.next=65;break;case 53:if(f.prev=53,f.t0=f.catch(3),!au(f.t0)){f.next=64;break}if(!e){f.next=59;break}return f.next=59,Mr.awrap(e.y9());case 59:if(!r||this.F8===r){f.next=64;break}if(!this.R9(r)){f.next=63;break}return f.next=63,Mr.awrap(this.B9(r));case 63:this.F8=r;case 64:throw f.t0;case 65:case"end":return f.stop()}},null,this,[[3,53]],Ye)},r.o7=function(t,n){var i,e,r,s,u,o,a,h,c;return Mr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return hu(n),f.next=4,Mr.awrap(this.g8.y9());case 4:return this.cz(),f.next=7,Mr.awrap(this.v7(t.IC));case 7:hu(n),this._z();case 10:if(this.ZR.Xg||!(this.M9<t.IC)){f.next=15;break}return f.next=13,Mr.awrap(this.ZR.fu([Bf.Hf,Bf.mf],n));case 13:f.next=10;break;case 15:if(hu(n),i=this.g8.hC,e=this.g8.S9,r=this.J9(t),s=CM(t,r,i,e,this.P8),u=this.E9(t,s,i,e,!0),s.forEach(function(t){return t.Bw=!0}),o=this.I9(s,u),!this.g8){f.next=29;break}return this.j8.nu(og.ew,this.v9),f.next=27,Mr.awrap(this.g8.Ed());case 27:this.j8.Ks(og.ew,this.v9),this.g8=void 0;case 29:if(!this.y8){f.next=33;break}return f.next=32,Mr.awrap(this.y8.Ed());case 32:this.y8=void 0;case 33:return this.L9(),this.lY(),a=w.max(this.M9,t.IC),f.next=39,Mr.awrap(this.F9());case 39:return f.next=41,Mr.awrap(this.uV(o));case 41:return this.F8=o,f.next=45,Mr.awrap(this.b9(t,r,s,u));case 45:return h=f.sent,this.t7(h),f.prev=47,c=this.U9(a,n),f.next=51,Mr.awrap(h.O9());case 51:return f.next=53,Mr.awrap(c);case 53:return f.prev=53,this.pY(),this.j9(),f.finish(53);case 57:case"end":return f.stop()}},null,this,[[47,,53,57]],Ye)},r.e7=function(){var t;return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=this.y8){n.next=3;break}return n.abrupt("return");case 3:if(!t.hC.Z0){n.next=9;break}return n.next=7,Mr.awrap(t.Ed(!0));case 7:this.y8=void 0;case 9:case"end":return n.stop()}},null,this,null,Ye)},e.z6=function(t,n,i){if(Ys(t.I0,n)){var e=n.p0.map(function(t){return t.C1});return new EM(n,t,e,i)}},e.l7=function(t){for(var n=[],i=0,r=t.I0;i<r.length;i++){var s=r[i],u=0===n.length?"main":"alternative",o=e.z6(t,s,u);o&&n.push(o)}if(0===n.length)throw new v("No valid tracks found in AdaptationSet group "+t.xw);return new _M(t.vs,n)},r.J9=function(t){for(var n=[],i=0,r=t.X3;i<r.length;i++){var s=r[i];s.vs!==gm._d&&s.vs!==gm.wd||(s.p0&&0!==s.p0.length?n.push(e.l7(s)):this.Qs(new MM("No supported representation found in the AdaptationSet with mimetype : "+s.vs)))}return n},r.I9=function(t,n){var e,r,s,u,o,a,h,c,f,v,l=this,d=t.map(function(t){var n;return UM.S6(null!=(n=t.k5)?n:t.p0,HE(t.b5,l.P8))}).map(function(t){return{Pl:t.Pl}});return{vs:Rb.AE,kV:d,NN:(v=n,v?v.W6.map(function(t){var n=aF(v.HE,t.rc),i=v.V6.q6;return{rc:t.rc,FR:t.FR,ZI:t.ZI,zN:[{initDataTypes:[t.rc.ds],audioCapabilities:hF(v.G6,i,null==n?void 0:n.audioRobustness),videoCapabilities:hF(v.Y6,i,null==n?void 0:n.videoRobustness),persistentState:null==n?void 0:n.persistentState,distinctiveIdentifier:null==n?void 0:n.distinctiveIdentifier}]}}):[]),MW:null==n?void 0:n.MW,Ze:(null==(e=this.C8)?void 0:null==(r=e.dash)?void 0:r.useSeamlessPeriodSwitch)!==NE.YP&&(null==(s=this.C8)?void 0:null==(u=s.dash)?void 0:u.useSeamlessPeriodSwitch)!==NE.CLEAR_ONLY&&(null==(o=this.C8)?void 0:null==(a=o.dash)?void 0:a.useSeamlessPeriodSwitch)!==NE.SAME_DRM_ONLY&&(null!=(h=null==(c=this.C8)?void 0:null==(f=c.dash)?void 0:f.needsTimescaleShifting)?h:i.Fr.Ze)}},e.d7=function(t,n){if(t.length){for(var i,e,r,s,u=0;u<t.length;u++){i=iF(i,uF(t[u].T1,n))}return null!=n&&n.preferredKeySystems&&i&&(i.W6=(e=i.W6,r=n.preferredKeySystems,s=function(t){var n=r.indexOf(t.rc.gs);return n>=0?n:r.length},Os(e,function(t,n){return s(t)-s(n)}))),i}},r.E9=function(t,n,i,r,s){var u,o,a,h,c=this.C8.contentProtection,f=e.d7(n,c);if(void 0!==f)return f;var v=null!=(u=null==(o=this.C8)?void 0:null==(a=o.dash)?void 0:a.useSeamlessPeriodSwitch)?u:NE.lC;if(v!==NE.YP&&v!==NE.CLEAR_ONLY&&v!==NE.SAME_DRM_ONLY){var l=null==(h=this.g8)?void 0:h.a7;if(!s&&void 0!==l){var d=!l.MW;if(v===NE.lC&&d&&!this.h7())return;return l}var _=!s&&v===NE.lC;if(void 0!==(f=this._7(t,c,i,r,_)))return f.MW=!0,f}},r._7=function(t,n,i,r,s){for(var u=t,o=!1;;)if(void 0!==(u=o?u.q3:u.z3)){var a=CM(u,this.J9(u),i,r,this.P8),h=e.d7(a,n);if(s){var c=this.I9(a,h);if(!this.R9(c))return}if(void 0!==h)return h}else{if(o)return;o=!0,u=t}},r.Oy=function(){this.qg||(this.I8=!0,this._G||(this.w9(new ou),this.w7()),this.i9())},r.xy=function(){this.R8||(this.R8=new ea),this.g7();var t=this.R8.Hu;return gu(t),t},r.g7=function(){if(this.I8=!1,this.m8=!0,this.y7(),this.Xg){var t=this.X9;t.Tw>0&&this.Lu(t.IC(0))}if(this.h9){var n=this.o1.v1.D4;0,this.Lu(n)}if(!this.H9()){var i=this.o1.v1.D4;this.Lu(i)}this._G||this.oY().then(this._9,this.w9),this.i9()},r.lY=function(){this._G||(this.I8=this.qg,this._G=!0,this.w7())},r.pY=function(){this._G&&(this._G=!1,this.I8||this.oY().then(this._9,this.w9),this.i9())},r.i9=function(){var t=this.SE,n=this.qg;t!==n&&(this.SE=n,n?this.Qs(new Ey(this.jg)):this.Qs(new Iy(this.jg)))},r.Lu=function(t,n){return void 0===n&&(n=IM.h6),this.O8=!0,this.B8.Xs(),this.uG.Xs(),this.kD=!0,this.nG=t,this.z9(this.K9),this.c9(new Ly(this.jg)),this.uG=new uu,this.sG=this.vY(t,this.x8,this.sG,this.M8,this.uG.qs,n).catch(this.K8),this.sG},r.p9=function(){this.uG.Xs()},r.vY=function(t,n,i,e,r,s,u){var o,a,h,c,f,v,l,d,_,w,g,y,m,p;return Mr.async(function(k){for(;;)switch(k.prev=k.next){case 0:return void 0===s&&(s=IM.h6),void 0===u&&(u=!1),0,k.prev=4,k.next=8,Mr.awrap(Ye.all([n,i,e]));case 8:return hu(r),k.next=12,Mr.awrap(vu(this.T8.Hu,r));case 12:if(o=this.X9.UC(t),this.nG=o,a=this.m7(o),h=this.g8,u||!h||!h.pm.VN(o)&&s!==IM.c6&&h.hC!==a){k.next=30;break}if(!(c=this.y8)||c.p7){k.next=28;break}return k.next=22,Mr.awrap(c.y9());case 22:if(this.cz(),f=this.I9(h.T9,h.a7),!this.R9(f)){k.next=27;break}return k.next=27,Mr.awrap(this.B9(f));case 27:this.F8=f;case 28:k.next=87;break;case 30:if(!a){k.next=87;break}if(v=this.y8,this.lY(),!h){k.next=37;break}return k.next=37,Mr.awrap(h.y9());case 37:if(!v||v.hC!==a||u){k.next=46;break}if(l=this.I9(v.T9,v.a7),this.cz(),!this.R9(l)){k.next=43;break}return k.next=43,Mr.awrap(this.B9(l));case 43:this.F8=l,k.next=82;break;case 46:if(!v){k.next=49;break}return k.next=49,Mr.awrap(v.Ed(!0));case 49:if(d=this.J9(a),_=null==h?void 0:h.hC,w=null==h?void 0:h.S9,g=CM(a,d,_,w,this.P8),y=this.E9(a,g,_,w,!1),g.forEach(function(t){return t.Bw=!0}),m=this.I9(g,y),!this.s7(a)||u){k.next=63;break}if(this.cz(),!this.R9(m)){k.next=61;break}return k.next=61,Mr.awrap(this.B9(m));case 61:k.next=75;break;case 63:if(y=this.E9(a,g,_,w,!0),m=this.I9(g,y),!h){k.next=71;break}return this.j8.nu(og.ew,this.v9),k.next=69,Mr.awrap(h.Ed());case 69:this.j8.Ks(og.ew,this.v9),this.g8=void 0;case 71:return k.next=73,Mr.awrap(this.F9());case 73:return k.next=75,Mr.awrap(this.uV(m));case 75:return this.F8=m,k.next=78,Mr.awrap(this.b9(a,d,g,y));case 78:v=k.sent,this.y8=v,this.H8.Cw=v.Py,this.G9(v);case 82:return k.next=84,Mr.awrap(v.O9(TM.I5));case 84:this.t7(v),k.next=87;break;case 87:return p=this.U9(t,r),this.nG=void 0,k.next=92,Mr.awrap(this.g8.O9(TM.I5));case 92:return hu(r),this.D9(),k.next=96,Mr.awrap(p);case 96:hu(r),this.pY(),this.kD=!1,this.f9(new My(this.jg)),k.next=109;break;case 103:if(k.prev=103,k.t0=k.catch(4),!au(k.t0)){k.next=108;break}return k.abrupt("return");case 108:0;case 109:case"end":return k.stop()}},null,this,[[4,103]],Ye)},r.U9=function(t,n){var i,e,r,s,u,o,a=this;return Mr.async(function(h){for(;;)switch(h.prev=h.next){case 0:i=!0,e=t;case 2:if((u=this.k7).Tw>0&&(o=u.UC(t),e!==o&&(u.VN(e)&&this.o1.v1.vs===SO.AE||(e=o,i=!0))),!i){h.next=13;break}i=!1,r&&(s.Xs(),gu(r)),(s=new uu).zs(n),r=this.b7(e,s.qs),h.next=15;break;case 13:if(this.A7){h.next=15;break}return h.abrupt("break",19);case 15:return h.next=17,Mr.awrap(du(function(t){return Ye.race([r,a.fu([Bf.Of,Bf.gf],t),a.o1.v1.fu(kL.$0,t)])},n));case 17:h.next=2;break;case 19:case"end":return h.stop()}},null,this,null,Ye)},r.L9=function(){void 0===this.k8&&(this.k8=this.M9,this.ZR.nu(Bf.xf,this.c9),this.ZR.nu(Bf.Bf,this.f9))},r.j9=function(){if(void 0!==this.k8){var t=this.M9;this.k8=void 0,this.ZR.Ks(Bf.xf,this.c9),this.ZR.Ks(Bf.Bf,this.f9),this.M9!==t&&this.fN()}},r.T7=function(t){this.aG=this.aG.YC(t)},r.m7=function(t){var n=this.o1.v1,i=n.j0;if(i.length){var e=i[0];if(t<=e.IC)return e;for(var r=0;r<i.length;r++){var s=i[r];if(s.NC>t)return s}return n.vs!==SO.AE?i[i.length-1]:void 0}},r.Fy=function(t,n,e){var r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.S7(),!this.C8||yy(this.C8)){u.next=4;break}return u.next=4,Mr.awrap(this.bw());case 4:if(t&&!yy(t)){u.next=6;break}return u.abrupt("return");case 6:return this._E=new uu,e&&this._E.zs(e),this.C8=t,this.D8=n,this.P8=t.abr,r=new HM(this.dE,Boolean(this.C8.useCredentials)),s=qM(r,this.B6),this.R4(!0),this.E8=new lM({Zw:i.Or(this.C8.src),O4:this.C8.liveOffset,I4:this.C8.timeServer,Ad:this.C8.useCredentials},this.E7(this.P8),this.dE,s),this.o1=this.E8.t5,this.o1.v1.Ks(Bf.bf,this.s9),this.o1.v1.Ks(Bf.Af,this.e9),this.o1.v1.Ks(JL.Q3,this.g9),u.next=21,Mr.awrap(this.z8.$h(this.o1.v1));case 21:return u.next=23,Mr.awrap(this.V8.$h(this.o1.v1));case 23:return u.next=25,Mr.awrap(this.X8.$h(this.o1.v1));case 25:this.y7();case 26:case"end":return u.stop()}},null,this,null,Ye)},r.R4=function(t){this.b4!==t&&(this.b4=t,this.Qs(t?new GM:new YM))},r.y7=function(){return this.o1?(this.N8=this.I7(this.N8,this._E.qs),this.N8.catch(this.K8)):Ye.resolve()},r.I7=function(t,i){return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.next=3,Mr.awrap(t);case 3:hu(i);case 4:if(e.prev=4,this.mm!==FS.lC&&!this.m8){e.next=10;break}return e.next=8,Mr.awrap(this.R7(i));case 8:e.next=15;break;case 10:if(this.mm!==FS.Zb){e.next=15;break}return e.next=13,Mr.awrap(this.N7(i));case 13:e.next=15;break;case 15:e.next=22;break;case 17:throw e.prev=17,e.t0=e.catch(4),cu(e.t0),this.cN(new lf(n.ErrorCode.MANIFEST_LOAD_ERROR,e.t0.message,e.t0)),e.t0;case 22:case"end":return e.stop()}},null,this,[[4,17]],Ye)},r.R7=function(t){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Mr.awrap(this.N7(t));case 2:return this.S8||(this.S8=!0,this.T8.Wu(this.$h(this.D8,t))),i.prev=3,i.next=6,Mr.awrap(this.T8.Hu);case 6:i.next=12;break;case 8:i.prev=8,i.t0=i.catch(3),cu(i.t0),this.cN(new lf(n.ErrorCode.MEDIA_DECODE_ERROR,i.t0.message,i.t0));case 12:case"end":return i.stop()}},null,this,[[3,8]],Ye)},r.N7=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(vu(this.E8.n5,t));case 2:case"end":return n.stop()}},null,this,null,Ye)},r.t7=function(t){var n=this.g8;t!==n&&(this.g8&&this.W9(this.g8),this.y8&&this.Y9(this.y8),n&&this.z9(this.K9),this.g8=t,this.y8=n,this.V9(this.g8),this.y8&&this.G9(this.y8),this.Ty.Cw=t.Cy,this.Sy.Cw=t.Dy,this.f7(t),this.j8.nu(og.ew,this.v9),e.C7(this.j8),this.j8.Ks(og.ew,this.v9),this.j8.Cw=t.Py,this.H8.Cw=void 0,this.d9())},e.C7=function(t){for(var n=0,i=t.Aw;n<i.length;n++){i[n].Ww=Fg.Hw}},r.qy=function(){this.pC=!0},r.Wy=function(){this.pC=!1},r.cN=function(t){this.tN||(gu(this.bw()),this.tN=dm(t),this.nN=t,this.Qs(new Xy(t)))},r.S7=function(){this.tN=void 0,this.nN=void 0},r.bw=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Wg=1,this._E.Xs(),this.p9(),this.m9(),this.L8.Xs(),this.T8.Xs(),this.O8=!1,this.Oy(),this.m8=!1,this.Ty.Cw=void 0,this.Sy.Cw=void 0,this.j8.Cw=void 0,this.H8.Cw=void 0,!this.N8){t.next=17;break}return t.next=16,Mr.awrap(this.N8.catch(Z));case 16:this.N8=void 0;case 17:return t.next=19,Mr.awrap(Ye.all([this.x8,this.sG,this.M8,this.T8.Hu.catch(Z)]));case 19:if(!this.g8){t.next=23;break}return t.next=22,Mr.awrap(this.g8.Ed());case 22:this.g8=void 0;case 23:if(!this.y8){t.next=27;break}return t.next=26,Mr.awrap(this.y8.Ed());case 26:this.y8=void 0;case 27:return t.next=29,Mr.awrap(this.F9());case 29:return this.F8=void 0,this.U8=void 0,this.eN.bw(),t.next=34,Mr.awrap(this.z8.bw());case 34:return t.next=36,Mr.awrap(this.V8.bw());case 36:return t.next=38,Mr.awrap(this.X8.bw());case 38:if(this.lE.bw(),!this.o1){t.next=46;break}return this.o1.v1.nu(Bf.bf,this.s9),this.o1.v1.nu(Bf.Af,this.e9),this.o1.v1.nu(JL.Q3,this.g9),t.next=45,Mr.awrap(this.E8.Ed());case 45:this.o1=void 0;case 46:this.A8=!1,this.p8=NaN,this.k8=void 0,this._G=!1,this.aG=WS.vD(),this.SE=!0,this.nG=void 0,this.b8=!1,this.kD=!1,this.S8=!1,this.T8=new ea,this.q8=0,this.W8=0,this.G8=0,this.C8=void 0,this.D8=void 0;case 62:case"end":return t.stop()}},null,this,null,Ye)},r.Ed=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.tu(),this.S7(),t.next=4,Mr.awrap(this.bw());case 4:if(this.tu(),this.Ty.Ed(),this.Sy.Ed(),!this.g8){t.next=10;break}return t.next=10,Mr.awrap(this.g8.Ed());case 10:if(!this.y8){t.next=14;break}return this.Y9(this.y8),t.next=14,Mr.awrap(this.y8.Ed());case 14:return this.j8.Ed(),this.H8.Ed(),this.Ey.Ed(),this.eN.Ed(),this.w8.Ls(),t.next=21,Mr.awrap(this.z8.Ed());case 21:return t.next=23,Mr.awrap(this.V8.Ed());case 23:return t.next=25,Mr.awrap(this.X8.Ed());case 25:this.lE.Ed(),this.ZR.nu(Bf.gf,this.UG),this.ZR.nu(Au.pu,this.BW),this.ZR.nu(Bf.mf,this.zG),this.ZR.nu(Bf.xf,this.c9),this.ZR.nu(Bf.Bf,this.f9),this.ZR.nu(Bf.Hf,this.fN),this.ZR.nu([Bf.Rf,Bf.If],this.n9),this.ZR.nu(kF,this.$s);case 34:case"end":return t.stop()}},null,this,null,Ye)},r.Yy=function(){return $S},r.Uy=function(){return!1},r.jy=function(){},r.Hy=function(){},r.tm=function(){},T(e,[{key:"Cy",get:function(){return this.Ty}},{key:"MN",get:function(){var t=this.M9,n=this.D7,i=n.KC(t);if(-1!==i)return{IC:n.IC(i),NC:n.NC(i)}}},{key:"D7",get:function(){var t,n,i,e,r=null!=(t=null==(n=this.g8)?void 0:n.nm)?t:WS.vD(),s=null!=(i=null==(e=this.y8)?void 0:e.nm)?i:WS.vD();return r.YC(s)}},{key:"nm",get:function(){return this.D7.qN()}},{key:"im",get:function(){var t,n=null==(t=this.o1)?void 0:t.v1,i=null==n?void 0:n.P0;if(n&&i){var e=i.getTime(),r=1e3*this.jg;return new Date(r+e)}},set:function(t){var n,i=null==(n=this.o1)?void 0:n.v1,e=null==i?void 0:i.P0;if(t&&i&&e){var r=e.getTime()/1e3,s=t.getTime()/1e3;this.Lu(s-r)}}},{key:"M9",get:function(){return void 0!==this.nG?this.nG:void 0!==this.k8?this.k8:this.ZR.jg}},{key:"jg",get:function(){return this.M9},set:function(t){this.Lu(t)}},{key:"Hg",get:function(){var t=NaN;return this.g8&&this.g8.P7?t=this.g8.NC:this.o1&&void 0!==this.o1.v1.vs&&(t=this.o1.v1.M0?this.o1.v1.M0.cJ():1/0),t}},{key:"NC",get:function(){return this.Hg}},{key:"Xg",get:function(){return!(!this.g8||!this.g8.P7)&&(this.Gg?this.M9===this.g8.NC:this.ZR.Xg)}},{key:"mu",get:function(){return this.tN}},{key:"zg",get:function(){return this.nN}},{key:"By",get:function(){}},{key:"h9",get:function(){var t;if(!this.o1)return!1;if(this.o1.v1.vs!==SO.AE)return!1;var n=null==(t=this.g8)?void 0:t.hC;if(n&&n.Z0)return!0;for(var i=[],e=0,r=this.o1.v1.j0;e<r.length;e++){var s=r[e],u=s.n1,o=s.Y3;void 0!==u&&void 0!==o&&i.push(u,o)}var a=new WS(i).GC();return function(t,n,i){if(!n.Tw||!i.Tw)return WS.vD();var e=n.IC(0),r=n.NC(n.Tw-1),s=t.XC(i).zC().XC(t).YC(n);return new WS([s.IC(0),s.NC(s.Tw-1)]).$C(s).eD(function(t,n){return t<e&&n<=r&&n-t>Qt})}(this.D7,this.X9,a).Tw>0}},{key:"cm",get:function(){return Fr({},this.B7,{dm:Jg(),_m:this.q8,wm:{amountOfBufferedAudioSegments:this.W8,amountOfBufferedVideoSegments:this.G8}})}},{key:"qg",get:function(){return this._G?this.I8:this.g8&&this.g8.P7?this.x7:this.I8}},{key:"ym",get:function(){var t=this.aG;return this.g8&&(t=t.YC(this.K9)),t.GC(.1).qN()}},{key:"mm",get:function(){return this.iN},set:function(t){this.iN=t,this.y7()}},{key:"$w",get:function(){var t=this.ZR.$w;return this.A8&&(t=w.max(sy.Cg,t)),t}},{key:"X9",get:function(){return this.Q9(!1)}},{key:"k7",get:function(){return this.Q9(!0)}},{key:"pm",get:function(){return this.X9.qN()}},{key:"Gg",get:function(){return this.kD||this.A7}},{key:"YN",get:function(){}},{key:"O7",get:function(){var t,n;return null!=(t=null==(n=this.o1)?void 0:n.v1.vs)?t:SO.bE}},{key:"Py",get:function(){return this.Ey}},{key:"Dy",get:function(){return this.Sy}},{key:"Am",get:function(){return this.aN}},{key:"Tm",get:function(){return!1},set:function(t){}},{key:"$N",get:function(){return this.oN}},{key:"gm",get:function(){return this.b4}},{key:"hm",get:function(){return!1}}]),e}(Tu),AF=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).gC=n,e}return E(n,t),n.prototype.r9=function(){this.Qs(new Hy(this.jg,this.$w))},T(n,[{key:"$w",get:function(){return this.gC.$w}}]),n}(iA);var TF,SF,EF=function(){function t(){}var n=t.prototype;return n.L7=function(t,n,i){return Ye.resolve()},n.M7=function(t,n,i,e){var r=[];if(e){var s={$k:n.Vm,Qk:n.qm,Kk:i.LJ.Kk};e.vs===Bm.TTML?r=jk(t,e,s,i.YB):e.vs===Bm.WEBVTT&&(r=qp(t,s).Qw)}return r},n.bw=function(){},t}();!function(t){t.Db="vttc",t.F7="vsid",t.U7="iden",t.j7="ctim",t.H7="sttg",t.X7="payl",t.z7="vtte",t.V7="vtta"}(TF||(TF={}));var IF=function(){function t(){}return t.q7=function(n){return Boolean(t.W7[n])},t.NA=function(n){for(var i=[],e=Ak.dA(new mk(n,new na)),r=0;r<e.length;r++){var s=e[r];t.q7(s.vs)&&i.push(t.W7[s.vs](s.Hi))}return i},t.G7=function(n){var i=Ak.dA(n),e=Sk(i,TF.F7),r=Sk(i,TF.U7),s=Sk(i,TF.j7),u=Sk(i,TF.H7),o=Sk(i,TF.X7);return{vs:TF.Db,Y7:e?t.Q7(e):void 0,K7:r?t.Z7(r):void 0,J7:s?t.ttt(s):void 0,ntt:u?t.itt(u):void 0,ett:o?t.rtt(o):void 0}},t.Q7=function(t){return{vs:TF.F7,stt:t.sA()}},t.Z7=function(t){return{vs:TF.U7,K7:t.cA()}},t.ttt=function(t){return{vs:TF.j7,utt:t.cA()}},t.itt=function(t){return{vs:TF.H7,ott:t.cA()}},t.rtt=function(t){return{vs:TF.X7,att:t.cA()}},t.htt=function(t){return{vs:TF.z7}},t.ctt=function(t){return{vs:TF.V7,ftt:t.cA()}},t}();IF.W7=((SF={})[TF.Db]=IF.G7,SF[TF.z7]=IF.htt,SF[TF.V7]=IF.ctt,SF);var RF=function(){function t(){this.ltt=NaN}var n=t.prototype;return n.L7=function(t,n,i){var e=new DataView(t.dtt),r=zs(Rk.NA(e),function(t){return t.vs===Pp.ub});return r&&(this.ltt=r.VA[0].JA.bA.yk),Ye.resolve()},n.M7=function(t,n,i){if(m(this.ltt))return[];var e=Yo(t),r=Rk.NA(e),s=kk(r,Pp.Ob),u=kk(r,Pp.Xb);if(!s||0===s.VA.length||!u)return[];var o=function(t,n,i){for(var e=t.VA[0],r=e.gS?e.gS.gS.toNumber()/i:n.Vm,s=[],u=0,o=e.wS;u<o.length;u++){var a=o[u];s.push.apply(s,a.AS)}return{_tt:r,AS:s}}(s,n,this.ltt),a=i.LJ.Kk;return function(t,n,i,e){for(var r=IF.NA(Yo(n.Hi)),s=t.AS,u=t._tt+e,o=[],a=0,h=0;h<s.length;h++){var c,f=s[h],v=r[h],l=(null!=(c=f.Hg)?c:0)/i,d=void 0;v.vs===TF.Db&&(d=NF(v,a,l,u)),d&&o.push(d),a+=l}return o}(o,u,this.ltt,a)},n.bw=function(){this.ltt=NaN},t}();function NF(t,n,i,e){if(t.ett){var r=e+(t.J7?ik(t.J7.utt,new na(0)):n),s=r+i,u=t.ett.att;return new tp(r,s,u,!1)}}var CF=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).s5=void 0,n.a5=void 0,n.wtt=Hr(),n}E(n,t);var i=n.prototype;return i.$h=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(this.bw());case 2:this.a5=t,this.J9(t);case 4:case"end":return n.stop()}},null,this,null,Ye)},i.J9=function(t){for(var n=0,i=t.I0;n<i.length;n++){var e=i[n],r=this.gtt(e);this.ytt(r,e),r.$w=Pm.LOADED,this.yw(r)}},i.mw=function(n){this.mtt(n),t.prototype.mw.call(this,n)},i.hE=function(t){var n=this.ptt(t);if(n&&this.r5!==n){this.r5=n;for(var i=0,e=this.VA.Aw;i<e.length;i++){var r=e[i];r!==n&&(r.Ww=Fg.Hw)}}},i.cE=function(t){var n=this.ptt(t);n&&this.r5===n&&(this.r5=void 0)},i.ptt=function(t){return zs(this.VA.Aw,function(n){return t.Ow===n.Ow})},i.ytt=function(t,n){this.wtt.set(t.Ow,n)},i.ktt=function(t){return this.wtt.get(t.Ow)},i.mtt=function(t){this.wtt.delete(t.Ow)},i.btt=function(){if(this.r5){var t=this.ktt(this.r5);if(t)return n.Att(t)}},n.Att=function(t){return t.p0&&t.p0.length>0?t.p0[0]:void 0},T(n,[{key:"r5",get:function(){return this.s5},set:function(t){this.s5=t}},{key:"Bw",get:function(){for(var t=0,n=this.VA.Aw;t<n.length;t++){if(n[t].Ww!==Fg.Hw)return!0}return!1}}]),n}(pb);function DF(t,n){var i=n.eD(function(n,i){return t.tD(n,i,!1,!1)});return t.YC(i)}function PF(t,n){var i=n.XC(t.zC()).eD(function(n,i){return t.VN(i)});return t.YC(i)}var BF,xF=function(t){function n(){return t.call(this,"Ttt")||this}return E(n,t),n}(Eu);!function(t){t.Stt="Ett",t.Itt="Rtt",t.Ntt="Ctt",t.fP="Dtt"}(BF||(BF={}));var OF=[Bf.Lf,Bf.Ff,Bf.Of,Bf.cf],LF=function(t){function e(n,e,r,s,u){var o;return(o=t.call(this)||this).Ptt=BF.Stt,o.tN=void 0,o.Btt=new ea,o.xtt=new uu,o.Ott=new uu,o.dV=function(t){o.Ltt||o.Mtt||!i.C_&&o.Utt.Ftt(t.currentTime)||(o.xtt.Xs(),o.xtt=new uu,o.jtt(o.xtt.qs).catch(fu))},o.Htt=function(){o.Xtt&&o.IC(TM.R5)},o.ztt=n,o.u1=e,o.Vtt=r,o.Utt=s,o.qtt=u,o.Wtt(),o}E(e,t);var r=e.prototype;return r.Gtt=function(t){this.Ptt!==t&&(this.Ptt=t,this.Qs(new xF))},r.IC=function(t){var n;return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Ltt||this.Xtt){t.next=2;break}return t.abrupt("return");case 2:return n=this.fu("Ttt"),this.Ltt?(this.Ott.Xs(),this.Ott=new uu,this.Ytt(this.Ott.qs)):(this.Btt.Wu(void 0),this.Btt=new ea),t.next=7,Mr.awrap(n);case 7:case"end":return t.stop()}},null,this,null,Ye)},r.Ly=function(t){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$tt||this.Xtt){t.next=2;break}return t.abrupt("return");case 2:0,this.Ott.Xs();case 4:if(this.Ltt||this.Mtt){t.next=9;break}return t.next=7,Mr.awrap(this.fu("Ttt"));case 7:t.next=4;break;case 9:case"end":return t.stop()}},null,this,null,Ye)},r.bw=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.Mtt){n.next=6;break}this.tN=void 0,this.Gtt(BF.Stt),n.next=8;break;case 6:return n.next=8,Mr.awrap(this.Ly(t));case 8:this.Utt.bw(),this.Vtt.bw();case 10:case"end":return n.stop()}},null,this,null,Ye)},r.cN=function(t){this.tN=t,this.Gtt(BF.fP),this.Qs(new Xy(t))},r.Wtt=function(){this.qtt.Ks(Bf.Hf,this.Htt),this.qtt.Ks(Bf.xf,this.dV),this.Utt.Ks(OF,this.$s),this.u1.Ks(kL.$0,this.Htt)},r.Qtt=function(){this.qtt.nu(Bf.Hf,this.Htt),this.qtt.nu(Bf.xf,this.dV),this.Utt.nu(OF,this.$s),this.u1.nu(kL.$0,this.Htt)},r.y9=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Qtt(),this.xtt.Xs(),n.next=4,Mr.awrap(this.Ly(null!=t?t:TM.V5));case 4:this.Utt.bw();case 5:case"end":return n.stop()}},null,this,null,Ye)},r.O9=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Wtt(),n.next=3,Mr.awrap(this.IC(null!=t?t:TM.N5));case 3:case"end":return n.stop()}},null,this,null,Ye)},r.Ed=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.tu(),this.Qtt(),this.xtt.Xs(),t.next=5,Mr.awrap(this.Ly(TM.q5));case 5:this.Utt.Ed();case 6:case"end":return t.stop()}},null,this,null,Ye)},r.Ytt=function(t){var i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,hu(t),this.Gtt(BF.Ntt),e.next=6,Mr.awrap(this.Utt.Ktt(t));case 6:return hu(t),this.Gtt(BF.Itt),e.next=10,Mr.awrap(vu(this.Btt.Hu,t));case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),au(e.t0)?this.Gtt(BF.Stt):(i=e.t0 instanceof lf?e.t0:new lf(n.ErrorCode.MEDIA_LOAD_ERROR,e.t0.message,e.t0),this.cN(i)),e.abrupt("break",18);case 16:e.next=0;break;case 18:case"end":return e.stop()}},null,this,[[1,12]],Ye)},r.jtt=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return hu(t),n.next=3,Mr.awrap(this.Ly(TM.z5));case 3:return this.Utt.bw(),hu(t),n.next=7,Mr.awrap(this.IC(TM.I5));case 7:case"end":return n.stop()}},null,this,null,Ye)},T(e,[{key:"Ztt",get:function(){var t,n,i=null==(t=this.Utt.Jtt)?void 0:t.C1,e=null==(n=this.Utt.tnt)?void 0:n.C1;return i||e}},{key:"nnt",get:function(){var t;return null==(t=this.Ztt)?void 0:t.C1}},{key:"int",get:function(){return this.Vtt}},{key:"ent",get:function(){return this.Utt.ent},set:function(t){this.Utt.ent=t}},{key:"Vl",get:function(){return this.Ptt}},{key:"b5",get:function(){return this.Vtt.V_.b5}},{key:"mu",get:function(){return this.tN}},{key:"Ltt",get:function(){return this.Ptt===BF.Stt}},{key:"Xtt",get:function(){return this.Ptt===BF.Itt}},{key:"$tt",get:function(){return this.Ptt===BF.Ntt}},{key:"Mtt",get:function(){return this.Ptt===BF.fP}}]),e}(Tu),MF=function(){function t(t){this.dE=void 0,this.hU=new QN,this.dE=t}var n=t.prototype;return n.$l=function(t){var n=this,i=new ea;return this.hU.ZF(function(e){return n.rnt(i,t,e)},t.qs).catch(Z),i.Hu},n.Sd=function(t){return this.dE.Sd(t)},n.rnt=function(t,n,i){var e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return hu(i),e=new __({Kl:n.Kl,qs:i},n),r=this.dE.$l(e),t.Wu(r),u.next=6,Mr.awrap(r);case 6:return s=u.sent,u.next=9,Mr.awrap(s.Ul());case 9:case"end":return u.stop()}},null,this,null,Ye)},n.Ed=function(){this.hU.Ed()},t}(),FF=function(){function t(t,n){this.dE=void 0,this.snt=void 0,this.unt=void 0,this.dE=t,this.snt=new MF(t),this.unt=n}var n=t.prototype;return n.ont=function(t,n,i){return this.ant(t,n,!0,!1,void 0,i)},n.hnt=function(t,n,i,e){return this.ant(t,n,!1,!1,i,e)},n.cnt=function(t,n,i,e){return this.ant(t,n,!1,!0,i,e)},n.ant=function(n,i,e,r,s,u){var o;return Mr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return hu(u),a.next=3,Mr.awrap(this.fnt(n,e,r,s,u));case 3:if(o=a.sent,!i){a.next=8;break}return a.abrupt("return",t.vnt(o));case 8:return a.abrupt("return",this.lnt(o));case 9:case"end":return a.stop()}},null,this,null,Ye)},n.lnt=function(t){return t},t.vnt=function(t){return t},n.fnt=function(t,n,i,e,r){var s=new __({Kl:t.Kl,Wl:xf.Wf,ql:t.bJ?{Range:"bytes="+t.bJ[0]+"-"+t.bJ[1]}:void 0,Ad:t.Ad,md:c_.GET,vs:f_.ed,kd:i?v_.ud:v_.Jl,bd:this.unt,pd:e,qs:r});return n?this.snt.$l(s):this.dE.$l(s)},t}(),UF=function(){function t(t){this.dnt=void 0,this.wK=0,this._nt=0,this.dnt=w.exp(w.log(.5)/t)}var n=t.prototype;return n.wnt=function(t,n){var i=w.pow(this.dnt,t),e=n*(1-i)+i*this.wK;m(e)||(this.wK=e,this._nt+=t)},n.gnt=function(){var t=1-w.pow(this.dnt,this._nt);return this.wK/t},t}(),jF=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.ynt=void 0,this.mnt=void 0,this.pnt=0,this.knt=void 0,this.bnt=5e5,this.ynt=new UF(t),this.mnt=new UF(n),this.knt=i}var n=t.prototype;return n.wnt=function(t,n){var i=8e3*n/t,e=t/1e3;this.pnt+=n,this.ynt.wnt(e,i),this.mnt.wnt(e,i)},n.gnt=function(){return this.k6()?w.min(this.ynt.gnt(),this.mnt.gnt()):this.bnt},n.k6=function(){return this.pnt>=this.knt},t}(),HF=function(){function t(){this.ynt=new UF(2),this.mnt=new UF(5),this.Ant=0,this.Tnt=1,this.bnt=100}var n=t.prototype;return n.wnt=function(t){this.Ant+=1,this.ynt.wnt(1,t),this.mnt.wnt(1,t)},n.gnt=function(){return this.k6()?w.min(this.ynt.gnt(),this.mnt.gnt()):this.bnt},n.k6=function(){return this.Ant>=this.Tnt},t}(),XF=16e3,zF=5e3,VF=0,qF=0,WF=function(){function t(t,n){this.Snt=void 0,this.Ent=void 0,this.Int=n,!n||t!==gm.wd&&t!==gm._d?(this.Ent=XF,this.Snt=new jF):t===gm.wd?(this.Ent=zF,this.Snt=new jF(.05,1,qF)):(this.Ent=VF,this.Snt=new jF(.005,.1,qF))}return t.prototype.Rnt=function(t){var n=t.Nnt,i=this.Int?t.Cnt-t.Dnt:t.Cnt-t.Pnt;n<this.Ent||this.Snt.wnt(i,n)},T(t,[{key:"p6",get:function(){return this.Snt.gnt()}},{key:"k6",get:function(){return this.Snt.k6()}}]),t}(),GF=["Mf","Uf"],YF=function(t){function n(n){var i;(i=t.call(this)||this).Bnt=n;for(var e=0,r=i.Bnt;e<r.length;e++){r[e].Ks(GF,i.$s)}return i}E(n,t);var i=n.prototype;return i.xnt=function(t,n){var i,e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:e=0,r=this.Bnt;case 1:if(!(e<r.length)){u.next=16;break}return s=r[e],u.prev=3,u.next=6,Mr.awrap(s.xnt(t,n));case 6:return u.abrupt("return",u.sent);case 9:u.prev=9,u.t0=u.catch(3),cu(u.t0),i=u.t0;case 13:e++,u.next=1;break;case 16:throw i;case 17:case"end":return u.stop()}},null,this,[[3,9]],Ye)},i.Ont=function(t,n){var i,e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:e=0,r=this.Bnt;case 1:if(!(e<r.length)){u.next=16;break}return s=r[e],u.prev=3,u.next=6,Mr.awrap(s.Ont(t,n));case 6:return u.abrupt("return",u.sent);case 9:u.prev=9,u.t0=u.catch(3),cu(u.t0),i=u.t0;case 13:e++,u.next=1;break;case 16:throw i;case 17:case"end":return u.stop()}},null,this,[[3,9]],Ye)},i.Ed=function(){for(var t=0,n=this.Bnt;t<n.length;t++){var i=n[t];i.nu(GF,this.$s),i.Ed()}},n}(Tu);var $F=function(){function t(t){this.To=t}var n=t.prototype;return n.transform=function(t,n){this.To.write(t).catch(Z),n.enqueue(t)},n.flush=function(){this.To.close().catch(Z)},t}(),QF=function(){function t(t,n,i){this.dtt=void 0,this.Lnt=void 0,this.Mnt=void 0,this.dtt=t,this.Lnt=n,this.Mnt=i}return t.prototype.Fnt=function(){return new KF(Vd(this.dtt),this.Lnt,this.Mnt)},t}(),KF=function(){function t(t,n,i){this.Unt=void 0,this.Lnt=void 0,this.Mnt=void 0,this.Unt=t,this.Lnt=n,this.Mnt=i}var n=t.prototype;return n.Cl=function(t){return qd(this.Unt,t)},n.Mu=function(){var n=Gd(this.Unt),i=n[0],e=n[1];return this.Unt=i,new t(e,this.Lnt,this.Mnt)},n.jnt=function(){var n,i,e,r,s=(n=this.Unt,i=new Nd,e=i.writable.getWriter(),r=new Nd(new $F(e)),n.pipeTo(r.writable).catch(function(t){e.abort(t).catch(Z)}),[r.readable,i.readable]),u=s[0],o=s[1];return this.Unt=u,new t(o,this.Lnt,this.Mnt)},n.Hnt=function(t){var n=this;return this.Cl(t).then(function(t){return new QF(t,n.Lnt,n.Mnt)})},T(t,[{key:"Dl",get:function(){return this.Unt}}]),t}(),ZF=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).U2=void 0,r.U2=n,r}return E(n,t),n}(rn),JF=function(t){function n(n){var i;return(i=t.call(this)||this).B6=void 0,i.B6=n,i}E(n,t);var i=n.prototype;return i.xnt=function(t,n){var i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return hu(n),r.next=3,Mr.awrap(this.B6.RZ(t.Kl.Kl,t.Kl.bJ));case 3:if(i=r.sent,hu(n),i){r.next=7;break}throw new ZF(t,"Cache lookup failed.");case 7:return e=new QF(i.buffer,i.byteLength,i.reference),r.abrupt("return",{U2:t.U2,Xnt:{vs:kC.WU,Hi:e},C1:t.C1,Kl:t.Kl});case 9:case"end":return r.stop()}},null,this,null,Ye)},i.Ont=function(t,n){var i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return hu(n),r.next=3,Mr.awrap(this.B6.RZ(t.Kl,t.bJ));case 3:if(i=r.sent,hu(n),i){r.next=7;break}throw new ZF(t,"Cache lookup failed.");case 7:return e=new QF(i.buffer,i.byteLength,i.reference),r.abrupt("return",{vs:kC.WU,Hi:e});case 9:case"end":return r.stop()}},null,this,null,Ye)},i.Ed=function(){this.tu()},n}(Tu),tU=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n)||this).znt=i,o.Vnt=e,o.vS=r,o.eT=s,o.bd=u,o}return E(n,t),n}(Eu),nU=function(t){function n(n,i,e,r,s){return t.call(this,Bf.Lf,n,i,e,r,s)||this}return E(n,t),n}(tU),iU=function(t,n){this.qnt=t,this.Wnt=n},eU=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Gnt=0,n}E(n,t);var e=n.prototype;return e.start=function(){},e.transform=function(t,n){this.Gnt+=t.byteLength,n.enqueue(t)},e.flush=function(){this.qnt(this.Wnt,i.Gn(),this.Nnt)},T(n,[{key:"Nnt",get:function(){return this.Gnt}}]),n}(iU),rU=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Gnt=0,n.Ynt=!1,n.$nt=void 0,n.Qnt=void 0,n}E(n,t);var e=n.prototype;return e.start=function(){this.Wnt=i.Gn()},e.transform=function(t,n){if(this.Gnt+=t.byteLength,!this.Ynt){var e=i.Gn();this.Knt(t)&&(this.qnt(this.Wnt,e,this.Nnt),this.Ynt=!0)}n.enqueue(t)},e.flush=function(){},e.Knt=function(t){var n=this.Znt(t),i=this.Jnt(n);return Boolean(zs(i,sU))},e.Znt=function(t){return this.$nt&&void 0!==this.Qnt?(this.$nt=Yu([this.$nt,t]),new mk(Yo(this.$nt),new na(this.Qnt))):(this.$nt=t,new mk(Yo(t),new na))},e.Jnt=function(t){var n=Ak._A(t.Hi,t.tA,!0);return n.wA?(this.$nt=void 0,this.Qnt=void 0):this.Qnt=t.tA.Bu,n.Pi},T(n,[{key:"Nnt",get:function(){return this.Gnt}}]),n}(iU);function sU(t){return t.vs===Pp.Xb}var uU=function(){function t(t){var n=this;this.tit=new ea,this.nit=void 0,this.Rnt=function(t,i,e){var r={Pnt:n.nit,Dnt:t,Cnt:i,Nnt:e};n.iit.Rnt(r),Zg.dg(n.iit.p6/8)},this.iit=t,this.tit.Hu.catch(Z),this.nit=i.Gn()}var n=t.prototype;return n.eit=function(t){var n=t.Yl?this.nit:i.Gn(),e=this.rit(n),r=new Nd(e),s=t.Dl().pipeTo(r.writable).then(function(){return{cm:{Nnt:e.Nnt}}});return this.tit.Wu(s),r.readable},n.sit=function(t){var n=this,e=t.Yl?this.nit:i.Gn(),r=t.Cl(),s=r.then(function(t){var r=i.Gn();return n.Rnt(e,r,t.byteLength),{cm:{Nnt:t.byteLength}}});return this.tit.Wu(s),r},T(t,[{key:"uit",get:function(){return this.tit.Hu}}]),t}(),oU=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.rit=function(t){return new eU(this.Rnt,t)},n}(uU),aU=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.rit=function(t){return new rU(this.Rnt,t)},n}(uU),hU=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this,Bf.Ff,n,i,e,r,s)||this).oit=u,a._m=o,a}return E(n,t),n}(tU),cU=function(t){function n(n,i,e){var r;return(r=t.call(this,"Error downloading segment "+RL(i),n)||this).ait=void 0,r.hit=void 0,r.cit=void 0,r.ait=i.Vm,r.hit=i.qm,r.cit=e,r}return E(n,t),n}(rn),fU=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).fit=n,r.iit=i,r.Int=e,r}E(n,t);var e=n.prototype;return e.vit=function(){return i.R_},e.dit=function(){return this.Int?new aU(this.iit):new oU(this.iit)},e.xnt=function(t,n){var i,e,r,s,u,o,a,h;return Mr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return hu(n),i=t.C1,e=t.Kl,r=t.U2,s=RL(r),u=i.C1?i.C1.Ow:-1,this.Qs(new nU(e,i.PR,s,u,i.vs)),c.prev=7,o=this.dit(),c.next=11,Mr.awrap(this.fit.hnt(e,this.vit(),1e3*w.max(r.Hg,30),n));case 11:return a=c.sent,c.next=14,Mr.awrap(this._it(a,this.vit(),n,o));case 14:return h=c.sent,this.wit(o.uit,i,e,s,u,a),c.abrupt("return",{Xnt:h,C1:i,U2:r,Kl:e});case 19:throw c.prev=19,c.t0=c.catch(7),cu(c.t0),new cU(c.t0,r,i);case 23:case"end":return c.stop()}},null,this,[[7,19]],Ye)},e.Ont=function(t,n){var i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return hu(n),i=!1,r.next=4,Mr.awrap(this.fit.cnt(t,i,3e4,n));case 4:return e=r.sent,r.next=7,Mr.awrap(this._it(e,i,n));case 7:return r.abrupt("return",r.sent);case 8:case"end":return r.stop()}},null,this,null,Ye)},e._it=function(t,n,i,e){return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!n){r.next=4;break}return r.abrupt("return",{vs:kC.Yf,Hi:new KF(e?e.eit(t):t.Dl())});case 4:if(r.t0=kC.WU,r.t1=QF,!e){r.next=12;break}return r.next=9,Mr.awrap(e.sit(t));case 9:r.t2=r.sent,r.next=15;break;case 12:return r.next=14,Mr.awrap(t.Cl(i));case 14:r.t2=r.sent;case 15:return r.t3=r.t2,r.t4=new r.t1(r.t3),r.abrupt("return",{vs:r.t0,Hi:r.t4});case 18:case"end":return r.stop()}},null,null,null,Ye)},e.wit=function(t,n,i,e,r,s){var u;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Mr.awrap(t);case 3:u=o.sent,this.Qs(new hU(i,n.PR,e,r,n.vs,s.Vl,u.cm.Nnt)),o.next=9;break;case 7:o.prev=7,o.t0=o.catch(0);case 9:case"end":return o.stop()}},null,this,[[0,7]],Ye)},e.Ed=function(){this.tu()},n}(Tu),vU=function(){function t(){}var n=t.prototype;return n.git=function(t,n,i,e,r){var s=new JF(r),u=this.yit(t,i,e);return new YF([s,u])},n.yit=function(t,n,i){return new fU(t,n,i)},t}(),lU=function(t){function n(n,i,e){var r;return(r=t.call(this,"mit")||this).IC=n,r.NC=i,r.C1=e,r}return E(n,t),n}(rn),dU=function(){function t(t,n,i,e){this.pit=t,this.qtt=n,this.kit=i,this.ED=e}return T(t,[{key:"nm",get:function(){return this.pit.nm}},{key:"Ait",get:function(){return this.pit.Ait}},{key:"tj",get:function(){return this.pit.tj}},{key:"Tit",get:function(){if(this.kit.$w<sy.Cg)return!1;if(this.pit.NC<=this.Sit&&this.pit.Eit())return!0;var t=this.pit.MN;if(!t||0===t.Tw)return!1;var n=new WS([this.qtt.jg,1/0]);return t.XC(n).QC(this.pit.tj).aD>=this.ED.mL}},{key:"Sit",get:function(){var t,n=this.pit.MN;if(n&&n.Tw>0)t=n.NC(0);else{t=this.qtt.jg;var i=this.pit.tj,e=i.KC(t);e>=0&&(t=i.NC(e))}var r=this.pit.pm.IC(0);if(r>t){if(this.pit.IC<=t&&this.pit.NC>=t&&r>t+.001)throw new lU(t,r);t=r}return t=this.pit.Iit.UC(t)}}]),t}();var _U=function(){function t(t){this.Jr=void 0,this.Jr=function(t){for(var n=jr(),i=0;i<t.length;i++){var e=t[i];n.set(e.xw,WS.vD())}return n}(t)}var n=t.prototype;return n.Rit=function(){var t=WS.vD();return this.Jr.forEach(function(n){t=t.YC(n)}),t},n.Nit=function(t){var n=!1;return this.Jr.forEach(function(i){n=n||i.VN(t)}),n},n.Cit=function(t,n){var i=this.Jr.get(n.xw);return!!i&&i.VN(t)},n.ZC=function(t,n){var i=!1;return this.Jr.forEach(function(e){i=i||e.ZC(t,n)}),i},n.Dit=function(t,n){var i=this.Jr.get(n.xw).YC(t);this.Jr.set(n.xw,i)},n.Pit=function(t){var n=this;this.Jr.forEach(function(i,e){var r=i.YC(t);n.Jr.set(e,r)})},n.Bit=function(t){var n=this;this.Jr.forEach(function(i,e){n.Jr.set(e,i.XC(t))})},n.bw=function(){var t=this;this.Jr.forEach(function(n,i){t.Jr.set(i,WS.vD())})},T(t,[{key:"xit",get:function(){if(0===this.Jr.size)return WS.vD();var t=new WS([0,1/0]);return this.Jr.forEach(function(n){t=t.XC(n)}),t}}]),t}(),wU=function(){function t(t){this.V_=void 0,this.Oit=void 0,this.KU=void 0,this.UZ=[],this.V_=t,this.Oit=new _U(t.p0),this.KU=new _U(t.p0)}var n=t.prototype;return n.Lit=function(t){for(var n=0,i=this.UZ;n<i.length;n++){var e=i[n];if(e.Mit>t)break;if(e.Fit>t)return e}},n.Uit=function(t){for(var n=0,i=this.UZ;n<i.length;n++){var e=i[n];if(e.jit>t)break;if(e.Hit>=t)return e}},n.Xit=function(t,n){for(var i=[],e=0,r=this.UZ;e<r.length;e++){var s=r[e];if(s.Mit>t)break;s.Fit>=n&&i.push(s)}return i},n.zit=function(){return this.UZ},n.Vit=function(t,n){this.Oit.Dit(new WS([t.jit,t.Hit]),n);for(var i=!1,e=0;e<this.UZ.length;e++){var r=this.UZ[e];if(t.Mit<r.Mit){this.UZ.splice(e,0,t),i=!0;break}}i||this.UZ.push(t)},n.ZU=function(t,n){this.KU.Dit(t,n)},n.qit=function(t){this.KU.Pit(t)},n.Bit=function(t){this.Oit.Bit(t),this.KU.Bit(t);var n=this.Oit.Rit();this.UZ=this.UZ.filter(function(t){return n.tD(t.jit,t.Hit)}).map(function(t){return t.t9&&!n.ZC(t.jit,t.Hit)?function(t,n){return{Mit:t.Mit,Fit:t.Fit,jit:t.jit,Hit:t.Hit,t9:n}}(t,!1):t})},n.bw=function(){this.Oit.bw(),this.KU.bw(),this.UZ=[]},n.Ed=function(){this.bw()},T(t,[{key:"Wit",get:function(){return this.Oit}},{key:"tj",get:function(){return this.KU}}]),t}(),gU=function(){function t(t,n,i){this.Git=void 0,this.ztt=t,this.Vtt=n,this.Ki=i}var n=t.prototype;return n.Yit=function(t,n,i){var e,r,s,u,o,a,h,c;return Mr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return hu(i),r=this.Vtt.Uit(t),e=r&&jt(r.Hit,t,1e-5)?w.max(r.Fit,t):t,s=this.$it(e),u=function(t,n,i,e){var r,s,u;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=n.LJ,s=r.Y1(t)){o.next=4;break}return o.abrupt("return",void 0);case 4:if(!n._1(s)){o.next=9;break}return o.next=7,Mr.awrap(n.w1(s,i,e));case 7:return u=o.sent,o.abrupt("return",u.v3(t));case 9:return o.abrupt("return",s);case 10:case"end":return o.stop()}},null,null,null,Ye)}.bind(void 0,e),f.next=8,Mr.awrap(this.Ki.Qit(u,s,n,i));case 8:o=f.sent,hu(i);case 10:if(!o||!this.Kit(o.U2)){f.next=19;break}return a=yU(o.U2),h=o.C1,f.next=15,Mr.awrap(this.Ki.Qit(a,[h],n,i));case 15:o=f.sent,hu(i),f.next=10;break;case 19:if(o){f.next=22;break}return f.abrupt("return",void 0);case 22:if(this.Zit(o.U2)){f.next=25;break}return f.abrupt("return",o);case 25:if(c=this.Jit(o.U2),!(t<c.IC)){f.next=30;break}return f.next=29,Mr.awrap(this.findFirstNonAppendedSegmentBeforeSegment(o,n,i,c));case 29:return f.abrupt("return",f.sent);case 30:if(!(t>=c.NC)){f.next=34;break}return f.next=33,Mr.awrap(this.findFirstNonAppendedSegmentAfterSegment(o,n,i));case 33:return f.abrupt("return",f.sent);case 34:if(!o.C1.b1(o.U2)){f.next=36;break}return f.abrupt("return",void 0);case 36:throw new v("Fatal buffering error");case 38:case"end":return f.stop()}},null,this,null,Ye)},n.findFirstNonAppendedSegmentAfterSegment=function(t,n,i){var e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:e=t;case 1:return r=yU(e.U2),s=t.C1,u.next=5,Mr.awrap(this.Ki.Qit(r,[s],n,i));case 5:e=u.sent,hu(i);case 7:if(e&&this.Zit(e.U2)){u.next=1;break}case 8:if(e){u.next=11;break}return u.abrupt("return",void 0);case 11:return u.abrupt("return",e);case 13:case"end":return u.stop()}},null,this,null,Ye)},n.findFirstNonAppendedSegmentBeforeSegment=function(t,n,i,e){var r,s,u,o;return Mr.async(function(a){for(;;)switch(a.prev=a.next){case 0:r=t;case 1:return h=r.U2,s=function(t,n,i,e){var r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!IL(t)){u.next=12;break}if(0!==t.s1){u.next=3;break}return u.abrupt("return",void 0);case 3:if(r=n.LJ.E2(t)){u.next=6;break}return u.abrupt("return",void 0);case 6:return u.next=8,Mr.awrap(n.w1(r,i,e));case 8:return s=u.sent,u.abrupt("return",s.a3(t.s1-1));case 12:return u.abrupt("return",n.LJ.l2(t));case 13:case"end":return u.stop()}},null,null,null,Ye)}.bind(void 0,h),u=t.C1,a.next=5,Mr.awrap(this.Ki.Qit(s,[u],n,i));case 5:r=a.sent,hu(i);case 7:if(r&&this.Zit(r.U2)){a.next=1;break}case 8:if(r){a.next=12;break}throw o=t.C1.N1.IC,new lU(o,e.IC,t.C1);case 12:return a.abrupt("return",r);case 14:case"end":return a.stop()}var h},null,this,null,Ye)},n.tet=function(t){return this.Vtt.Wit.Nit(t)},n.net=function(t){return this.Vtt.Xit(t.Vm,t.qm)},n.Zit=function(t){var n,i=this.net(t);return i.length>0&&(n=t,function(t){for(var n=WS.vD(),i=0;i<t.length;i++){var e=t[i];n=n.YC(new WS([e.Mit,e.Fit]))}return n}(i).ZC(n.Vm,n.qm))&&i.every(mU)},n.Kit=function(t){return this.Vtt.tj.ZC(t.Vm,t.qm)},n.Jit=function(t){var n=this.net(t);return{IC:n[0].jit,NC:n[n.length-1].Hit}},n.$it=function(t){var n=this;return(this.Git?this.Git:this.Vtt.V_.p0).filter(function(i){return!n.Vtt.tj.Cit(t,i)})},T(t,[{key:"ent",get:function(){return this.Git},set:function(t){this.Git=t}},{key:"b5",get:function(){return this.Vtt.V_.b5}}]),t}();function yU(t){return function(t,n,i,e){var r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!IL(t)){u.next=12;break}if(r=n.LJ.E2(t)){u.next=4;break}return u.abrupt("return",void 0);case 4:return u.next=6,Mr.awrap(n.w1(r,i,e));case 6:if(s=u.sent,t.s1+1!==s.Tw){u.next=9;break}return u.abrupt("return",void 0);case 9:return u.abrupt("return",s.a3(t.s1+1));case 12:return u.abrupt("return",n.LJ.a2(t));case 13:case"end":return u.stop()}},null,null,null,Ye)}.bind(void 0,t)}function mU(t){return t.t9}var pU=function(){function t(t,n,i,e){this.iet=!1,this.eet=t,this.pit=n,this.ED=i,this.ret=e}var n=t.prototype;return n.Qit=function(t,n,i,e){var r,s,u;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(hu(e),r=this.uet(n,i)){o.next=4;break}return o.abrupt("return",void 0);case 4:return o.next=6,Mr.awrap(t(r,this.ret,e));case 6:if(s=o.sent){o.next=9;break}return o.abrupt("return",void 0);case 9:return u=r.c1(s),o.abrupt("return",{C1:r,U2:s,Kl:u});case 11:case"end":return o.stop()}},null,this,null,Ye)},n.uet=function(t,n){if(0!==t.length){var i=this.eet.g6(t,this.iet?n:void 0,this.pit,this.ED.pL);return this.iet||(this.iet=!0),i}},t}(),kU=function(){function t(t,n,i,e){this.eet=t,this.pit=n,this.B6=i,this.ret=e}return t.prototype.Qit=function(t,n,i,e){var r,s,u,o,a,h;return Mr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(hu(e),(r=this.eet.m6(n,i,this.pit)).length){c.next=4;break}return c.abrupt("return",void 0);case 4:u=0;case 5:if(!(u<r.length)){c.next=27;break}return o=r[u],c.prev=7,hu(e),c.next=11,Mr.awrap(t(o,this.ret,e));case 11:if(!(a=c.sent)){c.next=18;break}return h=o.c1(a),c.next=16,Mr.awrap(this.B6.IZ(h.Kl,h.bJ));case 16:if(!c.sent){c.next=18;break}return c.abrupt("return",{U2:a,C1:o,Kl:h});case 18:c.next=24;break;case 20:c.prev=20,c.t0=c.catch(7),cu(c.t0),s=c.t0;case 24:u++,c.next=5;break;case 27:if(!s){c.next=29;break}throw s;case 29:return c.abrupt("return",void 0);case 30:case"end":return c.stop()}},null,this,[[7,20]],Ye)},t}(),bU=function(t,n,i,e,r){return t.filter(function(t){return r.PU(t)&&e.Me(n,t)})},AU=.8,TU=function(t,n,i){return t.filter(function(t){return function(t,n,i){var e=i.p6;if(e<=0)return!1;return e*AU>t.PR*i.Wg}(t,0,i)})};var SU=function(t,n,i,e,r){if(!e.vn)return t;if(t.length>0&&t[0].vs!==gm.wd)return t;for(var s=t.length-1;s>=0;s--){var u=t[s];if(u.uT===i.A6&&u.yp===i.b6)return t.slice(0,s+1);if(u.uT<i.A6||u.yp<i.b6)return t.slice(0,s+2)}return[]},EU=function(){function t(t){this.oet=void 0,this.oet=t}return t.prototype.Qit=function(t,n,i,e){var r,s,u,o,a;return Mr.async(function(h){for(;;)switch(h.prev=h.next){case 0:s=0,u=this.oet;case 1:if(!(s<u.length)){h.next=17;break}return o=u[s],h.prev=3,h.next=6,Mr.awrap(o.Qit(t,n,i,e));case 6:if(!(a=h.sent)){h.next=9;break}return h.abrupt("return",a);case 9:h.next=14;break;case 11:h.prev=11,h.t0=h.catch(3),r=h.t0;case 14:s++,h.next=1;break;case 17:if(!r){h.next=19;break}throw r;case 19:return h.abrupt("return",void 0);case 20:case"end":return h.stop()}},null,this,[[3,11]],Ye)},t}(),IU=function(){function t(t){this.aet=void 0,this.aet=t}return t.prototype.m3=function(t,n,i,e){var r,s,u,o;return Mr.async(function(a){for(;;)switch(a.prev=a.next){case 0:s=0,u=this.aet;case 1:if(!(s<u.length)){a.next=16;break}return o=u[s],a.prev=3,a.next=6,Mr.awrap(o.m3(t,n,i,e));case 6:return a.abrupt("return",a.sent);case 9:a.prev=9,a.t0=a.catch(3),cu(a.t0),r=a.t0;case 13:s++,a.next=1;break;case 16:throw r;case 17:case"end":return a.stop()}},null,this,[[3,9]],Ye)},t}(),RU=function(){function t(t){this.dE=void 0,this.dE=t}return t.prototype.m3=function(t,n,i,e){var r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Mr.awrap(this.dE.$l({Kl:t,Wl:xf.Wf,ql:{Range:"bytes="+n[0]+"-"+n[1]},Ad:i,md:c_.GET,vs:f_.Jl,qs:e}));case 2:return r=s.sent,s.next=5,Mr.awrap(r.Cl());case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,Ye)},t}(),NU=function(){function t(t){this.B6=void 0,this.B6=t}return t.prototype.m3=function(t,n,i,e){var r,s;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Mr.awrap(this.B6.RZ(t,n));case 2:if(!(r=i.sent)){i.next=5;break}return i.abrupt("return",r.buffer);case 5:return i.next=7,Mr.awrap(this.B6.RZ(t));case 7:if(!(s=i.sent)){i.next=10;break}return i.abrupt("return",Zo(new p(s.buffer),n[0],n[1]));case 10:throw new ZF({Kl:t,bJ:n,Ad:!1});case 11:case"end":return i.stop()}},null,this,null,Ye)},t}();var CU=function(t,n,i,e){var r,s;if(e.je)return t;for(var u=e.He,o=null!=(r=null==u?void 0:u.width)?r:i.b6,a=null!=(s=null==u?void 0:u.height)?s:i.A6,h=t.length-1;h>=0;h--){var c=t[h];if(c.uT<=1.05*a&&c.yp<=1.05*o)return t.slice(0,h+1)}return[]},DU=function(){function t(){}return t.IK=function(t,n,e,r,s,u,o,a,h){var c=function(t,n){return new IU([new NU(n),new RU(t)])}(u,o),f=new UM([bU],s,i.Fr,a,h),v=new kU(f,n,o,c),l=new UM([TU,bU,SU,CU],s,i.Fr,a,h),d=new pU(l,n,r,c),_=new EU([v,d]);return new gU(t,e,_)},t}(),PU=function(){function t(t){this.pit=t}var n=t.prototype;return n.a8=function(t,n,i,e){return this.pit.a8(t,n,i,e)},n.het=function(t,n,i){return this.pit.L7(t,n,i)},n.cet=function(t,n,i){return this.pit.cet(t,n,i)},n.ZU=function(t,n){this.pit.ZU(t,n)},n.JU=function(t,n){this.pit.JU(t,n)},n._z=function(){this.pit._z()},n.yL=function(){return this.pit.yL()},t}(),BU=function(t){function n(n,i,e,r,s,u){var o;return void 0===u&&(u=0),(o=t.call(this,Bf.Of)||this).segmentStartTime=n,o.error=i,o.trackType=e,o.track=r,o.quality=s,o.retryCount=u,o}return E(n,t),n}(Eu),xU=function(t){function n(n,i){var e;return(e=t.call(this,Bf.cf)||this).track=n,e.segments=i,e}return E(n,t),n}(Eu);var OU=function(t){function n(){return t.call(this,"interrupted")||this}return E(n,t),n}(rn),LU=[Bf.Lf,Bf.Ff],MU=function(t){function i(n,i,e,r,s,u,o,a){var h;return(h=t.call(this)||this).fet=void 0,h.FX=void 0,h.vet=void 0,h.let=void 0,h.det=0,h._et=void 0,h.wet=WS.vD(),h.ztt=n,h.yet=i,h.Vtt=e,h.met=r,h.pet=s,h.ket=u,h.bet=o,h.w6=a,h.ket.Ks(LU,h.$s),h}E(i,t);var e=i.prototype;return e.Aet=function(t){return!this.FX||!t||!Wu(this.FX.dtt,t.dtt)},e.Ftt=function(t){if(!this.fet)return!1;var n=this.fet.U2,i=new WS([n.Vm,n.qm]),e=this.met.Ait,r=e.KC(t);return r<0?i.VN(t,.001):i.tD(t,e.NC(r),!0,!0,.001)},e.Ktt=function(t){var n,i,e,r,s,u;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=1,hu(t),this.Tet(),!this.Eet()){o.next=7;break}return o.abrupt("break",56);case 7:return n=this.Iet(),o.next=10,Mr.awrap(this.Qit(n,t));case 10:if(void 0!==(i=o.sent)){o.next=13;break}return o.abrupt("break",56);case 13:if(this.fet=i,a=this.fet,h=void 0,c=void 0,f=void 0,h=a.C1,c=h.LJ,f=IL(a.U2)?c.E2(a.U2):a.U2,c.f2(f,h.v1._4())){o.next=18;break}return o.next=17,Mr.awrap(this.Ret(this.fet,t));case 17:return o.abrupt("continue",0);case 18:if(!this.vet||this.vet.C1.Pl===this.fet.C1.Pl){o.next=21;break}return o.next=21,Mr.awrap(this.w6.BU(this.fet.C1));case 21:return o.next=23,Mr.awrap(this.Net(n,this.fet.U2,t));case 23:return o.next=25,Mr.awrap(this.Cet(this.fet.C1,t));case 25:return this.FX=o.sent,o.next=28,Mr.awrap(this.xnt(this.fet,t));case 28:return e=o.sent,r=this.met.nm,s=this.vet,o.next=33,Mr.awrap(this.Det(e,t));case 33:this.vet=o.sent,u=this.met.nm,this.Pet(s,this.fet,r,u),o.next=51;break;case 38:if(o.prev=38,o.t0=o.catch(1),!(o.t0 instanceof lU)){o.next=45;break}return this.kz(o.t0.IC,o.t0.NC,o.t0.C1),o.abrupt("continue",0);case 45:if(!(o.t0 instanceof OU)){o.next=49;break}return o.next=48,Mr.awrap(mu(this.yet.Bet*w.pow(2,this.det-1),t));case 48:return o.abrupt("continue",0);case 49:throw this.wet=WS.vD(),o.t0;case 51:return o.prev=51,this.fet=void 0,o.finish(51);case 54:o.next=0;break;case 56:case"end":return o.stop()}var a,h,c,f},null,this,[[1,38,51,54]],Ye)},e.Pet=function(t,n,i,e){var r,s=e.QC(i),u=n.C1.g1(n.U2),o=n.C1.b1(n.U2),a=n.U2.Vm,h=n.U2.qm;u&&(a=w.min(a,w.max(0,n.C1.N1.IC-.05))),o&&(h=w.max(h,n.C1.N1.NC));var c=new WS([a,h]).QC(e);if(0===s.Tw)return 0===this.wet.Tw&&this.wet.YC(new WS([i.NC(i.Tw-1),a])),this.wet=this.wet.YC(c),void this.Vtt.qit(this.wet);if(u||this.wet.Tw>0){var f=c.XC(new WS([a,s.IC(0)]));this.xet(f)}var v=s.zC().XC(new WS([s.IC(0),s.NC(s.Tw-1)]));if(this.xet(v),o){var l=c.XC(new WS([s.NC(s.Tw-1),h]));this.xet(l)}if(this.wet.Tw>0){var d=this.wet.QC(s);this.xet(d),this.wet=WS.vD()}var _=n.C1.LJ,g=IL(n.U2)?void 0:_.l2(n.U2),y=null!=(r=null==t?void 0:t.U2)?r:this.Oet(g)?g:void 0;if(y){var m=this.Vtt.Xit(y.Vm,y.qm);if(m.length>0){var p=new WS([m[m.length-1].Hit,s.IC(0)]);this.xet(p)}}var k=IL(n.U2)?void 0:_.a2(n.U2);if(k&&this.Oet(k)){var b=this.Vtt.Xit(k.Vm,k.qm);if(b.length>0){var A=new WS([s.NC(s.Tw-1),b[0].jit]);this.xet(A)}}},e.Oet=function(t){return!!t&&this.Vtt.Xit(t.Vm,t.qm).length>0},e.xet=function(t){for(var n=t.QC(this.met.nm),i=0;i<n.Tw;i++)n.IC(i)!==n.NC(i)&&this.bet.ZU(n.IC(i),n.NC(i))},e.Let=function(t){throw new OU},e.Tet=function(){var t;if(!(this.wet.Tw>0)){var n=this.met.Ait.YC(null!=(t=this.met.tj.MC().oD(this.met.Sit))?t:WS.vD());this.Vtt.Bit(n),this.let&&!this.Met(this.let)&&(this.let=void 0),this.Qs(new xU(this.Vtt.V_.b5,this.Vtt.zit()))}},e.Eet=function(){return this.vet&&this.vet.C1.b1(this.vet.U2)?(this.bet._z(),!0):(this.let&&this.let.C1.b1(this.let.U2)&&this.Met(this.let)&&this.bet._z(),!!this.met.Tit)},e.Met=function(t){return this.Vtt.Wit.ZC(t.Fet,t.Uet)},e.jet=function(t,n,i){(!this.let||this.let.U2.qm<t.U2.qm)&&(this.let=Fr({},t,{Fet:n,Uet:i}))},e.Iet=function(){var t=this.met.Sit;return t},e.Qit=function(t,n){var i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return hu(n),i=this.vet?this.vet.C1:void 0,r.next=4,Mr.awrap(this.pet.Yit(t,i,n));case 4:if(e=r.sent){r.next=8;break}return r.abrupt("return",void 0);case 8:return r.abrupt("return",e);case 10:case"end":return r.stop()}},null,this,null,Ye)},e.Ret=function(t,n){var i,e,r,s,u,o;return Mr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(i=t.C1,e=i.LJ,r=IL(t.U2)?e.E2(t.U2):t.U2,s=i.v1._4(),!((u=e.o2(r))&&u.getTime()<=s.getTime())){a.next=7;break}return a.abrupt("return",this.Let(TM.P5));case 7:return o=e.h2(r).getTime()-s.getTime(),a.next=11,Mr.awrap(du(function(t){return Ye.race([mu(o,t),i.fu(kL.$0,t)])},n));case 11:case"end":return a.stop()}},null,this,null,Ye)},e.Cet=function(t,i){var e,r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(hu(i),e=t.I1){s.next=4;break}return s.abrupt("return",this.FX);case 4:if(s.prev=4,t.E1){s.next=12;break}return s.next=8,Mr.awrap(this.ket.Ont(e,i));case 8:return r=s.sent,s.next=11,Mr.awrap(r.Hi);case 11:t.E1=s.sent;case 12:s.next=20;break;case 14:if(s.prev=14,s.t0=s.catch(4),cu(s.t0),!ub(s.t0)){s.next=19;break}return s.abrupt("return",this.Let(TM.j5));case 19:throw new lf(n.ErrorCode.MEDIA_LOAD_ERROR,s.t0.message,s.t0);case 20:if(hu(i),s.prev=21,!this.Aet(t.E1)){s.next=25;break}return s.next=25,Mr.awrap(this.bet.het(t.E1,t,i));case 25:s.next=33;break;case 27:if(s.prev=27,s.t1=s.catch(21),cu(s.t1),!ub(s.t1)){s.next=32;break}return s.abrupt("return",this.Let(TM.j5));case 32:throw new lf(n.ErrorCode.MEDIA_DECODE_ERROR,s.t1.message,s.t1);case 33:return s.abrupt("return",t.E1);case 34:case"end":return s.stop()}},null,this,[[4,14],[21,27]],Ye)},e.xnt=function(t,i){var e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,hu(i),r.next=4,Mr.awrap(this.ket.xnt(t,i));case 4:return e=r.sent,this._et=void 0,this.det=0,r.abrupt("return",e);case 10:if(r.prev=10,r.t0=r.catch(0),cu(r.t0),!(r.t0 instanceof cU)){r.next=16;break}return this.Het(t,r.t0),r.abrupt("return",this.Let(TM.P5));case 16:throw new lf(n.ErrorCode.MEDIA_LOAD_ERROR,r.t0.message,r.t0);case 17:case"end":return r.stop()}},null,this,[[0,10]],Ye)},e.Net=function(t,n,i){var e,r,s,u,o,a,h,c,f,v;return Mr.async(function(l){for(;;)switch(l.prev=l.next){case 0:for(e=this.Vtt.Xit(n.Vm,n.qm),r=this.met.Ait.oD(t),s=WS.vD(),u=0;u<e.length;u++)o=e[u],hu(i),a=o.jit,h=o.Hit,(c=r&&r.tD(a,h)?w.max(a,r.NC(0)):a)<(f=h)&&(s=s.YC(new WS([c,f])));v=0;case 5:if(!(v<s.Tw)){l.next=11;break}return l.next=8,Mr.awrap(this.bet.cet(s.IC(v),s.NC(v),i));case 8:v++,l.next=5;break;case 11:this.Tet();case 12:case"end":return l.stop()}},null,this,null,Ye)},e.Det=function(t,i){var e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,hu(i),r.next=4,Mr.awrap(this.bet.a8(t.Xnt,t.U2,t.C1,i));case 4:return e=r.sent,this.Xet(t,e.Fet,e.Uet),this.jet(t,e.Fet,e.Uet),r.abrupt("return",t);case 11:if(r.prev=11,r.t0=r.catch(0),cu(r.t0),!ub(r.t0)){r.next=19;break}return this.zet(new cU(r.t0,t.U2,t.C1),0),r.abrupt("return",this.Let(TM.P5));case 19:if(!ZR(r.t0)){r.next=22;break}if(!this.bet.yL()){r.next=22;break}return r.abrupt("return",this.Let(TM.x5));case 22:throw new lf(n.ErrorCode.MEDIA_DECODE_ERROR,r.t0.message,r.t0);case 23:case"end":return r.stop()}},null,this,[[0,11]],Ye)},e.Xet=function(t,n,i){var e=t.C1,r=t.U2;this.Vit(r,e,n,i)},e.Vit=function(t,n,i,e){this.Vtt.Vit({Mit:t.Vm,Fit:t.qm,jit:i,Hit:e,t9:!0},n),this.bet.JU(i,e)},e.kz=function(t,n,i){var e=new WS([t,n]);i?this.Vtt.ZU(e,i):this.Vtt.qit(e),this.bet.ZU(t,n)},e.Het=function(t,n){var i,e;this._et&&(i=this._et,e=t,i.C1===e.C1&&i.U2.Vm===e.U2.Vm)?this.det++:(this._et=t,this.det=1);var r=this.yet.Vet;this.det===r&&(this.zet(n,r),this.qet(t,n))},e.qet=function(t,n){if(n&&n.cause){var i=n.cause;if(i instanceof I_||ob(i)&&i.Ud.Vl>=400&&i.Ud.Vl<500){var e=new WS([t.U2.Vm,t.U2.qm]);t.C1?this.Vtt.ZU(e,t.C1):this.Vtt.qit(e);var r=this.met.nm;this.Pet(this.vet,t,r,r)}}},e.zet=function(t,n){var i=t.ait,e=this.Vtt.V_.b5,r=this.Vtt.V_.X_,s=t.cit.C1&&t.cit.C1.X_,u=new BU(i,t.message,e,r,s,n);this.Qs(u)},e.bw=function(){this.FX=void 0,this.vet=void 0,this._et=void 0,this.det=0},e.Ed=function(){this.bw(),this.let=void 0,this.ket.nu(LU,this.$s),this.ket.Ed()},T(i,[{key:"Jtt",get:function(){return this.fet}},{key:"tnt",get:function(){return this.vet}},{key:"ent",get:function(){return this.pet.ent},set:function(t){this.pet.ent=t}},{key:"b5",get:function(){return this.Vtt.V_.b5}}]),i}(Tu);var FU={Bet:250,Vet:4},UU=0,jU=function(){function t(t,n,i,e,r,s,u,o,a){this.pit=t,this.qtt=n,this.kit=i,this.dE=e,this.ED=r,this.Wet=s,this.B6=u,this._6=o,this.w6=a}return t.prototype.IK=function(t){var n=UU++,i=this.pit.Ez,e=new wU(t),r=new WF(i,this.Wet),s=new dU(this.pit,this.qtt,this.kit,this.ED),u=DU.IK(n,this.pit,e,this.ED,r,this.dE,this.B6,this._6,this.w6),o=function(t){switch(t){case gm._d:return l_._d;case gm.wd:return l_.wd;case gm.Jn:return l_.Jn;case gm.yd:return l_.yd;default:return l_.Jl}}(i),a=new FF(this.dE,o),h=this.git(a,r,this.Wet),c=new PU(this.pit),f=new MU(n,FU,e,s,u,h,c,this.w6);return new LF(n,t.T1,e,f,this.qtt)},t}(),HU=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.git=function(t,n,i){return(new vU).git(t,this.pit,n,i,this.B6)},n}(jU),XU=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.Get=function(n,i){var e={b5:gm.Jn,T1:i,p0:i.p0,X_:n.X_};return t.prototype.IK.call(this,e)},i.git=function(t,n){return(new vU).git(t,this.pit,n,!1,this.B6)},n}(jU);var zU=function(){function t(t){this.Yet=t}var n=t.prototype;return n.PU=function(t){return this.Yet.PU(t)},n.BU=function(t){return this.Yet.BU(t)},t}(),VU=new(function(){function t(){}var n=t.prototype;return n.PU=function(t){return!0},n.BU=function(t){return Ye.resolve(void 0)},t}()),qU=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r,s)||this).lE=void 0,o.lE=u,o}E(n,t);var i=n.prototype;return i.$et=function(t,n,i,e,r,s,u){var o,a,h=s.p0.reduce(function(t,n){return t||n.xw},void 0),c=null!=(o=null!=h?h:null==(a=s.xw)?void 0:a.toString())?o:"";return this.lE.gE(t,c,n,i,e,r,u)},i.Ed=function(){for(var n=0,i=this.VA.Aw;n<i.length;n++){var e=i[n];this.lE.pE(e)}return t.prototype.Ed.call(this)},n}(function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Ba=0,u.pD=1,u.Qet=void 0,u.Ket={},u.Zet={},u.Pa=0,u.dE=void 0,u.B6=void 0,u.qtt=void 0,u.ED=void 0,u.Jet=void 0,u.trt=function(t){0},u.qtt=n,u.dE=i,u.ED=e,u.Jet=r,u.B6=s,u}E(n,t);var i=n.prototype;return i._z=function(){},i.Eit=function(){return this.Ait.VN(this.NC)},i.a8=function(t,n,i,e){var r,s,u,o,a,h,c,f,v;return Mr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(t.vs!==kC.WU){l.next=4;break}l.t0=t.Hi.dtt,l.next=7;break;case 4:return l.next=6,Mr.awrap(t.Hi.Cl(e));case 6:l.t0=l.sent;case 7:for(r=l.t0,s=this.findTrackForRepresentation(i),u=this.Ket[s.Ow],o=n.Vm,a=n.qm,h=new WS([o,a]),u||(this.Ket[s.Ow]=WS.vD(),this.Zet[s.Ow]=WS.vD()),this.nrt(e),c=this.M7(new p(r),n,i,s),f=0;f<c.length;f++)v=c[f],s.mE(v);return this.Ket[s.Ow]=this.Ket[s.Ow].YC(h),l.abrupt("return",{Fet:o,Uet:a});case 19:case"end":return l.stop()}},null,this,null,Ye)},i.nrt=function(t){for(var n=KR(this.qtt.jg,void 0,void 0,this.nm,this.ED.mL,this.ED.aL),i=0;i<n.length;i++){var e=n[i],r=e[0],s=e[1];gu(this.cet(r,s,t))}},i.L7=function(t,n,i){return this.Jet.L7(t,n,i)},i.M7=function(t,n,i,e){return this.Jet.M7(t,n,i,e)},i.cet=function(t,n,i){for(var e=t,r=n,s=new WS([t,n]),u=0,o=this.VA.Aw;u<o.length;u++){for(var a=o[u],h=[],c=0,f=a.Qw.Aw;c<f.length;c++){var v=f[c];v.Vm>=e&&v.qm<=r?h.push(v):s=s.QC(new WS([v.Vm,v.qm]))}for(var l=0;l<h.length;l++){var d=h[l];a.uE(d)}var _=this.Ket[a.Ow];_&&(this.Ket[a.Ow]=_.QC(s))}return Ye.resolve()},i.ZU=function(t,n){},i.JU=function(t,n){},i.yL=function(){return!1},i.hE=function(n){if(t.prototype.hE.call(this,n),this.Jet.bw(),this.Qet&&(this.Qet.Ed(),this.Qet=void 0),this.r5){var i=this.ktt(this.r5);this.Qet=new XU(this,this.qtt,this.qtt,this.dE,this.ED,!1,this.B6,void 0,VU).Get(this.r5,i),this.Qet.Ks(Ug.Vw,this.trt),this.Qet.IC(TM.S5)}},i.cE=function(n){this.r5===n&&(t.prototype.cE.call(this,n),this.Qet&&(this.Qet.Ed(),this.Qet=void 0))},i.gtt=function(t){var n=function(t){var n=t.p0&&t.p0.length>0&&t.p0[0],i=n&&ab(n.VH),e=ab(t.VH),r=t.YB===Xc.APPLICATION_TTML_XML;return i||e||r?Bm.TTML:t.YB===Xc.TEXT_VTT||vb(t.YB,t.VH)?Bm.WEBVTT:Bm.DEFAULT}(t);if(!n)throw new v("Unknown TextTrack type for Representation");return this.$et(Ys(t.k0.filter(function(t){return"urn:mpeg:dash:role:2011"===t.pJ}).map(function(t){return t.Ai}).filter(H),"caption")?Jk.tE:Jk.Qb,t.Mw,t.uQ,!1,n,t,function(t){return t.filter(function(t){return"urn:mpeg:dash:role:2011"===t.pJ}).some(function(t){return"forced-subtitle"===(n=t.Ai)||"forced_subtitle"===n;var n})}(t.k0))},i.bw=function(){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(t.prototype.bw.call(this));case 2:if(!this.Qet){n.next=7;break}return n.next=5,Mr.awrap(this.Qet.bw(TM.G5));case 5:this.Qet.nu(Ug.Vw,this.trt),this.Qet=void 0;case 7:this.a5=void 0,this.Ket={},this.Zet={};case 10:case"end":return n.stop()}},null,this,null,Ye)},i.irt=function(){this.Ket={},this.Zet={}},i.findTrackForRepresentation=function(t){for(var n=0,i=this.VA.Aw;n<i.length;n++){var e=i[n],r=this.ktt(e);if(r&&CF.Att(r)===t)return e}},T(n,[{key:"MN",get:function(){var t=this.qtt.jg;return this.Ait.oD(t,.01)}},{key:"ert",get:function(){return this.r5&&this.Ket[this.r5.Ow]?this.Ket[this.r5.Ow]:WS.vD()}},{key:"rrt",get:function(){return this.r5&&this.Zet[this.r5.Ow]?this.Zet[this.r5.Ow]:WS.vD()}},{key:"Iit",get:function(){return new WS([0,1/0])}},{key:"nm",get:function(){return this.ert}},{key:"tj",get:function(){return this.Qet?this.Qet.int.tj.xit:WS.vD()}},{key:"Ait",get:function(){return DF(this.nm,this.tj).GC(2*this.urt)}},{key:"IC",get:function(){return this.a5?this.a5.N1.IC:NaN}},{key:"NC",get:function(){return this.a5?this.a5.N1.NC:NaN}},{key:"Xg",get:function(){var t=this.NC;return!!t&&this.qtt.jg>=t}},{key:"urt",get:function(){var t,n,i=this.btt();return i?1/(null!=(t=this.r5&&(null==i?void 0:null==(n=i.GJ)?void 0:n.pp()))?t:25):.04}},{key:"uT",get:function(){return this.Ba}},{key:"Ez",get:function(){return gm.Jn}},{key:"Wg",get:function(){return this.pD},set:function(t){this.pD=t}},{key:"ym",get:function(){return this.rrt}},{key:"pm",get:function(){if(!this.r5)return WS.fD(0);var t=this.ktt(this.r5),n=null==t?void 0:t.U1,i=null==t?void 0:t.F1;if(void 0===i||void 0===n)return WS.fD(0);var e=w.max(n,this.qtt.jg);return new WS([i,e]).MC()}},{key:"yp",get:function(){return this.Pa}}]),n}(CF)),WU=function(){function t(t,n,i,e,r){this.ort=[],this.Ey=new SS([]),this.lE=void 0,this.qtt=void 0,this.dE=void 0,this.ED=void 0,this.B6=void 0,this.qtt=t,this.dE=n,this.ED=i,this.B6=e,this.lE=r}var n=t.prototype;return n.yE=function(t){var n,i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.vs===gm.Jn){e.next=2;break}return e.abrupt("return");case 2:if(r=t.YB,s=t.VH,!(n=ab(s)||r===Xc.APPLICATION_TTML_XML||r===Xc.TEXT_VTT?new EF:vb(r,s)?new RF:void 0)){e.next=9;break}return i=this.art(n),this.hrt(i),e.next=8,Mr.awrap(i.$h(t));case 8:return e.abrupt("return",i);case 9:case"end":return e.stop()}var r,s},null,this,null,Ye)},n.art=function(t){return new qU(this.qtt,this.dE,this.ED,t,this.B6,this.lE)},n.hrt=function(t){this.ort.push(t),this.Ey.qR(t.VA)},n.bw=function(){var t,n,i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=this.ort.slice();case 1:if(!(t<n.length)){e.next=8;break}return i=n[t],e.next=5,Mr.awrap(i.bw());case 5:t++,e.next=1;break;case 8:Qs(this.ort),this.Ey.bw();case 10:case"end":return e.stop()}},null,this,null,Ye)},n.Ed=function(){var t,n,i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=this.ort;case 1:if(!(t<n.length)){e.next=8;break}return i=n[t],e.next=5,Mr.awrap(i.Ed());case 5:t++,e.next=1;break;case 8:Qs(this.ort),this.Ey.Ed();case 10:case"end":return e.stop()}},null,this,null,Ye)},T(t,[{key:"Py",get:function(){return this.Ey}}]),t}(),GU=function(t){function n(){return t.call(this,RM.f6)||this}return E(n,t),n}(Eu),YU=function(t){function i(i,e,r,s,u,o,a,h){var c;return(c=t.call(this)||this).Cm=void 0,c.Ty=new ym,c.Sy=new ym,c.Ey=void 0,c.lE=void 0,c.crt=void 0,c.dE=void 0,c.ED=void 0,c.B6=void 0,c.ZR=void 0,c.C8=void 0,c.B1=void 0,c.frt=[],c.vrt=new uu,c.lrt=!0,c.ort=[],c.drt=void 0,c._rt=void 0,c.wrt=tt(function(){c.Qs(new mC(c.jg))},350),c.grt=function(t){var n=t.i5.r5;if(n)for(var i=0,e=c.frt;i<e.length;i++){var r,s=e[i];s.r5&&s.r5!==n&&s.vs===(null==(r=n.c0)?void 0:r.vs)&&(s.nu("e5",c.grt),s.r5.Bw=!1,s.Ks("e5",c.grt))}c.$s(t)},c.K8=function(t){au(t)||c.Qs(new Xy(new lf(n.ErrorCode.MEDIA_LOAD_ERROR,t.message,t)))},c.yrt=function(t){var i=t.fW;if(i)for(var e=0,r=c.T9;e<r.length;e++){if((r[e].T1.qJ||[]).some(function(t){return t.XE&&Gu(Ko(i),XI(t.XE))}))return void c.Qs(new gB(new fm(n.ErrorCode.CONTENT_PROTECTION_OUTPUT_RESTRICTED,"Content unavailable due to DRM restrictions")))}},c.dE=i,c.ED=e,c.B6=r,c.ZR=s,c.C8=u,c.Cm=Am(),c.frt=[],c.B1=o,c.drt=a,c.lE=h,c.crt=new WU(s,i,e,r,h),c.Ey=new SS([c.crt.Py]),c.B1.Ks(kL.K0,c.$s),c}E(i,t);var e=i.prototype;return e.gL=function(t,n){return this.mrt(t,n)},e.mrt=function(t,n){var i,e,r,s,u;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:for(i=0;i<t.length;i++)e=t[i],this.prt(e);return o.next=3,Mr.awrap(this.$h(n));case 3:r=0,s=this.B1.X3;case 4:if(!(r<s.length)){o.next=16;break}if((u=s[r]).vs!==gm.Jn){o.next=13;break}if(u.p0&&0!==u.p0.length){o.next=11;break}this.Qs(new MM("No supported representation found in the AdaptationSet with mimetype : "+u.vs)),o.next=13;break;case 11:return o.next=13,Mr.awrap(this.crt.yE(u));case 13:r++,o.next=4;break;case 16:case"end":return o.stop()}},null,this,null,Ye)},e.$tt=function(){return this.ort.some(function(t){return t.$tt()})},e.Eit=function(){return 0!==this.ort.length&&this.ort.every(function(t){return t.Eit()})},e.krt=function(){this.r7()&&this.Qs(new GU)},e.brt=function(t){t.Ks([Ug.Vw,Bf.Df,Bf.Of,Bf.Lf,Bf.Ff,Bf.cf],this.$s),t.Ks(wC.VU,this.wrt),t.Ks("q9",this.$s)},e.Art=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(Ye.all(this.ort.map(function(n){return n.Ed(t)})));case 2:Qs(this.ort);case 3:case"end":return n.stop()}},null,this,null,Ye)},e.r7=function(){if(this.$tt())return!1;if(!this.Eit())return!1;var t=this.nm;if(0===t.Tw)return!1;var n=this.jg;if(this.P7)return t.IC(t.Tw-1)<=n;var i=t.XC(this.Iit);if(0===i.Tw)return!0;var e=i.IC(i.Tw-1),r=i.NC(i.Tw-1)+.1;return e<=n&&n<=r},e.y9=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.lrt){n.next=2;break}return n.abrupt("return");case 2:return this.lrt=!0,n.next=5,Mr.awrap(Ye.all(this.ort.map(function(n){return n.y9(t)})));case 5:case"end":return n.stop()}},null,this,null,Ye)},e.O9=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.lrt){n.next=2;break}return n.abrupt("return");case 2:return this.lrt=!1,n.next=5,Mr.awrap(Ye.all(this.ort.map(function(n){return n.O9(t)})));case 5:case"end":return n.stop()}},null,this,null,Ye)},e.Ed=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.tu(),this.B1.nu(kL.K0,this.$s),this.vrt.Xs(),!this._rt){n.next=7;break}return n.next=6,Mr.awrap(this._rt.catch(Z));case 6:this._rt=void 0;case 7:return n.next=9,Mr.awrap(this.Art(t));case 9:return n.next=11,Mr.awrap(this.crt.Ed());case 11:this.Ty.Ed(),this.Sy.Ed(),this.Ey.Ed(),this.Trt();case 15:case"end":return n.stop()}},null,this,null,Ye)},e.prt=function(t){this.frt.push(t),t.Ks("e5",this.grt);for(var n=t.vs===gm._d?this.Ty:this.Sy,i=0,e=t.VA;i<e.length;i++){var r=e[i];n.yw(r)}},e.Srt=function(t){for(var n=t.vs===gm._d?this.Ty:this.Sy,i=0,e=t.VA;i<e.length;i++){var r=e[i];n.mw(r),r.Ed()}t.Ed(),Ws(this.frt,t)},e.Trt=function(){for(var t=this.frt.length-1;t>=0;t--)this.Srt(this.frt[t])},e.$h=function(t,n){return this.vrt.Xs(),this.vrt=new uu,n&&this.vrt.zs(n),this._rt=lu(this.p_(t,this._rt,this.vrt.qs),this.vrt).catch(this.K8),this._rt},e.p_=function(t,n,i){var e,r,s,u,o,a,h,c,f;return Mr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(!n){v.next=3;break}return v.next=3,Mr.awrap(n.catch(Z));case 3:hu(i),e=[],r=this.ort.slice(),s=t.slice(),Qs(this.ort),u=0;case 9:if(!(u<r.length)){v.next=25;break}if(o=r[u],!(a=o.r5)||!Ys(s,a)){v.next=18;break}this.ort.push(o),e.push(o.$h(a,i)),Ws(s,a),v.next=22;break;case 18:return this.Ey.GR(o.Py),v.next=21,Mr.awrap(o.Ed());case 21:hu(i);case 22:u++,v.next=9;break;case 25:for(h=0;h<s.length;h++)c=s[h],f=this.Ert(c.b5),this.Ey.qR(f.Py),this.ort.push(f),this.brt(f),e.push(f.$h(c,i));return v.next=28,Mr.awrap(Ye.all(e));case 28:this.Irt();case 29:case"end":return v.stop()}},null,this,null,Ye)},e.Rrt=function(t,n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Mr.awrap(this.$h(t));case 2:this.drt=n;case 3:case"end":return i.stop()}},null,this,null,Ye)},T(i,[{key:"Ow",get:function(){return this.Cm}},{key:"Bw",get:function(){return this.ort.some(function(t){return t.Bw})}},{key:"Cy",get:function(){return this.Ty}},{key:"nm",get:function(){if(0===this.ort.length)return WS.vD();for(var t=this.ort.map(function(t){return t.nm}),n=new WS([0,1/0]),i=0;i<t.length;i++){var e=t[i];n=n.XC(e)}if(0===n.Tw)return n;if(this.Eit()){var r=n.XC(this.Iit);if(0===r.Tw)return n;for(var s=r.NC(r.Tw-1),u=0,o=0,a=this.ort;o<a.length;o++){var h=a[o];u=w.max(u,h.Nrt)}s<=u&&(n=n.YC(new WS([s,u],[!0,!0])))}return n}},{key:"jg",get:function(){return this.ZR.jg}},{key:"a7",get:function(){return this.drt}},{key:"NC",get:function(){if(this.P7){var t=this.Hg;if(!m(t)&&t!==Mt)return t}if(!this.ort.length)return NaN;for(var n=0,i=0,e=this.ort;i<e.length;i++){var r=e[i];n=w.max(n,r.NC)}return n}},{key:"P7",get:function(){var t=this.B1.v1;if(t.vs===SO.AE)return!1;var n=t.j0;return 0!==n.length&&this.B1===n[n.length-1]}},{key:"pm",get:function(){if(!this.ort.length)return WS.vD();for(var t=new WS([0,1/0]),n=0,i=this.ort;n<i.length;n++){var e=i[n];t=t.XC(e.pm)}if(t.Tw>0&&this.P7&&isFinite(this.Hg)){var r=this.Hg,s=t.NC(t.Tw-1);r>s&&(t=t.YC(new WS([s,r]).MC()))}return t}},{key:"hC",get:function(){return this.B1}},{key:"Py",get:function(){return this.Ey}},{key:"Dy",get:function(){return this.Sy}},{key:"MN",get:function(){var t=this.jg,n=this.nm,i=n.KC(t);if(-1!==i)return{IC:n.IC(i),NC:n.NC(i)}}},{key:"Iit",get:function(){var t=this.B1.IC,n=this.P7?1/0:this.B1.NC;return new WS([t,n])}},{key:"p7",get:function(){return this.lrt}},{key:"S9",get:function(){return this.frt.map(function(t){return t.r5}).filter(H)}},{key:"T9",get:function(){return this.ort.map(function(t){return t.r5}).filter(H)}}]),i}(Tu),$U=[Ug.Vw,Bf.Of,Bf.Lf,Bf.Ff,Bf.cf],QU=0;var KU,ZU,JU=function(t){function n(n,i){var e;return(e=t.call(this,Bf.Df)||this).representation=n,e.previousRepresentation=i,e}return E(n,t),n}(Eu);function tj(t){return"function"==typeof t.Ru}function nj(t,n,i){if(!(i&&n.byte>=i)){var e=tj(t)?t.Ru(n.byte):t[n.byte];return n.byte+=1,e}}function ij(t,n){return function(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=256*e+nj(t,n);return e}(t,n,2)}!function(t){t[t.Crt=0]="Crt",t[t.Drt=1]="Drt",t[t.Prt=2]="Prt",t[t.Brt=3]="Brt",t[t.xrt=4]="xrt",t[t.Ort=5]="Ort"}(KU||(KU={})),function(t){t[t.Lrt=0]="Lrt",t[t.Mrt=1]="Mrt",t[t.Frt=2]="Frt",t[t.Urt=3]="Urt"}(ZU||(ZU={}));var ej,rj=function(){function t(){this.jrt=0,this.Hrt=[],this.QS={}}var n=t.prototype;return n.Xrt=function(t){this.Hrt=this.Hrt.concat(t.Hrt),this.jrt+=t.Tw},n.zrt=function(t,n,i){var e=this.jrt,r=i-n;r>0&&(this.Hrt.push({Vrt:n,qrt:i,Wrt:r,Grt:e,Yrt:t}),this.jrt+=r)},n.Ru=function(t){for(var n=0,i=this.Hrt;n<i.length;n++){var e=i[n];if(e.Grt<=t&&t<e.Grt+e.Wrt)return e.Yrt[t+e.Vrt-e.Grt]}},n.$rt=function(t,n){for(var i=n,e=0,r=this.Hrt;e<r.length;e++)for(var s=r[e],u=s.qrt,o=s.Vrt;o<u;o+=1,i+=1)t[i]=s.Yrt[o];return i},n.Qrt=function(){for(var t=new p(this.jrt),n=0,i=0,e=this.Hrt;i<e.length;i++)for(var r=e[i],s=r.qrt,u=r.Vrt;u<s;u+=1,n+=1)t[n]=r.Yrt[u];return t},n.Mu=function(n){for(var i=new t,e=0,r=this.Hrt;e<r.length;e++){var s=r[e];i.zrt(s.Yrt,s.Vrt,s.qrt)}return i.QS=n||Fr({},this.QS),i},T(t,[{key:"Tw",get:function(){return this.jrt},set:function(t){var n=this.Hrt,i=this.jrt-t;if(!(t>=this.jrt))if(this.jrt=t,0!==t)for(var e=n.length-1;e>=0;e-=1){var r=n[e];if(i<=r.Wrt)return r.qrt-=i,r.Wrt-=i,void(n.length!==e+1&&(n.length=e+1));i-=r.Wrt}else n.length=0}},{key:"Hi",get:function(){for(var t=new Array(this.jrt),n=0,i=0,e=this.Hrt;i<e.length;i++)for(var r=e[i],s=r.qrt,u=r.Vrt;u<s;u+=1,n+=1)t[n]=r.Yrt[u];return t}}]),t}();function sj(t,n,i){return i===KU.Crt?i:n!==ZU.Lrt&&n!==ZU.Mrt||i!==KU.Drt&&i!==KU.Prt?t?n===ZU.Frt?KU.xrt:n===ZU.Urt?KU.Brt:KU.Crt:KU.Ort:KU.Prt}function uj(t,n,i,e){var r={byte:i},s=KU.Drt,u=[],o=31&nj(n,r,e);r.byte+=1;for(var a=0;a<o;a+=1){var h=nj(n,r,e),c=4&h,f=3&h;s=sj(Boolean(c),f,s);var v=nj(n,r,e),l=nj(n,r,e);u.push({rQ:t,vS:-1,Krt:!a,Zrt:Boolean(c),vs:f,v$:s,Jrt:v,tst:l})}return u}function oj(t,n,i){var e=nj(t,n,i);if(!m(e))return String.fromCharCode(e)}function aj(t){var n=t.nst,i={byte:t.ist},e=t.rst,r=nj(n,i,e);if(255===r&&(i.byte+=1),181===r){var s=ij(n,i);if(s===ej.sst||s===ej.ust){if(s===ej.ust)if("GA94"!==function(t,n,i){for(var e="",r=i;r>0;)r-=1,e+=oj(t,n);return e}(n,i,4))return;if(3===nj(n,i,e)){s===ej.sst&&(i.byte+=1);var u=t;return u.ost=i.byte,u}}}}function hj(t){return 4===t.ast}function cj(t){for(var n=t.filter(hj).map(aj).filter(H),i=[],e=0;e<n.length;e++){var r=n[e];i.push.apply(i,uj(r.hst,r.nst,r.ost,r.rst))}return i}!function(t){t[t.sst=47]="sst",t[t.ust=49]="ust"}(ej||(ej={}));var fj="und";var vj,lj=[{_i:"Abkhaz",sb:"\u0410\u04a7\u0441\u0443\u0430",1:"ab",2:"abk","2T":"abk","2B":"abk",3:"abk"},{_i:"Afar",sb:"Afaraf",1:"aa",2:"aar","2T":"aar","2B":"aar",3:"aar"},{_i:"Afrikaans",sb:"Afrikaans",1:"af",2:"afr","2T":"afr","2B":"afr",3:"afr"},{_i:"Akan",sb:"Akan",1:"ak",2:"aka","2T":"aka","2B":"aka",3:"aka"},{_i:"Albanian",sb:"Shqip",1:"sq",2:"sqi","2T":"sqi","2B":"alb",3:"sqi"},{_i:"Amharic",sb:"\u12a0\u121b\u122d\u129b",1:"am",2:"amh","2T":"amh","2B":"amh",3:"amh"},{_i:"Arabic",sb:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",1:"ar",2:"ara","2T":"ara","2B":"ara",3:"ara"},{_i:"Aragonese",sb:"Aragon\xe9s",1:"an",2:"arg","2T":"arg","2B":"arg",3:"arg"},{_i:"Armenian",sb:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",1:"hy",2:"hye","2T":"hye","2B":"arm",3:"hye"},{_i:"Assamese",sb:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be",1:"as",2:"asm","2T":"asm","2B":"asm",3:"asm"},{_i:"Avaric",sb:"\u0410\u0432\u0430\u0440",1:"av",2:"ava","2T":"ava","2B":"ava",3:"ava"},{_i:"Avestan",sb:"avesta",1:"ae",2:"ave","2T":"ave","2B":"ave",3:"ave"},{_i:"Aymara",sb:"Aymar",1:"ay",2:"aym","2T":"aym","2B":"aym",3:"aym"},{_i:"Azerbaijani",sb:"Az\u0259rbaycanca",1:"az",2:"aze","2T":"aze","2B":"aze",3:"aze"},{_i:"Bambara",sb:"Bamanankan",1:"bm",2:"bam","2T":"bam","2B":"bam",3:"bam"},{_i:"Bashkir",sb:"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430",1:"ba",2:"bak","2T":"bak","2B":"bak",3:"bak"},{_i:"Basque",sb:"Euskara",1:"eu",2:"eus","2T":"eus","2B":"baq",3:"eus"},{_i:"Belarusian",sb:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",1:"be",2:"bel","2T":"bel","2B":"bel",3:"bel"},{_i:"Bengali",sb:"\u09ac\u09be\u0982\u09b2\u09be",1:"bn",2:"ben","2T":"ben","2B":"ben",3:"ben"},{_i:"Bihari",sb:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940",1:"bh",2:"bih","2T":"bih","2B":"bih",3:"bih"},{_i:"Bislama",sb:"Bislama",1:"bi",2:"bis","2T":"bis","2B":"bis",3:"bis"},{_i:"Bosnian",sb:"Bosanski",1:"bs",2:"bos","2T":"bos","2B":"bos",3:"bos"},{_i:"Breton",sb:"Brezhoneg",1:"br",2:"bre","2T":"bre","2B":"bre",3:"bre"},{_i:"Bulgarian",sb:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",1:"bg",2:"bul","2T":"bul","2B":"bul",3:"bul"},{_i:"Burmese",sb:"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c",1:"my",2:"mya","2T":"mya","2B":"bur",3:"mya"},{_i:"Catalan",sb:"Catal\xe0",1:"ca",2:"cat","2T":"cat","2B":"cat",3:"cat"},{_i:"Chamorro",sb:"Chamoru",1:"ch",2:"cha","2T":"cha","2B":"cha",3:"cha"},{_i:"Chechen",sb:"\u041d\u043e\u0445\u0447\u0438\u0439\u043d",1:"ce",2:"che","2T":"che","2B":"che",3:"che"},{_i:"Chichewa",sb:"Chichewa",1:"ny",2:"nya","2T":"nya","2B":"nya",3:"nya"},{_i:"Chinese",sb:"\u4e2d\u6587",1:"zh",2:"zho","2T":"zho","2B":"chi",3:"zho"},{_i:"Chuvash",sb:"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430",1:"cv",2:"chv","2T":"chv","2B":"chv",3:"chv"},{_i:"Cornish",sb:"Kernewek",1:"kw",2:"cor","2T":"cor","2B":"cor",3:"cor"},{_i:"Corsican",sb:"Corsu",1:"co",2:"cos","2T":"cos","2B":"cos",3:"cos"},{_i:"Cree",sb:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423",1:"cr",2:"cre","2T":"cre","2B":"cre",3:"cre"},{_i:"Croatian",sb:"Hrvatski",1:"hr",2:"hrv","2T":"hrv","2B":"hrv",3:"hrv"},{_i:"Czech",sb:"\u010ce\u0161tina",1:"cs",2:"ces","2T":"ces","2B":"cze",3:"ces"},{_i:"Danish",sb:"Dansk",1:"da",2:"dan","2T":"dan","2B":"dan",3:"dan"},{_i:"Divehi",sb:"Divehi",1:"dv",2:"div","2T":"div","2B":"div",3:"div"},{_i:"Dutch",sb:"Nederlands",1:"nl",2:"nld","2T":"nld","2B":"dut",3:"nld"},{_i:"Dzongkha",sb:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41",1:"dz",2:"dzo","2T":"dzo","2B":"dzo",3:"dzo"},{_i:"English",sb:"English",1:"en",2:"eng","2T":"eng","2B":"eng",3:"eng"},{_i:"Esperanto",sb:"Esperanto",1:"eo",2:"epo","2T":"epo","2B":"epo",3:"epo"},{_i:"Estonian",sb:"Eesti",1:"et",2:"est","2T":"est","2B":"est",3:"est"},{_i:"Ewe",sb:"E\u028begbe",1:"ee",2:"ewe","2T":"ewe","2B":"ewe",3:"ewe"},{_i:"Faroese",sb:"F\xf8royskt",1:"fo",2:"fao","2T":"fao","2B":"fao",3:"fao"},{_i:"Fijian",sb:"Na Vosa Vaka-Viti",1:"fj",2:"fij","2T":"fij","2B":"fij",3:"fij"},{_i:"Finnish",sb:"Suomi",1:"fi",2:"fin","2T":"fin","2B":"fin",3:"fin"},{_i:"French",sb:"Fran\xe7ais",1:"fr",2:"fra","2T":"fra","2B":"fre",3:"fra"},{_i:"Fula",sb:"Fulfulde",1:"ff",2:"ful","2T":"ful","2B":"ful",3:"ful"},{_i:"Galician",sb:"Galego",1:"gl",2:"glg","2T":"glg","2B":"glg",3:"glg"},{_i:"Georgian",sb:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",1:"ka",2:"kat","2T":"kat","2B":"geo",3:"kat"},{_i:"German",sb:"Deutsch",1:"de",2:"deu","2T":"deu","2B":"ger",3:"deu"},{_i:"Greek",sb:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",1:"el",2:"ell","2T":"ell","2B":"gre",3:"ell"},{_i:"Guaran\xed",sb:"Ava\xf1e'\u1ebd",1:"gn",2:"grn","2T":"grn","2B":"grn",3:"grn"},{_i:"Gujarati",sb:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",1:"gu",2:"guj","2T":"guj","2B":"guj",3:"guj"},{_i:"Haitian",sb:"Krey\xf2l Ayisyen",1:"ht",2:"hat","2T":"hat","2B":"hat",3:"hat"},{_i:"Hausa",sb:"\u0647\u064e\u0648\u064f\u0633\u064e",1:"ha",2:"hau","2T":"hau","2B":"hau",3:"hau"},{_i:"Hebrew",sb:"\u05e2\u05d1\u05e8\u05d9\u05ea",1:"he",2:"heb","2T":"heb","2B":"heb",3:"heb"},{_i:"Herero",sb:"Otjiherero",1:"hz",2:"her","2T":"her","2B":"her",3:"her"},{_i:"Hindi",sb:"\u0939\u093f\u0928\u094d\u0926\u0940",1:"hi",2:"hin","2T":"hin","2B":"hin",3:"hin"},{_i:"Hiri Motu",sb:"Hiri Motu",1:"ho",2:"hmo","2T":"hmo","2B":"hmo",3:"hmo"},{_i:"Hungarian",sb:"Magyar",1:"hu",2:"hun","2T":"hun","2B":"hun",3:"hun"},{_i:"Interlingua",sb:"Interlingua",1:"ia",2:"ina","2T":"ina","2B":"ina",3:"ina"},{_i:"Indonesian",sb:"Bahasa Indonesia",1:"id",2:"ind","2T":"ind","2B":"ind",3:"ind"},{_i:"Interlingue",sb:"Interlingue",1:"ie",2:"ile","2T":"ile","2B":"ile",3:"ile"},{_i:"Irish",sb:"Gaeilge",1:"ga",2:"gle","2T":"gle","2B":"gle",3:"gle"},{_i:"Igbo",sb:"Igbo",1:"ig",2:"ibo","2T":"ibo","2B":"ibo",3:"ibo"},{_i:"Inupiaq",sb:"I\xf1upiak",1:"ik",2:"ipk","2T":"ipk","2B":"ipk",3:"ipk"},{_i:"Ido",sb:"Ido",1:"io",2:"ido","2T":"ido","2B":"ido",3:"ido"},{_i:"Icelandic",sb:"\xcdslenska",1:"is",2:"isl","2T":"isl","2B":"ice",3:"isl"},{_i:"Italian",sb:"Italiano",1:"it",2:"ita","2T":"ita","2B":"ita",3:"ita"},{_i:"Inuktitut",sb:"\u1403\u14c4\u1483\u144e\u1450\u1466",1:"iu",2:"iku","2T":"iku","2B":"iku",3:"iku"},{_i:"Japanese",sb:"\u65e5\u672c\u8a9e",1:"ja",2:"jpn","2T":"jpn","2B":"jpn",3:"jpn"},{_i:"Javanese",sb:"Basa Jawa",1:"jv",2:"jav","2T":"jav","2B":"jav",3:"jav"},{_i:"Kalaallisut",sb:"Kalaallisut",1:"kl",2:"kal","2T":"kal","2B":"kal",3:"kal"},{_i:"Kannada",sb:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",1:"kn",2:"kan","2T":"kan","2B":"kan",3:"kan"},{_i:"Kanuri",sb:"Kanuri",1:"kr",2:"kau","2T":"kau","2B":"kau",3:"kau"},{_i:"Kashmiri",sb:"\u0643\u0634\u0645\u064a\u0631\u064a",1:"ks",2:"kas","2T":"kas","2B":"kas",3:"kas"},{_i:"Kazakh",sb:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",1:"kk",2:"kaz","2T":"kaz","2B":"kaz",3:"kaz"},{_i:"Khmer",sb:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",1:"km",2:"khm","2T":"khm","2B":"khm",3:"khm"},{_i:"Kikuyu",sb:"G\u0129k\u0169y\u0169",1:"ki",2:"kik","2T":"kik","2B":"kik",3:"kik"},{_i:"Kinyarwanda",sb:"Kinyarwanda",1:"rw",2:"kin","2T":"kin","2B":"kin",3:"kin"},{_i:"Kyrgyz",sb:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",1:"ky",2:"kir","2T":"kir","2B":"kir",3:"kir"},{_i:"Komi",sb:"\u041a\u043e\u043c\u0438",1:"kv",2:"kom","2T":"kom","2B":"kom",3:"kom"},{_i:"Kongo",sb:"Kongo",1:"kg",2:"kon","2T":"kon","2B":"kon",3:"kon"},{_i:"Korean",sb:"\ud55c\uad6d\uc5b4",1:"ko",2:"kor","2T":"kor","2B":"kor",3:"kor"},{_i:"Kurdish",sb:"Kurd\xee",1:"ku",2:"kur","2T":"kur","2B":"kur",3:"kur"},{_i:"Kwanyama",sb:"Kuanyama",1:"kj",2:"kua","2T":"kua","2B":"kua",3:"kua"},{_i:"Latin",sb:"Latina",1:"la",2:"lat","2T":"lat","2B":"lat",3:"lat"},{_i:"Luxembourgish",sb:"L\xebtzebuergesch",1:"lb",2:"ltz","2T":"ltz","2B":"ltz",3:"ltz"},{_i:"Ganda",sb:"Luganda",1:"lg",2:"lug","2T":"lug","2B":"lug",3:"lug"},{_i:"Limburgish",sb:"Limburgs",1:"li",2:"lim","2T":"lim","2B":"lim",3:"lim"},{_i:"Lingala",sb:"Ling\xe1la",1:"ln",2:"lin","2T":"lin","2B":"lin",3:"lin"},{_i:"Lao",sb:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7",1:"lo",2:"lao","2T":"lao","2B":"lao",3:"lao"},{_i:"Lithuanian",sb:"Lietuvi\u0173",1:"lt",2:"lit","2T":"lit","2B":"lit",3:"lit"},{_i:"Luba-Katanga",sb:"Tshiluba",1:"lu",2:"lub","2T":"lub","2B":"lub",3:"lub"},{_i:"Latvian",sb:"Latvie\u0161u",1:"lv",2:"lav","2T":"lav","2B":"lav",3:"lav"},{_i:"Manx",sb:"Gaelg",1:"gv",2:"glv","2T":"glv","2B":"glv",3:"glv"},{_i:"Macedonian",sb:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",1:"mk",2:"mkd","2T":"mkd","2B":"mac",3:"mkd"},{_i:"Malagasy",sb:"Malagasy",1:"mg",2:"mlg","2T":"mlg","2B":"mlg",3:"mlg"},{_i:"Malay",sb:"Bahasa Melayu",1:"ms",2:"msa","2T":"msa","2B":"may",3:"msa"},{_i:"Malayalam",sb:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",1:"ml",2:"mal","2T":"mal","2B":"mal",3:"mal"},{_i:"Maltese",sb:"Malti",1:"mt",2:"mlt","2T":"mlt","2B":"mlt",3:"mlt"},{_i:"M\u0101ori",sb:"M\u0101ori",1:"mi",2:"mri","2T":"mri","2B":"mao",3:"mri"},{_i:"Marathi",sb:"\u092e\u0930\u093e\u0920\u0940",1:"mr",2:"mar","2T":"mar","2B":"mar",3:"mar"},{_i:"Marshallese",sb:"Kajin M\u0327aje\u013c",1:"mh",2:"mah","2T":"mah","2B":"mah",3:"mah"},{_i:"Mongolian",sb:"\u041c\u043e\u043d\u0433\u043e\u043b",1:"mn",2:"mon","2T":"mon","2B":"mon",3:"mon"},{_i:"Nauru",sb:"Dorerin Naoero",1:"na",2:"nau","2T":"nau","2B":"nau",3:"nau"},{_i:"Navajo",sb:"Din\xe9 Bizaad",1:"nv",2:"nav","2T":"nav","2B":"nav",3:"nav"},{_i:"Northern Ndebele",sb:"isiNdebele",1:"nd",2:"nde","2T":"nde","2B":"nde",3:"nde"},{_i:"Nepali",sb:"\u0928\u0947\u092a\u093e\u0932\u0940",1:"ne",2:"nep","2T":"nep","2B":"nep",3:"nep"},{_i:"Ndonga",sb:"Owambo",1:"ng",2:"ndo","2T":"ndo","2B":"ndo",3:"ndo"},{_i:"Norwegian Bokm\xe5l",sb:"Norsk (Bokm\xe5l)",1:"nb",2:"nob","2T":"nob","2B":"nob",3:"nob"},{_i:"Norwegian Nynorsk",sb:"Norsk (Nynorsk)",1:"nn",2:"nno","2T":"nno","2B":"nno",3:"nno"},{_i:"Norwegian",sb:"Norsk",1:"no",2:"nor","2T":"nor","2B":"nor",3:"nor"},{_i:"Nuosu",sb:"\ua188\ua320\ua4bf Nuosuhxop",1:"ii",2:"iii","2T":"iii","2B":"iii",3:"iii"},{_i:"Southern Ndebele",sb:"isiNdebele",1:"nr",2:"nbl","2T":"nbl","2B":"nbl",3:"nbl"},{_i:"Occitan",sb:"Occitan",1:"oc",2:"oci","2T":"oci","2B":"oci",3:"oci"},{_i:"Ojibwe",sb:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0",1:"oj",2:"oji","2T":"oji","2B":"oji",3:"oji"},{_i:"Old Church Slavonic",sb:"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a",1:"cu",2:"chu","2T":"chu","2B":"chu",3:"chu"},{_i:"Oromo",sb:"Afaan Oromoo",1:"om",2:"orm","2T":"orm","2B":"orm",3:"orm"},{_i:"Oriya",sb:"\u0b13\u0b21\u0b3f\u0b3c\u0b06",1:"or",2:"ori","2T":"ori","2B":"ori",3:"ori"},{_i:"Ossetian",sb:"\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433",1:"os",2:"oss","2T":"oss","2B":"oss",3:"oss"},{_i:"Panjabi",sb:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",1:"pa",2:"pan","2T":"pan","2B":"pan",3:"pan"},{_i:"P\u0101li",sb:"\u092a\u093e\u0934\u093f",1:"pi",2:"pli","2T":"pli","2B":"pli",3:"pli"},{_i:"Persian",sb:"\u0641\u0627\u0631\u0633\u06cc",1:"fa",2:"fas","2T":"fas","2B":"per",3:"fas"},{_i:"Polish",sb:"Polski",1:"pl",2:"pol","2T":"pol","2B":"pol",3:"pol"},{_i:"Pashto",sb:"\u067e\u069a\u062a\u0648",1:"ps",2:"pus","2T":"pus","2B":"pus",3:"pus"},{_i:"Portuguese",sb:"Portugu\xeas",1:"pt",2:"por","2T":"por","2B":"por",3:"por"},{_i:"Quechua",sb:"Runa Simi",1:"qu",2:"que","2T":"que","2B":"que",3:"que"},{_i:"Romansh",sb:"Rumantsch",1:"rm",2:"roh","2T":"roh","2B":"roh",3:"roh"},{_i:"Kirundi",sb:"Kirundi",1:"rn",2:"run","2T":"run","2B":"run",3:"run"},{_i:"Romanian",sb:"Rom\xe2n\u0103",1:"ro",2:"ron","2T":"ron","2B":"rum",3:"ron"},{_i:"Russian",sb:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",1:"ru",2:"rus","2T":"rus","2B":"rus",3:"rus"},{_i:"Sanskrit",sb:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",1:"sa",2:"san","2T":"san","2B":"san",3:"san"},{_i:"Sardinian",sb:"Sardu",1:"sc",2:"srd","2T":"srd","2B":"srd",3:"srd"},{_i:"Sindhi",sb:"\u0633\u0646\u068c\u064a\u200e",1:"sd",2:"snd","2T":"snd","2B":"snd",3:"snd"},{_i:"Northern Sami",sb:"S\xe1megiella",1:"se",2:"sme","2T":"sme","2B":"sme",3:"sme"},{_i:"Samoan",sb:"Gagana S\u0101moa",1:"sm",2:"smo","2T":"smo","2B":"smo",3:"smo"},{_i:"Sango",sb:"S\xe4ng\xf6",1:"sg",2:"sag","2T":"sag","2B":"sag",3:"sag"},{_i:"Serbian",sb:"\u0421\u0440\u043f\u0441\u043a\u0438",1:"sr",2:"srp","2T":"srp","2B":"srp",3:"srp"},{_i:"Gaelic",sb:"G\xe0idhlig",1:"gd",2:"gla","2T":"gla","2B":"gla",3:"gla"},{_i:"Shona",sb:"ChiShona",1:"sn",2:"sna","2T":"sna","2B":"sna",3:"sna"},{_i:"Sinhala",sb:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",1:"si",2:"sin","2T":"sin","2B":"sin",3:"sin"},{_i:"Slovak",sb:"Sloven\u010dina",1:"sk",2:"slk","2T":"slk","2B":"slo",3:"slk"},{_i:"Slovene",sb:"Sloven\u0161\u010dina",1:"sl",2:"slv","2T":"slv","2B":"slv",3:"slv"},{_i:"Somali",sb:"Soomaaliga",1:"so",2:"som","2T":"som","2B":"som",3:"som"},{_i:"Southern Sotho",sb:"Sesotho",1:"st",2:"sot","2T":"sot","2B":"sot",3:"sot"},{_i:"Spanish",sb:"Espa\xf1ol",1:"es",2:"spa","2T":"spa","2B":"spa",3:"spa"},{_i:"Sundanese",sb:"Basa Sunda",1:"su",2:"sun","2T":"sun","2B":"sun",3:"sun"},{_i:"Swahili",sb:"Kiswahili",1:"sw",2:"swa","2T":"swa","2B":"swa",3:"swa"},{_i:"Swati",sb:"SiSwati",1:"ss",2:"ssw","2T":"ssw","2B":"ssw",3:"ssw"},{_i:"Swedish",sb:"Svenska",1:"sv",2:"swe","2T":"swe","2B":"swe",3:"swe"},{_i:"Tamil",sb:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",1:"ta",2:"tam","2T":"tam","2B":"tam",3:"tam"},{_i:"Telugu",sb:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",1:"te",2:"tel","2T":"tel","2B":"tel",3:"tel"},{_i:"Tajik",sb:"\u0422\u043e\u04b7\u0438\u043a\u04e3",1:"tg",2:"tgk","2T":"tgk","2B":"tgk",3:"tgk"},{_i:"Thai",sb:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",1:"th",2:"tha","2T":"tha","2B":"tha",3:"tha"},{_i:"Tigrinya",sb:"\u1275\u130d\u122d\u129b",1:"ti",2:"tir","2T":"tir","2B":"tir",3:"tir"},{_i:"Tibetan Standard",sb:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42",1:"bo",2:"bod","2T":"bod","2B":"tib",3:"bod"},{_i:"Turkmen",sb:"T\xfcrkmen\xe7e",1:"tk",2:"tuk","2T":"tuk","2B":"tuk",3:"tuk"},{_i:"Tagalog",sb:"Tagalog",1:"tl",2:"tgl","2T":"tgl","2B":"tgl",3:"tgl"},{_i:"Tswana",sb:"Setswana",1:"tn",2:"tsn","2T":"tsn","2B":"tsn",3:"tsn"},{_i:"Tonga",sb:"faka Tonga",1:"to",2:"ton","2T":"ton","2B":"ton",3:"ton"},{_i:"Turkish",sb:"T\xfcrk\xe7e",1:"tr",2:"tur","2T":"tur","2B":"tur",3:"tur"},{_i:"Tsonga",sb:"Xitsonga",1:"ts",2:"tso","2T":"tso","2B":"tso",3:"tso"},{_i:"Tatar",sb:"\u0422\u0430\u0442\u0430\u0440\u0447\u0430",1:"tt",2:"tat","2T":"tat","2B":"tat",3:"tat"},{_i:"Twi",sb:"Twi",1:"tw",2:"twi","2T":"twi","2B":"twi",3:"twi"},{_i:"Tahitian",sb:"Reo M\u0101\u2019ohi",1:"ty",2:"tah","2T":"tah","2B":"tah",3:"tah"},{_i:"Uyghur",sb:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647",1:"ug",2:"uig","2T":"uig","2B":"uig",3:"uig"},{_i:"Ukrainian",sb:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",1:"uk",2:"ukr","2T":"ukr","2B":"ukr",3:"ukr"},{_i:"Urdu",sb:"\u0627\u0631\u062f\u0648",1:"ur",2:"urd","2T":"urd","2B":"urd",3:"urd"},{_i:"Uzbek",sb:"O\u2018zbek",1:"uz",2:"uzb","2T":"uzb","2B":"uzb",3:"uzb"},{_i:"Venda",sb:"Tshiven\u1e13a",1:"ve",2:"ven","2T":"ven","2B":"ven",3:"ven"},{_i:"Vietnamese",sb:"Ti\u1ebfng Vi\u1ec7t",1:"vi",2:"vie","2T":"vie","2B":"vie",3:"vie"},{_i:"Volap\xfck",sb:"Volap\xfck",1:"vo",2:"vol","2T":"vol","2B":"vol",3:"vol"},{_i:"Walloon",sb:"Walon",1:"wa",2:"wln","2T":"wln","2B":"wln",3:"wln"},{_i:"Welsh",sb:"Cymraeg",1:"cy",2:"cym","2T":"cym","2B":"wel",3:"cym"},{_i:"Wolof",sb:"Wolof",1:"wo",2:"wol","2T":"wol","2B":"wol",3:"wol"},{_i:"Western Frisian",sb:"Frysk",1:"fy",2:"fry","2T":"fry","2B":"fry",3:"fry"},{_i:"Xhosa",sb:"isiXhosa",1:"xh",2:"xho","2T":"xho","2B":"xho",3:"xho"},{_i:"Yiddish",sb:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",1:"yi",2:"yid","2T":"yid","2B":"yid",3:"yid"},{_i:"Yoruba",sb:"Yor\xf9b\xe1",1:"yo",2:"yor","2T":"yor","2B":"yor",3:"yor"},{_i:"Zhuang",sb:"Cuengh",1:"za",2:"zha","2T":"zha","2B":"zha",3:"zha"},{_i:"Zulu",sb:"isiZulu",1:"zu",2:"zul","2T":"zul","2B":"zul",3:"zul"}],dj=[128,64,32,16,8,4,2,1];function _j(t,n){var i=w.floor(n.bit/8),e=0==((tj(t)?t.Ru(i):t[i])&dj[n.bit%8])?0:1;return n.bit+=1,e}function wj(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=2*e+_j(t,n);return e}function gj(t,n){for(var i=0;0===_j(t,n)&&i<32;)i+=1;return wj(t,n,i)+w.pow(2,i)-1}function yj(t,n){var i=gj(t,n);return 1&i?w.floor((i+1)/2):-w.floor(i/2)}function mj(t,n){var i,e=[],r={byte:1};do{e.push(kj(t,n,r)),i=n.Ru(r.byte)}while(void 0!==i&&128!==i);return e}function pj(t,n){var i,e=0;do{e+=i=nj(t,n)}while(255===i);return e}function kj(t,n,i){var e=pj(n,i),r=pj(n,i),s=i.byte,u=s+r;return i.byte=u,{hst:t,ast:e,cst:r,ist:s,rst:u,nst:n}}!function(t){t[t.fst=1]="fst",t[t.vst=2]="vst",t[t.lst=3]="lst",t[t.dst=4]="dst",t[t._st=5]="_st",t[t.wst=6]="wst",t[t.gst=7]="gst",t[t.yst=8]="yst",t[t.mst=9]="mst"}(vj||(vj={}));var bj=[void 0,[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]];function Aj(t,n,i){for(var e=8,r=8,s=0;s<i;s+=1){if(0!==r)r=(e+yj(t,n)+256)%256;e=0===r?e:r}}var Tj=function(){function t(t){this.pst=void 0,this.kst=[],this.bst=0,this.pst=t}var n=t.prototype;return n.Ast=function(){for(var t=this.kst,n=w.max(0,this.bst+t.length-2),i=this.pst,e=i.Tw,r=0;n<e;n+=1){var s=i.Ru(n);0===s?r+=1:(3===s&&r>=2&&t.push(n),r=0)}this.bst=n-t.length},n.Tst=function(t){for(var n=this.kst,i=t,e=0;e<n.length;e++){if(!(n[e]<=i))return i;i+=1}return i},n.Ru=function(t){if(!(t>this.pst.Tw))return t>this.bst&&this.Ast(),this.pst.Ru(this.Tst(t))},t}();var Sj=24;function Ej(t){var n=t.jH,i=new rj;return i.zrt($o(n),0,n.length),function(t){var n,i,e,r,s,u,o=new Tj(t),a=0,h=0,c=0,f=0,v=o.Ru(1),l={bit:32};if(gj(o,l),100===v||110===v||122===v||144===v){var d=gj(o,l);if(3===d&&(n=_j(o,l)),gj(o,l),gj(o,l),_j(o,l),1===_j(o,l))for(var _=0;_<(3!==d?8:12);_+=1)1===_j(o,l)&&Aj(o,l,_<6?16:64)}var g=gj(o,l),y=gj(o,l);if(0===y)gj(o,l);else if(1===y){_j(o,l),yj(o,l),yj(o,l);for(var m=gj(o,l),p=0;p<m;p+=1)yj(o,l)}gj(o,l),_j(o,l);var k=gj(o,l),b=gj(o,l),A=_j(o,l);if(0===A&&_j(o,l),_j(o,l),1===_j(o,l)&&(a=gj(o,l),h=gj(o,l),c=gj(o,l),f=gj(o,l)),1===_j(o,l)){if(1===_j(o,l)){var T=wj(o,l,8);if(255===T)i=wj(o,l,16),e=wj(o,l,16);else{var S=bj[T];S&&(i=S[0],e=S[1])}}1===_j(o,l)&&_j(o,l),1===_j(o,l)&&(wj(o,l,3),_j(o,l),1===_j(o,l)&&(wj(o,l,8),wj(o,l,8),wj(o,l,8))),1===_j(o,l)&&(gj(o,l),gj(o,l)),1===(r=_j(o,l))&&(s=wj(o,l,32),u=wj(o,l,32),_j(o,l))}return{width:w.floor(16*(k+1)-2*a-2*h),height:w.floor((2-A)*(b+1)*16-2*c-2*f),iS:i,eS:e,Sst:!!r&&u/(2*s),Est:n,Ist:g}}(i).Sst}function Ij(t){var n=Ej(t)||Sj;return t.Rst/n}function Rj(t){return t.vs===Pp.Ob}var Nj,Cj=65536;function Dj(t,n,i,e,r){for(var s,u=function(t,n,i,e){var r=i.Rst,s=lt.fromNumber(t.TS||0),u=e.Em(yp.Mp(s,r));return{vJ:e.pp(),Nst:e,Cst:u,Dst:e}}(t,0,i,e),o=yp.Fp(t.Hg||0,i.Rst),a=t.RA||0,h=!(a&Cj)&&(a>>24&3)!==Nj.SAMPLE_DEPENDS_ON_OTHERS,c=Yo(r),f=new na;f.Bu<c.byteLength;){var v=bo(c,f);if((31&mo(c,f,1))===vj.wst){var l,d=new rj;d.zrt(r,f.Bu-1,f.Bu+v-1);var _=mj(u.Cst,d);(l=s=s||[]).push.apply(l,cj(_))}f.xu(v-1)}return Fr({},u,{Hg:o.pp(),Pst:o,Bst:u.Cst.pp(),xst:u.vJ,Ost:h,Lst:s,Mst:!1,Fst:!1})}function Pj(t){return t.vs===Pp.ub}!function(t){t[t.SAMPLE_DEPENDS_ON_UNKNOWN=0]="SAMPLE_DEPENDS_ON_UNKNOWN",t[t.SAMPLE_DEPENDS_ON_OTHERS=1]="SAMPLE_DEPENDS_ON_OTHERS",t[t.SAMPLE_DEPENDS_ON_NO_OTHER=2]="SAMPLE_DEPENDS_ON_NO_OTHER",t[t.SAMPLE_DEPENDS_ON_RESERVED=3]="SAMPLE_DEPENDS_ON_RESERVED"}(Nj||(Nj={}));var Bj=function(t){function n(n,i,e){return t.call(this,n,i,e,!1)||this}return E(n,t),n}(Zm),xj=function(){function t(t,n){this.yQ=t,this.eQ=n}return t.prototype.hp=function(t){return this.yQ===t.yQ&&this.eQ===t.eQ},t}(),Oj=function(){function t(t,n){this.Ust="",this.uF=t,this.jst=n}var n=t.prototype;return n.Hst=function(t){this.Ust+=t},n.Xst=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Hst(i)}},T(t,[{key:"IQ",get:function(){return this.Ust}},{key:"bQ",get:function(){return[this]}},{key:"SQ",get:function(){return this.uF}},{key:"NQ",get:function(){return this.jst}},{key:"RQ",get:function(){return new xj(this.NQ.yQ,this.NQ.eQ+this.IQ.length-1)}}]),t}(),Lj=function(){function t(){}var n=t.prototype;return n.zst=function(t){return t.zk(this)},n.Vst=function(t){var n,i,e=this,r=t.map(function(t,n){return t.zk(e,n)});return n=r,(i=[]).concat.apply(i,n)},n.qst=function(t,n){return new Mj(t,n).Wst()},t}(),Mj=function(){function t(t,n){this.Gst=[],this.Yst=null,this.yQ=t,this.$st=n}var n=t.prototype;return n.Wst=function(){if(this.Qst)return[];for(var t=0;t<this.yQ.length;t++)this.Kst(t);return this.Zst(),this.Gst},n.Jst=function(t){this.Yst=new Oj(xx,new xj(this.$st,t))},n.Zst=function(){this.Yst&&(this.Gst.push(this.Yst),this.Yst=null)},n.Kst=function(t){var n=this.yQ[t];Fj(n)?this.Yst&&this.Zst():(this.Yst||this.Jst(t),this.Yst.Hst(n))},T(t,[{key:"Qst",get:function(){return this.yQ.every(Fj)}}]),t}();function Fj(t){return null==t}var Uj=function(){function t(){}return t.tut=function(t,n,i){if(!(n>=i)){var e=Zs(t,function(t,n){return new Mj(t.map(function(t){return t?t.nut():null}),n).Wst()});if(0!==e.length)return new Bj(n,i,e)}},t}(),jj="black",Hj="white",Xj=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),zj=function(){function t(){this.iut=[],this.eut=0,this.rut=void 0;for(var t=0;t<Fx;t++)this.iut.push(null);this.rut=!1}var n=t.prototype;return n.sut=function(t){for(var n=0;n<Fx;n++)t&&(this.iut[n]=t.iut[n])},n.hp=function(t){for(var n=0;n<Fx;n++)if(this.iut[n]!==t.iut[n])return!1;return!0},n.uut=function(){for(var t=0;t<Fx;t++)if(null!==this.iut[t])return!1;return!0},n.out=function(t){this.eut!==t&&(this.eut=t),this.eut<0?this.eut=0:this.eut>Fx&&(this.eut=Fx-1)},n.aut=function(t){var n=this.eut+t;this.out(n)},n.hut=function(){this.aut(-1),this.iut[this.eut]=null},n.Hst=function(t){t>=144&&this.hut();var n,i=Xj[n=t]?String.fromCharCode(Xj[n]):String.fromCharCode(n);this.addParsedChar(i)},n.addParsedChar=function(t){this.eut>=Fx||(32===Number(t)?(this.iut[this.eut]=this.rut?"</i>":"<i>",this.rut=!this.rut):this.iut[this.eut]=t,this.aut(1))},n.cut=function(t){for(var n=t;n<Fx;n++)this.iut[n]=null},n.Du=function(){this.cut(0),this.eut=0},n.fut=function(){this.cut(this.eut)},n.vut=function(t,n){for(var i=this.iut,e=null,r=0;r<Fx;r++){var s=i[r];null===s?e=null:(e||(e={lut:r,_ut:t,yp:0,uT:1,iut:[[]]},n.push(e)),e.iut[0].push(s),e.yp++)}},n.zk=function(t,n){return t.qst(this.iut,n)},t}();var Vj,qj=function(){function t(t,n){this.wut=void 0,this.gut=void 0,this.yut=void 0,this.mut=void 0,this.kut=void 0,this.but=void 0,this.Aut=void 0,this.Tut=void 0,this.Sut=void 0,this.wut=new Array(Wj+1);for(var i=0;i<=Wj;i++)this.wut[i]=new zj;this.gut=1,this.yut=0,this.mut=t,this.kut=n,this.but=!1,this.Aut=!1,this.Tut=Hj,this.Sut=jj,this.bw()}var n=t.prototype;return n.Eut=function(t,n){var i="CC"+(this.mut<<1|this.kut+1);if(t>=n)return null;var e=(new Lj).Vst(this.wut.slice(1));return 0===e.length?null:{zm:new Bj(t,n,e),Dl:i,Iut:this.mut<<1|this.kut+1}},n.bw=function(){this.Rut(),this.gut=1},n.Nut=function(){return this.gut},n.Cut=function(t){this.gut=t},n.out=function(t){this.wut[this.gut].out(t)},n.aut=function(t){this.wut[this.gut].aut(t)},n.Dut=function(){return this.yut},n.Put=function(t){this.yut=t},n.Hst=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case Vj.But:i=void 0!==Yj[n]?Yj[n]:String.fromCharCode(n);break;case Vj.xut:i=$j[n];break;case Vj.Out:this.Lut(),i=Qj[n];break;case Vj.Mut:this.Lut(),i=Kj[n]}i&&this.wut[this.gut].addParsedChar(i)}},n.Lut=function(){this.wut[this.gut].hut()},n.Fut=function(t,n,i){if(t>=n)for(var e=i-1;e>=0;e--)this.wut[t+e]=this.wut[n+e];else for(var r=0;r<i;r++)this.wut[t+r]=this.wut[n+r]},n.Uut=function(t,n){for(var i=0;i<=n;i++)this.wut[t+i]=new zj},n.Rut=function(){this.Uut(0,Wj)},n.jut=function(){this.gut=this.yut>0?this.yut:0,this.Rut()},n.Hut=function(t){this.but=t},n.Xut=function(t){this.Aut=t},n.zut=function(t){this.Tut=t},n.Vut=function(t){this.Sut=t},t}(),Wj=15;!function(t){t[t.But=0]="But",t[t.xut=1]="xut",t[t.Out=2]="Out",t[t.Mut=3]="Mut"}(Vj||(Vj={}));var Gj,Yj={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},$j={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},Qj={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},Kj={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},Zj=function(){function t(t,n){this.zi=void 0,this.qut=void 0,this.Wut=void 0,this.Gut=void 0,this.Yut=void 0,this.$ut=void 0,this.Qut=void 0,this.Kut=void 0,this.zi=Gj.dC,this.qut=new qj(t,n),this.Wut=new qj(t,n),this.Gut=new qj(t,n),this.Yut=this.Wut,this.$ut=0,this.Qut=void 0,this.Kut=!1}var n=t.prototype;return n.bw=function(){this.Kut=!0,this.$ut=0,this.zi=Gj.dC,this.Yut=this.Wut,this.Qut=void 0,this.Wut.bw(),this.Gut.bw(),this.qut.bw()},n.Zut=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.Jut=function(t,n){var i=this.Zut(t,n),e=(30&n)>>1,r=Hj,s=!1;e<7?r=iH[e]:7===e&&(s=!0);var u=1==(1&n);if(this.zi!==Gj.Jn){var o=this.Yut;if(this.zi===Gj.tot&&i!==o.Nut()){var a=1+o.Nut()-o.Dut(),h=1+i-o.Dut();o.Fut(h,a,o.Dut()),o.Uut(0,h-1),o.Uut(i+1,Wj-i)}o.Cut(i);var c=Lx[t<<1&14|n>>5&1]-1;if(!(c<0)){var f=function(t,n){var i=n>95?n-96:n-64;return{iQ:Ox[i].iQ,nQ:Ox[i].nQ,eQ:Ox[i].eQ,yQ:t}}(c,n);o.out(f.eQ),this.Yut.Hut(u),this.Yut.Xut(s),this.Yut.zut(r),this.Yut.Vut(jj)}}},n.iot=function(t,n){this.Yut.Hut(!1),this.Yut.Xut(!1),this.Yut.zut(Hj);var i=this.eot(t,Vj.But," ".charCodeAt(0)),e=Hj,r=!1,s=1==(1&n);return"white_italics"===(e=iH[(14&n)>>1])&&(e="white",r=!0),this.Yut.Hut(s),this.Yut.Xut(r),this.Yut.zut(e),i},n.eot=function(t,n,i){if(this.Yut.Hst(n,i),this.zi===Gj.rot||this.zi===Gj.tot){var e=this.uot(this.Yut,this.$ut,t);return this.$ut=t,e}return null},n.uot=function(t,n,i){return this.Kut?null:t.Eut(n,i)},n.oot=function(t,n){var i=jj;0==(7&t)&&(i=nH[(14&n)>>1]),this.Yut.Vut(i)},n.aot=function(t){var n=Jj,i=t.hot,e=t.cot,r=null;switch(i){case n.RCL:this.fot();break;case n.BS:this.vot();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:r=this.lot(2,e);break;case n.RU3:r=this.lot(3,e);break;case n.RU4:r=this.lot(4,e);break;case n.FON:r=this.dot(e);break;case n.RDC:this._ot(e);break;case n.TR:this.wot();break;case n.RTD:this.got();break;case n.EDM:r=this.yot(e);break;case n.CR:r=this.mot(e);break;case n.ENM:this.pot();break;case n.EOC:r=this.kot(e)}return r},n.mot=function(t){var n=this.Yut;if(this.zi!==Gj.tot)return null;var i=this.uot(n,this.$ut,t),e=n.Nut()-n.Dut()+1;return n.Fut(e-1,e,n.Dut()),n.Uut(0,e-1),n.Uut(n.Nut(),Wj-n.Nut()),this.$ut=t,i},n.lot=function(t,n){this.Yut=this.Wut;var i=this.Yut,e=null;return this.zi!==Gj.tot&&this.zi!==Gj.Jn&&(e=this.uot(i,this.$ut,n),this.Wut.jut(),this.Gut.jut(),this.Kut=!1,i.Cut(Wj)),this.zi=Gj.tot,i.Put(t),e},n.dot=function(t){return this.eot(t,Vj.But," ".charCodeAt(0))},n.yot=function(t){var n=this.Wut,i=null;return this.zi!==Gj.Jn&&(i=this.uot(n,this.$ut,t)),n.Rut(),this.Kut=!1,i},n._ot=function(t){this.zi=Gj.rot,this.Yut=this.Wut,this.Yut.Put(0),this.$ut=t},n.pot=function(){this.Gut.Rut()},n.kot=function(t){var n=null;this.zi!==Gj.Jn&&(n=this.uot(this.Wut,this.$ut,t));var i=this.Gut;return this.Gut=this.Wut,this.Wut=i,this.fot(),this.$ut=t,n},n.fot=function(){this.zi=Gj.bot,this.Yut=this.Gut,this.Yut.Put(0)},n.vot=function(){this.Yut.Lut()},n.wot=function(){this.qut.bw(),this.Kut=!1,this.got()},n.got=function(){this.Yut=this.qut,this.zi=Gj.Jn},n.Aot=function(t,n,i){return this.Yut.Hst(Vj.But,n),this.eot(t,Vj.But,i)},n.Tot=function(t,n,i){var e=1&n?Vj.Mut:Vj.Out;return this.eot(t,e,i)},n.Sot=function(t){var n=t.Eot,i=t.hot,e=t.cot;if(this.Qut===(n<<8|i))return this.Qut=void 0,null;if(this.Qut=n<<8|i,this.Iot(n,i))this.Jut(n,i);else{if(this.Rot(n,i))return this.iot(e,i);if(this.Not(n,i))this.oot(n,i);else{if(this.Cot(n,i))return this.eot(e,Vj.xut,i);if(this.Dot(n,i))return this.Tot(e,n,i);if(this.Pot(n,i))return this.aot(t);this.isTabOffset(n)&&this.Yut.aut(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.Pot=function(t,n){return 20==(246&t)&&32==(240&n)},n.Iot=function(t,n){return 16==(240&t)&&64==(192&n)},n.Rot=function(t,n){return 17==(247&t)&&32==(240&n)},n.Not=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.Cot=function(t,n){return 17==(247&t)&&48==(240&n)},n.Dot=function(t,n){return 18==(246&t)&&32==(224&n)},t.Bot=function(t){return 16==(112&t)},t}(),Jj={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.dC=0]="dC",t[t.bot=1]="bot",t[t.rot=2]="rot",t[t.tot=3]="tot",t[t.Jn=4]="Jn"}(Gj||(Gj={}));var tH,nH=["black","green","blue","cyan","red","yellow","magenta","black"],iH=["white","green","blue","cyan","red","yellow","magenta","white_italics"],eH=function(){function t(t,n,i,e,r){this.xot=void 0,this.but=void 0,this.Aut=void 0,this.Sut=void 0,this.Tut=void 0,this.xot=t,this.but=n,this.Aut=i,this.Sut=e,this.Tut=r}var n=t.prototype;return n.nut=function(){return this.xot},n.Oot=function(){return this.but},n.Lot=function(){return this.Aut},n.Mot=function(){return this.Sut},n.Fot=function(){return this.Tut},t}(),rH=function(){function t(t){this.Uot=void 0,this.pC=void 0,this.jot=void 0,this.Hot=void 0,this.Xot=void 0,this.zot=void 0,this.Vot=void 0,this.qot=void 0,this.Wot=void 0,this.Got=void 0,this.np=void 0,this.gut=void 0,this.Yot=void 0,this.Aut=void 0,this.but=void 0,this.Tut=void 0,this.Sut=void 0,this.Uot=t,this.pC=!1,this.jot=!1,this.Hot=0,this.Xot=0,this.zot=0,this.Vot=0,this.qot=0,this.Wot=tH.$ot,this.Got=[],this.np=0,this.gut=0,this.Yot=0,this.Aut=!1,this.but=!1,this.Tut=Hj,this.Sut=jj,this.Qot()}var n=t.prototype;return n.Kot=function(t,n,i,e,r,s,u){this.pC=t,this.Xot=n,this.Hot=i,this.zot=e,this.jot=r,this.Vot=s,this.qot=u},n.Qot=function(){this.Got=[];for(var t=0;t<uH;t++)this.Got.push(this.Zot())},n.Zot=function(){for(var t=[],n=0;n<sH;n++)t.push(null);return t},n.Jot=function(t){this.nat()&&(this.Got[this.gut][this.Yot]=new eH(t,this.but,this.Aut,this.Sut,this.Tut),this.Yot++)},n.iat=function(){this.nat()&&(this.Yot<=0&&this.gut<=0||(this.Yot<=0?(this.Yot=this.qot-1,this.gut--):this.Yot--,this.Got[this.gut][this.Yot]=null))},n.nat=function(){var t=this.gut<this.Vot&&this.gut>=0,n=this.Yot<this.qot&&this.Yot>=0;return t&&n},n.eat=function(){return this.pC},n.rat=function(t){for(var n=0,i=t;i<uH;i++,n++)this.Got[n]=this.Got[i];for(var e=0;e<t;e++,n++)this.Got[n]=this.Zot()},n.sat=function(){if(this.gut+1>=this.Vot)return this.rat(1),void(this.Yot=0);this.gut++,this.Yot=0},n.uat=function(){this.Got[this.gut]=this.Zot(),this.Yot=0},n.Eut=function(t,n){if(this.np>=t)return null;var i=Uj.tut(this.Got,this.np,t);return i?(this.oat(t),{zm:i,Dl:"svc"+n,Iut:n}):null},n.aat=function(t,n){this.gut=t,this.Yot=n},n.fat=function(t){this.Sut=t},n.vat=function(t){this.Tut=t},n.dat=function(t){this.but=t},n._at=function(t){this.Aut=t},n.wat=function(){this.gut=0,this.Yot=0,this.but=!1,this.Aut=!1,this.Tut=Hj,this.Sut=jj},n.gat=function(t){this.Wot=t},n.yat=function(){this.pC=!0},n.Wy=function(){this.pC=!1},n.mat=function(){this.pC=!this.pC},n.oat=function(t){this.np=t},t}();!function(t){t[t.pat=0]="pat",t[t.bat=1]="bat",t[t.$ot=2]="$ot",t[t.Aat=3]="Aat"}(tH||(tH={}));var sH=42,uH=15,oH=function(){function t(t){this.Tat=void 0,this.Sat=void 0,this.Eat=void 0,this.Tat=t,this.Sat=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.Eat=void 0}var n=t.prototype;return n.Iat=function(t){var n=t.Rat(),i=n.Ai,e=n.cot;i===vH&&(i=i<<16|t.Rat().Ai);return i>=0&&i<=31?this.Nat(i,e):i>=128&&i<=159?this.Cat(t,i,e):(i>=4096&&i<=4127?this.Dat(t,255&i):i>=4224&&i<=4255?this.Pat(t,255&i):i>=32&&i<=127?this.Bat(i):i>=160&&i<=255?this.xat(i):i>=4128&&i<=4223?this.Oat(255&i):i>=4256&&i<=4351&&this.Lat(255&i),null)},n.Bat=function(t){this.Eat&&(127!==t?this.Eat.Jot(String.fromCharCode(t)):this.Eat.Jot("\u266a"))},n.xat=function(t){this.Eat&&this.Eat.Jot(String.fromCharCode(t))},n.Oat=function(t){if(this.Eat)if(void 0!==lH[t]){var n=lH[t];this.Eat.Jot(n)}else this.Eat.Jot("_")},n.Lat=function(t){this.Eat&&(160===t?this.Eat.Jot("[CC]"):this.Eat.Jot("_"))},n.Nat=function(t,n){if(!this.Eat)return null;var i=this.Eat,e=null;switch(t){case aH:i.iat();break;case cH:i.eat()&&(e=i.Eut(n,this.Tat)),i.sat();break;case fH:i.eat()&&(e=i.Eut(n,this.Tat)),i.uat();break;case hH:i.eat()&&(e=i.Eut(n,this.Tat)),i.Qot(),i.aat(0,0)}return e},n.Cat=function(t,n,i){if(n>=128&&n<=135){var e=7&n;this.Mat(e)}else{if(136===n){var r=t.Rat().Ai;return this.Fat(r,i)}if(137===n){var s=t.Rat().Ai;this.Uat(s,i)}else{if(138===n){var u=t.Rat().Ai;return this.jat(u,i)}if(139===n){var o=t.Rat().Ai;return this.Hat(o,i)}if(140===n){var a=t.Rat().Ai;return this.Xat(a,i)}if(143===n)return this.bw(i);if(144===n)this.zat(t);else if(145===n)this.Vat(t);else if(146===n)this.aat(t);else if(151===n)this.qat(t);else if(n>=152&&n<=159){var h=(15&n)-8;this.Kot(t,h,i)}}}return null},n.Dat=function(t,n){n>=8&&n<=15?t.fA(1):n>=16&&n<=23?t.fA(2):n>=24&&n<=31&&t.fA(3)},n.Pat=function(t,n){n>=128&&n<=135?t.fA(4):n>=136&&n<=143&&t.fA(5)},n.Mat=function(t){this.Sat[t]&&(this.Eat=this.Sat[t])},n.Wat=Mr.mark(function t(n){var i;return Mr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<8)){t.next=10;break}if(!(1==(1&n))||!this.Sat[i]){t.next=6;break}return t.next=6,i;case 6:n>>=1;case 7:i++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)}),n.Fat=function(t,n){for(var i=null,e=0,r=this.Wat(t);e<r.length;e++){var s=r[e],u=this.Sat[s];u.eat()&&(i=u.Eut(n,this.Tat)),u.Qot()}return i},n.Uat=function(t,n){for(var i=0,e=this.Wat(t);i<e.length;i++){var r=e[i],s=this.Sat[r];s.eat()||s.oat(n),s.yat()}},n.jat=function(t,n){for(var i=null,e=0,r=this.Wat(t);e<r.length;e++){var s=r[e],u=this.Sat[s];u.eat()&&(i=u.Eut(n,this.Tat)),u.Wy()}return i},n.Hat=function(t,n){for(var i=null,e=0,r=this.Wat(t);e<r.length;e++){var s=r[e],u=this.Sat[s];u.eat()?i=u.Eut(n,this.Tat):u.oat(n),u.mat()}return i},n.Xat=function(t,n){for(var i=null,e=0,r=this.Wat(t);e<r.length;e++){var s=r[e],u=this.Sat[s];u.eat()&&(i=u.Eut(n,this.Tat)),this.Sat[s]=void 0}return i},n.bw=function(t){var n=this.Xat(255,t);return this.Du(),n},n.Du=function(){this.Eat=void 0,this.Sat=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.zat=function(t){t.fA(1);var n=t.Rat().Ai;if(this.Eat){var i=(128&n)>0,e=(64&n)>0;this.Eat._at(i),this.Eat.dat(e)}},n.Vat=function(t){var n=t.Rat().Ai,i=t.Rat().Ai;if(t.fA(1),this.Eat){var e=3&n,r=(12&n)>>2,s=(48&n)>>4,u=3&i,o=(12&i)>>2,a=(48&i)>>4,h=this.Gat(s,r,e),c=this.Gat(a,o,u);this.Eat.vat(h),this.Eat.fat(c)}},n.aat=function(t){var n=t.Rat().Ai,i=t.Rat().Ai;if(this.Eat){var e=15&n,r=63&i;this.Eat.aat(e,r)}},n.qat=function(t){t.fA(1),t.fA(1);var n=t.Rat().Ai;if(t.fA(1),this.Eat){var i=3&n;this.Eat.gat(i)}},n.Kot=function(t,n,i){var e=void 0!==this.Sat[n];if(!e){var r=new rH(n);r.oat(i),this.Sat[n]=r}var s=t.Rat().Ai,u=t.Rat().Ai,o=t.Rat().Ai,a=t.Rat().Ai,h=t.Rat().Ai,c=t.Rat().Ai,f=(32&s)>0,v=127&u,l=(128&u)>0,d=o,_=1+(15&a),w=(240&a)>>4,g=1+(63&h);e&&0===(7&c)||this.Sat[n].wat(),this.Sat[n].Kot(f,v,d,w,l,_,g),this.Eat=this.Sat[n]},n.Gat=function(t,n,i){var e={0:0,1:0,2:1,3:1};return dH[e[t]<<2|e[n]<<1|e[i]]},t}(),aH=8,hH=12,cH=13,fH=14,vH=16,lH={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},dH=["black","blue","green","cyan","red","magenta","yellow","white"],_H=function(){function t(){this.Yat=void 0,this.$at=void 0,this.Qat=void 0,this.Yat=[],this.$at=null,this.Qat=0}var n=t.prototype;return n.Kat=function(t){if(t.vs===ZU.Urt){var n=63&t.Ai;return this.Qat=2*n-1,void(this.$at=[])}if(this.$at&&(this.Qat>0&&(this.$at.push(t),this.Qat--),0===this.Qat)){var i=new wH(this.$at);this.Yat.push(i),this.$at=null,this.Qat=0}},n.Zat=function(){return this.Yat},n.Jat=function(){this.Yat=[]},n.Du=function(){this.Yat=[],this.$at=[],this.Qat=0},t}(),wH=function(){function t(t){this.tht=void 0,this.nht=void 0,this.tht=0,this.nht=t}var i=t.prototype;return i.iht=function(){return this.tht<this.nht.length},i.eht=function(){return this.tht},i.Rat=function(){if(!this.iht())throw new lf(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.nht[this.tht++]},i.fA=function(t){if(this.tht+t>this.nht.length)throw new lf(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.tht+=t},t}(),gH=function(){function t(){this.rht=void 0,this.sht=void 0,this.uht=void 0,this.oht=void 0,this.aht=void 0,this.hht=void 0,this.cht=void 0,this.fht=void 0,this.vht=!1,this.rht=[],this.sht=[],this.uht=new _H,this.oht=0,this.aht=Xr({CC1:new Zj(0,0),CC2:new Zj(0,1),CC3:new Zj(1,0),CC4:new Zj(1,1)}),this.hht=0,this.cht=0,this.fht=Hr(),this.bw()}var i=t.prototype;return i.Du=function(){this.oht=0,this.rht=[],this.sht=[],this.uht.Du(),this.bw(),this.fht.forEach(function(t){t.Du()})},i.bw=function(){this.hht=0,this.cht=0,this.aht.forEach(function(t){t.bw()})},i.dht=function(t,n){if(t.Zrt){var i=t.Jrt,e=t.tst,r=t.vs;r===ZU.Lrt||r===ZU.Mrt?this.rht.push({cot:n,vs:r,Eot:i,hot:e,_ht:this.rht.length}):this.vht&&(this.sht.push({cot:n,vs:r,Ai:i,_ht:this.sht.length}),this.sht.push({cot:n,vs:ZU.Frt,Ai:e,_ht:this.sht.length}))}},i.JP=function(){var t=[];Os(this.rht,function(t,n){return t.cot-n.cot||t._ht-n._ht}),Os(this.sht,function(t,n){return t.cot-n.cot||t._ht-n._ht});for(var n=0,i=this.rht;n<i.length;n++){var e=i[n],r=this.wht(e);r&&t.push(r)}for(var s=0,u=this.sht;s<u.length;s++){var o=u[s];this.uht.Kat(o)}for(var a=this.uht.Zat(),h=0;h<a.length;h++){var c=a[h],f=this.ght(c);t.push.apply(t,f)}return this.uht.Jat(),this.rht=[],this.sht=[],t},i.wht=function(t){var n=t.vs;if(Zj.Bot(t.Eot)){var i=t.Eot>>3&1;0===n?this.hht=i:this.cht=i}var e="CC"+(n<<1|(n?this.cht:this.hht)+1),r=this.aht.get(e);return 255===t.Eot&&255===t.hot||!t.Eot&&!t.hot||!this.yht(t.Eot)||!this.yht(t.hot)?(++this.oht>=45&&this.bw(),null):(this.oht=0,t.Eot&=127,t.hot&=127,t.Eot||t.hot?Zj.Bot(t.Eot)?r.Sot(t):r.Aot(t.cot,t.Eot,t.hot):null)},i.ght=function(t){var i=[];try{for(;t.iht();){var e=t.Rat().Ai,r=(224&e)>>5,s=31&e;if(7===r&&0!==s)r=63&t.Rat().Ai;if(0!==r){if(!this.fht.has(r)){var u=new oH(r);this.fht.set(r,u)}for(var o=this.fht.get(r),a=t.eht();t.eht()-a<s;){var h=o.Iat(t);h&&i.push(h)}}}}catch(t){if(!(t instanceof lf&&t.code===n.ErrorCode.SUBTITLE_PARSE_ERROR))throw t}return i},i.yht=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}(),yH=function(t){function n(n,i){var e;return(e=t.call(this,"mht")||this).Iut=n,e.zm=i,e}return E(n,t),n}(Eu),mH=function(t){function n(){var n;return(n=t.call(this)||this).pht=void 0,n.pht=new gH,n}E(n,t);var i=n.prototype;return i.kht=function(t,n){this.pht.dht(t,n)},i.JP=function(){for(var t=this.pht.JP(),n=0;n<t.length;n++){var i=t[n];this.Qs(new yH(i.Iut,i.zm))}},i.bw=function(){this.pht.Du()},i.Ed=function(){this.tu(),this.pht.Du()},n}(Tu),pH=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.bht=function(t,n){for(var i=0;i<t.length;i++){var e=t[i];this.kht(e,e.rQ.pp()+n)}this.JP()},n}(mH),kH=function(t){function n(n){var i;return(i=t.call(this)||this).Aht=void 0,i.Tht=void 0,i.F2=NaN,i.Sht=NaN,i.Eht=void 0,i.lE=void 0,i.Iht=function(t){i.Rht({sQ:t.Iut,uQ:""}).mE(t.zm)},i.lE=n,i.Eht=Hr(),i.Aht=new pH,i.Aht.Ks("mht",i.Iht),i}E(n,t);var i=n.prototype;return i.Nht=function(t){return this.Eht.get(t)},i.Rht=function(t){var n=this.Eht.get(t.sQ);return n||(n=this.Cht(t),this.Eht.set(t.sQ,n)),n},i.Cht=function(t){var n,i=function(t){if(t!==fj)for(var n=t.toLowerCase(),i=0;i<lj.length;i++){var e=lj[i];if(e[1]===n||e[2]===n||e["2T"]===n||e["2B"]===n||e[3]===n)return e}}(t.uQ),e=i?i._i:"";t.Dht&&(e="easy "+e),n=t.Mw?"CC "+t.Mw:e?"CC "+e:"CC"+t.sQ;var r=this.lE.gE(Jk.tE,n,n,e,!1,Bm.CEA608);return this.yw(r),r},i.L7=function(t){var n=Rk.NA(Yo(t));this.Tht=function(t){for(var n=0;n<t.VA.length;n++){var i=t.VA[n],e={eT:(h=t.VA[n]).bA.eT,Rst:h.JA.bA.yk},r=i.JA.fT.dT.wT.yT,s=zs(r,function(t){return t.vs===Pp.bb});if(!s){var u=zs(r.filter(function(t){return t.vs===Pp.xb}),function(t){var n;return(null==(n=t.KT)?void 0:n.vs)===Pp.bb});u&&(s=u.KT)}if(s){var o=QC(Yo(s.VT.Hi),new na),a=s.WT;return Fr({},e,{eT:i.bA.eT,VT:ta(s.VT.Hi),yp:s.yp,uT:s.uT,eS:a&&a.eS,iS:a&&a.iS,Pht:o.LH,Bht:o.MH,xht:o.FH,jH:o.jH[0],HH:o.HH[0]})}}var h}(n.filter(Pj)[0])},i.a8=function(t,n,i,e){if(this.Tht&&(m(this.F2)||!jt(this.F2,n,1e-5))){m(this.Sht)||jt(n,this.Sht,1e-5)||this.Aht.bw();var r=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.QS.Lst&&n.push.apply(n,e.QS.Lst),delete e.QS.Lst}for(var r=0;r<n.length;r+=1)n[r].vS=r;return n.sort(Mx)}(function(t,n,i,e,r){for(var s=[],u=n.filter(Rj),o=e(i),a=0;a<u.length;a++){var h,c=u[a],f=zs(c.VA,function(t){return t.bA.eT===i.eT});if(f)for(var v=f.bA.uS||0,l=f.bA.oS||0,d=f.gS?f.gS.gS:lt.ZERO,_=c.fS+(null!=(h=f.bA.yS)?h:lt.ZERO).toNumber(),w=0,g=f.wS;w<g.length;w++)for(var y=g[w],m=_+(y.fS||0),p=0,k=y.AS;p<k.length;p++){var b=k[p],A=b.Pu||l,T=new rj;T.zrt(t,m,m+A);var S=yp.Mp(d,i.Rst);T.QS=r(b,c,i,S,Zo(t,m,m+A)),s.push(T),m+=A,d=d.add(b.Hg||v||o)}}return s}(t,Rk.NA(Yo(t)),this.Tht,Ij,Dj));this.Aht.bht(r,e),this.F2=n,this.Sht=i}},i.bw=function(){var n=this;return this.Aht.bw(),this.Eht.forEach(function(t){return n.mw(t)}),this.Eht.clear(),this.Tht=void 0,this.F2=NaN,this.Sht=NaN,t.prototype.bw.call(this)},i.Ed=function(){return this.Aht.nu("mht",this.Iht),this.Aht.Ed(),t.prototype.Ed.call(this)},n}(pb),bH=/(.*)=(.*)/,AH=/(.*):(.*)/;function TH(t){if(!t)return[];for(var n=[],i=t.trim().split(";"),e=0;e<i.length;e++){var r=i[e].match(bH);if(r){for(var s=r[1],u="",o=!1,a=0,h=r[2].trim().split(",");a<h.length;a++){var c=h[a];if(c.match(AH)){var f=c.match(AH),v=f[1],l=f[2];switch(v){case"lang":u=l;break;case"er":o=Boolean(Number(l))}}}n.push({sQ:Number(s),uQ:u,Dht:o})}}return n}var SH={1:1,2:3,3:2,4:4},EH="urn:scte:dash:cc:cea-608:2015",IH="urn:scte:dash:cc:cea-708:2015";var RH=function(t){function n(n,i,e){var r;return(r=t.call(this,og.vw)||this).C1=n,r.cit=i,r.Oht=e,r}return E(n,t),n.prototype.z_=function(){return new NH(this.C1&&this.C1.X_)},n}(sg),NH=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return E(n,t),n}(Eu),CH=[Bf.Rf,Ty.ow,Bf.Hf],DH=function(t){function n(n,i){var e;return(e=t.call(this)||this).ZR=void 0,e.Qet=void 0,e.Lht=void 0,e.Mht=function(t){var n=e.Fht(t.currentTime)||e.Qet.Ztt;if(n&&e.Lht!==n){var i=e.Lht;e.Lht=n,n.C1&&e.Qs(new RH(n.C1,null==n?void 0:n.X_,null==i?void 0:i.X_))}},e.ZR=n,e.ZR.Ks(CH,e.Mht),e.Qet=i,e}E(n,t);var i=n.prototype;return i.Fht=function(t){for(var n=this.Qet.int,i=0,e=n.V_.p0;i<e.length;i++){var r=e[i];if(n.Wit.Cit(t,r))return r}},i.Ed=function(){this.tu(),this.ZR.nu(CH,this.Mht)},n}(Tu),PH=function(t){function n(n,i,e,r,s,u,o,a,h){var c,f;return(c=t.call(this)||this).Oh=void 0,c.gz=void 0,c.a5=void 0,c.s5=void 0,c.Qet=void 0,c._6=void 0,c.Uht=!1,c._E=new uu,c._rt=void 0,c.jht=void 0,c.Hht=void 0,c.Xht=void 0,c.ZR=void 0,c.dE=void 0,c.ED=void 0,c.X8=void 0,c.zht=void 0,c.Vht=new SS([]),c.lE=void 0,c.B6=void 0,c.krt=function(){!c.$tt()&&c.Eit()&&c.Xht.krt()},c.g5=function(t){c.s5.g5(t),c.Qs(new JU(t.cit,t.Oht))},c.qht=function(t){c.Wht(t)},c.Oh=(f=QU,QU+=1,f),c.gz=n,c.dE=r,c.ED=s,c.Xht=i,c.ZR=e,c.B6=u,c.lE=o,c.X8=a,c._6=h,c}E(n,t);var i=n.prototype;return i.Ght=function(){var t;return null==(t=this.a5)?void 0:t.N1.NC},i.$tt=function(){return void 0!==this.Qet&&this.Qet.$tt},i.Eit=function(){if(void 0===this.Hht)return!1;var t=this.Yht().MC(),n=t.KC(this.Hht);return!(n<0)&&t.IC(n)!==this.Hht},i._z=function(){var t=this.Xht.Iit,n=this.Yht().XC(t);this.Hht=n.Tw>0?n.NC(n.Tw-1):0;var i=t.NC(0);isFinite(i)&&this.Hht<i&&this.ZU(this.Hht,i),this.krt()},i.a8=function(t,n,i,e){var r,s,u,o,a;return Mr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return r=i.LJ.Kk,s=this.$ht(t,n,i,r,e),u=this.Qht(t,n,i,r,e),h.next=5,Mr.awrap(yu([u,s]));case 5:return o=h.sent,a=o[0],h.abrupt("return",a);case 8:case"end":return h.stop()}},null,this,null,Ye)},i.$ht=function(t,n,i,e,r){var s,u;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(zc(i.YB)){o.next=2;break}return o.abrupt("return");case 2:if(t.vs!==kC.Yf){o.next=11;break}return u=t.Hi.jnt(),o.t0=p,o.next=7,Mr.awrap(u.Cl(r));case 7:o.t1=o.sent,s=new o.t0(o.t1),o.next=12;break;case 11:s=new p(t.Hi.dtt);case 12:this.X8.a8(s,n.Vm,e),this.zht&&this.zht.a8(s,n.Vm,n.qm,e);case 14:case"end":return o.stop()}},null,this,null,Ye)},i.L7=function(t,n,i){return hu(i),this.zht&&this.zht.L7(new p(t.dtt)),Ye.resolve()},i.$h=function(t,n){var i=new uu;n&&i.zs(n),this._E.Xs(),this._E=i;var e=this.Kht(t,this._rt,i.qs);return this._rt=e,e},i.Zht=function(t){var n=t.T1.h0;if(function(t){return t.some(function(t){return t.pJ===EH||t.pJ===IH})}(n)){this.zht=new kH(this.lE);for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];if(e.pJ===EH)for(var r=jx(e.Ai),s=0;s<r.length;s++){var u=r[s];n.push(u)}else if(e.pJ===IH)for(var o=TH(e.Ai),a=0;a<o.length;a++){var h=o[a];if(h.sQ<=4){var c=SH[h.sQ];n.push(Fr({},h,{sQ:c}))}}}return n}(n),e=0;e<i.length;e++){var r=i[e];this.zht.Rht(r)}this.Vht.qR(this.zht.VA)}},i.Kht=function(t,n,i){return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(hu(i),!n){e.next=4;break}return e.next=4,Mr.awrap(n.catch(Z));case 4:if(this.s5!==t||!this.Uht){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,Mr.awrap(this.Jht());case 8:return hu(i),e.next=11,Mr.awrap(this.tct());case 11:if(hu(i),!t){e.next=15;break}return e.next=15,Mr.awrap(this.yE(t));case 15:case"end":return e.stop()}},null,this,null,Ye)},i.Jht=function(){var t;return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=this.s5,this.s5=void 0,this.Uht=!1,this.Hht=void 0,this.a5=void 0,t&&(t.nu(og.dw,this.qht),t.m5(!1),t.nu(og.NO_QUALITY,this.$s)),this.jht&&(this.jht.Ed(),this.jht=void 0),!this.Qet){n.next=11;break}return n.next=10,Mr.awrap(this.Qet.Ed());case 10:this.Qet=void 0;case 11:if(!this.zht){n.next=15;break}return this.Vht.GR(this.zht.VA),n.next=15,Mr.awrap(this.zht.Ed());case 15:case"end":return n.stop()}},null,this,null,Ye)},i.yE=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.s5=t,this.a5=t.p5,this.Zht(t),t.Ks(og.dw,this.qht),t.Ks(og.NO_QUALITY,this.$s),n.next=7,Mr.awrap(this.nct(t));case 7:this.Qet=this.ict(t),this.Qet.Ks($U,this.$s),this.Qet.Ks("Ttt",this.krt),this.Qet.ent=t.k5,this.jht=new DH(this.ZR,this.Qet),this.jht.Ks(og.vw,this.g5),t.m5(!0),this.Uht=!0;case 15:case"end":return n.stop()}},null,this,null,Ye)},i.bw=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this._E.Xs(),!this._rt){n.next=5;break}return n.next=4,Mr.awrap(this._rt.catch(Z));case 4:this._rt=void 0;case 5:return n.next=7,Mr.awrap(this.Jht());case 7:if(t){n.next=10;break}return n.next=10,Mr.awrap(this.tct());case 10:return n.next=12,Mr.awrap(this.ect());case 12:case"end":return n.stop()}},null,this,null,Ye)},i.rct=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mr.awrap(this.Jht());case 2:case"end":return t.stop()}},null,this,null,Ye)},i.Wht=function(t){this.Qet&&this.s5&&this.s5===t.V_&&(this.Qet.ent=this.s5.k5)},i.y9=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.Qet){n.next=3;break}return n.next=3,Mr.awrap(this.Qet.y9(t));case 3:case"end":return n.stop()}},null,this,null,Ye)},i.O9=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.Qet){n.next=3;break}return n.next=3,Mr.awrap(this.Qet.O9(t));case 3:case"end":return n.stop()}},null,this,null,Ye)},i.yL=function(){var t=this.nm.aD;return this.ED.yL(t)},i.Ed=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.tu(),n.prev=1,n.next=4,Mr.awrap(this.bw(t));case 4:return n.next=6,Mr.awrap(this.rct());case 6:n.next=10;break;case 8:n.prev=8,n.t0=n.catch(1);case 10:case"end":return n.stop()}},null,this,[[1,8]],Ye)},T(n,[{key:"r5",get:function(){return this.s5}},{key:"xw",get:function(){return this.Oh}},{key:"Ez",get:function(){return this.gz}},{key:"Py",get:function(){return this.Vht}},{key:"GJ",get:function(){return this.gz===gm._d?44100/1024:29.97}},{key:"urt",get:function(){return 1/this.GJ}},{key:"Bw",get:function(){return Boolean(this.s5&&this.s5.Bw)}},{key:"tj",get:function(){var t=this.Qet?this.Qet.int.tj.xit:WS.vD();return this.sct().YC(t)}},{key:"nm",get:function(){var t=this.Yht(),n=this.Hht;return void 0!==n&&t.MC().VN(n)&&(t=t.YC(WS.fD(n))),t}},{key:"Ait",get:function(){return DF(this.Yht(),this.tj.YC(this.uct)).GC(2*this.urt)}},{key:"uct",get:function(){var t=this.Hht;if(t&&isFinite(t)){var n=this.Xht.NC;if(isFinite(n)&&t<n)return new WS([t,n],[!1,!0])}return WS.vD()}},{key:"pm",get:function(){var t=this.s5;if(!t)return WS.fD(0);var n=t.T1.U1,i=t.T1.F1;if(void 0===i||void 0===n)return WS.fD(0);var e=i,r=n>=t.T1.N1.NC?w.max(n,this.NC):n;return r=w.max(e,r),new WS([e,r]).MC()}},{key:"MN",get:function(){return this.Ait.oD(this.jg)}},{key:"Iit",get:function(){return this.Xht.Iit}},{key:"jg",get:function(){return this.ZR.jg}},{key:"IC",get:function(){return this.a5?this.a5.N1.IC:NaN}},{key:"NC",get:function(){var t=this.Ght(),n=this.Hht;return void 0===t?NaN:void 0!==n?n:t}},{key:"uT",get:function(){return this.Xht.uT}},{key:"yp",get:function(){return this.Xht.yp}},{key:"Nrt",get:function(){return this.Hht}}]),n}(Tu);function BH(t,n,i,e){var r,s,u=n.QC(t.MC());return 0===(u=u.QC(i.QC(n))).Tw?s=r=e.qm:(r=u.IC(0),s=u.NC(0)),{Fet:r,Uet:s}}function xH(t,n,i){var e=new mk(Yo(t),new na),r=Ak.pA(e,Pp.ub);if(r){var s=Ak.dA(r.Hi),u=zs(s,function(t){return t.vs===Pp.hb}),o=zs(s,function(t){return t.vs===Pp.zb});if(u){var a=Ak.pA(u.Hi,Pp.fb);if(a){var h=Ak.pA(a.Hi,Pp.wb);if(h){var c=Ak.pA(h.Hi,Pp.gb);if(c){var f=Ak.dA(c.Hi),v=zs(f,function(t){return t.vs===Pp.yb});if(v){var l=Ak.EA(v.Hi,Pp.yb,!1),d=new mk(Yo(l.Hi),new na);d.fA(4);for(var _=Ak.dA(d),w=[],g=0;g<_.length;g++){var y=_[g];if(y.vs===Pp.Bb||y.vs===Pp.xb)return;y.vs===Pp.bb?w.push({act:y,hct:Pp.xb}):y.vs===Pp.Rb&&w.push({act:y,hct:Pp.Bb})}if(function(t,n){return void 0===t&&void 0!==n&&n.length>0}(o,n)||0!==w.length){var m=Jo(t),k=zs(s,function(t){return t.vs===Pp.pb}),b=k?Ak.pA(k.Hi,Pp.kb):void 0,A=b?function(t){var n=t.Hi.Mu();return n.fA(4),n.fA(4),n.rA()}(b):1,T=zs(f,function(t){return t.vs===Pp.mb});T&&function(t,n,i){var e=MH(Yo(t),n),r=Ak.mA(e,new na).Hi;r.fA(4);for(var s=r.rA(),u=0;u<s;u++){r.fA(4),r.fA(4);var o=r.tA.Mu(),a=r.rA();Ao(r.Hi,o,a+i)}}(m,T,w.length),b&&function(t,n,i){var e=MH(Yo(t),n),r=Ak.mA(e,new na).Hi;r.fA(4),r.fA(4),Ao(r.Hi,r.tA,i)}(m,b,1),m=function(t,n,i,e){if(i||!e)return t;for(var r=t,s=0;s<e.length;s++){var u=e[s];r=OH(r,n,new p(u))}return r}(m,r,o,n);for(var S=[r,u,a,h,c,v],E=w.length-1;E>=0;E--){var I=w[E];m=LH(m,I.act,v,S,I.hct,i)}return{cct:m,fct:{vct:w.length,sS:A}}}}}}}}}}function OH(t,n,i){var e=Qu(t,i,n.Hi.Hi.byteOffset+n.Hi.Hi.byteLength);return FH(MH(Yo(e),n),i.byteLength),e}function LH(t,n,i,e,r,s){var u,o,a,h,c,f=function(t,n,i){0;var e=t.Hi.Hi,r=WH(),s=new p(e.byteLength+r.byteLength),u=Yo(s);s.set($o(e),0),FH(u,r.byteLength),Do(u,new na($H),n),s.set(r,e.byteLength),Do(u,new na(e.byteLength+GH),t.vs),i&&go(u,new na(e.byteLength+YH),i);return s}(n,r,s),v=Qu(t,f,n.Hi.Hi.byteOffset),l=Yo(v);u=MH(l,i),o=1,a=Ak.mA(u,new na),h=Yo(Ak.EA(a.Hi,Pp.yb,!1).Hi),c=h.getUint32(0),h.setUint32(0,c+o);for(var d=0;d<e.length;d++){FH(MH(l,e[d]),f.byteLength)}return v}function MH(t,n){var i=n.Hi.Hi.byteOffset;return Go(t,i,i+n.Hi.Hi.byteLength)}function FH(t,n){var i=new na,e=bo(t,i);if(0===e);else if(1===e){i.xu(4);var r=To(t,i.Mu());So(t,i,r.add(n))}else i.Lu(0),Ao(t,i,e+n)}function UH(t,n){for(var i=Jo(t),e=new mk(Yo(i),new na),r=Ak.dA(e),s=r.length-1;s>=0;s--){var u=r[s];u.vs===Pp.Ob&&(i=HH(i,u,n))}return i}var jH=function(t){function n(n){var i;return(i=t.call(this)||this).lct=void 0,i.GM=void 0,i.dct=[],i.lct=n,i}E(n,t);var i=n.prototype;return i.start=function(t){this.GM=t},i.transform=function(t){this.Rj(t),this._ct()},i.flush=function(){this.Cj(),this._ct()},i.Lj=function(t){return t===Pp.Ob},i.Fj=function(t){var n=Jo($o(t.Hi.Hi)),i=Ak.mA(Yo(n),new na);n=HH(n,i,this.lct),this.dct.push(n)},i.Uj=function(t){this.dct.push(t)},i._ct=function(){for(var t=0,n=function(t){if(t.length<2)return t;for(var n=[],i=t[0],e=i.buffer,r=i.byteOffset,s=i.byteLength,u=1;u<t.length;u++){var o=t[u];e===o.buffer&&r+s===o.byteOffset?s+=o.byteLength:(n.push(new p(e,r,s)),e=o.buffer,r=o.byteOffset,s=o.byteLength)}return n.push(new p(e,r,s)),n}(this.dct);t<n.length;t++){var i=n[t];this.GM.enqueue(i)}Qs(this.dct)},n}(CC);function HH(t,n,i){for(var e=t,r=Ak.dA(n.Hi),s=r.length-1;s>=0;s--){var u=r[s];u.vs===Pp.Mb&&(e=XH(e,u,n,i))}return e}function XH(t,n,i,e){var r=MH(Yo(t),n),s=Ak.mA(r,new na),u=Ak.dA(s.Hi),o=zs(u,function(t){return t.vs===Pp.Fb});if(!o)return t;var a=o.Hi,h=a.tA.Mu(),c=a.rA(),f=Ik(c).flags;a.fA(4),f.Uu(xp.BASE_DATA_OFFSET_PRESENT)&&a.fA(8);var v=a.tA.Mu();if(f.Uu(xp.SAMPLE_DESCRIPTION_INDEX_PRESENT)){var l=bo(a.Hi,v);return Ao(a.Hi,a.tA,l+e.vct),t}Ao(a.Hi,h,c|xp.SAMPLE_DESCRIPTION_INDEX_PRESENT);var d=new p(4);Yo(d).setUint32(0,e.sS+e.vct);for(var _=a.Hi.byteOffset+v.Bu,w=0,g=u.filter(function(t){return t.vs===Pp.Ub});w<g.length;w++){zH(g[w],d.byteLength)}for(var y=0,m=[o,n,i];y<m.length;y++){var k=m[y];FH(MH(Yo(t),k),d.byteLength)}return Qu(t,d,_)}function zH(t,n){var i=t.Hi,e=Ik(i.rA()).flags;if(i.fA(4),e.Uu(Op.DATA_OFFSET_PRESENT)){var r=i.Mu().rA();Ao(i.Hi,i.tA,r+n)}}var VH,qH,WH=(VH=function(){return new p([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])},function(){return void 0!==VH&&(qH=VH(),VH=void 0),qH}),GH=16,YH=64,$H=4,QH=function(t){function n(n,i,e,r,s,u,o,a,h,c){var f;return(f=t.call(this,n,i,e,r,s,o,a,h,c)||this).Wet=void 0,f.Yet=void 0,f.w6=VU,f.wct=void 0,f.Wet=u,f}E(n,t);var i=n.prototype;return i.Yht=function(){return this.Yet?this.Yet.nm:WS.vD()},i.sct=function(){return this.Yet?this.Yet.Iz:WS.vD()},i.Qht=function(t,n,i,e,r){var s,u,o,a,h,c,f,v;return Mr.async(function(l){for(;;)switch(l.prev=l.next){case 0:return hu(r),t.vs===kC.Yf?(o=t.Hi.Dl,this.wct&&(d=o,_=this.wct,o=d.pipeThrough(new Nd(new jH(_)))),u={vs:kC.Yf,Hi:o}):(a=new p(t.Hi.dtt),this.wct&&(a=UH(a,this.wct)),u={vs:kC.WU,Hi:a}),h={TK:n.Vm,Hg:n.Hg,Kk:e,xht:null==(s=i.C1)?void 0:s.Ow},c=this.Yet.nm,l.next=6,Mr.awrap(this.gct());case 6:return l.next=8,Mr.awrap(this.Yet.XX(u,h,r));case 8:return f=this.Yet.nm,v=this.Yet.Iz,l.abrupt("return",BH(c,f,v,n));case 11:case"end":return l.stop()}var d,_},null,this,null,Ye)},i.L7=function(n,i,e){var r,s,u,o,a,h,c;return Mr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,Mr.awrap(t.prototype.L7.call(this,n,i,e));case 2:return s=new p(n.dtt),this.yct(i)&&(u=this.Xht.a7,o=[],u&&(o=Zs(u.W6,function(t){return t.FR}),a=u.V6.XE?XI(u.V6.XE):void 0),(h=xH(s,o,a))?(this.wct=h.fct,s=h.cct):this.wct=void 0),c={vs:kC.WU,Hi:s},f.next=7,Mr.awrap(this.gct());case 7:return f.next=9,Mr.awrap(this.Yet.qX(c,{xht:null==(r=i.C1)?void 0:r.Ow},e));case 9:case"end":return f.stop()}},null,this,null,Ye)},i.cet=function(t,n,i){return this.Yet.Qh(t,n,i)},i.ZU=function(t,n){this.Yet.kz(t,n)},i.JU=function(t,n){this.Yet.bz(t,n)},i.nct=function(t){var n,i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=UM.S6(null!=(n=t.k5)?n:t.p0,this._6),e=i.YB,this.Yet){r.next=8;break}return r.next=5,Mr.awrap(this.Xht.mct(e));case 5:this.Yet=r.sent,this.Yet.Ks(wC.VU,this.$s),this.w6=new zU(this.Yet);case 8:return r.next=10,Mr.awrap(this.gct());case 10:case"end":return r.stop()}},null,this,null,Ye)},i.Wht=function(n){var i=this,e=n.V_.k5;return void 0===e?t.prototype.Wht.call(this,n):e.some(function(t){return i.w6.PU(t)})?t.prototype.Wht.call(this,n):void this.Qs(new Eu("q9"))},i.ect=function(){return this.Yet&&(this.Yet.nu(wC.VU,this.$s),this.Yet=void 0),Ye.resolve()},i.tct=function(){return this.Yet?this.Yet.Qh(0,1/0):Ye.resolve()},i.ict=function(t){return new HU(this,this.ZR,this.ZR,this.dE,this.ED,this.Wet,this.B6,this._6,this.w6).IK(t)},i.gct=function(){var t=this.Xht.Iit,n=w.max(0,t.IC(0)-.1),i=t.NC(0)+.01;return this.Yet.JX(n,i)},i.yct=function(t){return!!zc(t.YB)&&(!!this.Xht.zW||void 0!==this.Xht.a7)},T(n,[{key:"p0",get:function(){return this.a5?this.a5.p0:[]}},{key:"yp",get:function(){return this.Xht.yp}}]),n}(PH),KH=function(t){function n(n,i,e,r,s,u,o,a,h,c,f){var v;return(v=t.call(this,e,r,s,n,u,o,a,c)||this).IX=void 0,v.x3=[],v.Wet=void 0,v.pct=void 0,v.X8=void 0,v.P8=void 0,v.pct=h,v.IX=i,v.Wet=u.lowLatency,v.X8=f,v.P8=u.abr,v.ZR.Ks(Bf.zf,v.yrt),v}E(n,t);var i=n.prototype;return i.gL=function(n,i){for(var e=0;e<i.length;e++){var r=i[e].p5;Ys(this.x3,r)||this.x3.push(r)}return t.prototype.gL.call(this,n,i)},i.BU=function(n,i,e){return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.IX===e){r.next=4;break}return this.IX=e,r.next=4,Mr.awrap(this.Art(!1));case 4:return r.next=6,Mr.awrap(t.prototype.Rrt.call(this,n,i));case 6:case"end":return r.stop()}},null,this,null,Ye)},i.Ert=function(t){return new QH(t,this,this.ZR,this.dE,this.ED,this.Wet,this.B6,this.lE,this.X8,this.P8?HE(t,this.P8):void 0)},i.Irt=function(){},i.mct=function(t){if(ks(t,"audio")){if(this.IX.rV)return Ye.resolve(this.IX.rV)}else if(ks(t,"video")&&this.IX.sV)return Ye.resolve(this.IX.sV);throw new v("Cannot allocate source buffer for mime type "+t)},i.Ed=function(n){return Qs(this.x3),this.ZR.nu(Bf.zf,this.yrt),t.prototype.Ed.call(this,n)},T(n,[{key:"yp",get:function(){return this.pct.yp}},{key:"uT",get:function(){return this.pct.uT}},{key:"Hg",get:function(){return this.ZR.Hg}},{key:"zW",get:function(){return this.ZR.zW}}]),n}(YU),ZH=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r,s)||this).JR=void 0,o.kct=void 0,o.sN=void 0,o.bct={fm:0,vm:0,lm:0},o.rN=void 0,o.Act=function(t){o.cN(_m(t.mu))},o.Tct=function(){o.Sct()},o.Ect=function(){o.Ict()},o.ZR.Ks(Ug.Vw,o.Act),o.ED.Ks("sL",o.Tct),o.ED.Ks("hL",o.Ect),o.kct=u,o.rN=new bb(o.ZR,o.dE),o.Ey.qR(o.rN.VA),o.sN=new AS(n),o.ZR.EN=o.sN,o.ZR.DY=nn(o),o.ZR.Ks([Bf.df,Bf.lf],o.$s),o}E(n,t);var i=n.prototype;return i.A9=function(t,n,i,e,r,s){var u=this.ZR,o=this.JR;return new KH(u,o,t,n,i,e,r,s,this.kct,u,this.X8)},i.x9=function(t,n,i){return t.BU(n,i,this.JR)},i.R9=function(t){return!!this.JR&&this.JR.PU(t)},i.uV=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(this.ZR.$h(t));case 2:this.JR=n.sent,this.Sct(),this.Ict(),this.JR.gV(this.Hg);case 6:case"end":return n.stop()}},null,this,null,Ye)},i.F9=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.bct=this.B7,!this.JR){t.next=5;break}return t.next=4,Mr.awrap(this.ZR.bw());case 4:this.JR=void 0;case 5:case"end":return t.stop()}},null,this,null,Ye)},i._z=function(){this.JR._z()},i.cz=function(){var t=this.Hg;this.JR.Hg<t&&this.JR.gV(t),this.JR.cz()},i.v7=function(t){var n,i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.JR,i=[],n.rV&&i.push(SD(n.rV,t)),n.sV&&i.push(SD(n.sV,t)),e.next=6,Mr.awrap(Ye.all(i));case 6:case"end":return e.stop()}},null,this,null,Ye)},i.B9=function(t){return this.JR.BU(t)},i.h7=function(){return!0},i.oY=function(){return this.ZR.xy()},i.w7=function(){this.ZR.Oy()},i.qy=function(){t.prototype.qy.call(this),this.ZR.qy()},i.Wy=function(){t.prototype.Wy.call(this),this.ZR.Wy()},i.Z9=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.rN.wE(i)}Ib(this.rN.VA)},i.b7=function(t,n){var i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.ZR.fu(Bf.Bf,n),this.ZR.Lu(t),e.next=4,Mr.awrap(i);case 4:case"end":return e.stop()}},null,this,null,Ye)},i.Sct=function(){var t=this.JR;t&&(t.sV&&(t.sV.rL=this.ED.mL),t.rV&&(t.rV.rL=this.ED.mL))},i.Ict=function(){var t=this.JR;t&&(t.sV&&(t.sV.aL=this.ED.aL),t.rV&&(t.rV.aL=this.ED.aL))},i.Fy=function(n,i,e){return this.sN.LR(n.contentProtection),t.prototype.Fy.call(this,n,i,e)},i.determineStallJumpTarget=function(){if(this.g8)return this.g8.r7()&&this.jg>this.g8.NC-.5&&!this.g8.P7?this.g8.NC:void 0},i.bw=function(){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(t.prototype.bw.call(this));case 2:return this.bct={fm:0,vm:0,lm:0},n.next=5,Mr.awrap(this.rN.bw());case 5:this.ZR.UN();case 6:case"end":return n.stop()}},null,this,null,Ye)},i.Ed=function(){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(t.prototype.Ed.call(this));case 2:return n.next=4,Mr.awrap(this.rN.Ed());case 4:this.Ey.Ed(),this.ED.nu("sL",this.Tct),this.ED.nu("hL",this.Ect),this.ZR.nu(Ug.Vw,this.Act),this.ZR.nu([Bf.df,Bf.lf],this.$s),this.ZR.EN=void 0,this.ZR.DY=void 0;case 11:case"end":return n.stop()}},null,this,null,Ye)},T(n,[{key:"x7",get:function(){return this.ZR.qg}},{key:"Wg",get:function(){return this.ZR.Wg},set:function(t){this.ZR.Wg=t}},{key:"K9",get:function(){return this.ZR.ym}},{key:"Py",get:function(){return this.Ey}},{key:"Vg",get:function(){return this.ZR.Vg},set:function(t){this.ZR.Vg=t}},{key:"Qg",get:function(){return this.ZR.Qg},set:function(t){this.ZR.Qg=Ut(t,0,1)}},{key:"A7",get:function(){return this.ZR.Gg}},{key:"B7",get:function(){return t=this.bct,n=this.ZR.GN(),{fm:t.fm+n.fm,vm:t.vm+n.vm,lm:t.lm+n.lm};var t,n}}]),n}(bF);function JH(t){var n=F.Sn||F.An,e=void 0!==t&&void 0!==t.preferredAudioCodecs&&t.preferredAudioCodecs.some(function(t){return"ec-3"===t}),r=n&&!e;return function(t){var n,e,s,u;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(e=t.Pl,MediaSource.isTypeSupported(e)||(a=t.YB,h=t.VH,a&&(zc(a)?ab(h)||cb(h):ps(a,Xc.APPLICATION_TTML_XML)||ps(a,Xc.TEXT_VTT)||ps(a,Xc.IMAGE_JPEG)))){o.next=3;break}return o.abrupt("return",!1);case 3:if(!r||-1===(null==(n=t.rr)?void 0:n.indexOf("ec-3"))){o.next=5;break}return o.abrupt("return",!1);case 5:if(!t.qJ){o.next=13;break}return s=t.qJ,u=Zs(s,function(t){return ys(t.pJ)}).filter(H),o.next=10,Mr.awrap(eu(u,function(t){return i.Br(t,e)}));case 10:if(o.sent){o.next=13;break}return o.abrupt("return",!1);case 13:return o.abrupt("return",!0);case 14:case"end":return o.stop()}var a,h},null,null,null,Ye)}}var tX=function(){function t(t){this.Rct=void 0,this.Rct=t}return T(t,[{key:"uT",get:function(){return this.Rct.offsetHeight*i.Fr.Xe}},{key:"yp",get:function(){return this.Rct.offsetWidth*i.Fr.Xe}}]),t}(),nX=function(){function t(t,n){this.Ey=void 0,this.tG=void 0,this.Ey=new tb,this.tG=new sB(t,n)}var n=t.prototype;return n.gE=function(t,n,i,e,r,s,u){var o=new rP(t,n,i,e,r,s,u);return this.Ey.yw(o),this.tG.yw(o),o},n.pE=function(t){this.Ey.mw(t),this.tG.mw(t),t.Ed()},n.bw=function(){for(var t=0,n=this.Ey.Aw.slice();t<n.length;t++){n[t].Ed()}this.Ey.bw(),this.tG.bw()},n.Ed=function(){this.bw(),this.Ey.Ed(),this.tG.Ed()},T(t,[{key:"Py",get:function(){return this.Ey}}]),t}(),iX=function(){function t(t){this.OR=void 0,this.OR=t}var n=t.prototype;return n.TN=function(t){return this.OR.TN(t)},n.cZ=function(t){return this.OR.cZ(t)},n.XN=function(t){return this.OR.XN(t)},t}(),eX=function(t){function n(n){var i;return(i=t.call(this)||this).ZR=void 0,i.JR=void 0,i.Nct=new Gg,i.Cct=function(t){return i.Qy(t)},i.ZR=n,i.Nct.Cw=n.Py,i.ZR.Ks(lC,i.Cct),i}E(n,t);var i=n.prototype;return i.RL=function(){return this.ZR.nm},i.CL=function(){return this.ZR.im},i.PL=function(){return this.ZR.jg},i.xL=function(){return this.ZR.Hg},i.Dct=function(){return this.ZR.YN},i.Pct=function(){return this.ZR.Xg},i.Bct=function(){return this.ZR.qg},i.WL=function(){return this.ZR.ym},i.$L=function(){return this.ZR.$w},i.QL=function(){return this.ZR.pm},i.KL=function(){return this.ZR.Gg},i.ZL=function(){return this.Nct},i.r$=function(){return this.ZR.BF},i.xct=function(){return this.ZR.EN},i.Oct=function(t){this.ZR.EN=t},i.Lct=function(t){this.ZR.DY=t},i.Mct=function(){return this.ZR.zW},i.GN=function(){return this.ZR.GN()},i.xy=function(){return this.ZR.xy()},i.Oy=function(){this.ZR.Oy()},i.Lu=function(t,n){this.ZR.Lu(t,n)},i.WN=function(t){this.ZR.WN(t)},i.qy=function(){this.ZR.qy()},i.Wy=function(){this.ZR.Wy()},i.gE=function(t,n,i,e,r,s,u){return this.ZR.gE(t,n,i,e,r,s,u)},i.xN=function(){return this.ZR.xN()},i.LN=function(t,n,i,e){return this.ZR.LN(t,n,i,e)},i.pE=function(t){this.ZR.pE(t)},i.UN=function(){this.ZR.UN()},i.jU=function(t){return this.ZR.jU(t)},i.$h=function(t){var n,i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mr.awrap(this.ZR.$h(t));case 2:return n=e.sent,i=t.vs===Rb.bE?this.Fct(n):this.Uct(n),this.JR=i,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,this,null,Ye)},i.bw=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.JR){t.next=4;break}return t.next=3,Mr.awrap(this.JR.Ls());case 3:this.JR=void 0;case 4:return t.next=6,Mr.awrap(this.ZR.bw());case 6:case"end":return t.stop()}},null,this,null,Ye)},i.TY=function(){this.ZR.TY()},i.SY=function(){this.ZR.SY()},i.Ls=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.tu(),this.ZR.nu(lC,this.Cct),this.Nct.Cw=void 0,this.Nct.Ed(),!this.JR){t.next=8;break}return t.next=7,Mr.awrap(this.JR.Ls());case 7:this.JR=void 0;case 8:case"end":return t.stop()}},null,this,null,Ye)},i.EY=function(){this.ZR.EY()},i.jct=function(t){this.ZR.nu(lC,this.Cct),this.ZR=t,this.Nct.Cw=t.Py,this.ZR.Ks(lC,this.Cct)},i.Qy=function(t){this.Qs(t)},T(n,[{key:"Hct",get:function(){return this.ZR}},{key:"nm",get:function(){return this.RL()}},{key:"im",get:function(){return this.CL()}},{key:"jg",get:function(){return this.PL()}},{key:"DF",get:function(){return this.ZR.DF}},{key:"Hg",get:function(){return this.xL()}},{key:"YN",get:function(){return this.Dct()}},{key:"Xg",get:function(){return this.Pct()}},{key:"mu",get:function(){return this.ZR.mu}},{key:"uT",get:function(){return this.ZR.uT}},{key:"yp",get:function(){return this.ZR.yp}},{key:"FN",get:function(){return this.ZR.FN}},{key:"Vg",get:function(){return this.ZR.Vg},set:function(t){this.ZR.Vg=t}},{key:"qg",get:function(){return this.Bct()}},{key:"Wg",get:function(){return this.ZR.Wg},set:function(t){this.ZR.Wg=t}},{key:"ym",get:function(){return this.WL()}},{key:"$w",get:function(){return this.$L()}},{key:"pm",get:function(){return this.QL()}},{key:"Gg",get:function(){return this.KL()}},{key:"Py",get:function(){return this.ZL()}},{key:"BF",get:function(){return this.r$()}},{key:"NY",get:function(){return this.ZR.NY}},{key:"Qg",get:function(){return this.ZR.Qg},set:function(t){this.ZR.Qg=t}},{key:"IY",get:function(){return this.ZR.IY}},{key:"hm",get:function(){return this.ZR.hm}},{key:"CY",get:function(){return this.ZR.CY}},{key:"EN",get:function(){return this.xct()},set:function(t){this.Oct(t)}},{key:"DY",get:function(){return this.ZR.DY},set:function(t){this.Lct(t)}},{key:"zW",get:function(){return this.Mct()}}]),n}(Tu),rX=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.RY=function(t){this.ZR.RY(t)},i.rY=function(){this.ZR.rY()},i.tm=function(){this.ZR.tm()},T(n,[{key:"SN",get:function(){return this.ZR.SN}},{key:"CV",get:function(){return this.ZR.CV}},{key:"Tm",get:function(){return this.ZR.Tm},set:function(t){this.ZR.Tm=t}}]),n}(eX),sX=function(){function t(t){this.JR=void 0,this.JR=t}var n=t.prototype;return n._c=function(){return this.JR.uc},n.QL=function(){return this.JR.pm},n.PU=function(t){return this.JR.PU(t)},n.BU=function(t){return this.JR.BU(t)},n.Ls=function(){return Ye.resolve()},T(t,[{key:"uc",get:function(){return this._c()}},{key:"pm",get:function(){return this.QL()}},{key:"Dy",get:function(){return this.JR.Dy}}]),t}(),uX=function(t){function n(n){var i;return(i=t.call(this,n)||this).aV=void 0,i.hV=void 0,i.Xct=function(t){return i.zct(t)},i}E(n,t);var i=n.prototype;return i.RL=function(){return this.JR.nm},i.xL=function(){return this.JR.Hg},i.Vct=function(){return this.JR.HU},i.gV=function(t){this.JR.gV(t)},i.pV=function(t,n,i,e){this.JR.pV(t,n,i,e)},i._z=function(){this.JR._z()},i.cz=function(){this.JR.cz()},i.Ls=function(){return this.aV&&(this.aV.Ls(),this.aV=void 0),this.hV&&(this.hV.Ls(),this.hV=void 0),t.prototype.Ls.call(this)},i.qct=function(t){this.JR=t,this.aV?t.rV?this.aV.Wct(t.rV):(this.aV.Ls(),this.aV=void 0):t.rV&&(this.aV=this.Gct(t.rV),this.aV.Ks(AC,this.Xct)),this.hV?t.sV?this.hV.Wct(t.sV):(this.hV.Ls(),this.hV=void 0):t.sV&&(this.hV=this.Gct(t.sV),this.hV.Ks(AC,this.Xct))},i.zct=function(t){},T(n,[{key:"rV",get:function(){return this.aV}},{key:"sV",get:function(){return this.hV}},{key:"nm",get:function(){return this.RL()}},{key:"Hg",get:function(){return this.xL()}},{key:"HU",get:function(){return this.Vct()}}]),n}(sX),oX=function(t){function n(n){var i;return(i=t.call(this)||this).Bc=void 0,i.vL=0,i.lL=0,i.Bc=n,i}E(n,t);var i=n.prototype;return i.XX=function(t,n,i){return Ye.reject(new v("Invalid media buffer"))},i.Az=function(){return Ye.reject(new v("Invalid media buffer"))},i.qX=function(t,n,i){return Ye.reject(new v("Invalid media buffer"))},i.HU=function(){return!1},i._z=function(){},i.kz=function(t,n){},i.bz=function(t,n){},i.Qh=function(t,n,i){return Ye.resolve()},i.JX=function(t,n){return Ye.reject(new v("Invalid media buffer"))},i.Bm=function(t,n){return Ye.reject(new v("Invalid media buffer"))},i.PU=function(t){return!1},i.BU=function(t){return Ye.reject(new v("Invalid media buffer"))},i.Ls=function(){this.tu()},T(n,[{key:"aL",get:function(){return this.lL},set:function(t){this.lL=t}},{key:"nm",get:function(){return WS.vD()}},{key:"uc",get:function(){return this.Bc}},{key:"Ez",get:function(){return gm.Jl}},{key:"Iz",get:function(){return WS.vD()}},{key:"Yct",get:function(){return!1}},{key:"rL",get:function(){return this.vL},set:function(t){this.vL=t}}]),n}(Tu),aX=function(t){function n(n){var i;return(i=t.call(this)||this).Yet=void 0,i.$ct=function(t){return i.Qy(t)},i.Yet=n,i.Yet.Ks(AC,i.$ct),i}E(n,t);var i=n.prototype;return i.Qct=function(){return this.Yet.aL},i.Kct=function(t){this.Yet.aL=t},i.RL=function(){return this.Yet.nm},i._c=function(){return this.Yet.uc},i.Zct=function(){return this.Yet.Iz},i.Jct=function(){return this.Yet.rL},i.tft=function(t){this.Yet.rL=t},i.XX=function(t,n,i){return this.Yet.XX(t,n,i)},i.Az=function(){return this.Yet.Az()},i.qX=function(t,n,i){return this.Yet.qX(t,n,i)},i.HU=function(){return this.Yet.HU()},i._z=function(){this.Yet._z()},i.kz=function(t,n){this.Yet.kz(t,n)},i.bz=function(t,n){this.Yet.bz(t,n)},i.Qh=function(t,n,i){return this.Yet.Qh(t,n,i)},i.JX=function(t,n){return this.Yet.JX(t,n)},i.PU=function(t){return this.Yet.PU(t)},i.BU=function(t){return this.Yet.BU(t)},i.Qy=function(t){this.Qs(t)},i.Ls=function(){this.tu(),this.Wct(new oX(this.uc))},i.Wct=function(t){this.Yet.nu(AC,this.$ct),this.Yet=t,this.Yet.Ks(AC,this.$ct)},T(n,[{key:"aL",get:function(){return this.Qct()},set:function(t){this.Kct(t)}},{key:"nm",get:function(){return this.RL()}},{key:"uc",get:function(){return this._c()}},{key:"Ez",get:function(){return this.Yet.Ez}},{key:"Iz",get:function(){return this.Zct()}},{key:"rL",get:function(){return this.Jct()},set:function(t){this.tft(t)}}]),n}(Tu),hX=function(t){function n(n){var i;return(i=t.call(this,n)||this).ZR=void 0,i}E(n,t);var i=n.prototype;return i.XX=function(t,n,i){return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return hu(i),e.next=3,Mr.awrap(this.nrt(this.ZR.jg,null==n?void 0:n.TK,null==n?void 0:n.Hg));case 3:if(hu(i),t.vs!==kC.Yf){e.next=10;break}return e.next=7,Mr.awrap(this.nft(t,n,i));case 7:return e.abrupt("return",e.sent);case 10:return e.next=12,Mr.awrap(this.ift(t,n,i));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},null,this,null,Ye)},i.nft=function(t,n,i){var e,r,s,u;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=t;case 1:return r=Gd(e.Hi),s=r[0],u=r[1],e={vs:kC.Yf,Hi:s},o.prev=4,o.next=7,Mr.awrap(this.eft(e,n,i));case 7:return u.cancel(new ou).catch(Z),o.abrupt("return");case 11:if(o.prev=11,o.t0=o.catch(4),!ZR(o.t0)){o.next=20;break}return o.next=16,Mr.awrap(this.nrt(this.ZR.jg,n.TK,n.Hg,i));case 16:if(!o.sent){o.next=20;break}return e={vs:kC.Yf,Hi:u},o.abrupt("continue",1);case 20:throw u.cancel(o.t0).catch(Z),o.t0;case 22:o.next=1;break;case 24:case"end":return o.stop()}},null,this,[[4,11]],Ye)},i.ift=function(t,n,i){return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,hu(i),e.next=5,Mr.awrap(this.eft(t,n,i));case 5:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(1),!ZR(e.t0)){e.next=16;break}return e.next=13,Mr.awrap(this.nrt(this.ZR.jg,n.TK,n.Hg,i));case 13:if(!e.sent){e.next=16;break}return e.abrupt("continue",0);case 16:throw e.t0;case 17:e.next=0;break;case 19:case"end":return e.stop()}},null,this,[[1,8]],Ye)},i.nrt=function(t,n,i,e){var r,s,u,o,a;return Mr.async(function(h){for(;;)switch(h.prev=h.next){case 0:r=KR(t,n,i,this.nm,this.rL,this.aL),s=0;case 2:if(!(s<r.length)){h.next=9;break}return u=r[s],o=u[0],a=u[1],h.next=6,Mr.awrap(this.rft(o,a,e));case 6:s++,h.next=2;break;case 9:return h.abrupt("return",r.length>0);case 10:case"end":return h.stop()}},null,this,null,Ye)},i.eft=function(n,i,e){return t.prototype.XX.call(this,n,i,e)},i.rft=function(n,i,e){return t.prototype.Qh.call(this,n,i,e)},T(n,[{key:"hZ",get:function(){return this.ZR},set:function(t){this.ZR=t}}]),n}(aX),cX=function(t){function n(n){var i;return(i=t.call(this,n)||this).ZR=void 0,i.qct(n),i}return E(n,t),n.prototype.Gct=function(t){var n=new hX(t);return n.hZ=this.ZR,n},T(n,[{key:"hZ",get:function(){return this.ZR},set:function(t){this.ZR=t,this.aV&&(this.aV.hZ=t),this.hV&&(this.hV.hZ=t)}}]),n}(uX),fX=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),T(n,[{key:"mm",get:function(){return this.JR.mm},set:function(t){this.JR.mm=t}}]),n}(sX),vX=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.RY=function(t){this.ZR.RY(t)},i.rY=function(){this.ZR.rY()},i.tm=function(){this.ZR.tm()},i.Gy=function(){return this.ZR.Gy()},T(n,[{key:"SN",get:function(){return this.ZR.SN}},{key:"CV",get:function(){return this.ZR.CV}},{key:"$g",get:function(){return this.ZR.$g}},{key:"Yg",get:function(){return this.ZR.Yg}},{key:"Tm",get:function(){return this.ZR.Tm},set:function(t){this.ZR.Tm=t}}]),n}(eX),lX=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.Uct=function(t){var n=new cX(t);return n.hZ=this,n},i.Fct=function(t){return new fX(t)},T(n,[{key:"Hct",get:function(){return this.ZR}}]),n}(rX),dX=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.Uct=function(t){var n=new cX(t);return n.hZ=this,n},i.Fct=function(t){return new fX(t)},T(n,[{key:"Hct",get:function(){return this.ZR}}]),n}(vX),_X=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.TN=function(n){return n===gm.wd?new dX(t.prototype.TN.call(this,n)):n===gm._d?new lX(t.prototype.TN.call(this,n)):void 0},i.XN=function(n){var i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n,e.next=3,Mr.awrap(i.Ls());case 3:return e.next=5,Mr.awrap(t.prototype.XN.call(this,i.Hct));case 5:case"end":return e.stop()}},null,this,null,Ye)},n}(iX),wX=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r,s,new tX(u))||this).Rct=void 0,o.Rct=u,o}E(n,t);var i=n.prototype;return i.Gy=function(){if(NO(this.ZR))return this.ZR.Gy()},i.Ed=function(){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(t.prototype.Ed.call(this));case 2:case"end":return n.stop()}},null,this,null,Ye)},i.s7=function(n){var i,e,r;return((null!=(i=null==(e=this.C8)?void 0:null==(r=e.dash)?void 0:r.useSeamlessPeriodSwitch)?i:NE.lC)!==NE.lC||!F.Un)&&t.prototype.s7.call(this,n)},i.h7=function(){return!(F.An&&F.Tn<3)&&t.prototype.h7.call(this)},i.k9=function(){return new nX(this,new uB)},i.E7=function(t){return JH(t)},T(n,[{key:"Yg",get:function(){return NO(this.ZR)?this.ZR.Yg:0}},{key:"$g",get:function(){return NO(this.ZR)?this.ZR.$g:0}}]),n}(ZH),gX=function(t){function n(n,i,e,r,s,u,o){var a,h=new _X(s),c=h.TN(u);return(a=t.call(this,n,i,e,r,c,o)||this).KR=void 0,a.KR=h,a}return E(n,t),n.prototype.Ed=function(){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(t.prototype.Ed.call(this));case 2:return n.next=4,Mr.awrap(this.KR.XN(this.ZR));case 4:case"end":return n.stop()}},null,this,null,Ye)},n}(wX),yX=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).b_=void 0,e.b_=n,e}E(n,t);var i=n.prototype;return i.RL=function(){return t.prototype.RL.call(this).xu(this.sft)},i.Zct=function(){return t.prototype.Zct.call(this).xu(this.sft)},i.XX=function(n,i,e){var r=this.sft;return t.prototype.XX.call(this,n,{TK:i.TK-r,Hg:i.Hg,Kk:i.Kk-r},e)},i.JX=function(n,i){var e=this.sft;return t.prototype.JX.call(this,w.max(0,n-e),w.max(0,i-e))},i.Qh=function(n,i,e){var r=this.sft;return t.prototype.Qh.call(this,w.max(0,n-r),w.max(0,i-r),e)},i.kz=function(n,i){var e=this.sft;t.prototype.kz.call(this,w.max(0,n-e),w.max(0,i-e))},i.bz=function(n,i){var e=this.sft;t.prototype.bz.call(this,w.max(0,n-e),w.max(0,i-e))},T(n,[{key:"sft",get:function(){return this.b_.sft}}]),n}(aX),mX=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).b_=void 0,e.qct(i),e.b_=n,e}E(n,t);var i=n.prototype;return i.xL=function(){return t.prototype.xL.call(this)+this.sft},i.gV=function(n){t.prototype.gV.call(this,n-this.sft)},i.QL=function(){return t.prototype.QL.call(this).xu(this.sft)},i.pV=function(n,i,e,r){var s=this.sft;t.prototype.pV.call(this,n-s,i-s,e,r)},i.Gct=function(t){return new yX(this,t)},T(n,[{key:"sft",get:function(){return this.b_.sft}}]),n}(uX),pX=function(t){function n(n){var i;return(i=t.call(this,n)||this).uft=0,i.Ey=void 0,i.lE=void 0,i.tK=void 0,i.nK=void 0,i.lE=new nX(nn(i),new uB),i.Ey=new SS([i.lE.Py,t.prototype.ZL.call(nn(i))]),i.tK=new HB,i.tK.RY(i.SN.parentElement),i.nK=new Vx(i.tK.um,i.DF,i.Ey,i.BF,i.FN),i}E(n,t);var i=n.prototype;return i.RL=function(){return t.prototype.RL.call(this).xu(this.uft)},i.CL=function(){return kX(t.prototype.CL.call(this),this.uft)},i.PL=function(){return t.prototype.PL.call(this)+this.uft},i.xL=function(){return t.prototype.xL.call(this)+this.uft},i.WL=function(){return t.prototype.WL.call(this).xu(this.uft)},i.QL=function(){return t.prototype.QL.call(this).xu(this.uft)},i.Lu=function(n,i){var e=w.max(0,n-this.uft);t.prototype.Lu.call(this,e,i)},i.WN=function(n){t.prototype.WN.call(this,kX(n,-this.uft))},i.ZL=function(){return this.Ey},i.gE=function(t,n,i,e,r,s){return this.lE.gE(t,n,i,e,r,s)},i.pE=function(t){this.lE.pE(t)},i.UN=function(){this.lE.bw(),t.prototype.UN.call(this)},i.xN=function(){return!1},i.LN=function(t,n,i,e){throw new v("Not supported")},i.Ls=function(){return this.nK.Ed(),this.tK.Ed(),this.lE.Ed(),this.Ey.Ed(),t.prototype.Ls.call(this)},i.Uct=function(t){return new mX(this,t)},i.Fct=function(t){return new fX(t)},i.Qy=function(n){var i;switch(n.type){case Bf.Rf:i=new Iy(n.currentTime+this.uft);break;case Bf.If:i=new Ey(n.currentTime+this.uft);break;case Ty.Ug:i=new Jb(n.currentTime+this.uft);break;case Bf.Hf:i=new By(n.currentTime+this.uft,kX(n.currentProgramDateTime,this.uft));break;case Bf.Nf:i=new mC(n.currentTime+this.uft);break;case Bf.xf:i=new Ly(n.currentTime+this.uft);break;case Bf.Bf:i=new My(n.currentTime+this.uft);break;case Bf.mf:i=new xy(n.currentTime+this.uft);break;case Bf.Cf:i=new Py(n.currentTime+this.uft,n.playbackRate);break;case Bf.Xf:i=new Fy(n.currentTime+this.uft,n.volume);break;case Bf.gf:i=new Dy(n.duration+this.uft);break;case Ty.ow:i=new Hy(n.currentTime+this.uft,n.readyState);break;default:i=n}t.prototype.Qy.call(this,i)},i.Wy=function(){t.prototype.Wy.call(this),this.tK.Wy()},i.qy=function(){t.prototype.qy.call(this),this.tK.qy()},T(n,[{key:"Hct",get:function(){return this.ZR}},{key:"sft",get:function(){return this.uft},set:function(t){this.uft=t}}]),n}(vX);function kX(t,n){return t?new Date(t.getTime()+1e3*n):void 0}var bX=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.TN=function(n){if(n===gm.wd)return new pX(t.prototype.TN.call(this,n))},i.XN=function(n){var i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n,e.next=3,Mr.awrap(i.Ls());case 3:return e.next=5,Mr.awrap(t.prototype.XN.call(this,i.Hct));case 5:case"end":return e.stop()}},null,this,null,Ye)},n}(iX),AX=function(t){function n(n,i,e,r,s,u,o){var a,h=new bX(new _X(s)),c=h.TN(u);return(a=t.call(this,n,i,e,r,c,o)||this).KR=void 0,a.oft=void 0,a.KR=h,a.oft=void 0,a}E(n,t);var i=n.prototype;return i.uV=function(n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Mr.awrap(t.prototype.uV.call(this,n));case 2:void 0===this.oft&&(this.oft=this.aft(),this.ZR.sft=this.oft);case 3:case"end":return i.stop()}},null,this,null,Ye)},i.aft=function(){if(this.Hg===1/0){var t=this.X9;if(t.Tw>0)return w.max(0,t.IC(0)-300)}return 0},i.vY=function(n,i,e,r,s,u,o){var a;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return void 0===u&&(u=IM.h6),a=this.Hg===1/0&&F.An&&F.Tn<3&&n<=this.jg,o.next=5,Mr.awrap(t.prototype.vY.call(this,n,i,e,r,s,u,a));case 5:case"end":return o.stop()}},null,this,null,Ye)},i.bw=function(){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(t.prototype.bw.call(this));case 2:this.oft=void 0,this.ZR.sft=0;case 4:case"end":return n.stop()}},null,this,null,Ye)},i.Ed=function(){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(t.prototype.Ed.call(this));case 2:return n.next=4,Mr.awrap(this.ZR.Ls());case 4:return n.next=6,Mr.awrap(this.KR.XN(this.ZR));case 6:case"end":return n.stop()}},null,this,null,Ye)},n.mc=function(){return F.An&&F.Tn<4},n}(wX),TX=function(t){function n(n){return t.call(this,n)||this}return E(n,t),T(n,[{key:"Hct",get:function(){return this.ZR}},{key:"Yg",get:function(){return this.ZR.Yg}},{key:"$g",get:function(){return this.ZR.$g}}]),n}(eX),SX=function(t){function n(n){var i;return(i=t.call(this,n)||this).xX=void 0,i.hft=void 0,i.lL=0,i.cft=WS.vD(),i.Bc=void 0,i.fft=WS.vD(),i.vft=[],i.bK=!1,i.lft=!1,i.vL=0,i.Bc=n.uc,i}E(n,t);var i=n.prototype;return i.Qct=function(){return this.hft?this.lL:t.prototype.Qct.call(this)},i.Kct=function(n){this.hft?this.lL=n:t.prototype.Kct.call(this,n)},i.RL=function(){return this.hft?this.cft:t.prototype.RL.call(this)},i._c=function(){return this.hft?this.Bc:t.prototype._c.call(this)},i.Zct=function(){return this.hft?this.fft:t.prototype.Zct.call(this)},i.Jct=function(){return this.hft?this.vL:t.prototype.Jct.call(this)},i.tft=function(n){this.hft?this.vL=n:t.prototype.tft.call(this,n)},i.XX=function(t,n,i){var e=this;return this.zX(function(i){return e.dft(t,n,i)},i)},i.dft=function(n,i,e){return t.prototype.XX.call(this,n,i,e)},i.Az=function(){var t=this;return this.zX(function(){return t._ft()})},i._ft=function(){return t.prototype.Az.call(this)},i.qX=function(t,n,i){var e=this;return this.zX(function(i){return e.wft(t,n,i)},i)},i.wft=function(n,i,e){return t.prototype.qX.call(this,n,i,e)},i.HU=function(){return this.hft?this.bK:t.prototype.HU.call(this)},i._z=function(){this.hft?this.lft=!0:t.prototype._z.call(this)},i.kz=function(t,n){this.sz(),this.hft?(this.fft=this.fft.YC(new WS([t,n])),this.vft.push({vs:"Dit",Vm:t,qm:n})):this.gft(t,n)},i.gft=function(n,i){t.prototype.kz.call(this,n,i)},i.JX=function(t,n){var i=this;return this.zX(function(){return i.yft(t,n)})},i.yft=function(n,i){return t.prototype.JX.call(this,n,i)},i.bz=function(t,n){this.sz(),this.hft?(this.fft=this.fft.QC(new WS([t,n])),this.vft.push({vs:"Qh",Vm:t,qm:n})):this.mft(t,n)},i.mft=function(n,i){t.prototype.bz.call(this,n,i)},i.Qh=function(t,n,i){var e=this;return this.zX(function(i){return e.pft(t,n,i)},i)},i.pft=function(n,i,e){return t.prototype.Qh.call(this,n,i,e)},i.BU=function(t){var n=this;return this.zX(function(){return n.kft(t)})},i.kft=function(n){return t.prototype.BU.call(this,n)},i.zX=function(t,n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.sz(),!this.hft){i.next=5;break}return i.next=4,Mr.awrap(vu(this.hft.Hu,n));case 4:this.sz();case 5:return hu(n),i.prev=6,this.xX=t(n),i.next=10,Mr.awrap(this.xX);case 10:return i.prev=10,this.xX=void 0,i.finish(10);case 13:case"end":return i.stop()}},null,this,[[6,,10,13]],Ye)},i.sz=function(){if(this.xX)throw new v("Internal error")},i.bft=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.hft){t.next=2;break}throw new l("Already locked");case 2:if(this.hft=new ea,this.Aft(),!this.xX){t.next=8;break}return t.next=7,Mr.awrap(this.xX.catch(Z));case 7:this.Aft();case 8:case"end":return t.stop()}},null,this,null,Ye)},i.Tft=function(){var t;null==(t=this.hft)||t.Wu(),this.hft=void 0,this.Sft()},i.Aft=function(){this.Bc=t.prototype._c.call(this),this.lL=t.prototype.Qct.call(this),this.vL=t.prototype.Jct.call(this),this.cft=t.prototype.RL.call(this),this.fft=t.prototype.Zct.call(this),this.bK=t.prototype.HU.call(this),this.lft=!1},i.Sft=function(){this.sz(),t.prototype.Kct.call(this,this.lL),t.prototype.tft.call(this,this.vL);var n=this.vft.slice();Qs(this.vft);for(var i=0;i<n.length;i++){var e=n[i];"Dit"===e.vs?this.gft(e.Vm,e.qm):this.mft(e.Vm,e.qm)}this.lft&&t.prototype._z.call(this),this.cft.iD(t.prototype.RL.call(this))||this.Qs(new Eu(wC.VU))},i.Ls=function(){var n;null==(n=this.hft)||n.Xs(),this.hft=void 0,t.prototype.Ls.call(this)},n}(aX),EX=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).b_=void 0,e.Eft=void 0,e.b_=n,e}E(n,t);var i=n.prototype;return i.RL=function(){var n,i;return t.prototype.RL.call(this).YC(null!=(n=null==(i=this.Eft)?void 0:i.nm)?n:WS.vD())},i.Zct=function(){var n,i;return t.prototype.Zct.call(this).YC(null!=(n=null==(i=this.Eft)?void 0:i.Iz)?n:WS.vD())},i.Kct=function(n){t.prototype.Kct.call(this,n),this.Eft&&(this.Eft.aL=n)},i.tft=function(n){t.prototype.tft.call(this,n),this.Eft&&(this.Eft.rL=n)},i.gft=function(n,i){t.prototype.gft.call(this,n,i),this.Eft&&this.Eft.kz(n,i)},i.mft=function(n,i){t.prototype.mft.call(this,n,i),this.Eft&&this.Eft.bz(n,i)},i.pft=function(n,i,e){var r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return hu(e),(r=[]).push(t.prototype.pft.call(this,n,i,e)),this.Eft&&r.push(this.Eft.Qh(n,i,e)),s.next=6,Mr.awrap(Ye.all(r));case 6:case"end":return s.stop()}},null,this,null,Ye)},i.PU=function(n){return!!t.prototype.PU.call(this,n)||this.b_.Ift(n)},i.kft=function(n){return t.prototype.PU.call(this,n)?t.prototype.kft.call(this,n):this.b_.Rft(n)},i.Nft=function(t){var n,i;null==(n=this.Eft)||n.nu(AC,this.$ct),this.Eft=t,null==(i=this.Eft)||i.Ks(AC,this.$ct)},n}(SX),IX=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).b_=void 0,e.Cft=void 0,e.oa=NaN,e.Dft=!1,e.Pft=!1,e.Bft=void 0,e.qct(i),e.b_=n,e}E(n,t);var i=n.prototype;return i.PU=function(n){var i=void 0!==this.aV,e=void 0!==this.hV,r=n.kV.some(function(t){return ks(t.Pl,"audio")}),s=n.kV.some(function(t){return ks(t.Pl,"video")});return i===r&&e===s&&(!!t.prototype.PU.call(this,n)||(!(!this.Cft||!this.Cft.PU(n))||this.b_.xft(n)))},i.BU=function(n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!t.prototype.PU.call(this,n)){i.next=7;break}return i.next=4,Mr.awrap(t.prototype.BU.call(this,n));case 4:return i.abrupt("return",i.sent);case 7:if(!this.Cft||!this.Cft.PU(n)){i.next=14;break}return this.Oft(),i.next=11,Mr.awrap(this.BU(n));case 11:return i.abrupt("return",i.sent);case 14:return i.next=16,Mr.awrap(this.b_.Lft(n));case 16:return i.next=18,Mr.awrap(this.BU(n));case 18:return i.abrupt("return",i.sent);case 19:case"end":return i.stop()}},null,this,null,Ye)},i.Ift=function(t){return this.PU(this.Mft(t))},i.Rft=function(t){return this.BU(this.Mft(t))},i.Mft=function(t){var n=this.uc,i=n.kV.map(function(n){return ks(t.Pl,"audio")&&ks(n.Pl,"audio")?t:ks(t.Pl,"video")&&ks(n.Pl,"video")?t:n});return Fr({},n,{kV:i})},i.pV=function(n,i,e,r){t.prototype.pV.call(this,n,i,e,r),this.Cft&&this.Cft.pV(n,i,e,r)},i.Fft=function(){return!this.Dft&&this.Pft},i.xL=function(){return void 0!==this.Bft?this.Bft:this.Fft()?this.oa:t.prototype.xL.call(this)},i.gV=function(n){this.oa=n,this.Bft=void 0,this.Fft()||t.prototype.gV.call(this,n)},i.Vct=function(){return!this.Fft()&&t.prototype.Vct.call(this)},i._z=function(){this.Bft=w.max(RX(this.JR.rV),RX(this.JR.sV)),this.Fft()||t.prototype._z.call(this)},i.cz=function(){this.Bft=void 0,this.Fft()||t.prototype.cz.call(this)},i.Gct=function(t){return new EX(this,t)},i.Uft=function(){this.Dft=!this.Dft},i.Oft=function(){var t=this.JR,n=this.Cft;n&&(this.Dft=!this.Dft,this.qct(n),this.jft(t),this.Fft()&&this.Hft())},i.jft=function(t){var n,i;this.Cft=t,null==(n=this.aV)||n.Nft(null==t?void 0:t.rV),null==(i=this.hV)||i.Nft(null==t?void 0:t.sV)},i.Xft=function(t){var n=this.JR,i=this.Cft;if(i){var e=this.Dft,r=e?n:i,s=(e?i:n).nm.oD(t);if(s){var u=PF(r.nm,this.Zct()).oD(s.NC(0),Qt);if(u&&!(s.NC(0)+Qt>=u.NC(0)))return w.max(s.NC(0),u.IC(0))}}},i.zft=function(t,n){var i=this;if(this.Pft)return Ye.resolve();var e=this.Dft?this.Cft:this.JR;return e?(this.Pft=!0,this.Vft(function(n){if(hu(n),i.Pft)return function(t,n,i){var e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return hu(i),e=[],t.rV&&e.push(SD(t.rV,n,i)),t.sV&&e.push(SD(t.sV,n,i)),r.next=6,Mr.awrap(Ye.all(e));case 6:t._z();case 7:case"end":return r.stop()}},null,null,null,Ye)}(e,t,n)},n)):Ye.resolve()},i.Hft=function(){var t;if(this.Pft){var n=this.Dft?this.Cft:this.JR;if(n){0,this.Pft=!1;var i=null!=(t=this.Bft)?t:this.oa;n.Hg<i&&n.gV(i),n.cz()}}},i.qft=function(t){var n,i=null!=(n=this.Bft)?n:this.oa;t.gV(i),this.Dft?this.qct(t):this.jft(t)},i.Zct=function(){var t,n,i,e,r=null!=(t=null==(n=this.aV)?void 0:n.Iz)?t:WS.vD(),s=null!=(i=null==(e=this.hV)?void 0:e.Iz)?i:WS.vD();return r.YC(s)},i.Vft=function(t,n){var i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],this.aV&&i.push(this.aV.bft()),this.hV&&i.push(this.hV.bft()),e.prev=3,e.next=6,Mr.awrap(Ye.all(i));case 6:return e.next=8,Mr.awrap(t(n));case 8:return e.prev=8,this.aV&&this.aV.Tft(),this.hV&&this.hV.Tft(),e.finish(8);case 12:case"end":return e.stop()}},null,this,[[3,,8,12]],Ye)},i.zct=function(n){n.type===wC.VU&&this.b_.wV(),t.prototype.zct.call(this,n)},n}(uX);function RX(t){if(!t)return 0;var n=t.nm;return n.Tw>0?n.NC(n.Tw-1):0}function NX(t){return t.uc.vs===Rb.AE}var CX,DX,PX=function(t){function n(n,i){var e;return(e=t.call(this,n,i,new uB)||this).tK=void 0,e.nK=void 0,e.tK=new HB,e.tK.RY(n.SN.parentElement),e.nK=new Vx(e.tK.um,e.DF,e.Py,e.BF,e.FN),e}E(n,t);var i=n.prototype;return i.Wy=function(){t.prototype.Wy.call(this),this.tK.Wy()},i.qy=function(){t.prototype.qy.call(this),this.tK.qy()},i.RY=function(t){this.ZR.RY(t),this.Wft.RY(t)},i.rY=function(){this.ZR.rY()},i.tm=function(){this.ZR.tm(),this.Wft.tm()},i.Gy=function(){return this.ZR.Gy()},i.Ls=function(){return this.nK.Ed(),this.tK.Ed(),t.prototype.Ls.call(this)},T(n,[{key:"Hct",get:function(){return this.ZR}},{key:"Gft",get:function(){return this.Wft}},{key:"SN",get:function(){return this.ZR.SN}},{key:"CV",get:function(){return this.ZR.CV}},{key:"Tm",get:function(){return this.ZR.Tm},set:function(t){this.ZR.Tm=t}}]),n}(function(t){function n(n,i,e){var r;return(r=t.call(this,n)||this).Wft=void 0,r.Ey=void 0,r.lE=void 0,r.Yft=!1,r.nG=void 0,r.iG=NaN,r.aG=WS.vD(),r.mD=!0,r.$ft=!1,r.pC=!0,r.Qft=void 0,r.Kft=void 0,r.Zft=void 0,r.Jft=new uu,r.uG=new uu,r.Wft=i,r.Qft=n,r.ZR.qy(),r.Wft.Wy(),r.lE=new nX(nn(r),e),r.Ey=new SS([r.lE.Py,t.prototype.ZL.call(nn(r))]),r}E(n,t);var i=n.prototype;return i.RL=function(){return t.prototype.RL.call(this).YC(this.Wft.nm)},i.xL=function(){if(!this.Yft){var n=this.JR;if(n&&NX(n))return n.Hg}return t.prototype.xL.call(this)},i.Pct=function(){return!!t.prototype.Pct.call(this)&&!(!this.Yft&&!this.HU())},i.Bct=function(){return!!t.prototype.Bct.call(this)&&!(!this.Yft&&t.prototype.Pct.call(this)&&!this.HU())},i.HU=function(){var t=this.JR;return!(!t||!NX(t))&&t.HU},i.WL=function(){return this.aG.YC(this.ZR.ym)},i.QL=function(){return t.prototype.QL.call(this).YC(this.Wft.pm)},i.$L=function(){return t.prototype.$L.call(this)},i.Dct=function(){var n;return null!=(n=t.prototype.Dct.call(this))?n:this.Wft.YN},i.xy=function(){return this.mD=!1,t.prototype.xy.call(this)},i.Oy=function(){this.mD=!0,t.prototype.Oy.call(this)},i.TY=function(){this.Yft=!0,t.prototype.TY.call(this),this.Wft.TY()},i.SY=function(){this.Yft=!1,t.prototype.SY.call(this),this.Wft.TY()},i.PL=function(){var n;return null!=(n=this.nG)?n:t.prototype.PL.call(this)},i.KL=function(){return void 0!==this.nG||t.prototype.KL.call(this)},i.Lu=function(t,n){void 0===n&&(n=!1),this.Jft.Xs(),this.uG.Xs(),this.uG=new uu,this.Zft=this.vY(t,n,this.Zft,this.uG.qs).catch(Z)},i.vY=function(n,i,e,r){return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(this.nG=n,this.iG=n,this.Qs(new Ly(n)),!e){s.next=7;break}return s.next=7,Mr.awrap(e.catch(Z));case 7:hu(r),this.JR&&NX(this.JR)&&this.JR.Hft(),this.nG=void 0,t.prototype.Lu.call(this,n,i),this.Wft.Lu(n,i),this.tvt();case 13:case"end":return s.stop()}},null,this,null,Ye)},i.WN=function(t){var n=this.YN;if(n&&!m(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.Lu(i)}},i.EY=function(){t.prototype.EY.call(this),this.Wft.EY()},i.Wy=function(){this.pC&&(this.pC=!1,this.Qft.Wy())},i.qy=function(){this.pC||(this.pC=!0,this.Qft.qy())},i.nvt=function(){var t;return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.nG=void 0,this.iG=NaN,this.aG=WS.vD(),null==(t=this.Kft)||t.Xs(),this.Jft.Xs(),this.uG.Xs(),!this.Zft){n.next=10;break}return n.next=9,Mr.awrap(this.Zft.catch(Z));case 9:this.Zft=void 0;case 10:case"end":return n.stop()}},null,this,null,Ye)},i.Oct=function(n){t.prototype.Oct.call(this,n),this.Wft.EN=n},i.Lct=function(n){t.prototype.Lct.call(this,n),this.Wft.DY=n},i.ZL=function(){return this.Ey},i.gE=function(t,n,i,e,r,s,u){return this.lE.gE(t,n,i,e,r,s,u)},i.pE=function(t){this.lE.pE(t)},i.UN=function(){this.lE.bw(),t.prototype.UN.call(this)},i.$h=function(n){var i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mr.awrap(t.prototype.$h.call(this,n));case 2:return NX(i=e.sent)&&this.tvt(),e.abrupt("return",i);case 5:case"end":return e.stop()}},null,this,null,Ye)},i.bw=function(){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(this.nvt());case 2:return n.next=4,Mr.awrap(t.prototype.bw.call(this));case 4:return n.next=6,Mr.awrap(this.Wft.bw());case 6:case"end":return n.stop()}},null,this,null,Ye)},i.Ls=function(){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(this.nvt());case 2:return this.lE.Ed(),this.Ey.Ed(),n.next=6,Mr.awrap(t.prototype.Ls.call(this));case 6:case"end":return n.stop()}},null,this,null,Ye)},i.Uct=function(t){return new IX(this,t)},i.Fct=function(t){return new fX(t)},i.tvt=function(){this.Jft.Xs(),this.Jft=new uu,this.Zft=this.ivt(this.Zft,this.Jft.qs).catch(Z)},i.ivt=function(t,n){var i,e=this;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=3;break}return r.next=3,Mr.awrap(t.catch(Z));case 3:if(this.JR&&NX(this.JR)){r.next=5;break}return r.abrupt("return");case 5:hu(n),this.evt()&&this.Uft(),i=void 0,this.JR.Hft(),hu(n);case 12:if(hu(n),!this.evt()){r.next=16;break}return r.abrupt("break",29);case 16:if(void 0===(i=this.JR.Xft(this.PL()))){r.next=25;break}return this.rvt(),r.next=22,Mr.awrap(this.JR.zft(i,n));case 22:return hu(n),this.Wft.Lu(i),r.abrupt("break",29);case 25:return r.next=27,Mr.awrap(du(function(t){return Ye.race([e.fu(Bf.Hf,t),e.svt(t)])},n));case 27:r.next=12;break;case 29:hu(n);case 31:if(this.evt()){r.next=36;break}return r.next=34,Mr.awrap(this.ZR.fu([Bf.Hf,Bf.mf,Ty.ow],n));case 34:r.next=31;break;case 36:r.next=5;break;case 38:case"end":return r.stop()}},null,this,null,Ye)},i.evt=function(){var t=this.JR;if(void 0===t||!NX(t))return!1;var n=this.PL(),i=this.ZR.nm;return!(!this.ZR.Xg&&i.VN(n))&&!!PF(this.Wft.nm,t.Zct()).tD(n,n+Qt)},i.Uft=function(){if(!this.$ft){0,this.$ft=!0,this.aG=this.WL();var t=BD(this),n=this.KL(),i=this.$L(),e=this.ZR,r=this.Wft,s=this.JR;s.Hft(),s.Uft(),xD(r,t),this.jct(r),this.Wft=e,e.Oy(),e.Vg=!0,this.$ft=!1;var u=this.KL();n!==u&&(u?this.Qs(new Ly(this.jg)):this.Qs(new My(this.jg)));var o=this.$L();i!==o&&this.Qs(new Hy(this.jg,o)),u||this.rvt()}},i.rvt=function(){var t=this.ZR,n=this.Qft;if(n!==t){0;var i=this.$g,e=this.Yg;this.Qft=t,this.pC&&(n.Wy(),t.qy());var r=this.$g,s=this.Yg;r>0&&s>0&&(i!==r||e!==s)&&this.Qs(new Nb)}},i.xft=function(t){return void 0!==this.Wft.jU([t])},i.Lft=function(t){var n,i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.rvt(),n=this.JR,i=this.Wft,r.next=6,Mr.awrap(i.bw());case 6:return r.next=8,Mr.awrap(i.$h(t));case 8:e=r.sent,n.qft(e);case 10:case"end":return r.stop()}},null,this,null,Ye)},i.svt=function(t){return this.Kft=new ea,vu(this.Kft.Hu,t)},i.wV=function(){var t;null==(t=this.Kft)||t.Wu()},i.Qy=function(n){n.type===Bf.xf&&this.iG===n.currentTime||(n.type===Bf.Bf&&(this.iG=NaN,this.rvt()),n.type!==Ty.ow&&n.type!==Bf.If&&n.type!==Bf.mf||this.$ft||!this.evt()?(n.type!==Bf.mf||this.Xg)&&t.prototype.Qy.call(this,n):this.tvt())},T(n,[{key:"Gft",get:function(){return this.Wft}},{key:"Yg",get:function(){return this.Qft.Yg}},{key:"$g",get:function(){return this.Qft.$g}}]),n}(TX)),BX=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.TN=function(n){if(n===gm.wd){var i=t.prototype.TN.call(this,n),e=t.prototype.TN.call(this,n);return new PX(i,e)}return t.prototype.TN.call(this,n)},i.XN=function(n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n instanceof PX)){i.next=9;break}return i.next=3,Mr.awrap(n.Ls());case 3:return i.next=5,Mr.awrap(t.prototype.XN.call(this,n.Hct));case 5:return i.next=7,Mr.awrap(t.prototype.XN.call(this,n.Gft));case 7:i.next=11;break;case 9:return i.next=11,Mr.awrap(t.prototype.XN.call(this,n));case 11:case"end":return i.stop()}},null,this,null,Ye)},n}(iX),xX=function(t){function n(n,i,e,r,s,u,o){var a,h=new _X(new BX(s)),c=h.TN(u);return(a=t.call(this,n,i,e,r,c,o)||this).KR=void 0,a.KR=h,a}return E(n,t),n.prototype.Ed=function(){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(t.prototype.Ed.call(this));case 2:return n.next=4,Mr.awrap(this.KR.XN(this.ZR));case 4:case"end":return n.stop()}},null,this,null,Ye)},n.mc=function(){return!(F.vn||F.Mn)},n}(wX),OX=function(t){function n(n){var i;return(i=t.call(this,n)||this).uvt=!1,i.cft=WS.vD(),i.Bc=void 0,i.oa=0,i.ovt=!1,i.bK=!1,i.lft=void 0,i.cV=WS.vD(),i.avt=void 0,i.qct(n),i.Bc=n.uc,i}E(n,t);var i=n.prototype;return i.Gct=function(t){return new SX(t)},i._c=function(){return this.uvt?this.Bc:t.prototype._c.call(this)},i.RL=function(){return this.uvt?this.cft:t.prototype.RL.call(this)},i.xL=function(){return this.uvt?this.oa:t.prototype.xL.call(this)},i.gV=function(n){this.uvt?(this.oa=n,this.ovt=!0):t.prototype.gV.call(this,n)},i.QL=function(){return this.uvt?this.avt?this.avt.Dz():this.cV:t.prototype.QL.call(this)},i.pV=function(n,i,e,r){this.uvt?this.avt=new dD(n,i,e,r):t.prototype.pV.call(this,n,i,e,r)},i.Vct=function(){return this.uvt?this.bK&&!1!==this.lft:t.prototype.Vct.call(this)},i._z=function(){this.uvt?this.lft=!0:t.prototype._z.call(this)},i.cz=function(){this.uvt?this.lft=!1:t.prototype.cz.call(this)},i.PU=function(n){return!this.uvt&&t.prototype.PU.call(this,n)},i.BU=function(n){return this.uvt?Ye.reject(new l("Not supported")):t.prototype.BU.call(this,n)},i.bft=function(){var t;return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.uvt){n.next=2;break}throw new l("Already locked");case 2:return this.uvt=!0,this.Aft(),t=[],this.aV&&t.push(this.aV.bft()),this.hV&&t.push(this.hV.bft()),n.next=9,Mr.awrap(Ye.all(t));case 9:case"end":return n.stop()}},null,this,null,Ye)},i.Tft=function(){this.uvt=!1,this.aV&&this.aV.Tft(),this.hV&&this.hV.Tft(),this.Sft()},i.Aft=function(){this.Bc=t.prototype._c.call(this),this.cft=t.prototype.RL.call(this),this.oa=t.prototype.xL.call(this),this.cV=t.prototype.QL.call(this),this.ovt=!1,this.lft=void 0,this.avt=void 0},i.Sft=function(){if(this.ovt&&(t.prototype.gV.call(this,this.oa),this.ovt=!1),void 0!==this.avt){var n=this.avt;t.prototype.pV.call(this,n.IC,n.NC,n.Nz,n.Cz),this.avt=void 0}void 0!==this.lft&&(this.lft?t.prototype._z.call(this):t.prototype.cz.call(this),this.lft=void 0)},n}(uX),LX=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).cvt=!1,n.fvt=!1,n.vvt=void 0,n.lvt=void 0,n.dvt=new uu,n}E(n,t);var i=n.prototype;return i.xy=function(){return void 0!==this.JR&&NX(this.JR)&&this.Xg&&this.Lu(0),t.prototype.xy.call(this)},i.Lu=function(n,i){void 0!==this.JR&&NX(this.JR)&&this.Xg&&n<this.Hg&&this._vt(),t.prototype.Lu.call(this,n,i)},i.TY=function(){this.cvt=!0,t.prototype.TY.call(this)},i.SY=function(){this.cvt=!1,this.wvt()||t.prototype.SY.call(this)},i.wvt=function(){return this.cvt||this.fvt},i.gvt=function(){this.fvt||(this.fvt=!0,t.prototype.TY.call(this))},i.yvt=function(){this.fvt&&(this.fvt=!1,this.wvt()||t.prototype.SY.call(this))},i.$h=function(t){this.dvt.Xs();var n=this.p_(t,this.lvt);return this.vvt=n,n},i.p_=function(n,i){return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=3;break}return e.next=3,Mr.awrap(i.catch(Z));case 3:return this.yvt(),e.next=6,Mr.awrap(t.prototype.$h.call(this,n));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},null,this,null,Ye)},i.Uct=function(t){return new OX(t)},i.Fct=function(t){return new fX(t)},i.bw=function(){this.dvt.Xs();var t=this.mvt(this.lvt);return this.vvt=t,t},i.mvt=function(n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!n){i.next=3;break}return i.next=3,Mr.awrap(n.catch(Z));case 3:return this.yvt(),i.next=6,Mr.awrap(t.prototype.bw.call(this));case 6:return i.abrupt("return",i.sent);case 7:case"end":return i.stop()}},null,this,null,Ye)},i._vt=function(){this.gvt(),this.dvt.Xs(),this.dvt=new uu,this.lvt=lu(this.pvt(this.vvt,this.lvt,this.dvt.qs),this.dvt).catch(fu)},i.pvt=function(t,n,i){var e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!t){u.next=3;break}return u.next=3,Mr.awrap(t.catch(Z));case 3:if(!n){u.next=6;break}return u.next=6,Mr.awrap(n.catch(Z));case 6:if(hu(i),(e=this.JR)&&NX(e)){u.next=10;break}return u.abrupt("return");case 10:return r=e.uc,u.next=13,Mr.awrap(e.bft());case 13:return u.next=15,Mr.awrap(this.ZR.bw());case 15:return u.next=17,Mr.awrap(this.ZR.$h(r));case 17:(s=u.sent).gV(e.Hg),e.qct(s),e.Tft(),this.yvt();case 22:case"end":return u.stop()}},null,this,null,Ye)},i.Ls=function(){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.dvt.Xs(),!this.lvt){n.next=5;break}return n.next=4,Mr.awrap(this.lvt.catch(Z));case 4:this.lvt=void 0;case 5:return this.wvt()&&t.prototype.SY.call(this),n.next=8,Mr.awrap(t.prototype.Ls.call(this));case 8:case"end":return n.stop()}},null,this,null,Ye)},T(n,[{key:"Hct",get:function(){return this.ZR}}]),n}(vX),MX=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.TN=function(n){if(n===gm.wd)return new LX(t.prototype.TN.call(this,n))},i.XN=function(n){var i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n,e.next=3,Mr.awrap(i.Ls());case 3:return e.next=5,Mr.awrap(t.prototype.XN.call(this,i.Hct));case 5:case"end":return e.stop()}},null,this,null,Ye)},n.mc=function(){return F.Fn},n}(iX);function FX(t,n){return[t,void 0!==n?t+n-1:Mt]}function UX(t){return Boolean(t.JA)}function jX(t){return Boolean(t.UZ)}LS(new(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).QN=gS.AR,n}E(n,t);var i=n.prototype;return i.kI=function(t,n,i,e,r,s){var u,o=new lO(RO.Wn.jZ,RO.Wn.FZ,RO.Wn.UZ,RO.Wn.XZ);u=AX.mc()?AX:xX.mc()?xX:gX;var a=n;return MX.mc()&&(a=new MX(a)),new u(i,e,r,o,a,gm.wd,t)},i.ZN=function(){return!0},n}(cO))),function(t){t.kvt="currentbufferingrenditionchange",t.bvt="Avt",t.Tvt="Svt",t.Evt="Ivt"}(CX||(CX={})),function(t){t[t._d=0]="_d",t[t.wd=1]="wd",t[t.Qb=2]="Qb",t[t.Rvt=3]="Rvt"}(DX||(DX={}));var HX,XX,zX,VX=[DX._d,DX.wd,DX.Qb,DX.Rvt];function qX(t){return t?t.l3?t.Ai+"@"+t.l3.IC+"-"+(null!=(n=t.l3.Tw)?n:""):""+t.Ai:"";var n}function WX(t,n){if(n===t)return!0;if(n.Ai!==t.Ai)return!1;if(!t.l3)return!0;if(n.l3){var i=FX(t.l3.IC,t.l3.Tw),e=FX(n.l3.IC,n.l3.Tw);return i[0]<=e[0]&&i[1]>=e[1]}return!1}function GX(t,n){return t===n||t.Ai===n.Ai&&(Boolean(t.l3)===Boolean(n.l3)&&(!t.l3||!n.l3||t.l3.IC===n.l3.IC&&t.l3.Tw===n.l3.Tw))}function YX(t){var n=!!t.Nvt||void 0;return{xw:t.xw,Cvt:t.Cvt,YN:t.YN,Dvt:t.Dvt,Hg:t.Hg,Pvt:t.Pvt,Nvt:n,Bvt:t.xvt,Ovt:t.Lvt,Mvt:t.Mvt,Fvt:t.Fvt}}!function(t){t[t.Uvt=0]="Uvt",t[t.jvt=1]="jvt"}(HX||(HX={})),function(t){t[t.dC=0]="dC",t[t.Hvt=1]="Hvt",t[t.Xvt=2]="Xvt"}(XX||(XX={})),function(t){t[t.Jl=0]="Jl",t[t.zvt=1]="zvt",t[t.Vvt=2]="Vvt"}(zX||(zX={}));var $X,QX,KX=function(t,n){this.Ow=void 0,this.qvt=void 0,this.vs=void 0,this.Wvt=void 0,this.Gvt=void 0,this.Yvt=void 0,this._i=void 0,this.Fw=void 0,this.$vt=void 0,this.Qvt=void 0,this.Kvt=void 0,this.Ow=Em(),this.qvt=n,this.vs=t.vs,this.Wvt=t.Wvt,this.Gvt=t.Gvt,this.Yvt=t.Yvt,this._i=t._i,this.Fw=t.Fw,this.$vt=t.$vt,this.Qvt=t.Qvt,this.Kvt=void 0===t.Y0};function ZX(t,n){return t.vs===n.vs&&(t._i===n._i||!(!JX(t)||!JX(n)))}function JX(t){return t.vs===DX.wd&&t.Wvt&&t.Kvt&&void 0===t.Fw}function tz(t,n){return t.qvt===n.qvt}function nz(t,n){for(var i=0;i<t.length;i++){if(tz(t[i],n))return!0}return!1}!function(t){t.Zvt="alternative",t.Jvt="main",t.tlt="commentary",t.nlt="",t.nE="descriptions",t.ilt="main-desc",t.elt="translation"}($X||($X={})),function(t){t.Zvt="alternative",t.Jvt="main",t.tlt="commentary",t.nlt="",t.tE="captions",t.rlt="sign",t.Qb="subtitles"}(QX||(QX={}));var iz,ez=function(t){function n(n,i,e){var r,s,u;(u=t.call(this)||this).Nm=void 0,u.va=void 0,u.Git=void 0,u.slt=void 0,u.ult=void 0,u.H_=void 0,u.Cm=void 0,u.olt=function(){return u.Qs(new pm(nn(u)))},u.hlt=function(){var t=u.Pw;t&&u.slt!==t&&(u.slt=t,u.Qs(new RH(t)))},u.clt=function(){var t=u.Bw;u.ult!==t&&(u.ult=t,u.flt.Qs(new _g(nn(u))),u.Qs(new _g(nn(u))))},u.gC=n,u.flt=i,u.Uw=e,u.slt=u.Pw,u.ult=u.Bw;var o=e.gw(0);u.Nm=null!=(r=null==o?void 0:o.vlt._i)?r:"",u.va=null!=(s=null==o?void 0:o.vlt.Fw)?s:"",u.Cm=Am(),u.gC.Ks(CX.kvt,u.hlt),u.gC.Ks(CX.bvt,u.clt);for(var a=0;a<u.Uw.Tw;a++){u.Uw.gw(a).Ks("update",u.olt)}return u}E(n,t);var e=n.prototype;return e.Bm=function(t){this.Bw=t},e.Ed=function(){this.tu(),this.gC.nu(CX.kvt,this.hlt),this.gC.nu(CX.bvt,this.clt);for(var t=0,n=this.Uw.Aw;t<n.length;t++){n[t].Ed()}this.Uw.bw()},T(n,[{key:"Bw",get:function(){var t=this.llt();if(!t)return!1;for(var n=0,i=this.Uw.Aw;n<i.length;n++){if(i[n].vlt===t)return!0}return!1},set:function(t){if(t!==this.Bw&&t){for(var n=this.Uw.gw(0).vlt,i=this.gC.dlt,e=0,r=this.Uw.Aw;e<r.length;e++){var s=r[e];if(s._lt===i){n=s.vlt;break}}this.wlt(n)}}},{key:"Pw",get:function(){if(this.Bw)for(var t=this.gC.glt,n=0,i=this.Uw.Aw;n<i.length;n++){var e=i[n];if(nz(t,e.vlt))return e}}},{key:"X_",get:function(){return this.H_||(this.H_=Og(this)),this.H_}},{key:"xw",get:function(){return this.Cm.toString()}},{key:"Ow",get:function(){return this.Cm}},{key:"Mw",get:function(){return this.Nm},set:function(t){t!==this.Nm&&(this.Nm=t,this.Qs(new pm(this)))}},{key:"Fw",get:function(){return this.va}},{key:"Ww",get:function(){return this.Bw?"enabled":"disabled"}},{key:"jw",get:function(){return this.Git},set:function(t){var n=this,e=[];t?e=t.filter(function(t){var e=n.Pw?kM(n.Pw):void 0;return i.Fr.Me(e,kM(t))}).filter(function(i){return n.Uw.Im(t)&&i.aZ}):e=this.Uw.Aw.filter(function(t){return t.aZ});0!==e.length?t!==this.Git&&(this.Git&&Ks(this.Git,e)||(this.Git=t?e:void 0,this.gC.ylt(e.map(function(t){return t._lt})),1===e.length&&gu(this.gC.plt(e[0]._lt,!1)),this.Qs(new wM(e,this)))):this.Qs(new pM)}}]),n}(Tu),rz=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.llt=function(){return this.gC.klt},i.wlt=function(t){gu(this.gC.blt(t))},T(n,[{key:"Lw",get:function(){return $X.Jvt}}]),n}(ez),sz=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.llt=function(){return this.gC.Alt},i.wlt=function(t){gu(this.gC.Tlt(t))},T(n,[{key:"Lw",get:function(){return QX.Jvt}}]),n}(ez),uz=function(t){function n(n,i){var e;return(e=t.call(this)||this).Nm="",e.aZ=!0,e._lt=n,e.vlt=i,e}E(n,t);var i=n.prototype;return i.cE=function(){},i.Ed=function(){this.tu()},T(n,[{key:"xw",get:function(){return String(this._lt.xw)}},{key:"Ow",get:function(){return this._lt.xw}},{key:"PR",get:function(){return this._lt.PR}},{key:"q0",get:function(){return this._lt.q0}},{key:"Mw",get:function(){var t;return null!=(t=this.Nm)?t:this.vlt._i},set:function(t){this.Mw!==t&&(this.Nm=t,this.Qs(new bL(this.X_)))}},{key:"Y0",get:function(){return this.vlt.qvt.Slt()}}]),n}(Tu),oz=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).H_=void 0,e}return E(n,t),n.prototype.z_=function(){return pL(this)},T(n,[{key:"zJ",get:function(){return 0}},{key:"VH",get:function(){var t;return(null==(t=this._lt.VH)?void 0:t.zH)||""}},{key:"X_",get:function(){return this.H_||(this.H_=this.z_()),this.H_}}]),n}(uz),az=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).H_=void 0,e}return E(n,t),n.prototype.z_=function(){return mL(this)},T(n,[{key:"VH",get:function(){var t;return(null==(t=this._lt.VH)?void 0:t.XH)||""}},{key:"W0",get:function(){return 0}},{key:"GJ",get:function(){return 0}},{key:"uT",get:function(){var t,n;return null!=(t=null==(n=this._lt.Elt)?void 0:n.uT)?t:0}},{key:"yp",get:function(){var t,n;return null!=(t=null==(n=this._lt.Elt)?void 0:n.yp)?t:0}},{key:"X_",get:function(){return this.H_||(this.H_=this.z_()),this.H_}}]),n}(uz);!function(t){t.Ilt="FATAL",t.Vw="ERROR",t.Rlt="WARNING",t.Nlt="INFO",t.Clt="DEBUG"}(iz||(iz={}));var hz,cz=new(function(){function t(){this.Bw=function(){return!1}}var n=t.prototype;return n.Dlt=function(t){if(!this.Bw())return!1;var n=[];return!(n.length>0)||n.some(function(n){return n.toLowerCase()===t.toLowerCase()})},n.Plt=function(t){if(this.Dlt(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.yr.apply(i,[iz.Clt+" "+t+" -"].concat(e))}},n.fT=function(t){if(this.Dlt(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.yr.apply(i,[iz.Nlt+" "+t+" -"].concat(e))}},n.Blt=function(t){if(this.Dlt(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.pr.apply(i,[iz.Rlt+" "+t+" -"].concat(e))}},n.mu=function(t){if(this.Dlt(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.Ar.apply(i,[iz.Vw+" "+t+" -"].concat(e))}},n.xlt=function(t){if(this.Dlt(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.Ar.apply(i,[iz.Ilt+" "+t+" -"].concat(e))}},t}()),fz="HLSPlaylistParser",vz=function(){function t(t,n,i){this.gC=t,this.Olt=n,this.Llt=i}var n=t.prototype;return n.J9=function(){var t,n,i=null==(t=this.gC.t5)?void 0:t.Mlt;if(i&&0!==i.length){for(var e=null!=(n=zs(i,function(t){return 0!==t.Flt.length&&0!==t.Ult.length}))?n:i[0],r=i.filter(function(t){return t!==e}),s=0,u=e.Flt;s<u.length;s++){var o=u[s],a=new mm,h=[];a.Em(new oz(e,o)),h.push(o);for(var c=0;c<r.length;c++)for(var f=r[c],v=0,l=f.Flt;v<l.length;v++){var d=l[v];if(ZX(d,o)&&!nz(h,d)){a.Em(new oz(f,d)),h.push(d);break}}this.Olt.yw(new rz(this.gC,this.Olt,a))}for(var _=0,w=e.Ult;_<w.length;_++){var g=w[_],y=new mm,m=[];y.Em(new az(e,g)),m.push(g);for(var p=0;p<r.length;p++)for(var k=r[p],b=0,A=k.Ult;b<A.length;b++){var T=A[b];if(ZX(T,g)&&!nz(m,T)){y.Em(new az(k,T)),m.push(T);break}}this.Llt.yw(new sz(this.gC,this.Llt,y))}}else cz.Blt("LLHLSTrackConfigurator","The HLSModel contains no variant streams.")},n.jlt=function(){this.Hlt(this.Olt),this.Hlt(this.Llt)},n.Hlt=function(t){for(var n=[],i=0,e=t.Aw;i<e.length;i++){for(var r=e[i],s=[],u=0,o=r.Uw.Aw;u<o.length;u++){var a=o[u];Ys(a._lt.Xlt,a.vlt)||s.push(a)}for(var h=0;h<s.length;h++){var c=s[h];r.Uw.Qh(c),c.Ed()}0===r.Uw.Tw&&n.push(r)}for(var f=0;f<n.length;f++){var v=n[f];t.mw(v),v.Ed()}},t}(),lz=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).ED=void 0,e.ED=i,e}return E(n,t),n.prototype.$l=function(t){var n,e,r,s,u;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(n=new __(t),e=this.ED.JO.DR(n)){o.next=4;break}return o.abrupt("return",this.dE.$l(n));case 4:return e.tL(i.Gn()/1e3),o.next=7,Mr.awrap(this.dE.$l(t));case 7:return r=o.sent,e.nL(i.Gn()/1e3),s=r.Dl().pipeThrough(new Nd(new dz(e))),u={Hi:s,$l:r.$l},o.abrupt("return",new d_(u,r));case 12:case"end":return o.stop()}},null,this,null,Ye)},n}(function(){function t(t){this.dE=void 0,this.dE=t}var n=t.prototype;return n.$l=function(t){return this.dE.$l(t)},n.Sd=function(t){this.dE.Sd(t)},n.Ed=function(){this.dE.Ed()},t}()),dz=function(){function t(t){this.GM=void 0,this.zlt=t}var n=t.prototype;return n.start=function(t){this.GM=t},n.transform=function(t){this.zlt.iL(i.Gn()/1e3,t),this.GM.enqueue(t)},n.flush=function(){this.zlt.eL(i.Gn()/1e3)},t}(),_z=function(){function t(t){this.Vlt=void 0,this.qlt=0,this.Wlt=0,this.Vlt=w.exp(w.log(.5)/t)}var n=t.prototype;return n.wnt=function(t,n){var i=w.pow(this.Vlt,t),e=n*(1-i)+i*this.qlt;m(e)||(this.qlt=e,this.Wlt+=t)},n.BU=function(t){var n=w.exp(w.log(.5)/t);if(n!==this.Vlt)if(0!==this.Wlt){var i=this.wK,e=1-w.pow(n,this.Wlt);this.qlt=i*e,this.Vlt=n}else this.Vlt=n},T(t,[{key:"wK",get:function(){var t=1-w.pow(this.Vlt,this.Wlt);return this.qlt/t}}]),t}();!function(t){t.Glt="sample"}(hz||(hz={}));var wz=function(t){function n(i,e,r,s){var u;return void 0===r&&(r=n.Ylt),void 0===s&&(s=n.bnt),(u=t.call(this)||this).$lt=void 0,u.Qlt=void 0,u.Klt=0,u.Zlt=void 0,u.Jlt=void 0,u.Jlt=r,u.$lt=new _z(i),u.Qlt=new _z(e),u.Zlt=s,u}E(n,t);var i=n.prototype;return i.tdt=function(t,n,i){if(0!==t){var e=8*n/t;this.$lt.wnt(i,e),this.Qlt.wnt(i,e),this.Klt+=n,this.Qs(new Eu(hz.Glt))}},i.k6=function(){return this.Klt>=this.Jlt},T(n,[{key:"wK",get:function(){return this.k6()?w.min(this.$lt.wK,this.Qlt.wK):this.Zlt}}]),n}(Tu);wz.Ylt=128e3,wz.bnt=5e5;var gz=function(){function t(n,i,e,r){void 0===n&&(n=t.ndt),void 0===i&&(i=t.idt),void 0===e&&(e=t.bnt),void 0===r&&(r=!1),this.$lt=void 0,this.Qlt=void 0,this.edt=0,this.rdt=[],this.sdt=void 0,this.udt=6e4,this.odt=10,this.adt=void 0,this.hdt=void 0,this.Zlt=void 0,this.cdt=void 0,this.adt=n,this.hdt=i,this.Zlt=e,this.cdt=r,this.$lt=new _z(n),this.Qlt=new _z(i)}var n=t.prototype;return n.wnt=function(t){var n=i.Gn(),e=t;this.cdt&&void 0!==this.sdt&&n-this.sdt>=this.udt&&this.bw(),this.edt+=1,this.$lt.wnt(1,e),this.Qlt.wnt(1,e),this.rdt.push(e),this.rdt.length>this.odt&&this.rdt.shift(),this.sdt=n},n.k6=function(){return void 0!==this.sdt&&i.Gn()-this.sdt<=this.udt},n.bw=function(){this.$lt=new _z(this.adt),this.Qlt=new _z(this.hdt),this.edt=0,this.rdt=[],this.sdt=void 0},T(t,[{key:"wK",get:function(){return this.k6()?w.max(this.$lt.wK,this.Qlt.wK):this.Zlt}}]),t}();gz.ndt=2,gz.idt=5,gz.bnt=.1;var yz=function(){function t(t){this.fdt=t}var n=t.prototype;return n.tL=function(t){for(var n=0,i=this.fdt;n<i.length;n++){i[n].tL(t)}},n.nL=function(t){for(var n=0,i=this.fdt;n<i.length;n++){i[n].nL(t)}},n.iL=function(t,n){for(var i=0,e=this.fdt;i<e.length;i++){e[i].iL(t,n)}},n.eL=function(t){for(var n=0,i=this.fdt;n<i.length;n++){i[n].eL(t)}},t}(),mz=function(){function t(t){this.vdt=void 0,this.ldt=void 0,this.vdt=t}var n=t.prototype;return n.tL=function(t){this.ldt=t},n.nL=function(t){this.vdt.wnt(t-this.ldt)},n.iL=function(t){},n.eL=function(t){},t}(),pz=function(){function t(t){this.Snt=void 0,this.ddt=void 0,this._dt=[],this.Snt=t}var n=t.prototype;return n.iL=function(t,n){if(void 0!==this.ddt){var i=t-this.ddt,e=this._dt.length>0?this._dt.reduce(function(t,n){return n+t},0)/this._dt.length:0;i>e/2&&i<e+e/2&&this.Snt.wnt(i,n.length),this._dt.push(i),this._dt.length>100&&this._dt.shift(),this.ddt=t}else this.ddt=t},n.tL=function(t){},n.nL=function(t){},n.eL=function(t){},t}(),kz=function(){function t(t,n){void 0===n&&(n=0),this.Snt=void 0,this.wdt=void 0,this.gdt=new bz,this.Fq=0,this.ydt=0,this.Snt=t,this.wdt=n}var n=t.prototype;return n.tL=function(t){},n.iL=function(t,n){var e=n.byteLength,r=this.ydt;this.ydt=e;var s=t-this.Fq;this.Fq=t,this.gdt.Rj(n);var u=!this.gdt.mdt(),o=e>=this.wdt;r!==i.Fr.Qe&&u&&o&&this.Snt.wnt(s,e)},n.nL=function(t){this.Fq=t},n.eL=function(t){},t}(),bz=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).pdt=void 0,n.kdt=!1,n}E(n,t);var i=n.prototype;return i.mdt=function(){return this.kdt},i.Rj=function(n){this.kdt=!1,t.prototype.Rj.call(this,n)},i.Ej=function(n,i){this.pdt&&this.pdt!==Pp.Xb||(this.kdt=!0),t.prototype.Ej.call(this,n,i),this.pdt=n},i.Lj=function(t){return!1},i.Fj=function(t){},i.Uj=function(t){},n}(CC),Az=function(t){function n(i,e,r,s){return void 0===i&&(i=n.ndt),void 0===e&&(e=n.idt),t.call(this,i,e,r,s)||this}return E(n,t),n.prototype.wnt=function(t,n){this.tdt(t,n,t)},n}(wz);Az.ndt=.5,Az.idt=5;var Tz=function(){function t(t){this.Snt=void 0,this.bdt=void 0;var n=t.PR>0?t.PR:wz.bnt,i=t.xR>0?t.xR:gz.bnt;this.Snt=new Az(Az.ndt,Az.idt,1,n),this.bdt=new gz(gz.ndt,gz.idt,i)}var n=t.prototype;return n.DR=function(t){if("segment"===t.vs)return new yz([new mz(this.bdt),new pz(this.Snt),new yz([new pz(this.Snt),new kz(this.Snt,1e3)])])},n.Adt=function(t){this.Snt=new Az(Az.ndt,Az.idt,1,t)},T(t,[{key:"PR",get:function(){return this.Snt.wK}},{key:"xR",get:function(){return this.bdt.wK}}]),t}(),Sz=function(t){function n(n){var i;return(i=t.call(this,CX.Evt)||this).mu=n,i}return E(n,t),n}(Eu),Ez=function(){function t(t){this.hZ=t}return t.prototype.jU=function(t){var n={vs:Rb.AE,NN:[],kV:[{Pl:t}]};return Ye.resolve(void 0!==this.hZ.jU([n]))},t}(),Iz=function(t,n,i,e,r){return Ye.resolve(t.filter(function(t){return!!Ys(e,t)||1.1*t.PR<=i.PR}))},Rz=function(t,n,i,e,r){return Ye.resolve(t.filter(function(t){if(Ys(e,t))return!0;for(var s=1/0,u=0,o=t.Xlt;u<o.length;u++){var a,h,c=o[u];s=w.min(s,null!=(a=null!=(h=c.qvt.Tdt)?h:c.qvt.Sdt)?a:1/0)}s===1/0&&(s=1);var f=3*i.xR+t.PR*s/i.PR;return t.PR<=n.PR||r.Edt>f}))},Nz=function(t,n,i,e,r){return Ye.resolve(Os(t,function(t,n){return n.PR-t.PR}))},Cz=function(t,n,i,e,r){return Ye.resolve(t.every(function(t){return t.Idt&&!m(t.Idt)})?Os(t,function(t,n){return n.Idt-t.Idt}):t)},Dz=function(t,n,i,e,r){return Ye.resolve(Os(t,function(t,n){var i=Ys(e,t)?1:0;return(Ys(e,n)?1:0)-i}))},Pz=function(t,n,i,e,r){return Ye.resolve(t.filter(function(t){return!t.VH||!n.VH||(t.VH.XH?!!n.VH.XH&&(t.VH.XH.split(".")[0]===n.VH.XH.split(".")[0]&&(t.VH.zH?!!n.VH.zH&&(t.VH.zH.split(".")[0]===n.VH.zH.split(".")[0]&&t.VH.qH===n.VH.qH):!n.VH.zH)):!n.VH.XH)}))},Bz=function(t,n,e,r,s){return Ye.resolve(function(t,n){if(!i.Fr.vn)return t;for(var e=0;e<t.length;e++){var r,s,u,o,a=t[e],h=null!=(r=null==(s=a.Elt)?void 0:s.uT)?r:0,c=null!=(u=null==(o=a.Elt)?void 0:o.yp)?u:0;if(h===n.uT&&c===n.yp)return t.slice(e,t.length);if(h<n.uT||c<n.yp)return t.slice(0===e?e:e-1,t.length)}return[]}(t,s))};var xz=function(){function t(t){this.d6=[Pz,Iz,Rz,Nz,Bz,Cz,Dz],this.ED=t}var n=t.prototype;return n.Rdt=function(t){this.d6=t},n.Ndt=function(t,n,i,e){var r,s,u,o,a;return Mr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(t.length){h.next=2;break}throw new v("AbrEvaluator - Unable to select optimal variant stream from an empty list.");case 2:cz.Plt("AbrEvaluator","Performing optimal variant stream selection."),r=this.Cdt,s=t,u=0,o=this.d6;case 6:if(!(u<o.length)){h.next=14;break}return a=o[u],h.next=10,Mr.awrap(a(s,n,r,i,e));case 10:s=h.sent;case 11:u++,h.next=6;break;case 14:if(s.length){h.next=17;break}return cz.Blt("AbrEvaluator","No possible variant stream remains after ABR rule evaluation. Selecting the lowest bandwidth variant stream."),h.abrupt("return",Js(t,function(t){return t.PR}));case 17:return h.abrupt("return",s[0]);case 18:case"end":return h.stop()}},null,this,null,Ye)},T(t,[{key:"Cdt",get:function(){return this.ED.JO}}]),t}();function Oz(t,n,i,e){var r,s,u,o,a,h,c,f,v;return Mr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(t){l.next=2;break}return l.abrupt("return",[]);case 2:return r=n.filter(function(t){return ps(t,"audio")}),s=n.filter(function(t){return ps(t,"video")}),u=[],o=i.map(function(t){return Lz(t,e)}),l.next=8,Mr.awrap(Ye.all(o));case 8:for(a=l.sent.filter(H),h=Fz(a,t.preferredKeySystems),c=0;c<h.length;c++)f=h[c],v=aF(t,f.rc),"cbcs",u.push({rc:f.rc,FR:f.FR,ZI:f.ZI,zN:[{initDataTypes:[f.rc.ds],audioCapabilities:hF(r,"cbcs",null==v?void 0:v.audioRobustness),videoCapabilities:hF(s,"cbcs",null==v?void 0:v.videoRobustness),persistentState:null==v?void 0:v.persistentState,distinctiveIdentifier:null==v?void 0:v.distinctiveIdentifier}]});return l.abrupt("return",u);case 12:case"end":return l.stop()}},null,null,null,Ye)}function Lz(t,n){var i,e,r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(t.Y0){s.next=2;break}return s.abrupt("return");case 2:if(t.Ddt){s.next=4;break}return s.abrupt("return");case 4:if(t.md===XX.Xvt){s.next=6;break}return s.abrupt("return");case 6:if(i=Mz(t.Ddt)){s.next=9;break}return s.abrupt("return");case 9:if(i.gs!==hs){s.next=13;break}return s.abrupt("return",{rc:i,FR:[],ZI:t.Y0});case 13:return cz.fT("HLSDrmUtils","Fetching key uri "+t.Y0+"."),s.next=16,Mr.awrap(n.$l({Kl:t.Y0}));case 16:return e=s.sent,s.next=19,Mr.awrap(e.Cl());case 19:return r=s.sent,s.abrupt("return",{rc:i,FR:[r],ZI:void 0});case 21:case"end":return s.stop()}},null,null,null,Ye)}function Mz(t){return t===ss?ls:t===es?vs:t===fs?_s:void 0}function Fz(t,n){var i=function(t){var i=n.indexOf(t.rc.gs);return i>=0?i:n.length};return Os(t,function(t,n){return i(t)-i(n)})}function Uz(t){if("#"!==t[0])throw new v("HLSPlaylistParser - Could not extract M3U8 tag or comment: "+t);return t.split(":",1)[0]}function jz(t){return"#"!==t[0]?t:t.split(":",1)[0]}function Hz(t){var n=t.indexOf(":");if(-1===n||t.length<n+1)throw new v("HLSPlaylistParser - Could not extract M3U8 parameter: "+t);return t.substring(n+1)}function Xz(t){var n=Gz(Hz(t));if(void 0===n)throw new v("HLSPlaylistParser - Could not extract M3U8 float parameter: "+t);return n}function zz(t){for(var n={},i=/[:,] ?([A-Z0-9-]+)=([^",]+|"([^"]*)")/gi,e=i.exec(t);null!==e;){var r=e[1],s=void 0;s=void 0!==e[3]?e[3]:e[2],null!==r?n[r]=s:cz.Blt(fz,"Ignoring unparsable M3U8 attribute name: "+t+"."),e=i.exec(t)}return n}function Vz(t,n){var e,r,s=zz(t);try{e=s.URI?i.Lr(s.URI,n):void 0,r=function(t){switch(t){case"AUDIO":return DX._d;case"VIDEO":return DX.wd;case"SUBTITLES":return DX.Qb;case"CLOSED-CAPTIONS":return DX.Rvt}throw new v("HLSPlaylistParser - Could not parse M3U8 media type: "+t+".")}(s.TYPE)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".")}var u=s["GROUP-ID"],o=s.LANGUAGE,a=s["ASSOC-LANGUAGE"],h=s.NAME,c="YES"===s.DEFAULT,f="YES"===s.AUTOSELECT,l="YES"===s.FORCED,d=s["INSTREAM-ID"],_=s.CHARACTERISTICS,w=s.CHANNELS;if(u||cz.Blt(fz,"#EXT-X-MEDIA tag has no GROUP-ID attribute: "+t+"."),o||cz.Blt(fz,"#EXT-X-MEDIA tag has no LANGUAGE attribute: "+t+"."),h||cz.Blt(fz,"#EXT-X-MEDIA tag has no NAME attribute: "+t+"."),r===DX.Rvt?(e&&cz.Blt(fz,"#EXT-X-MEDIA tag of type CAPTIONS must not have a URI: "+t+"."),d?/^(CC[0-4])|(SERVICE([1-9]|[1-5][0-9]|6[0-3]))$/.test(d)||cz.Blt(fz,"#EXT-X-MEDIA's INSTREAM-ID is invalid: "+t+"."):cz.Blt(fz,"#EXT-X-MEDIA tag of type CAPTIONS must have an INSTREAM-ID attribute: "+t+".")):d&&cz.Blt(fz,"#EXT-X-MEDIA tag must not have an INSTREAM-ID attribute if the TYPE is not CAPTIONS: "+t+"."),c&&!f&&(f=!0,s.AUTOSELECT&&cz.Blt(fz,"#EXT-X-MEDIA tag with DEFAULT=YES attribute must have AUTOSELECT=YES attribute: "+t+".")),r===DX.Qb&&s.FORCED&&cz.Blt(fz,"#EXT-X-MEDIA tag must not have a FORCED attribute if the TYPE is not SUBTITLES: "+t+"."),void 0===u||void 0===h)throw new v("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".");return{Pdt:a,Bdt:w,xdt:_,$vt:u,Gvt:f,Wvt:c,Yvt:l,Qvt:d,Fw:o,_i:h,vs:r,Y0:e}}function qz(t,n,e){var r,s,u,o=zz(t);try{r=i.Lr(e,n),u=function(t){if(void 0===t)return;var n=t.split("x"),i=Number(n[0]),e=Number(n[1]);if(m(i)||m(e))throw new v("HLSPlaylistParser - Could not parse RESOLUTION attribute: "+t+".");return{yp:i,uT:e}}(o.RESOLUTION),s=function(t){if(!t)return;for(var n,i,e,r=t.split(","),s=0;s<r.length;s++){var u=r[s],o=u.trim();ks(o,"mp4a")?n="mp4a.40.05"===o?"mp4a.40.5":"mp4a.40.02"===o?"mp4a.40.2":o:"ac-3"===o||"ec-3"===o?n=o:ks(o,"avc")||ks(o,"hvc1")||ks(o,"hev1")||ks(o,"dvh")?i=u:e=e?e+","+o:o}return{zH:n,XH:i,qH:e}}(o.CODECS)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".")}var a=Gz(o.BANDWIDTH),h=Gz(o["AVERAGE-BANDWIDTH"]),c=Gz(o.SCORE),f=Gz(o["FRAME-RATE"]),l=o["HDCP-LEVEL"],d=[];if(void 0!==o["ALLOWED-CPC"]){var _=o["ALLOWED-CPC"].split(",");d.push.apply(d,_.map(function(t){var n=t.split(":");return{keysystem:n[0],label:n[1]}}))}var w=o["VIDEO-RANGE"],g=o.AUDIO,y=o.VIDEO,p=o.SUBTITLES,k=o["CLOSED-CAPTIONS"];if(void 0===a?cz.Blt(fz,"#EXT-X-STREAM-INF tag has no valid BANDWIDTH attribute: "+t+"."):void 0!==h&&h>a&&cz.Blt(fz,"#EXT-X-STREAM-INF tag must have BANDWIDTH attribute higher or equal to AVERAGE-BANDWIDTH attribute: "+t+"."),s||cz.fT(fz,"#EXT-X-STREAM-INF tag should have a CODECS attribute: "+t+"."),s&&s.XH&&void 0===u&&cz.fT(fz,"#EXT-X-STREAM-INF tag should have a valid RESOLUTION attribute if it contains video codecs: "+t+"."),void 0===l||Ys(["TYPE-0","TYPE-1","NONE"],l)||cz.Blt(fz,"#EXT-X-STREAM-INF tag has an invalid HDCP-LEVEL attribute: "+t+"."),void 0===w||Ys(["SDR","PQ","HLG"],w)||cz.Blt(fz,"#EXT-X-STREAM-INF tag has an invalid VIDEO-RANGE attribute: "+t+"."),void 0===a)throw new v("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".");return{Odt:d,Ldt:g,q0:h,PR:a,Mdt:k,VH:s,GJ:f,Fdt:l,Elt:u,Idt:c,Udt:p,Y0:r,jdt:y,Hdt:w}}function Wz(t,n){var i=zz(t);if(!i.URI)throw new v("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".");try{return qz(t,n,i.URI)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".")}}function Gz(t){var n=Number(t);return m(n)?void 0:n}function Yz(t,n){var i,e,r=zz(t);try{i=function(t){switch(t){case"NONE":return XX.dC;case"AES-128":return XX.Hvt;case"SAMPLE-AES":return XX.Xvt;case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return t}throw new v("LLHLSPlaylistParser - Could not parse M3U8 key method: "+t+".")}(r.METHOD),e=r.URI?iV(r.URI,n):void 0}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-KEY tag: "+t+".")}var s,u,o,a,h,c=r.KEYFORMAT,f=r.IV,l=r.KEYFORMATVERSIONS;if(i!==XX.dC){if(o=c||"identity","SAMPLE-AES-CENC"===i||"SAMPLE-AES-CTR"===i){if(Mz(o)!==ls)throw new v("HLSPlaylistParser - #EXT-X-KEY tag with METHOD="+i+" is only compatible with Widevine.");s=XX.Xvt}else s=i;u=e,a=f?ia(f):void 0,h=l?l.split("/").map(function(t){return Number(t)}):[1]}else s=XX.dC,(e||c||l||f)&&cz.Blt(fz,"#EXT-X-KEY tag with METHOD=NONE must not have additional attributes: "+t+".");return{md:s,Y0:u,Xdt:a,Ddt:o,zdt:h}}function $z(t){var n=Hz(t);if(!n)return[void 0,""];var i=n.split(","),e=i[0],r=i[1];return[Gz(e),r]}function Qz(t,n){var i=t.split("@"),e=Gz(i[0]),r=i.length>1?Gz(i[1]):n;if(void 0===e||void 0===r)throw new v("HLSPlaylistParser - Could not parse #EXT-X-BYTERANGE tag: "+t+".");return{IC:r,Tw:e}}function Kz(t){if(void 0!==t)return Qz(t,void 0)}function Zz(t,n){return Qz(Hz(t),n)}function Jz(t,n){var i=zz(t);try{return{Ai:iV(i.URI,n),l3:Kz(i.BYTERANGE)}}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-MAP tag: "+t+".")}}function tV(t){var n=Hz(t);if(!n)throw new v("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");var i=new Date(n);if(!qt(i))throw new v("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");return i}function nV(t){var n,i,e,r=zz(t),s=r["START-DATE"],u=r["END-DATE"],o=Gz(r["PLANNED-DURATION"]),a=Gz(r.DURATION);void 0!==r["SCTE35-CMD"]&&(n=ia(r["SCTE35-CMD"]).buffer),r["SCTE35-IN"]&&(i=ia(r["SCTE35-IN"]).buffer),r["SCTE35-OUT"]&&(e=ia(r["SCTE35-OUT"]).buffer);var h,c,f="YES"===r["END-ON-NEXT"],l=function(t){for(var n={},i=0,e=_.keys(t);i<e.length;i++){var r=e[i],s=t[r];void 0!==s&&ks(r,"X-")&&(n[r]=s)}return n}(r),d=r.ID,w=r.CLASS;if(void 0===s)cz.Blt(fz,"Could not parse #EXT-X-DATERANGE tag without START-DATE attribute: "+s+".");else if(h=new Date(s),c=void 0!==u?new Date(u):void 0,qt(h)||cz.Blt(fz,"Could not parse EXT-X-DATERANGE tag with invalid START-DATE attribute: "+h+"."),void 0!==a){var g=new Date(h.getTime()+1e3*a);c?c.getTime()!==g.getTime()&&(cz.Blt(fz,"DURATION and END-DATE attributes of #EXT-X-DATERANGE tag are not aligned, updating the END-DATE: "+t+"."),c=g):c=g}else c&&(a=(h.getTime()-c.getTime())/1e3);if(f&&(r.CLASS||cz.Blt(fz,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute without CLASS attribute: "+t+"."),r.DURATION&&cz.Blt(fz,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with DURATION attribute: "+t+"."),c&&cz.Blt(fz,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with END-DATE attribute: "+t+".")),void 0===d&&cz.Blt(fz,"Could not parse #EXT-X-DATERANGE tag without valid ID attribute: "+t+"."),void 0===d||void 0===h)throw new v("HLSPlaylistParser - Could not parse #EXT-X-DATERANGE tag: "+t+".");return{xw:d,Cvt:w,YN:h,Dvt:c,Hg:a,Pvt:o,Lvt:n,Fvt:i,Mvt:e,Nvt:f,xvt:l}}function iV(t,n){if(void 0===t)throw new v("HLSPlaylistParser - Unable to parse URL from string: "+t+".");return i.Lr(t,n)}function eV(t,n){var i=zz(t),e=Gz(i.DURATION),r=iV(i.URI,n),s=Kz(i.BYTERANGE),u="YES"===i.INDEPENDENT,o="YES"===i.GAP;if(void 0===e)throw new v("HLSPlaylistParser - Unable to parse #EXT-X-PART without valid DURATION: "+t);return{Hg:e,Y0:{Ai:r,l3:s},Vdt:u,qdt:o}}function rV(t){var n=zz(t);return{Wdt:"YES"===n["CAN-BLOCK-RELOAD"],Gdt:Gz(n["CAN-SKIP-UNTIL"]),Ydt:"YES"===n["CAN-SKIP-DATERANGES"],$dt:Gz(n["HOLD-BACK"]),Qdt:Gz(n["PART-HOLD-BACK"])}}function sV(t,n){var i=zz(t);if(void 0===i.URI)throw new v("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");var e=iV(i.URI,n),r=Gz(i["LAST-MSN"]),s=Gz(i["LAST-PART"]);if(void 0===r)throw new v("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");return{Y0:e,Kdt:r,Zdt:s}}function uV(t,n){var i,e=zz(t),r=Gz(e["SKIPPED-SEGMENTS"]),s=null==(i=e["RECENTLY-REMOVED-DATERANGES"])?void 0:i.split("\t");if(!r)throw new v("HLSPlaylistParser - Could not parse #EXT-X-SKIP tag without valid SKIPPED-SEGMENTS attribute: "+t+".");return{Jdt:r,t_t:s,n_t:n}}function oV(t){var n=Gz(zz(t)["PART-TARGET"]);if(void 0===n)throw new v("HLSPlaylistParser - Could not parse #EXT-X-PART-TARGET-DURATION tag: "+t+".");return n}function aV(t){switch(Hz(t)){case"VOD":return zX.zvt;case"EVENT":return zX.Vvt;default:return cz.Blt(fz,"Found #EXT-X-PLAYLIST-TYPE tag with invalid value: "+t+"."),zX.Jl}}function hV(t,n){var i,e,r=zz(t);try{i=function(t){if(void 0===t)throw new v("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".");if("MAP"===t)return HX.Uvt;if("PART"===t)return HX.jvt;throw new v("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".")}(r.TYPE),e=iV(r.URI,n)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-PRELOAD-HINT tag: "+t+".")}var s,u=Gz(r["BYTERANGE-START"]),o=Gz(r["BYTERANGE-LENGTH"]);return void 0===u&&void 0===o||(s={IC:u||0,Tw:o}),{vs:i,Y0:{Ai:e,l3:s}}}var cV=function(){function t(n){this.i_t=0,this.e_t=void 0,this.e_t=t.r_t(n)}var n=t.prototype;return n.s_t=function(){var t=this.e_t[this.i_t];return this.i_t+=1,t},n.u_t=function(){return this.e_t[this.i_t]},n.Mu=function(){var n=new t("");return n.i_t=0,n.e_t=this.e_t.slice(this.i_t),n},t.r_t=function(t){return t?t.split(/[\r\n]+/).map(function(t){return t.trim()}).filter(function(t){return t}):[]},t}();function fV(t,n,i){var e=t.Y0,r=t.IA,s=t.o_t,u=t.IC;switch(i){case"#EXT-X-VERSION":r=function(t){var n=Xz(t);return m(n)?(cz.Blt(fz,"Playlist version is NaN: "+t+"."),1):n}(n);break;case"#EXT-X-INDEPENDENT-SEGMENTS":s=!0;break;case"#EXT-X-START":u=function(t){var n=zz(t),i=Gz(n["TIME-OFFSET"]);if(void 0===i)throw new v("HLSPlaylistParser - #EXT-X-START is missing a TIME-OFFSET: "+t+".");return{a_t:i,h_t:"YES"===n.PRECISE}}(n);break;case"#EXT-X-DEFINE":cz.Blt(fz,"Ignoring unsupported #EXT-X-DEFINE: "+n+".");break;default:cz.fT(fz,"Ignoring unrecognized line or comment: "+n+".")}return{Y0:e,IA:r,o_t:s,IC:u}}function vV(t,n){return t.map(function(t){return t.md===XX.dC||t.Xdt?t:Fr({},t,{Xdt:lV(n)})})}function lV(t){var n=new DataView(new ArrayBuffer(16)),i=new na;return i.xu(8),So(n,i,lt.fromNumber(t)),new p(n.buffer)}function dV(t,n,e){cz.fT(fz,"Parsing M3U8 playlist at "+t+".");var r=new cV(e);if("#EXTM3U"!==r.s_t())throw new v("HLSPlaylistParser - Could not parse M3U8 playlist. Playlist does not start with #EXTM3U.");return function(t){return/^#EXT-X-(MEDIA|STREAM-INF|I-FRAME-STREAM-INF|SESSION-DATA|SESSION-KEY):/m.test(t)}(e)?function(t,n){var e,r;try{r=i.Lr(t)}catch(n){throw cz.Blt(fz,"The master playlist has no valid base URI: "+t+"."),new v("HLSPlaylistParser - Could not parse HLS master playlist: "+t)}for(var s={Y0:r,o_t:void 0,IC:void 0,IA:void 0},u=[],o=[],a=[],h=[];;){var c=n.s_t();if(!c)break;try{var f=Uz(c);switch(f){case"#EXT-X-MEDIA":var l=Vz(c,r);u.push(l);break;case"#EXT-X-STREAM-INF":var d=qz(c,r,n.s_t());o.push(d);break;case"#EXT-X-I-FRAME-STREAM-INF":var _=Wz(c,r);a.push(_);break;case"#EXT-X-SESSION-DATA":cz.Blt(fz,"Ignoring unsupported #EXT-X-SESSION-DATA: "+c+".");break;case"#EXT-X-SESSION-KEY":var w=Yz(c,r);h.push(w);break;default:s=fV(s,c,f)}}catch(t){cz.Blt(fz,"Ignoring unparsable line: "+c,t)}}var g=s.IA,y=null!=(e=s.o_t)&&e,m=s.IC;return void 0===g&&(cz.Blt(fz,"The playlist has no #EXT-X-VERSION, assuming version is 2."),g=2),g>=8&&(o.some(function(t){return void 0!==t.Idt})||a.some(function(t){return void 0!==t.Idt}))&&(o.some(function(t){return void 0===t.Idt})||a.some(function(t){return void 0===t.Idt}))&&cz.Blt(fz,"If one master playlist variant stream has a SCORE, all variants should have it."),{Y0:r,IA:g,o_t:y,IC:m,c_t:a,f_t:h,JA:u,v_t:o}}(t,r):function(t,n,e){var r,s,u,o,a,h,c,f,l,d,_,w,g,y,m,p,k,b,A,T={Y0:t,o_t:void 0,IC:void 0,IA:void 0},S=[],E=!1,I=!1,R=[],N=jr(),C=[],D=[],P=!1,B=!1,x=[],O=[],L=0,M=!1,F=zX.Jl,U=!1,j=0;try{A=i.Lr(t)}catch(n){throw cz.Blt(fz,"The media playlist has no valid base URI: "+t+".",n),new v("HLSPlaylistParser - Could not parse HLS media playlist.")}for(var H=e.Mu();void 0===p||void 0===k;){var X=H.s_t();if(!X)break;try{switch(jz(X)){case"#EXT-X-MEDIA-SEQUENCE":p=Xz(X);break;case"#EXT-X-DISCONTINUITY-SEQUENCE":k=Xz(X)}}catch(t){cz.Blt(fz,"Ignoring unparsable line: "+X,t)}}void 0===p&&(cz.fT(fz,"#EXT-X-MEDIA-SEQUENCE tag is missing, assuming first segment media sequence number is 0."),p=0),void 0===k&&(cz.fT(fz,"#EXT-X-DISCONTINUITY-SEQUENCE tag is missing, assuming first segment discontinuity sequence number is 0."),k=0);for(var z=p,V=k;;){var q=e.s_t();if(!q)break;var W=!1;try{var G=jz(q);switch(G){case"#EXTINF":W=!0;var Y=$z(q);h=Y[0],c=Y[1];break;case"#EXT-X-BYTERANGE":W=!0,(f=Zz(q,L))&&(L=f.IC+f.Tw);break;case"#EXT-X-DISCONTINUITY":W=!0,P=!0,V++;break;case"#EXT-X-KEY":var $,Q;W=!0;var K=Yz(q,A);if(K.md===XX.dC){N.clear(),y=void 0;break}var Z=null!=($=null==(Q=K.Ddt)?void 0:Q.toString())?$:"identity";N.set(Z,K),K.md===XX.Hvt&&(y=K);break;case"#EXT-X-MAP":W=!0,d=Jz(q,A),_=y;break;case"#EXT-X-PROGRAM-DATE-TIME":W=!0,w=tV(q);break;case"#EXT-X-GAP":W=!0,B=!0;break;case"#EXT-X-BITRATE":W=!0,g=Xz(q);break;case"#EXT-X-TARGETDURATION":s=Xz(q);break;case"#EXT-X-DATERANGE":var J=nV(q);S.push(J);break;case"#EXT-X-PART":W=!0;var tt=eV(q,A);D.push(tt);break;case"#EXT-X-PRELOAD-HINT":var nt=hV(q,A);x.push(nt);break;case"#EXT-X-SKIP":R.length>0&&cz.Blt(fz,"#EXT-X-SKIP must appear before any #EXTINF tags."),W=!0;var it=uV(q,z);j=it.Jdt,b=it.t_t,z+=it.Jdt;break;case"#EXT-X-SERVER-CONTROL":var et=rV(q);E=et.Wdt,u=et.Gdt,I=et.Ydt,o=et.$dt,a=et.Qdt;break;case"#EXT-X-RENDITION-REPORT":var rt=sV(q,A);O.push(rt);break;case"#EXT-X-PART-INF":m=oV(q);break;case"#EXT-X-MEDIA-SEQUENCE":W&&cz.Blt(fz,"#EXT-X-MEDIA-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-DISCONTINUITY-SEQUENCE":W&&cz.Blt(fz,"#EXT-X-DISCONTINUITY-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-ENDLIST":M=!0;break;case"#EXT-X-PLAYLIST-TYPE":F=aV(q);break;case"#EXT-X-I-FRAMES-ONLY":U=!0;break;default:if(ks(G,"#"))T=fV(T,q,G);else{l=i.Lr(q,A);var st=d?{Y0:d,l_t:_}:void 0,ut={f_t:vV(zr(N),z),QS:C,d_t:D,Hg:h,PN:c,__t:P,Y0:{l3:f,Ai:l},w_t:st,g_t:w,qdt:B,y_t:g,n_t:z,m_t:V};R.push(ut),z++,C=[],D=[],h=void 0,h=void 0,c=void 0,P=!1,f=void 0,l=void 0,w=void 0,B=!1,g=void 0}}}catch(t){cz.Blt(fz,"Ignoring unparsable line: "+q,t)}}if(D.length){var ot=d?{Y0:d,l_t:y}:void 0,at={f_t:vV(zr(N),z),QS:C,d_t:D,Hg:h,PN:c,__t:P,Y0:void 0,w_t:ot,g_t:w,qdt:B,y_t:g,n_t:z,m_t:V};R.push(at)}var ht=T.IA,ct=null!=(r=T.o_t)&&r,ft=T.IC;void 0===ht&&(cz.Blt(fz,"The media playlist has no #EXT-X-VERSION tag, assuming version is 2."),ht=2),void 0===s&&cz.Blt(fz,"Could not parse the HLS media playlist: no #EXT-X-TARGET-DURATION tag was found.");var vt=R.length,lt=vt>0;lt||cz.Blt(fz,"The HLS media playlist contains no segments.");var dt=lt&&R[vt-1].d_t.length>0;return dt&&void 0===m&&cz.Blt(fz,"Could not parse the HLS media playlist: no #EXT-X-PART-TARGET-DURATION tag was found, but it is required when some or all segments contain parts."),dt&&void 0===a&&cz.Blt(fz,"Could not parse the HLS media playlist: The #EXT-X-SERVER-CONTROL tag has no PART-HOLDBACK attribute, but it is required when some or all segments contain parts."),{Wdt:E,Gdt:u,Ydt:I,p_t:S,m_t:k,k_t:M,o_t:ct,$dt:o,b_t:U,n_t:p,Jdt:j,Qdt:a,Tdt:m,A_t:F,T_t:x,t_t:b,S_t:O,E_t:s,UZ:R,IC:ft,Y0:A,I_t:n,IA:ht}}(t,n,r)}var _V=function(){function t(t,n,i){var e,r,s,u;this.xw=wV++,this.qvt=void 0,this.PR=void 0,this.Idt=void 0,this.Elt=void 0,this.Ldt=void 0,this.jdt=void 0,this.Udt=void 0,this.Mdt=void 0,this.R_t=void 0,this.N_t=void 0,this.C_t=[],this.qvt=n,this.PR=t.PR,this.R_t=t.q0,this.Idt=t.Idt,this.N_t=t.VH?gV(t.VH):void 0,this.Elt=t.Elt,this.Ldt=null!=(e=t.Ldt)?e:"D_t"+this.xw,this.jdt=null!=(r=t.jdt)?r:"P_t"+this.xw,this.Udt=null!=(s=t.Udt)?s:"B_t"+this.xw,this.Mdt=null!=(u=t.Mdt)?u:"x_t"+this.xw,this.C_t=i}var n=t.prototype;return n.O_t=function(t){for(var n=0,i=this.C_t;n<i.length;n++){var e=i[n].qvt.O_t(t);if(void 0!==e)return e}},n.L_t=function(t){for(var n=0,i=this.C_t;n<i.length;n++){var e=i[n].qvt.L_t(t);if(void 0!==e)return e}},n.M_t=function(t){for(var n=0,i=this.C_t;n<i.length;n++){var e=i[n];if(e.vs===t&&e.Kvt)return void Ws(this.C_t,e)}},T(t,[{key:"Y0",get:function(){return this.qvt.Y0}},{key:"VH",get:function(){return this.N_t},set:function(t){this.N_t=t?gV(t):void 0}},{key:"q0",get:function(){return this.R_t||this.PR}},{key:"F_t",get:function(){var t,n;if(!this.C_t.length)return WS.vD();var i=null!=(t=tu(this.C_t,function(t){var n;return null!=(n=t.qvt.U_t)?n:0}))?t:this.Xlt[0],e=i.qvt.UZ;if(!e.length||e.length<2)return WS.vD();var r=i.qvt.k_t?e[0].Vm:e[1].Vm,s=e[e.length-1],u=s.Vm+(null!=(n=s.Hg)?n:s.j_t)-this.Xlt.reduce(function(t,n){var i,e;return w.max(null!=(i=null!=(e=n.qvt.Qdt)?e:n.qvt.$dt)?i:0,t)},0);return u<r?WS.vD():new WS([r,u])}},{key:"Xlt",get:function(){return this.C_t}},{key:"Flt",get:function(){return this.C_t.filter(function(t){return t.vs===DX._d})}},{key:"Ult",get:function(){return this.C_t.filter(function(t){return t.vs===DX.wd})}},{key:"H_t",get:function(){return this.C_t.filter(function(t){return t.vs===DX.Qb})}},{key:"X_t",get:function(){return this.C_t.filter(function(t){return t.vs===DX.Rvt})}}]),t}(),wV=0;function gV(t){return Fr({},t,{XH:t.XH?Yc(t.XH):void 0})}var yV=function(){function t(t,n,i,e,r){this.z_t=void 0,this.V_t=void 0,this.Hg=void 0,this.Y0=void 0,this.Vdt=void 0,this.qdt=void 0,this.q_t=void 0,this.np=void 0,this.TK=void 0,this.W_t=void 0,this.z_t=t,this.V_t=n,this.np=i,this.q_t=e,this.Hg=r.Hg,this.Y0=r.Y0,this.Vdt=r.Vdt,this.qdt=r.qdt}return t.prototype.G_t=function(t,n){this.np=t,this.q_t=n},T(t,[{key:"Vm",get:function(){var t;return this.np+(null!=(t=this.W_t)?t:0)}},{key:"Y_t",get:function(){return this.q_t}},{key:"f_t",get:function(){return this.z_t.f_t}}]),t}();function mV(t){return void 0!==t.d_t}var pV,kV=function(){function t(t,n,i,e,r){this.oa=void 0,this.g_t=void 0,this.$_t=void 0,this.w_t=void 0,this.qdt=void 0,this.Q_t=void 0,this.q_t=void 0,this.n_t=void 0,this.__t=void 0,this.m_t=void 0,this.f_t=void 0,this.np=void 0,this.TK=void 0,this.K_t=[],this.Z_t=0,this.J_t=void 0,this.np=t,this.w_t=r.w_t,this.Q_t=i,this.q_t=e,this.oa=r.Hg,this.g_t=r.g_t,this.$_t=r.Y0,this.qdt=r.qdt,this.n_t=r.n_t,this.__t=r.__t,this.m_t=n,this.f_t=r.f_t,this.twt(r.d_t)}var n=t.prototype;return n.nwt=function(t){return this.K_t[t]},n.iwt=function(t){for(var n=0;n<this.K_t.length;n++){var i=this.K_t[n],e=i.Vm,r=e+i.Hg;if(e<=t&&t<=r)return t===r&&n+1<this.K_t.length?this.K_t[n+1]:i}},n.ewt=function(t){for(var n=this.K_t.length-1;n>=0;n--){var i=this.K_t[n];if(i.Vm<=t)return i}},n.rwt=function(t){for(var n=this.ewt(t);n&&!n.Vdt&&n.V_t>0;)n=this.nwt(n.V_t-1);return n},n.G_t=function(t,n,i){var e=t.d_t.length!==this.K_t.length||i!==this.q_t;this.Q_t=n,this.q_t=i,this.oa=t.Hg,null!=this.g_t||(this.g_t=t.g_t),void 0===this.$_t&&(this.$_t=t.Y0),e&&this.twt(t.d_t)},n.twt=function(t){this.K_t.length>t.length&&(this.K_t.length=t.length);for(var n=0,i=0;i<t.length;i++){var e=t[i],r=!!this.q_t&&i===t.length-1,s=this.np+n;if(i<this.K_t.length)this.K_t[i].G_t(s,r);else{var u=new yV(this,i,s,r,e);this.K_t.push(u)}n+=e.Hg}this.Z_t=n},n.swt=function(){Qs(this.K_t),this.Z_t=0},T(t,[{key:"Vm",get:function(){var t;return this.np+(null!=(t=this.J_t)?t:0)}},{key:"uwt",get:function(){return this.np}},{key:"Hg",get:function(){return this.oa}},{key:"Y0",get:function(){return this.$_t}},{key:"owt",get:function(){return this.Q_t}},{key:"Y_t",get:function(){return this.q_t}},{key:"d_t",get:function(){return this.K_t}},{key:"j_t",get:function(){return this.Z_t}},{key:"W_t",get:function(){return this.J_t},set:function(t){this.J_t=t;for(var n=0,i=this.K_t;n<i.length;n++){i[n].W_t=t}}}]),t}();!function(t){t.awt="YES",t.hwt="v2"}(pV||(pV={}));var bV=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n}(rn);var AV=function(t){function n(n,i){var e,r=TV(i,n.Hg,n.YN,n.Dvt);return(e=t.call(this,i,r,void 0,!1,n.xw)||this).cwt=void 0,e.fwt=void 0,e.vwt=void 0,e.oa=void 0,e.lwt=void 0,e.dwt=void 0,e._wt=void 0,e.wwt=void 0,e.gwt=void 0,e.ywt=void 0,e.cwt=n.Cvt,e.fwt=n.YN,e.vwt=n.Dvt,e.oa=n.Hg,e.lwt=n.Pvt,e.dwt=Boolean(n.Nvt),e._wt=n.Bvt||{},e.wwt=n.Ovt,e.gwt=n.Mvt,e.ywt=n.Fvt,e.mwt(),e.pwt(),e}E(n,t);var i=n.prototype;return i.Kh=function(t){var n=!1;void 0===this.cwt&&void 0!==t.Cvt&&(n=!0,this.cwt=t.Cvt),void 0===this.vwt&&void 0!==t.Dvt&&(n=!0,this.vwt=t.Dvt),void 0===this.oa&&void 0!==t.Hg&&(n=!0,this.oa=t.Hg),void 0===this.lwt&&void 0!==t.Pvt&&(n=!0,this.lwt=t.Pvt),!this.dwt&&t.Nvt&&(n=!0,this.dwt=t.Nvt),n=this.updateCustomAttributes(t,n),void 0===this.wwt&&void 0!==t.Ovt&&(n=!0,this.wwt=t.Ovt),void 0===this.gwt&&void 0!==t.Mvt&&(n=!0,this.gwt=t.Mvt),void 0===this.ywt&&void 0!==t.Fvt&&(n=!0,this.ywt=t.Fvt),this.mwt(),this.pwt(),this.kwt(),n&&this.Qs(new Ym(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.Bvt)for(var e=0,r=_.keys(t.Bvt);e<r.length;e++){var s=r[e];void 0===this._wt[s]&&(i=!0,this._wt[s]=t.Bvt[s])}return i},i.mwt=function(){this.oa&&!this.vwt&&(this.vwt=new Date(this.fwt.getTime()+Yt(this.oa)))},i.pwt=function(){this.vwt&&!this.oa&&(this.oa=Gt(this.vwt.getTime()-this.fwt.getTime()))},i.kwt=function(){this.ip===1/0&&(this.vwt||this.oa)&&(this.ip=TV(this.np,this.oa,this.fwt,this.vwt))},T(n,[{key:"X_",get:function(){var t;return this.H_||(this.H_=pg(qm(t=this),{get content(){return t.Wm},get class(){return t.Cvt},get startDate(){return t.YN},get endDate(){return t.Dvt},get duration(){return t.Hg},get plannedDuration(){return t.Pvt},get endOnNext(){return t.Nvt},get scte35Cmd(){return t.Ovt},get scte35Out(){return t.Mvt},get scte35In(){return t.Fvt},get customAttributes(){return t.Bvt}})),this.H_}},{key:"Cvt",get:function(){return this.cwt}},{key:"YN",get:function(){return this.fwt}},{key:"Dvt",get:function(){return this.vwt}},{key:"Hg",get:function(){return this.oa}},{key:"Pvt",get:function(){return this.lwt}},{key:"Nvt",get:function(){return this.dwt}},{key:"Ovt",get:function(){return this.wwt}},{key:"Mvt",get:function(){return this.gwt}},{key:"Fvt",get:function(){return this.ywt}},{key:"Bvt",get:function(){return this._wt}}]),n}(Zm);function TV(t,n,i,e){return H(n)?t+n:e?t+(Gt(e.getTime())-Gt(i.getTime())):1/0}var SV=function(t){function n(){return t.call(this,void 0,void 0,Bm.DATE_RANGE)||this}E(n,t);var i=n.prototype;return i.Kh=function(t,n){EV(this,IV(t),n)},i.mE=function(n){var i,e,r;i=this.Qw.Aw,e=n,(r=Vs(i,function(t){return t.Cvt===e.Cvt}))&&r.Nvt&&r.Kh({xw:r.xw,Dvt:e.YN}),t.prototype.mE.call(this,n)},n}(cB);function EV(t,n,i){for(var e=t.Qw.Aw,r=function(i){var r=e[i],s=zs(n,function(t){return t.xw===r.xw});s?r.Kh(s):t.uE(r)},s=e.length-1;s>=0;s--)r(s);for(var u=0;u<n.length;u++){var o=n[u],a=o.YN;if(void 0!==a&&!t.KV(o.xw)){var h=i(a);t.mE(new AV(o,h))}}}function IV(t){for(var n=jr(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.xw)){var s=n.get(r.xw),u=Fr({},s,Tg(r),{Bvt:Fr({},s.Bvt,r.Bvt)});n.set(r.xw,u)}else n.set(r.xw,r),i.push(r.xw)}return i.map(function(t){return n.get(t)})}var RV=String.fromCharCode(95),NV=RV+"HLS_msn",CV=RV+"HLS_part",DV=RV+"HLS_skip",PV=function(){function t(t,n){this.Y0=void 0,this.bwt=void 0,this.Awt=void 0,this.Twt=void 0,this.Swt=void 0,this.Ewt=void 0,this.Iwt=void 0,this.Rwt=void 0,this.L2=[],this.Nwt=[],this.J_t=void 0,this.Cwt=!1,this.Dwt=void 0,this.Pwt=!1,this.Bwt=zX.Jl,this.cV=WS.vD(),this.xwt=WS.vD(),this.oa=void 0,this.Owt=-1/0,this.KS=void 0,this.Lwt=void 0,this.Y0=t,this.KS=n}var n=t.prototype;return n.Slt=function(t){if(!t)return this.Y0;var n=i.Or(this.Y0);return void 0!==t.n_t&&n.searchParams.append(NV,String(t.n_t)),void 0!==t.Mwt&&n.searchParams.append(CV,String(t.Mwt)),void 0!==t.fA&&n.searchParams.append(DV,t.fA),n.href},n.ant=function(t){return zs(this.L2,function(n){return n.n_t===t})},n.Fwt=function(t){for(var n=0;n<this.L2.length;n++){var i,e=this.L2[n],r=e.Vm,s=r+(null!=(i=e.Hg)?i:e.j_t);if(r<=t&&t<=s)return t===s&&n+1<this.L2.length?this.L2[n+1]:e}},n.O_t=function(t){var n=this.Uwt();if(void 0!==n)return new Date(1e3*t+n)},n.L_t=function(t){var n=this.Uwt();if(void 0!==n)return(t.getTime()-n)/1e3},n.Uwt=function(){for(var t=this.UZ,n=t.length-1;n>=0;n--){var i=t[n];if(void 0!==i.g_t)return i.g_t.getTime()-1e3*i.Vm}},n.jwt=function(t){switch(t){case HX.Uvt:return this.Awt;case HX.jvt:return this.Twt;default:return}},n.G_t=function(t){var n;void 0===this.Swt&&(this.Swt=null!=(n=t.E_t)?n:this.Hwt(t));void 0===this.Iwt&&void 0!==t.$dt&&(this.Iwt=t.$dt),void 0===this.Ewt&&void 0!==t.Tdt&&(this.Ewt=t.Tdt),void 0===this.Rwt&&void 0!==t.Qdt&&(this.Rwt=t.Qdt),this.Cwt=t.Wdt,this.Dwt=t.Gdt,this.Pwt=t.Ydt,this.Bwt=t.A_t,this.X2(t),this.Xwt(t);var e=zs(t.T_t,function(t){return t.vs===HX.Uvt}),r=zs(t.T_t,function(t){return t.vs===HX.jvt});this.Awt=e?{Y0:e.Y0,vs:e.vs,m_t:t.m_t}:void 0,this.Twt=r?{Y0:r.Y0,vs:r.vs,m_t:t.m_t}:void 0,this.bwt=i.Gn()/1e3,this.xwt=this.zwt(),this.cV=this.Vwt(this.xwt),this.oa=this.qwt(),null!=this.KS||(this.KS=t.IC)},n.zwt=function(){var t,n=this.UZ;if(0===n.length)return WS.vD();var i=n[0].Vm,e=n[n.length-1],r=e.Vm,s=null!=(t=e.Hg)?t:e.j_t;return new WS([i,r+s])},n.Vwt=function(t){var n,i;if(0===t.Tw||this.k_t)return t;var e=t.IC(0),r=t.NC(0)-(null!=(n=null!=(i=this.Qdt)?i:this.$dt)?n:0);return r<e?WS.fD(e):new WS([e,r])},n.qwt=function(){return 0===this.L2.length?0:this.k_t?(t=this.L2,n=function(t){var n;return null!=(n=t.Hg)?n:t.j_t},t.reduce(function(t,i){return t+n(i)},0)):1/0;var t,n},n.Hwt=function(t){for(var n,i=0,e=t.UZ;i<e.length;i++){var r=e[i];if(void 0!==r.Hg){var s=w.max(1,w.round(r.Hg));(void 0===n||n<s)&&(n=s)}}if(void 0===n)throw new v("HLSModel - Could not determine required segment target duration.");return n},n.X2=function(t){if(0===t.UZ.length)return Qs(this.L2),void this.Wwt();var n=this.Gwt(t);if(n){var i,e,r;n.Ywt>0&&this.L2.splice(0,n.Ywt);var s=t.Jdt;if(s>0){if(s>this.L2.length)throw new bV("New playlist skips over missing segments.");var u=this.L2[s-1];if(void 0===u.Hg)throw new bV("New playlist skips over an incomplete segment.");i=u.uwt+u.Hg,r=u.m_t-t.m_t,e=s;for(var o=0;o<s;o++)this.L2[o].swt()}else i=n.$wt,r=0,e=0;for(var a=0;a<t.UZ.length;a++,e++){var h=t.UZ[a],c=0===a,f=t.k_t&&a===t.UZ.length-1,v=h.Hg,l=h.m_t+r;if(e<this.L2.length){var d=this.L2[e];0,d.G_t(h,c,f)}else{var _=new kV(i,l,c,f,h);_.W_t=this.J_t,this.L2.push(_)}void 0!==v&&(i+=v)}}},n.Gwt=function(t){if(0===this.L2.length)return{Ywt:0,$wt:0};var n=this.L2[0].n_t,i=this.L2[this.L2.length-1].n_t,e=t.UZ[0].n_t-t.Jdt,r=t.UZ[t.UZ.length-1].n_t,s=0,u=0;if(e<n)cz.Blt("HLSMediaPlaylist","Ignoring older playlist (first media sequence number is "+e+", but previous playlist already started at "+n+")");else{if(!(r<i)){if(i<e){var o;u=null!=(o=function(t,n){var i=Vs(t,function(t){return void 0!==t.g_t});if(void 0===i)return;var e=function(t){for(var n=0,i=0;i<t.length;i++){var e,r=t[i];if(r.__t)return;if(r.g_t)return[r,n];n+=null!=(e=r.Hg)?e:0}return}(n.UZ);if(void 0===e)return;var r=e[0],s=e[1];if(i.m_t!==r.m_t)return;var u=(r.g_t.getTime()-i.g_t.getTime())/1e3;return i.uwt+u-s}(this.L2,t))?o:(h=this.L2,c=this.Swt,v=h[h.length-1],l=null!=(f=v.Hg)?f:w.max(c,v.j_t),v.uwt+l),cz.Plt("HLSMediaPlaylist","New playlist (starting at "+e+") is entirely after previous playlist (ending at "+i+"), resetting playlist and restarting at "+u+"s"),s=this.L2.length,this.Wwt()}else{0;var a=qs(this.L2,function(t){return t.n_t===e});0,u=this.L2[a].uwt,a>0&&(s=a)}var h,c,f,v,l;return{Ywt:s,$wt:u}}cz.Blt("HLSMediaPlaylist","Ignoring older playlist (last media sequence number is "+r+", but previous playlist already ended at "+i+")")}},n.Xwt=function(t){var n=this,i=t.p_t.map(YX);if(t.Ydt&&t.I_t.fA===pV.hwt&&(i=this.Nwt.concat(i)),this.Nwt=IV(i),t.t_t)for(var e=function(t,i){var e=i[t],r=qs(n.Nwt,function(t){return t.xw===e});r>=0&&Gs(n.Nwt,r)},r=0,s=t.t_t;r<s.length;r++)e(r,s)},n.Qwt=function(t,n){if(this.J_t!==t){this.J_t=t;for(var i=0,e=this.L2;i<e.length;i++){e[i].W_t=this.J_t}}this.Lwt=n},n.Wwt=function(){this.J_t=void 0,this.Lwt=void 0},T(t,[{key:"k_t",get:function(){return Boolean(zs(this.L2,function(t){return t.Y_t}))}},{key:"Hg",get:function(){return this.oa}},{key:"pm",get:function(){return this.cV}},{key:"Kwt",get:function(){return this.xwt}},{key:"Sdt",get:function(){return this.Swt}},{key:"Tdt",get:function(){return this.Ewt}},{key:"$dt",get:function(){return this.k_t?0:this.Iwt?this.Iwt:this.Swt?3*this.Swt:void 0}},{key:"Qdt",get:function(){var t;return null!=(t=this.Rwt)?t:this.Ewt?3*this.Ewt:void 0}},{key:"Zwt",get:function(){var t,n,i;if(!this.k_t&&0!==this.L2.length){var e=this.L2[this.L2.length-1],r=null!=(t=e.Hg)?t:e.j_t,s=null!=(n=null!=(i=this.Qdt)?i:this.$dt)?n:0;return e.Vm+r-s}}},{key:"Wdt",get:function(){return this.Cwt}},{key:"Gdt",get:function(){return this.Dwt}},{key:"Ydt",get:function(){return this.Pwt}},{key:"A_t",get:function(){return this.Bwt}},{key:"Jwt",get:function(){return void 0!==this.Tdt}},{key:"tgt",get:function(){if(this.k_t)return!0;var t=i.Gn()/1e3,n=this.U_t,e=this.ngt;return void 0!==n&&t-n<e}},{key:"U_t",get:function(){return this.bwt}},{key:"W_t",get:function(){return this.J_t}},{key:"ngt",get:function(){var t;return null!=(t=this.Swt)?t:1}},{key:"UZ",get:function(){return this.L2}},{key:"p_t",get:function(){return this.Nwt}},{key:"igt",get:function(){return this.Owt},set:function(t){this.Owt=t}},{key:"IC",get:function(){return this.KS}},{key:"egt",get:function(){return this.Lwt}}]),t}();var BV=function(){function t(){this.rgt=[],this.sgt=Hr()}var n=t.prototype;return n.ugt=function(t){var n=this.sgt.get(t);return void 0!==n&&xV(n)},n.ogt=function(t){return this.hgt(t).agt.Hu},n.cgt=function(t){var n=this.sgt.get(t);if(!n||!xV(n))throw new v("LLHLSPlayer - Missing timestamp mapping for discontinuity #"+t);return n},n.fgt=function(t){return this.cgt(t).Kk},n.vgt=function(t,n){var i=mV(n)?n:n.z_t,e=this.cgt(i.m_t),r=t.Em(e.Kk);if(e.lgt){var s=yp.Dk(n.Vm).Dp(r);if(s.Rp().kp(Tp)){var u=w.round(s.pp()/Ap.pp());r=r.Em(Ap.fk(u))}}return r},n.dgt=function(t,n){return this.vgt(t,n).Dp(t)},n._gt=function(t,n,i,e,r){var s=this.hgt(t);void 0===s.Kk&&(s.wgt.some(function(t){return t.b5===n})||(s.wgt.push({b5:n,ggt:i,ygt:e.Sk(i.yk),lgt:r}),this.mgt(s)))},n.mgt=function(t){if(!t.Kk&&this.pgt(t)){var n=nu(t.wgt,OV);Qs(t.wgt),t.Kk=n.ygt.Dp(n.ggt),t.lgt=n.lgt,t.agt.Wu()}},n.pgt=function(t){return this.rgt.length>0&&this.rgt.every(function(n){return t.wgt.some(function(t){return t.b5===n})})},n.hgt=function(t){if(this.sgt.has(t))return this.sgt.get(t);var n={Kk:void 0,lgt:!1,agt:new ea,wgt:[]};return this.sgt.set(t,n),n},n.kgt=function(t){var n=this;this.rgt=t,this.sgt.forEach(function(t){return n.mgt(t)})},n.Ls=function(){this.sgt.forEach(function(t){return t.agt.Xs()}),this.sgt.clear()},t}();function xV(t){return void 0!==t.Kk}function OV(t,n){return t.lgt||n.lgt?Np(t.ggt,n.ggt).bp(yp.jp):t.ggt.bp(n.ggt)}var LV=function(){function t(t){this.bgt=[],this.Agt=[],this.Tgt=jr(),this.Sgt=new BV,this.Egt=t}var n=t.prototype;return n.G_t=function(t,n){if(jX(t))if(0===this.bgt.length)this.Igt(t);else{if(!n)return void cz.Blt("HLSModel","No rendition was provided to update the playlist. Ignoring the update.");n.qvt.G_t(t)}else{if(0!==this.bgt.length)return void cz.Blt("HLSModel","Master playlist can only be applied once. Ignoring the update.");this.Rgt(t)}},n.Igt=function(t){var n=this.Ngt(t.Y0);n.G_t(t);var i=this.Cgt(DX._d,n),e=this.Cgt(DX.wd,n),r=new _V({Y0:n.Y0,PR:0,q0:0,Idt:NaN,VH:void 0,Elt:void 0,GJ:0,Odt:[],Fdt:void 0,Hdt:void 0,Ldt:void 0,jdt:void 0,Udt:void 0,Mdt:void 0},n,[i,e]);this.bgt.push(r)},n.Rgt=function(t){var n,i=this;(n=this.Agt).push.apply(n,t.f_t);for(var e=this.Dgt(t),r=function(n,r){var s=r[n],u=e.filter(function(t){return function(t,n){return MV(t.vs,t.$vt,n)&&(!t.Kvt||t.qvt.Y0===n.Y0)}(t,s)});i.Pgt(s,u);var o=new _V(s,i.Ngt(s.Y0,t.IC),u);i.bgt.push(o)},s=0,u=t.v_t;s<u.length;s++)r(s,u)},n.Ngt=function(t,n){var i=this.Tgt.get(t);return void 0===i&&(i=new PV(t,n),this.Tgt.set(t,i)),i},n.Dgt=function(t){for(var n=[],i=0,e=t.JA;i<e.length;i++){var r=e[i];if(void 0===r.Y0)for(var s=0,u=t.v_t;s<u.length;s++){var o=u[s];if(MV(r.vs,r.$vt,o)){var a=new KX(r,this.Ngt(o.Y0));n.push(a)}}else{var h=new KX(r,this.Ngt(r.Y0));n.push(h)}}return n},n.Cgt=function(t,n){return new KX({vs:t,Y0:void 0,$vt:"",Fw:void 0,Pdt:void 0,_i:"",Wvt:!0,Gvt:!1,Yvt:!1,xdt:void 0,Qvt:void 0,Bdt:void 0},n)},n.Pgt=function(t,n){var i=n.filter(function(t){return t.vs===DX._d}),e=n.filter(function(t){return t.vs===DX.wd}),r=t.VH&&(t.VH.XH||t.VH.zH);if((!r||t.VH.XH)&&0===e.length){var s=this.Cgt(DX.wd,this.Ngt(t.Y0));n.push(s)}if((!r||t.VH.zH)&&0===i.length){var u=this.Cgt(DX._d,this.Ngt(t.Y0));n.push(u)}t.VH&&t.VH.qH},n.Bgt=function(t){for(var n=0,i=this.bgt;n<i.length;n++)for(var e=0,r=i[n].Xlt;e<r.length;e++){var s=r[e];if(s===t)return s}},n.xgt=function(t){for(var n=0,i=this.bgt;n<i.length;n++){var e=i[n];if(e===t)return e}},n.Ogt=function(t){for(var n=0,i=this.bgt;n<i.length;n++){var e=i[n];if(Ys(e.Xlt,t))return e}},n.Ls=function(){Qs(this.bgt),Qs(this.Agt),this.Tgt.clear(),this.Sgt.Ls()},T(t,[{key:"Lgt",get:function(){return this.Agt}},{key:"Mlt",get:function(){return this.bgt}},{key:"qS",get:function(){return this.Sgt}}]),t}();function MV(t,n,i){switch(t){case DX._d:return i.Ldt===n;case DX.wd:return i.jdt===n;case DX.Qb:return i.Udt===n;case DX.Rvt:return i.Mdt===n}return!1}var FV,UV=function(t){function n(n){var i;return(i=t.call(this,FV.Mgt)||this).vlt=n,i}return E(n,t),n}(Eu),jV=function(t){function n(n){var i;return(i=t.call(this,FV.Fgt)||this).vlt=n,i}return E(n,t),n}(Eu),HV="HlsModelUpdater";!function(t){t.Mgt="Ugt",t.Fgt="jgt"}(FV||(FV={}));var XV=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).o1=void 0,r.Hgt=!1,r.Xgt=void 0,r.zgt=void 0,r.Vgt=Hr(),r.dE=n,r.B6=i,r.rootURI=e,r.o1=new LV(e),r}E(n,t);var e=n.prototype;return e.qgt=function(t){var n,i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.o1.Egt){e.next=3;break}throw new v("HLSModelUpdater - Could not load HLS playlist: The provided source is empty.");case 3:return e.next=5,Mr.awrap(this.Wgt(n,{},2,t));case 5:if(UX(i=e.sent)||jX(i)){e.next=8;break}throw new v("HLSModelUpdater - Could not load HLS playlist: The playlist is invalid.");case 8:return UX(i)||cz.fT(HV,"Detected media playlist only HLS stream."),this.Ggt(i),e.next=12,Mr.awrap(this.Ygt(t));case 12:this.Hgt=!0;case 13:case"end":return e.stop()}},null,this,null,Ye)},e.$gt=function(t,n,i,e){var r,s,u;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=this.o1.Bgt(t)){o.next=3;break}throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");case 3:return s={n_t:n,Mwt:i,fA:WV(r)},u=Yt(w.max(1,3*t.qvt.ngt)),o.prev=5,o.next=8,Mr.awrap(this.Qgt(r,s,e,u));case 8:o.next=15;break;case 10:throw o.prev=10,o.t0=o.catch(5),cu(o.t0),this.Kgt(r),o.t0;case 15:case"end":return o.stop()}},null,this,[[5,10]],Ye)},e.Zgt=function(t,n){var i=this.o1.Bgt(t);if(!i)throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");var e={n_t:void 0,Mwt:void 0,fA:WV(i)},r=Yt(w.max(1,3*t.qvt.ngt));return this.Qgt(i,e,n,r)},e.Jgt=function(t,n){return this.Vgt.has(t.Ow)||this.Vgt.set(t.Ow,new ea),vu(this.Vgt.get(t.Ow).Hu,n)},e.Kgt=function(t){this.Qs(new jV(t))},e.Qgt=function(t,n,e,r){var s,u,o;return Mr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return s=t.qvt.Slt(n),a.prev=1,a.next=4,Mr.awrap(this.Wgt(s,n,0,e,r));case 4:u=a.sent,a.next=12;break;case 7:throw a.prev=7,a.t0=a.catch(1),cu(a.t0),t.qvt.igt=i.Gn(),a.t0;case 12:if(jX(u)){a.next=14;break}throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the playlist is not a media playlist.");case 14:a.prev=14,this.Ggt(u,t),a.next=24;break;case 18:if(a.prev=18,a.t1=a.catch(14),!(a.t1 instanceof bV&&void 0!==n.fA)){a.next=23;break}return o=Fr({},n,{fA:void 0}),a.abrupt("return",this.Qgt(t,o,e,r));case 23:throw a.t1;case 24:if(!this.Xgt||t===this.Xgt||this.Xgt.qvt.tgt){a.next=35;break}return a.prev=25,a.next=28,Mr.awrap(this.Zgt(this.Xgt,e));case 28:a.next=35;break;case 30:a.prev=30,a.t2=a.catch(25),cu(a.t2),this.Xgt=t,this.tyt();case 35:this.nyt(t);case 36:case"end":return a.stop()}},null,this,[[1,7],[14,18],[25,30]],Ye)},e.Wgt=function(t,n,i,e,r){var s,u,o,a=this;return Mr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return cz.fT(HV,"Loading HLS playlist at "+t+"."),h.prev=1,h.next=4,Mr.awrap(this.B6.SZ([t]));case 4:if(s=h.sent,hu(e),void 0===s){h.next=8;break}return h.abrupt("return",dV(s.responseURL,{},s.data));case 8:h.next=14;break;case 10:h.prev=10,h.t0=h.catch(1),cu(h.t0);case 14:return u={Kl:t,Wl:xf.Jn,md:c_.GET,vs:f_.td,qs:e,pd:r},h.next=17,Mr.awrap(CO(function(){return a.iyt(u)},e,i));case 17:return o=h.sent,h.abrupt("return",dV(o.Ql,n,o.Hi));case 19:case"end":return h.stop()}},null,this,[[1,10]],Ye)},e.iyt=function(t){var n,i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mr.awrap(this.dE.$l(t));case 2:return n=e.sent,e.next=5,Mr.awrap(n.Rl());case 5:return i=e.sent,e.abrupt("return",{Hi:i,Ql:n.Ql});case 7:case"end":return e.stop()}},null,this,null,Ye)},e.Ygt=function(t){var n,i,e,r,s,u,o,a;return Mr.async(function(h){for(;;)switch(h.prev=h.next){case 0:hu(t),n=[],i=0,e=this.o1.Mlt;case 3:if(!(i<e.length)){h.next=26;break}r=e[i],s=0,u=r.Xlt;case 6:if(!(s<u.length)){h.next=23;break}return o=u[s],h.prev=8,h.next=11,Mr.awrap(this.B6.SZ([o.qvt.Y0]));case 11:a=h.sent,hu(t),void 0===a||o.qvt.tgt||n.push(this.Zgt(o,t)),h.next=20;break;case 16:h.prev=16,h.t0=h.catch(8),cu(h.t0);case 20:s++,h.next=6;break;case 23:i++,h.next=3;break;case 26:return h.next=28,Mr.awrap(Ye.all(n));case 28:case"end":return h.stop()}},null,this,[[8,16]],Ye)},e.tyt=function(){for(var t=0,n=this.o1.Mlt;t<n.length;t++)for(var i=0,e=n[t].Xlt;i<e.length;i++){var r=e[i];r!==this.Xgt&&(void 0!==r.qvt.W_t&&(r.qvt.tgt?this.nyt(r):r.qvt.Wwt()))}},e.nyt=function(t){if(0!==t.qvt.UZ.length){if(!this.Xgt)return this.Xgt=t,void this.Xgt.qvt.Qwt(0,void 0);if(this.eyt(this.Xgt),!this.eyt(t)&&void 0===t.qvt.W_t){var n=this.ryt(t,this.Xgt);cz.Plt(HV,"Assuming global timeline offset of "+n+"s for rendition "+t.qvt.Y0+"."),t.qvt.Qwt(n,void 0)}}},e.ryt=function(t,n){var i;if(zV(t)){var e=t.qvt.UZ[0],r=n.qvt.UZ[0];return cz.Plt(HV,"Synchronizing by start of VOD: "+r.Vm+" vs "+e.Vm),r.Vm-e.uwt}var s=function(t,n){var i=t.length-1,e=n.length-1;for(;i>=0&&e>=0;){var r=t[i],s=n[e];if(r.m_t>s.m_t)i--;else if(r.m_t<s.m_t)e--;else if(r.__t){if(s.__t)return{segment:r,referenceSegment:s};e--}else i--}return}(t.qvt.UZ,n.qvt.UZ);if(void 0!==s){var u=s.segment,o=s.referenceSegment;return cz.Plt(HV,"Synchronizing by start of discontinuity #"+o.m_t+": "+o.Vm+" vs "+u.Vm),o.Vm-u.uwt}var a=qV(t.qvt.UZ);if(void 0!==a){var h=qV(n.qvt.UZ);if(void 0!==h)return cz.Plt(HV,"Synchronizing by PDT:",h.g_t.toISOString()+" vs "+a.g_t.getTime()),h.Vm-a.uwt-(h.g_t.getTime()-a.g_t.getTime())/1e3}var c=VV(n),f=VV(t),v=null!=(i=t.qvt.W_t)?i:0;return cz.Plt(HV,"Synchronizing by last segment:",c+" vs "+f),c-f+v},e.eyt=function(t){var n=this.o1.Bgt(t);if(!n)return!1;if(zV(n))return!1;var i,e,r=(i=n.qvt.UZ,e=this.o1.qS,Vs(i,function(t){return void 0!==t.TK&&e.ugt(t.m_t)}));if(void 0===r)return!1;if(n.qvt.egt===r.m_t)return!0;var s=this.o1.qS.vgt(r.TK,r).pp()-r.uwt;return cz.Plt(HV,"Synchronize by media timestamp: "+s+"s for rendition "+t.qvt.Y0+"."),n.qvt.Qwt(s,r.m_t),(void 0===this.Xgt||void 0===this.Xgt.qvt.egt||this.Xgt.qvt.egt<r.m_t)&&(this.Xgt=n),!0},e.Ggt=function(t,n){var i;(this.o1.G_t(t,n),jX(t)&&n)&&(this.zgt=n,this.Qs(new UV(n)),null==(i=this.Vgt.get(n.Ow))||i.Wu(),this.Vgt.delete(n.Ow))},e.syt=function(t,n){var i=this.o1.xgt(t);if(!i)throw new v("HLSModelUpdater - Could not update HLS variant stream: the stream does not exist on the internal model.");for(var e=0,r=this.o1.Mlt;e<r.length;e++){var s=r[e];s.VH||(n.XH||s.M_t(DX.wd),n.zH||s.M_t(DX._d))}i.VH=n},e.Ls=function(){this.tu(),this.o1.Ls(),this.Vgt.forEach(function(t){return t.Xs()}),this.Vgt.clear()},T(n,[{key:"uyt",get:function(){return this.Hgt}},{key:"t5",get:function(){return this.o1}},{key:"oyt",get:function(){return this.zgt}}]),n}(Tu);function zV(t){return t.qvt.k_t||t.qvt.A_t===zX.Vvt}function VV(t){var n,i=t.qvt.UZ[t.qvt.UZ.length-1];return i.Vm+(null!=(n=i.Hg)?n:i.j_t)}function qV(t){return Vs(t,function(t){return void 0!==t.g_t})}function WV(t){if(void 0!==t.qvt.Gdt&&!t.qvt.k_t&&!(void 0===t.qvt.U_t||i.Gn()/1e3-t.qvt.U_t>=t.qvt.Gdt/2))return t.qvt.Ydt?pV.hwt:pV.awt}var GV,YV=function(){function t(t,n,i){var e=this;this.E8=void 0,this.ayt=void 0,this.ZR=void 0,this.Vht=void 0,this.hyt=void 0,this.cyt=function(t){e.ayt.hlsDateRange&&e.Xwt(t.vlt)},this.ayt=t,this.E8=n,this.ZR=i,this.Vht=new tb,this.E8.Ks(FV.Mgt,this.cyt)}return t.prototype.Xwt=function(t){if(0!==t.qvt.p_t.length){this.hyt||(this.hyt=this.ZR.gE(Jk.Zb,void 0,void 0,void 0,void 0,Bm.DATE_RANGE),this.Vht.yw(this.hyt));EV(this.hyt,t.qvt.p_t,function(n){var i;return null!=(i=t.qvt.L_t(n))?i:NaN})}},T(t,[{key:"Py",get:function(){return this.Vht}}]),t}(),$V=function(t){function n(){return t.call(this,CX.kvt)||this}return E(n,t),n}(Eu),QV=function(){function t(t){this.L2=[],this.FX=void 0,this.Hht=void 0,this.Yet=t}var n=t.prototype;return n.fyt=function(t){var n;return null==(n=this.vyt(t))?void 0:n.vlt},n.het=function(t){this.FX=t,this.lyt()},n.a8=function(t,n,i,e,r,s){this.L2.push({n_t:n,vlt:t,dyt:new WS([r,s]),_yt:new WS([i,e])}),this.lyt()},n.vyt=function(t){for(var n=0,i=this.L2;n<i.length;n++){var e=i[n];if(e._yt.VN(t))return e}},n.wyt=function(t){for(var n=0,i=this.L2;n<i.length;n++){var e=i[n];if(e.n_t===t)return e}},n._z=function(){var t=this.nm;t.Tw>0&&(this.Hht=t.NC(t.Tw-1))},n.lyt=function(){var t=this.Yet.nm;this.L2=this.L2.filter(function(n){return 0!==t.XC(n._yt).Tw})},T(t,[{key:"gyt",get:function(){return this.FX}},{key:"nm",get:function(){return DF(this.Yet.nm,this.Yet.Iz)}},{key:"UZ",get:function(){return this.L2}},{key:"Nrt",get:function(){return this.Hht}}]),t}(),KV=function(){function t(t,n,i,e,r){var s=this;this.Yet=void 0,this.Vtt=void 0,this.yyt=void 0,this.zi=void 0,this.myt=void 0,this.pyt=void 0,this.y_=new uu,this.kyt=WS.vD(),this.byt=function(t){s.pyt&&(t?ZR(t)&&s.Ayt?s.myt.yL(s.Yet.nm.aD)?s.pyt.Wu():s.pyt.Gu(t):au(t)?s.pyt.Wu():s.pyt.Gu(t):s.pyt.Wu(),s.pyt=void 0)},this.zi=t,this.yyt=i,this.Yet=n,this.Vtt=e,this.myt=r}var n=t.prototype;return n.Tyt=function(){if(this.Syt)throw new v("Cannot perform new operation while BufferAppender is still busy")},n.Wct=function(t){this.Yet!==t&&(this.Tyt(),this.Yet=t,this.Vtt=new QV(t))},n.Eyt=function(){return this.pyt?this.pyt.Hu:Ye.resolve()},n.Iyt=function(t){var n,i,e=this.Vtt.Nrt,r=this.Vtt.nm;if(void 0===e)return!1;var s=w.min(t,e);return null!=(n=null==(i=r.MC().QC(this.Ryt).oD(s))?void 0:i.VN(e))&&n},n.Nyt=function(t){return this.Vtt.fyt(t)},n.Xs=function(){this.y_.Xs(),this.y_=new uu},n.qX=function(t){var n=this;this.Tyt(),this.pyt=new ea;var i=function(i){n.yyt.Cyt(t),n.byt(i)};this.WX(t,this.y_.qs).then(i,i)},n.WX=function(t,n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return cz.Plt("Buffering","Appending initializer",qX(t.Dyt.Y0)),i.next=3,Mr.awrap(this.Yet.qX(t,n));case 3:cz.Plt("Buffering","Appended initializer",qX(t.Dyt.Y0)),this.Vtt.het(t);case 5:case"end":return i.stop()}},null,this,null,Ye)},n.Det=function(t){var n=this;this.Tyt(),this.pyt=new ea;var i=function(i){n.yyt.Cyt(t),n.byt(i)};this.Pyt(t,this.y_.qs).then(i,i)},n.Pyt=function(t,n){var i,e,r,s,u,o,a,h,c,f,l,d,_,w;return Mr.async(function(g){for(;;)switch(g.prev=g.next){case 0:if(e=t.vlt,r=t.n_t,void 0!==e.qvt.Sdt){g.next=4;break}throw new v("MediaBufferWrapper - Cannot append HLSAsset to "+this.zi+" MediaBuffer for a HLSRendition with an undefined targetDuration.");case 4:return s=this.Vtt.nm.BC,u=this.Yet.nm,cz.Plt("Buffering","Appending",qX(t.Dyt.Y0)),g.next=9,Mr.awrap(this.Yet.XX(t,n));case 9:cz.Plt("Buffering","Appended",qX(t.Dyt.Y0),s,this.Vtt.nm.BC),o=t.Vm,a=o+t.Hg,h=t.Dyt,c=h.Vm,f=h.Vm+(null!=(i=h.Hg)?i:0),this.Vtt.a8(e,r,o,a,c,f),l=this.Yet.nm.QC(u),(d=this.Vtt.wyt(r-1))?this.Byt(d)?0===l.Tw?Boolean(this.xyt.wyt(r))||(_=this.Yet.Iz.XC(new WS([o,a])),this.kyt=this.kyt.YC(_)):(this.kyt=this.kyt.QC(new WS([l.IC(0),a])),l.IC(0)>o&&(this.kyt=this.kyt.YC(new WS([o,l.IC(0)])))):this.kyt=this.kyt.QC(new WS([o,a])):0===l.Tw?(w=this.Yet.Iz.XC(new WS([o,a])),this.kyt=this.kyt.YC(w)):l.IC(0)>o&&(this.kyt=this.kyt.YC(new WS([o,l.IC(0)]))),t.Dyt.Y_t&&this.Vtt._z();case 20:case"end":return g.stop()}},null,this,null,Ye)},n.Byt=function(t){var n=t._yt,i=n.IC(0),e=n.NC(n.Tw-1),r=n.RC(0),s=n.DC(n.Tw-1);return this.kyt.ZC(i,e,r,s)},T(t,[{key:"vs",get:function(){return this.zi}},{key:"Ayt",get:function(){return this.zi===gm._d||this.zi===gm.wd}},{key:"xyt",get:function(){return this.Vtt}},{key:"Ryt",get:function(){return this.kyt}},{key:"Syt",get:function(){return void 0!==this.pyt}}]),t}(),ZV=function(){function t(t,n){this.Oyt=void 0,this.Lyt=t,this.dE=n}var n=t.prototype;return n.Myt=function(t,n,i,e){var r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Mr.awrap(this.Fyt(n,e));case 2:return r=s.sent,s.next=5,Mr.awrap(this.Lyt.Myt(t,r,i));case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,Ye)},n.Fyt=function(t,n){var i,e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if((null==(i=this.Oyt)?void 0:i.Kl)===t){u.next=10;break}return cz.Plt("HLSDecryptor","Fetching new AES-128 decryption key from "+t+"."),u.next=4,Mr.awrap(this.dE.$l({Kl:t,Wl:xf.Wf,md:c_.GET,qs:n,vs:f_.rd,kd:v_.dd}));case 4:return e=u.sent,u.next=7,Mr.awrap(e.Cl());case 7:r=u.sent,s=new p(r),this.Oyt={Kl:t,Hi:s};case 10:return u.abrupt("return",this.Oyt.Hi);case 11:case"end":return u.stop()}},null,this,null,Ye)},t}(),JV=function(){function t(t,n,i,e,r){void 0===r&&(r=2),this.dE=t,this.B6=n,this.unt=i,this.E6=e,this.Uyt=r}var n=t.prototype;return n.$l=function(t,n,i){var e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Mr.awrap(this.jyt(t,n,xf.Wf,i));case 2:return e=r.sent,r.t0=p,r.next=6,Mr.awrap(e.Cl(i));case 6:return r.t1=r.sent,r.abrupt("return",new r.t0(r.t1));case 8:case"end":return r.stop()}},null,this,null,Ye)},n.Hyt=function(t,n,i){var e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Mr.awrap(this.jyt(t,n,xf.Yf,i));case 2:return e=r.sent,r.abrupt("return",e.Dl(i));case 4:case"end":return r.stop()}},null,this,null,Ye)},n.jyt=function(t,n,i,e){var r,s,u,o,a=this;return Mr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return t.l3&&0===(r=FX(t.l3.IC,t.l3.Tw))[0]&&r[1]===Mt&&(r=void 0),s=r?{Range:"bytes="+r[0]+"-"+r[1]}:void 0,u=new __({Kl:t.Ai,Wl:i,ql:s,Ad:this.E6,md:c_.GET,vs:f_.ed,kd:n,bd:this.unt,qs:e}),h.prev=3,h.next=6,Mr.awrap(this.B6.RZ(t.Ai,r));case 6:if(o=h.sent,hu(e),void 0===o){h.next=10;break}return h.abrupt("return",new d_({$l:u,Hi:o.buffer}));case 10:h.next=16;break;case 12:h.prev=12,h.t0=h.catch(3),cu(h.t0);case 16:return h.next=18,Mr.awrap(CO(function(){return vu(a.dE.$l(u),u.qs)},e,this.Uyt));case 18:return h.abrupt("return",h.sent);case 19:case"end":return h.stop()}},null,this,[[3,12]],Ye)},t}(),tq=function(){function t(t,n){this.E8=void 0,this.Xyt=void 0,this.zyt=void 0,this.Vyt=new uu,this.Fq=-1/0,this.qyt=!1,this.E8=t,this.Xyt=n,this.Wyt()}var n=t.prototype;return n.Gyt=function(){return this.Xyt.qvt.Wdt},n.Yyt=function(t,n,e){return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.Gyt()){r.next=2;break}throw new v("Could not perform blocking playlist update.");case 2:return r.prev=2,r.next=5,Mr.awrap(this.$yt());case 5:return hu(e),r.next=8,Mr.awrap(this.E8.$gt(this.Xyt,t,n,e));case 8:this.Fq=i.Gn(),r.next=15;break;case 11:throw r.prev=11,r.t0=r.catch(2),au(r.t0)&&this.Wyt(),r.t0;case 15:this.Wyt();case 16:case"end":return r.stop()}},null,this,[[2,11]],Ye)},n.Qyt=function(t){return this.E8.Jgt(this.Xyt,t)},n.Wyt=function(){var t=this;if(!this.zyt&&!this.qyt){var n=function(){t.zyt=void 0};this.zyt=this.Kyt(this.Vyt.qs).then(n,n)}},n.$yt=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.zyt){t.next=6;break}return this.Vyt.Xs(),this.Vyt=new uu,t.next=5,Mr.awrap(this.zyt.catch(Z));case 5:this.zyt=void 0;case 6:case"end":return t.stop()}},null,this,null,Ye)},n.Kyt=function(t){var n,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.Xyt.qvt.k_t||!this.Xyt.qvt.tgt){r.next=3;break}return r.abrupt("return");case 3:if(n=i.Gn()-this.Fq,e=1e3*this.Xyt.qvt.ngt,!(n<e)){r.next=8;break}return r.next=8,Mr.awrap(mu(e-n,t));case 8:return r.prev=8,r.next=11,Mr.awrap(this.E8.Zgt(this.Xyt,t));case 11:r.next=18;break;case 13:throw r.prev=13,r.t0=r.catch(8),cu(r.t0),this.E8.Kgt(this.Xyt),r.t0;case 18:this.Fq=i.Gn(),r.next=0;break;case 21:case"end":return r.stop()}},null,this,[[8,13]],Ye)},n.Ls=function(){this.qyt=!0,gu(this.$yt())},t}();!function(t){t[t.Uvt=0]="Uvt",t[t.jvt=1]="jvt",t[t.ed=2]="ed",t[t.Zyt=3]="Zyt"}(GV||(GV={}));var nq="AssetExtractor",iq=function(){function t(){this.Jyt=[]}var n=t.prototype;return n.tmt=function(t,n,i){for(var e=n,r=0,s=this.Jyt;r<s.length;r++){var u=s[r];if(e>=t)return!0;if(e<u.IC)return!1;if(e<u.NC){if(i<=u.NC)return!0;e=u.NC}}return e>=t},n.nmt=function(t,n){for(var i=[],e=0;e<this.Jyt.length;e+=1){var r=this.Jyt[e],s=t-r.IC,u=r.Hi.length,o=w.min(u,w.max(s,0)),a=w.max(0,n+s),h=Zo(r.Hi,o,a);h.length&&(e=this.imt(e,r,t,o,a),i.push(h))}return i},n.emt=function(t,n){this.Jyt.push({IC:t,NC:t+n.length,Hi:n})},n.imt=function(t,n,i,e,r){var s=t;this.Jyt.splice(s,1),s-=1,n.IC<i&&(s+=1,this.Jyt.splice(s,0,{IC:n.IC,NC:i,Hi:Zo(n.Hi,0,e)}));var u=i+r-e;return u<n.NC&&(s+=1,this.Jyt.splice(s,0,{IC:u,NC:n.NC,Hi:Zo(n.Hi,r)})),s},t}(),eq=function(){function t(t,n){this.hv=void 0,this.rmt=n,this.hv=t.getReader()}var n=t.prototype;return n.smt=function(){var t;return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(this.hv.read());case 2:if(!(t=n.sent).done){n.next=6;break}throw this.rmt=1/0,new v("No more data can be read from the given stream.");case 6:return this.rmt+=t.value.length,n.abrupt("return",t.value);case 8:case"end":return n.stop()}},null,this,null,Ye)},n.umt=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(this.hv.cancel(t));case 2:case"end":return n.stop()}},null,this,null,Ye)},T(t,[{key:"omt",get:function(){return this.rmt}}]),t}(),rq=function(){function t(t,n,i,e){this.$_t=void 0,this.hv=void 0,this.amt=void 0,this.hmt=void 0,this.cmt=void 0,this.fmt=void 0,this.vmt=new ea,this.$_t=t,this.hv=n,this.amt=i,this.hmt=e,this.cmt=new ea,this.fmt=new ea}var n=t.prototype;return n.lmt=function(){this.fmt.Wu(),this.fmt=new ea},n.dmt=function(t){var n=uq(this.$_t.l3),i=n.r3,e=n.d3,r=this.amt.nmt(i,e-i);cz.Plt(nq,"Collected "+r.length+" chunks.");for(var s=0;s<r.length;s++){var u=r[s];t.enqueue(u)}},n.readAndSliceOutAssetBytes=function(t){var n,i,e,r,s,u,o,a,h,c,f,v,l;return Mr.async(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Mr.awrap(this.cmt.Hu);case 2:n=uq(this.$_t.l3),i=n.r3,e=n.d3,d.prev=3;case 4:return r=this.hv.omt,d.next=8,Mr.awrap(this.hv.smt());case 8:if(s=d.sent,u=s.length,cz.Plt(nq,"Read "+u+" at "+r+" for extraction of "+qX(this.$_t)),o=w.min(r+u,i),!((a=o-r)>0)){d.next=25;break}if(h=Zo(s,0,a),c=Zo(s,a),cz.Plt(nq,"Of the read "+u+" bytes, the first "+a+" will be stored locally for extraction of "+qX(this.$_t)),this.amt.emt(r,h),!(c.length>0)){d.next=23;break}return cz.Plt(nq,"Extracting "+c.length+" bytes for extraction of "+qX(this.$_t)),t.enqueue(c),this.lmt(),d.abrupt("return",gu(this.readAndSliceOutAssetBytes(t)));case 23:d.next=46;break;case 25:if(!(r+u<=e)){d.next=33;break}return cz.Plt(nq,"Extracting the read data range for extraction of "+qX(this.$_t)),t.enqueue(s),this.lmt(),d.abrupt("return",gu(this.readAndSliceOutAssetBytes(t)));case 33:if(v=Zo(s,0,f=e-r),l=Zo(s,f),v.length>0&&(cz.Plt(nq,"Extracting "+v.length+" bytes for extraction of "+qX(this.$_t)),t.enqueue(v)),cz.Plt(nq,"Of the read "+u+" bytes, the last "+l.length+" will be stored locally for extraction of "+qX(this.$_t)),this.amt.emt(r+f,l),cz.Plt(nq,"Extraction of "+qX(this.$_t)+" completed as the entire request has been fulfilled."),this._mt(t),!this.hmt){d.next=45;break}return cz.Plt(nq,"Aborting stream upstream as no more bytes are needed from "+qX(this.$_t)+"."),d.next=45,Mr.awrap(this.hv.umt("AssetExtraction - AbortOnEnd"));case 45:return d.abrupt("return");case 46:d.next=4;break;case 48:d.next=54;break;case 50:d.prev=50,d.t0=d.catch(3),cz.Plt(nq,"Extraction of "+qX(this.$_t)+" completed as the entire source stream has been read."),this._mt(t);case 54:case"end":return d.stop()}},null,this,[[3,50]],Ye)},n._mt=function(t){t.close(),this.lmt(),this.vmt.Wu()},n.start=function(t){cz.Plt(nq,"Preparing to push all collected data to controller for extraction of "+qX(this.$_t)),this.dmt(t),cz.Plt(nq,"Collected data pushed to controller for extraction of "+qX(this.$_t));var n=uq(this.$_t.l3).d3;this.hv.omt>=n?(cz.Plt(nq,"Extraction of "+qX(this.$_t)+" completed as the entire request has been fulfilled."),this._mt(t)):(cz.Plt(nq,"Continuing read from original stream for extraction of "+qX(this.$_t)),gu(this.readAndSliceOutAssetBytes(t)))},n.pull=function(){return this.cmt.Wu(),this.cmt=new ea,this.fmt.Hu},T(t,[{key:"wmt",get:function(){return this.vmt.Hu}}]),t}(),sq=function(){function t(t,n){this.amt=void 0,this.gmt=void 0,this.ymt=void 0,this.$_t=n;var i=uq(this.$_t.l3).r3;this.gmt=new eq(t,i),this.amt=new iq}var n=t.prototype;return n.Im=function(t){if(!WX(this.$_t,t))return!1;var n=uq(t.l3),i=n.r3,e=n.d3;return this.amt.tmt(this.gmt.omt,i,e)},n.dht=function(t,n){var i,e,r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(void 0===n&&(n=!1),i=this.gmt,e=this.amt,cz.fT(nq,"Extracting data from "+qX(t)+" out of "+qX(this.$_t)),!this.ymt){s.next=8;break}return cz.Plt(nq,"Awaiting previous extraction before extracting "+qX(t)+" out of "+qX(this.$_t)),s.next=8,Mr.awrap(this.ymt);case 8:if(this.Im(t)){s.next=10;break}throw new v("The extractor does not contain the data requested");case 10:return r=new rq(t,i,e,n),this.ymt=r.wmt,s.abrupt("return",new md(r));case 13:case"end":return s.stop()}},null,this,null,Ye)},t}();function uq(t){if(t){var n=t.IC;return{r3:n,d3:void 0!==t.Tw?n+t.Tw:Mt}}return{r3:0,d3:Mt}}var oq,aq=function(){function t(t,n){this.y_=new uu,this._rt=void 0,this.$_t=t,this.mmt=n,this._rt=this.$h()}var n=t.prototype;return n.$h=function(){var t;return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(this.mmt.Hyt(this.$_t,v_.Jl,this.y_.qs));case 2:return t=n.sent,n.abrupt("return",new sq(t,this.$_t));case 4:case"end":return n.stop()}},null,this,null,Ye)},n.Im=function(t){return WX(this.$_t,t)},n.dht=function(t,n){var i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=!1),e.next=3,Mr.awrap(this._rt);case 3:return i=e.sent,e.next=6,Mr.awrap(vu(i.dht(t,n),this.y_.qs));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},null,this,null,Ye)},n.Xs=function(){this._rt.catch(Z),this.y_.Xs()},t}(),hq=function(t){function n(n,i,e){var r;return(r=t.call(this,oq.kmt)||this).pmt=n,r.bd=i,r.bmt=e,r}return E(n,t),n}(Eu),cq="HlsPlaylistDownloader";!function(t){t.kmt="segmentdownloaded"}(oq||(oq={}));var fq=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this)||this).zi=void 0,a.E8=void 0,a.yyt=void 0,a.mmt=void 0,a.Amt=void 0,a.Xyt=void 0,a.Tmt=void 0,a.Smt=void 0,a.Emt=void 0,a.Imt=new uu,a.Rmt=void 0,a.Nmt=void 0,a.Cmt=void 0,a.Dmt=void 0,a.Pmt=function(t){a.Smt&&(a.Xyt=a.Smt,a.Smt=void 0,a.Rmt=void 0,a.Nmt=void 0),a.Emt&&(t&&!au(t)?a.Emt.Gu(t):a.Emt.Wu(),a.Emt=void 0)},a.zi=n,a.E8=e,a.yyt=r,a.Xyt=i,a.Tmt=new tq(e,i),a.Amt=new ZV(o,s),a.mmt=new JV(s,u,function(t){switch(t){case DX.wd:return l_.wd;case DX._d:return l_._d;case DX.Qb:case DX.Rvt:return l_.Jn;default:return l_.Jl}}(i.vs),!1),a}E(n,t);var e=n.prototype;return e.Bmt=function(t){this.Tmt.Ls(),this.Tmt=new tq(this.E8,t),this.Syt?this.Smt=t:(this.Xyt=t,this.Rmt=void 0,this.Nmt=void 0)},e.Eyt=function(){return this.Emt?this.Emt.Hu:Ye.resolve()},e.xmt=function(){return this.yyt.xmt()},e.Omt=function(t){this.yyt.Omt(t)},e.Xs=function(){var t,n;this.Imt.Xs(),this.Imt=new uu,null==(t=this.Dmt)||t.Xs(),null==(n=this.Cmt)||n.Xs(),this.Dmt=void 0,this.Cmt=void 0,this.Rmt=void 0,this.Nmt=void 0},e.Ls=function(){this.Tmt.Ls()},e.Lmt=function(t){var n=this.Xyt.qvt.Fwt(t);if(!n)return!1;if(void 0!==this.Rmt){var i=n.n_t===this.Rmt;return void 0!==this.Nmt?n.iwt(t)===n.nwt(this.Nmt)&&i:i}return!1},e.Mmt=function(t){var n;if(void 0===this.Rmt)n=this.Fmt(t);else if(n=this.Umt(this.Rmt,this.Nmt)){var i=n,e=i[0],r=i[1],s=(null!=r?r:e).Vm,u=3*this.vlt.qvt.Sdt;w.abs(s-t)>=u&&(n=this.Fmt(t))}if(n){var o=n,a=o[0],h=o[1];return 0===(null==h?void 0:h.V_t)&&void 0!==a.Hg?[a,void 0]:[a,h]}},e.Fmt=function(t){var n,i,e,r=this.Xyt.qvt.UZ;if(0!==r.length){var s=r[r.length-1];if(s.Vm+(null!=(n=s.Hg)?n:s.j_t)<=t)i=s,e=s.rwt(t);else if(r[0].Vm>t)e=(i=r[0]).nwt(0);else{var u;e=null==(u=i=this.Xyt.qvt.Fwt(t))?void 0:u.rwt(t)}return i?[i,e]:void 0}},e.Umt=function(t,n){var i,e,r;if((i=this.Xyt.qvt.ant(t))&&void 0!==n){if(0===i.d_t.length)return[i,void 0];e=i.nwt(n+1)}void 0!==i&&void 0!==e||(e=null==(r=i=this.Xyt.qvt.ant(t+1))?void 0:r.nwt(0));return i?[i,e]:void 0},e.Tyt=function(){if(this.Syt)throw new v("Cannot perform new operation while PlaylistDownloader is still busy")},e.jmt=function(t){this.Tyt(),this.Emt=new ea,this.Hmt(t,this.Imt.qs).then(this.Pmt,this.Pmt)},e.Xmt=function(){this.Tmt.Wyt()},e.Hmt=function(t,n){var i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=this.Mmt(t))||!this.Tmt.Gyt()||void 0===this.Rmt){e.next=5;break}return e.next=4,Mr.awrap(this.Tmt.Yyt(void 0===this.Nmt?this.Rmt+1:this.Rmt,void 0!==this.Nmt?this.Nmt+1:void 0,n));case 4:i=this.Mmt(t);case 5:if(i||!this.Tmt.Gyt()||void 0===this.Rmt){e.next=9;break}return e.next=8,Mr.awrap(this.Tmt.Yyt(this.Rmt+1,0,n));case 8:i=this.Mmt(t);case 9:if(i){e.next=16;break}return cz.fT(cq,"No next segment / part available, need to update playlist before continuing."),e.next=13,Mr.awrap(this.Tmt.Qyt(n));case 13:i=this.Mmt(t),e.next=9;break;case 16:case"end":return e.stop()}},null,this,null,Ye)},e.zmt=function(){return this.yyt.Vmt()},e.qmt=function(){this.Tyt();try{var t=this.Xyt.qvt.jwt(HX.Uvt);t&&this.Wmt(t);var n=this.Xyt.qvt.jwt(HX.jvt);n&&this.Gmt(n)}catch(t){throw cu(t),this.vlt.qvt.igt=i.Gn(),this.E8.Kgt(this.vlt),t}},e.Wmt=function(t){this.Cmt&&!this.Cmt.Im(t.Y0)&&(this.Cmt.Xs(),this.Cmt=void 0),this.Cmt||(this.Cmt=new aq(t.Y0,this.mmt))},e.Gmt=function(t){this.Dmt&&!this.Dmt.Im(t.Y0)&&(this.Dmt.Xs(),this.Dmt=void 0),this.Dmt||(this.Dmt=new aq(t.Y0,this.mmt))},e.hnt=function(t,n,e){var r=this;this.Tyt(),cz.fT(cq,"Starting download of segment "+qX(t.Y0)+" and part "+(null==n?void 0:n.V_t)),this.Emt=new ea,this.Ymt(t,n,e,this.Imt.qs).catch(function(t){throw cu(t),r.vlt.qvt.igt=i.Gn(),r.E8.Kgt(r.vlt),t}).then(this.Pmt,this.Pmt)},e.Ymt=function(t,n,i,e){var r,s,u;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(u=0,!t.w_t){o.next=7;break}if(i&&GX(i.Dyt.Y0,t.w_t.Y0)&&t.m_t===i.m_t){o.next=7;break}return o.next=5,Mr.awrap(this.$mt(t.w_t,t,e));case 5:s=o.sent,u=s.w_t.Hi.Hi.byteLength;case 7:if(s){o.next=12;break}return o.next=10,Mr.awrap(this.Qmt(t,n,e));case 10:s=o.sent,u=s.U2.Hi.Hi.byteLength;case 12:this.yyt.Kmt(s),this.Qs(new hq(s.vs,this.zi,u)),cz.Plt("Buffering","Download complete",qX(null!=(r=null==n?void 0:n.Y0)?r:t.Y0));case 15:case"end":return o.stop()}},null,this,null,Ye)},e.Qmt=function(t,n,i){var e,r,s,u;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!n){o.next=26;break}if(!this.Dmt){o.next=19;break}if(!this.Dmt.Im(n.Y0)){o.next=17;break}return o.next=5,Mr.awrap(this.Dmt.dht(n.Y0));case 5:return r=o.sent,o.t0=p,o.next=9,Mr.awrap(qd(r,i));case 9:return o.t1=o.sent,s=new o.t0(o.t1),o.next=13,Mr.awrap(this.Myt(s,n.f_t,i));case 13:u=o.sent,e=dq(n,u),o.next=19;break;case 17:this.Dmt.Xs(),this.Dmt=void 0;case 19:if(e){o.next=24;break}return cz.Plt("Buffering","Start download",qX(n.Y0)),o.next=23,Mr.awrap(this.Zmt(n,i));case 23:e=o.sent;case 24:o.next=30;break;case 26:return cz.Plt("Buffering","Start download",qX(t.Y0)),o.next=29,Mr.awrap(this.fnt(t,i));case 29:e=o.sent;case 30:return this.Rmt=t.n_t,this.Nmt=null==n?void 0:n.V_t,o.abrupt("return",{vs:"U2",n_t:t.n_t,U2:e,vlt:this.Xyt,m_t:t.m_t});case 33:case"end":return o.stop()}},null,this,null,Ye)},e.$mt=function(t,n,i){var e,r,s,u,o;return Mr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.Cmt){a.next=17;break}if(!this.Cmt.Im(t.Y0)){a.next=14;break}return a.next=4,Mr.awrap(vu(this.Cmt.dht(t.Y0),i));case 4:return s=a.sent,a.t0=p,a.next=8,Mr.awrap(qd(s,i));case 8:return a.t1=a.sent,u=new a.t0(a.t1),a.next=12,Mr.awrap(this.Myt(u,t.l_t?[t.l_t]:[],i));case 12:o=a.sent,e=vq(t,n,o);case 14:cz.fT(cq,"MAP is required for segment, downloading MAP data."),null==(r=this.Cmt)||r.Xs(),this.Cmt=void 0;case 17:if(e){a.next=22;break}return cz.Plt("Buffering","Start download",qX(t.Y0)),a.next=21,Mr.awrap(this.Jmt(t,n,i));case 21:e=a.sent;case 22:return a.abrupt("return",{vs:"w_t",w_t:e,Vm:n.Vm,m_t:n.m_t,f_t:n.f_t});case 23:case"end":return a.stop()}},null,this,null,Ye)},e.Jmt=function(t,n,i){var e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Mr.awrap(this.mmt.$l(t.Y0,v_.ud,i));case 2:return e=u.sent,r=t.l_t?[t.l_t]:[],u.next=6,Mr.awrap(this.Myt(e,r,i));case 6:return s=u.sent,u.abrupt("return",vq(t,n,s));case 8:case"end":return u.stop()}},null,this,null,Ye)},e.fnt=function(t,n){var i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.Y0){r.next=2;break}throw new v("Internal error: attempted to download an incomplete segment");case 2:return r.next=4,Mr.awrap(this.mmt.$l(t.Y0,v_.Jl,n));case 4:return i=r.sent,r.next=7,Mr.awrap(this.Myt(i,t.f_t,n));case 7:return e=r.sent,r.abrupt("return",lq(t,e));case 9:case"end":return r.stop()}},null,this,null,Ye)},e.Zmt=function(t,n){var i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Mr.awrap(this.mmt.$l(t.Y0,v_.Jl,n));case 2:return i=r.sent,r.next=5,Mr.awrap(this.Myt(i,t.f_t,n));case 5:return e=r.sent,r.abrupt("return",dq(t,e));case 7:case"end":return r.stop()}},null,this,null,Ye)},e.Myt=function(t,n,i){var e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(e=zs(n,function(t){return t.md===XX.Hvt})){r.next=3;break}return r.abrupt("return",t);case 3:if(e.Y0&&e.Xdt){r.next=6;break}return cz.mu(cq,"Encountered an AES-128 encrypted segment for which no initialization vector could be determined."),r.abrupt("return",t);case 6:return r.next=8,Mr.awrap(this.Amt.Myt(t,e.Y0,e.Xdt,i));case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}},null,this,null,Ye)},T(n,[{key:"Syt",get:function(){return void 0!==this.Emt}},{key:"vlt",get:function(){var t;return null!=(t=this.Smt)?t:this.Xyt}},{key:"tpt",get:function(){if(!this.Xyt.qvt.k_t)return!1;if(void 0===this.Rmt)return!1;var t=this.Xyt.qvt.UZ[this.Xyt.qvt.UZ.length-1];return t.n_t===this.Rmt&&!(this.Nmt&&this.Nmt!==t.d_t.length-1)}}]),n}(Tu);function vq(t,n,i){return{Hi:{Hi:i,vs:kC.WU},vs:GV.Uvt,Dyt:t,m_t:n.m_t}}function lq(t,n){return{Hi:{Hi:n,vs:kC.WU},vs:GV.ed,Dyt:t,m_t:t.m_t}}function dq(t,n){return{Hi:{Hi:n,vs:kC.WU},vs:GV.jvt,Dyt:t,m_t:t.z_t.m_t}}var _q,wq=function(){function t(){this.npt=[],this.ipt=jr(),this.ept=void 0,this.rpt=void 0}var n=t.prototype;return n.Kmt=function(t){"w_t"===t.vs&&(this.rpt=t.w_t),this.npt.push(t),this.ept&&(this.ept.Wu(),this.ept=void 0)},n.xmt=function(){return this.npt[0]},n.Omt=function(t){Ws(this.npt,t)},n.Vmt=function(){return null!=this.ept||(this.ept=new ea),this.ept.Hu},n.spt=function(t){this.upt(t.b5).spt(t)},n.opt=function(t){return this.upt(t).opt()},n.Cyt=function(t){this.upt(t.b5).Cyt(t)},n.apt=function(t){var n;null==(n=this.ipt.get(t))||n.Ls()},n.hpt=function(t){return this.upt(t).hpt()},n.upt=function(t){if(this.ipt.has(t))return this.ipt.get(t);var n=new gq;return this.ipt.set(t,n),n},n.Du=function(){this.cpt(),this.fpt()},n.cpt=function(){this.rpt=void 0,Qs(this.npt)},n.fpt=function(){this.ipt.forEach(function(t){return t.Du()})},n.Ls=function(){this.ipt.forEach(function(t){return t.Ls()}),this.ipt.clear(),this.Du(),this.ept&&(this.ept.Gu(new ou),this.ept=void 0)},T(t,[{key:"gyt",get:function(){return this.rpt}},{key:"vpt",get:function(){for(var t=WS.vD(),n=0,i=this.npt;n<i.length;n++){var e=i[n];if("U2"===e.vs){var r,s=e.U2.Dyt;t=t.YC(new WS([s.Vm,s.Vm+(null!=(r=s.Hg)?r:0)]))}}return t}},{key:"lpt",get:function(){var t=WS.vD();return this.ipt.forEach(function(n){t=t.YC(n.lpt)}),t}}]),t}(),gq=function(){function t(){this.dpt=[],this._pt=void 0}var n=t.prototype;return n.spt=function(t){this.dpt.push(t),this._pt&&(this._pt.Wu(),this._pt=void 0)},n.opt=function(){return this.dpt[0]},n.Cyt=function(t){Ws(this.dpt,t)},n.hpt=function(){return null!=this._pt||(this._pt=new ea),this._pt.Hu},n.Du=function(){Qs(this.dpt)},n.Ls=function(){this.Du(),this._pt&&(this._pt.Gu(new ou),this._pt=void 0)},T(t,[{key:"lpt",get:function(){for(var t=WS.vD(),n=0,i=this.dpt;n<i.length;n++){var e=i[n];"U2"===e.vs&&(t=t.YC(new WS([e.Vm,e.Vm+e.Hg])))}return t}}]),t}(),yq=function(){function t(t,n){this.wpt=void 0,this.Sgt=void 0,this.cft=WS.vD(),this.wpt=t,this.Sgt=n}var n=t.prototype;return n.qX=function(t,n){var i,e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=t.Hi.Hi,this.gpt(i),this.wpt.vs!==Bm.TTML){u.next=8;break}if(this.Sgt.ugt(t.m_t)){u.next=6;break}return u.next=6,Mr.awrap(vu(this.Sgt.ogt(t.m_t),n));case 6:for(e=this.ypt(i,t.m_t),r=0;r<e.length;r++)s=e[r],this.wpt.mE(s);case 8:case"end":return u.stop()}},null,this,null,Ye)},n.XX=function(t,n){var i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==t.Hi){r.next=2;break}return r.abrupt("return");case 2:if(i=t.Vm,e=i+t.Hg,this.cft=this.cft.YC(new WS([i,e])).GC(1e-6),this.Sgt.ugt(t.m_t)){r.next=8;break}return r.next=8,Mr.awrap(vu(this.Sgt.ogt(t.m_t),n));case 8:this.VX(t.Hi.Hi,t.m_t,t.Dyt);case 9:case"end":return r.stop()}},null,this,null,Ye)},n.VX=function(t,n,i){this.gpt(t);for(var e=0,r=this.wpt.vs===Bm.WEBVTT?this.mpt(t,i):this.ypt(t,n);e<r.length;e++){var s=r[e];this.wpt.mE(s)}},n.mpt=function(t,n){for(var i,e=qp(t),r=e.Qw,s=null!=(i=e.ib)?i:{eb:yp.jp,sb:yp.jp},u=0;u<r.length;u++){var o=r[u],a=yp.Dk(o.Vm).Dp(s.sb).Em(s.eb),h=this.Sgt.vgt(a,n).pp(),c=h+(o.qm-o.Vm);o.Vm=h,o.qm=c}return r},n.ypt=function(t,n){var i=this.Sgt.fgt(n).pp();return jk(t,this.wpt,{$k:0,Qk:1/0,Kk:i},Xc.APPLICATION_MP4)},n.gpt=function(t){this.wpt.vs===Bm.DEFAULT&&(this.wpt.vs=this.ppt(t)?Bm.WEBVTT:Bm.TTML)},n.ppt=function(t){return ek(qo(Go(Yo(t),0,w.min(t.byteLength,7)),new na))},n.kz=function(t,n){},n.bz=function(t,n){},T(t,[{key:"nm",get:function(){return this.cft}},{key:"Iz",get:function(){return WS.vD()}}]),t}(),mq=function(t){function n(n,i){var e;return(e=t.call(this,_q.kpt)||this).vlt=n,e.VH=i,e}return E(n,t),n}(Eu),pq=function(t){function n(n){var i;return(i=t.call(this,_q.bpt)||this).vlt=n,i}return E(n,t),n}(Eu);!function(t){t.kpt="Apt",t.bpt="Tpt"}(_q||(_q={}));var kq=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Xyt=void 0,s.yyt=void 0,s.Sgt=void 0,s.Spt=void 0,s.Ept=void 0,s.y_=new uu,s.Ipt=function(t){s.Ept&&(t&&!au(t)?s.Ept.Gu(t):(s.Ept.Wu(),s.Ept=void 0))},s.Xyt=n,s.yyt=i,s.Sgt=e,s.Spt=r,s}E(n,t);var i=n.prototype;return i.Bmt=function(t){this.Xyt!==t&&(this.Xs(),this.Xyt=t)},i.Rpt=function(t){for(var n=0,i=this.Spt;n<i.length;n++){var e=i[n];Ys(t,e)||this.yyt.apt(e)}this.Spt=t},i.Eyt=function(){var t,n;return null!=(t=null==(n=this.Ept)?void 0:n.Hu)?t:Ye.resolve()},i.Tyt=function(){if(this.Syt)throw new v("Cannot perform new operation while transmuxer is still busy")},i.Npt=function(t){var n=this;this.Tyt(),this.Ept=new ea;var i=function(i){n.yyt.Omt(t),n.Ipt(i)};this.Cpt(t,this.y_.qs).then(i,i)},i.Dpt=function(t){var n=this;this.Tyt(),this.Ept=new ea;var i=function(i){n.yyt.Omt(t),n.Ipt(i)};this.Ppt(t,this.y_.qs).then(i,i)},i.Bpt=function(t){this.Qs(new mq(this.Xyt,t))},i.xpt=function(){this.Qs(new pq(this.Xyt))},i.spt=function(t){Ys(this.Spt,t.b5)&&this.yyt.spt(t)},i.Opt=function(t){return this.yyt.opt(t)},i.Cyt=function(t){this.yyt.Cyt(t)},i.Lpt=function(t){return this.yyt.hpt(t)},i.Xs=function(){this.y_.Xs(),this.y_=new uu},T(n,[{key:"vlt",get:function(){return this.Xyt}},{key:"Mpt",get:function(){return this.Spt}},{key:"Syt",get:function(){return void 0!==this.Ept}}]),n}(Tu);function bq(t){return function(t){return mV(t)?t.owt:0===t.V_t&&t.z_t.owt}(t)?0:t.Vm}var Aq=function(t){function n(n,i,e,r){return t.call(this,n,i,e,[r])||this}E(n,t);var i=n.prototype;return i.Cpt=function(t,n){hu(n);var i={vs:"Fpt",Hi:t.w_t.Hi,b5:this.Mpt[0],m_t:t.m_t,Upt:{VH:"",f_t:t.f_t},Vm:t.Vm,vlt:this.vlt,Dyt:t.w_t.Dyt};return this.spt(i),Ye.resolve()},i.Ppt=function(t,n){var i;hu(n);var e=t.U2.Dyt,r={vs:"U2",Hi:t.U2.Hi,b5:this.Mpt[0],n_t:t.n_t,jpt:bq(e),Vm:e.Vm,Hg:null!=(i=e.Hg)?i:0,Kk:0,m_t:t.m_t,vlt:t.vlt,Dyt:t.U2.Dyt};return this.spt(r),Ye.resolve()},n}(kq),Tq=function(){function t(t,n,i,e){this.Hpt=[],this.Xpt=t,this.yyt=n,this.zpt=i,this.ED=e}var n=t.prototype;return n.Bmt=function(t){this.Xpt.Bmt(t)},n.Vpt=function(t){for(var n=this,i=t.slice(),e=function(t){var e=n.Hpt[t];if(!e.Ayt)throw new v("Invalid state");var r=qs(i,function(t){return t.vs===e.vs});r>=0?(e.Wct(i[r]),Gs(i,r)):Gs(n.Hpt,t)},r=this.Hpt.length-1;r>=0;r--)e(r);for(var s=0;s<i.length;s++){var u=i[s],o=new QV(u);this.Hpt.push(new KV(u.vs,u,this.yyt,o,this))}i.length>0&&this.yyt.Du();var a=t.map(function(t){return t.vs});this.zpt.Rpt(a)},n.yL=function(t){var n,i=(null==(n=this.ED)?void 0:n.yL(t))||!1;return i&&(this.Xs(),this.qpt.Du()),i},n.Wpt=function(t){for(var n=0,i=this.Hpt;n<i.length;n++){var e=i[n];if(e.vs!==gm.Jn||e.Syt)throw new v("Invalid state")}var r=new QV(t),s=new KV(gm.Jn,t,this.yyt,r,this);this.Hpt=[s]},n.Tet=function(){for(var t=0,n=this.Hpt;t<n.length;t++){n[t].xyt.lyt()}},n.Iet=function(t){var n=this.Gpt.oD(t,.001);return n?n.NC(n.Tw-1):t},n.Lmt=function(t){return!!this.Gpt.oD(t,.001)||this.Xpt.Lmt(t)},n.Ypt=function(t){return this.$pt.VN(t,.001)},n.Qpt=function(t,n,i){for(var e=0,r=this.Hpt;e<r.length;e++){var s=r[e].xyt,u=s.Nrt;if(void 0!==u&&n>=u)return!s.nm.MC().VN(u)}return n-t<i},n.Xs=function(){this.Kpt(),this.Zpt()},n.Kpt=function(){this.Jpt.Xs()},n.Zpt=function(){this.tkt.Xs(),this.nkt.forEach(function(t){return t.Xs()})},n.Ls=function(){this.Xs(),this.Jpt.Ls()},T(t,[{key:"nkt",get:function(){return this.Hpt}},{key:"Jpt",get:function(){return this.Xpt}},{key:"tkt",get:function(){return this.zpt}},{key:"qpt",get:function(){return this.yyt}},{key:"vlt",get:function(){return this.Xpt.vlt}},{key:"gyt",get:function(){var t=this.yyt.gyt;if(t)return t;if(this.Hpt.length>0){var n=this.Hpt[0].xyt.gyt;if(n&&this.Hpt.every(function(t){return t.xyt.gyt===n}))return n}}},{key:"Gpt",get:function(){if(0===this.Hpt.length)return WS.vD();for(var t=this.yyt.vpt.YC(this.yyt.lpt).MC(),n=new WS([0,1/0]),i=0,e=this.Hpt;i<e.length;i++){for(var r=e[i],s=r.xyt.nm,u=r.xyt.UZ,o=r.Ryt,a=0;a<u.length;a++)for(var h=u[a],c=h.dyt.QC(h._yt),f=0;f<c.Tw;f++)t.tD(c.IC(f),c.NC(f),!0,!0)&&(s=s.YC(c.uD(f)));n=n.XC(s).QC(o)}return n=n.YC(t)}},{key:"$pt",get:function(){if(0===this.Hpt.length)return WS.vD();for(var t=this.yyt.lpt.MC(),n=new WS([0,1/0]),i=0,e=this.Hpt;i<e.length;i++){for(var r=e[i],s=r.xyt.nm,u=r.xyt.UZ,o=0;o<u.length;o++)for(var a=u[o],h=a.dyt.QC(a._yt),c=0;c<h.Tw;c++)t.tD(h.IC(c),h.NC(c),!0,!0)&&(s=s.YC(h.uD(c)));n=n.XC(s)}return n=n.YC(t)}}]),t}();var Sq=function(t){function n(){return t.call(this,CX.Tvt)||this}return E(n,t),n}(Eu),Eq=function(t){function n(){return t.call(this,CX.bvt)||this}return E(n,t),n}(Eu),Iq=function(t){function i(n,i){var e;return(e=t.call(this)||this).Cc=void 0,e.Yet=void 0,e.ikt=new ea,e.vL=tN,e.ekt=!1,e.lL=YR,e.yz=new SC,e.zi=n,e.rkt=i,e}E(i,t);var e=i.prototype;return e.HU=function(){return this.Yet?this.Yet.HU():this.ekt},e.kz=function(t,n){cz.Plt("LazyMediaBuffer","Marking gap from "+t+" to "+n+"."),this.yz.ZU(t,n),this.Yet&&this.Yet.kz(t,n)},e.bz=function(t,n){cz.Plt("LazyMediaBuffer","Removing gap from "+t+" to "+n+"."),this.yz.JU(t,n),this.Yet&&this.Yet.bz(t,n)},e.skt=function(t){this.Yet=t,this.Yet.aL=this.lL,this.Yet.rL=this.vL;for(var n,i=this.yz.tj,e=0;e<i.Tw;e++)this.Yet.kz(i.IC(e),i.NC(e));this.ekt&&(cz.Plt("LazyMediaBuffer","End of stream"),null==(n=this.Yet)||n._z());this.Yet.Ks(wC.VU,this.$s),this.ikt.Wu(t)},e.ukt=function(t){return vu(this.ikt.Hu,t)},e.XX=function(t,n,i){var e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Mr.awrap(this.ukt(i));case 2:return e=r.sent,r.next=5,Mr.awrap(e.XX(t,n,i));case 5:case"end":return r.stop()}},null,this,null,Ye)},e.Az=function(){var t;return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(this.ukt());case 2:return t=n.sent,n.next=5,Mr.awrap(t.Az());case 5:case"end":return n.stop()}},null,this,null,Ye)},e.qX=function(t,n,i){var e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Mr.awrap(this.ukt(i));case 2:return e=r.sent,r.next=5,Mr.awrap(e.qX(t,n,i));case 5:case"end":return r.stop()}},null,this,null,Ye)},e.Qh=function(t,n,i){var e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Mr.awrap(this.ukt(i));case 2:return e=r.sent,r.next=5,Mr.awrap(e.Qh(t,n,i));case 5:case"end":return r.stop()}},null,this,null,Ye)},e.JX=function(t,n){var i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mr.awrap(this.ukt());case 2:return i=e.sent,e.next=5,Mr.awrap(i.JX(t,n));case 5:case"end":return e.stop()}},null,this,null,Ye)},e._z=function(){this.ekt=!0,this.Yet&&this.Yet._z()},e.PU=function(t){return!!this.Yet&&this.Yet.PU(t)},e.BU=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Mr.awrap(this.ukt());case 2:return n=i.sent,i.next=5,Mr.awrap(n.BU(t));case 5:case"end":return i.stop()}},null,this,null,Ye)},e.Ed=function(){var t;return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.tu(),null==(t=this.Yet)||t.nu(wC.VU,this.$s);case 2:case"end":return n.stop()}},null,this,null,Ye)},T(i,[{key:"Pl",get:function(){return this.Cc}},{key:"Ez",get:function(){return this.zi}},{key:"uc",get:function(){if(!this.Yet)throw new lf(n.ErrorCode.MEDIA_LOAD_ERROR,"Cannot get the configuration of an uninitialized MediaBuffer.");return this.Yet.uc}},{key:"rL",get:function(){return this.vL},set:function(t){this.vL=t,this.Yet&&(this.Yet.rL=t)}},{key:"nm",get:function(){return this.Yet?this.Yet.nm:WS.vD()}},{key:"Iz",get:function(){return this.Yet?this.Yet.Iz:this.yz.tj}},{key:"aL",get:function(){return this.lL},set:function(t){this.lL=t,this.Yet&&(this.Yet.aL=t)}}]),i}(Tu),Rq="LazyMediaSource",Nq=function(){function t(t,n,i){this.okt=void 0,this.akt=void 0,this.hkt=new ea,this.JR=void 0,this.ckt=!1,this.oa=NaN,this.bK=!1,this.fkt=0,this.vkt=1/0,this.lkt=!1,this.dkt=!1,this.ZR=t,n&&(cz.Plt(Rq,"Created lazy media buffer for audio."),this.okt=new Iq(gm._d,this)),i&&(cz.Plt(Rq,"Created lazy media buffer for video."),this.akt=new Iq(gm.wd,this))}var n=t.prototype;return n.gV=function(t){this.oa=t,this.JR&&this.JR.gV(t)},n._z=function(){this.bK=!0,this.JR&&this.JR._z()},n.cz=function(){this.bK=!1,this.JR&&this.JR.cz()},n.pV=function(t,n,i,e){this.fkt=t,this.vkt=n,this.lkt=Boolean(i),this.dkt=Boolean(e),this.JR&&this.JR.pV(t,n,i,e)},n.PU=function(t){return!this.JR||this.JR.PU(t)},n.BU=function(t){var n,i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.PU(t)){r.next=2;break}throw new v("LazyMediaSource - Unable to reconfigure MediaSource.");case 2:if(this.JR){r.next=19;break}return this.ZR.TY(),r.next=6,Mr.awrap(this.ZR.$h(t));case 6:e=r.sent,m(this.oa)||e.gV(this.oa),this.bK&&e._z(),e.pV(this.fkt,this.vkt,this.lkt,this.dkt),cz.Plt(Rq,"The MediaSource has been loaded."),this.ckt=!0,this.JR=e,null==(n=this.okt)||n.skt(this.JR.rV),null==(i=this.akt)||i.skt(this.JR.sV),this.hkt.Wu(e),this.ZR.SY(),r.next=21;break;case 19:return r.next=21,Mr.awrap(this.JR.BU(t));case 21:case"end":return r.stop()}},null,this,null,Ye)},n.Ls=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.JR){t.next=3;break}return t.next=3,Mr.awrap(this.JR.Ls());case 3:case"end":return t.stop()}},null,this,null,Ye)},T(t,[{key:"uc",get:function(){return{vs:Rb.AE,kV:[],NN:[]}}},{key:"Dy",get:function(){throw new v("Not implemented")}},{key:"rV",get:function(){return this.okt}},{key:"sV",get:function(){return this.akt}},{key:"nm",get:function(){return this.JR?this.JR.nm:WS.vD()}},{key:"Hg",get:function(){return this.JR?this.JR.Hg:this.oa}},{key:"HU",get:function(){return!!this.JR&&this.JR.HU}},{key:"pm",get:function(){return this.JR?this.JR.pm:new WS([0,1/0])}}]),t}();function Cq(t,n){return void 0===n&&(n=!1),function(i,e){void 0===e&&(e="*");var r,s,u,o=Pq(i,"tag"),a=Pq(null==e?"*":e,"range"),h=[],c=-1;for(;++c<a.length;)if(r=a[c].toLowerCase(),n||"*"!==r){for(s=-1,u=[];++s<o.length;)if(t(o[s].toLowerCase(),r)){if(!n)return o[s];h.push(o[s])}else u.push(o[s]);o=u}return n?h:void 0}}Cq(function(t,n){return"*"===n||t===n||ps(t,n+"-")},!0),Cq(function(t,n){var i=t.split("-"),e=n.split("-"),r=0,s=0;if("*"!==e[s]&&i[r]!==e[s])return!1;for(r++,s++;s<e.length;)if("*"!==e[s]){if(!i[r])return!1;if(i[r]!==e[s]){if(1===i[r].length)return!1;r++}else r++,s++}else s++;return!0},!0);var Dq=Cq(function(t,n){for(var i,e=n;;){if("*"===e||t===e)return!0;if((i=e.lastIndexOf("-"))<0)return!1;"-"===e.charAt(i-2)&&(i-=2),e=e.slice(0,i)}});function Pq(t,n){var i=t&&"string"==typeof t?[t]:t;if(!(i&&"object"==typeof i&&"length"in i))throw new v("Invalid "+n+" `"+i+"`, expected non-empty string");return i}var Bq,xq=16384,Oq=71,Lq=188;function Mq(t){return null!==YP(Yo(t),new na)?Bq._kt:function(t){return function(t){if(t.length<2*Lq)return-1;for(var n=w.min(1e3,t.length-2*Lq),i=0;i<=n;i++)if(t[i]===Oq&&t[i+Lq]===Oq)return i;return-1}(t)>=0}(t)?Bq.wkt:Fq(t)?Bq.gg:Bq.Jl}function Fq(t){var n=Wo(t,0,w.min(t.length,xq));return Rk.DA(Yo(n))}!function(t){t[t.Jl=0]="Jl",t[t.gg=1]="gg",t[t.wkt=2]="wkt",t[t._kt=3]="_kt"}(Bq||(Bq={}));var Uq=function(){function t(t,n,i,e){this.zi=void 0,this.Yet=void 0,this.gkt=void 0,this.X8=void 0,this.ykt=void 0,this.zi=t,this.Yet=n,this.X8=i,this.ykt=e}var n=t.prototype;return n.mkt=function(t){return this.Yet===t},n.qX=function(t,n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,Mr.awrap(this.Yet.qX(t.Hi,{xht:t.vlt.Ow},n));case 3:this.zi===gm.wd&&Fq(t.Hi.Hi)&&this.ykt.L7(t.Hi.Hi);case 4:case"end":return i.stop()}},null,this,null,Ye)},n.XX=function(t,n){var i,e,r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(hu(n),cz.fT("HlsMediaBuffer","Got media data, appending to "+this.zi+" MediaBuffer: "+qX(t.Dyt.Y0)),i=t.jpt,e=t.Vm+t.Hg,r={TK:t.Vm,Hg:t.Hg,Kk:t.Kk,xht:t.vlt.Ow},void 0===t.Hi){s.next=10;break}return s.next=9,Mr.awrap(this.Yet.XX(t.Hi,r,n));case 9:this.pkt(t.Hi,t);case 10:this.kkt(i,e);case 11:case"end":return s.stop()}},null,this,null,Ye)},n.pkt=function(t,n){if(Fq(t.Hi)){var i=n.Vm,e=i+n.Hg,r=n.Kk;this.X8.a8(t.Hi,i,r),this.zi===gm.wd&&this.ykt.a8(t.Hi,i,e,r)}},n.kkt=function(t,n){for(var i=this.Yet.nm,e=new WS([t,n]).QC(i),r=0;r<e.Tw;r++)this.Yet.kz(e.IC(r),e.NC(r));for(var s=0;s<i.Tw;s++)this.Yet.bz(i.IC(s),i.NC(s))},n.kz=function(t,n){this.Yet.kz(t,n)},n.bz=function(t,n){this.Yet.bz(t,n)},T(t,[{key:"vs",get:function(){return this.zi}},{key:"nm",get:function(){return this.Yet.nm}},{key:"Iz",get:function(){return this.Yet.Iz}}]),t}(),jq=2500;function Hq(t){if(t.vs===DX.Rvt&&void 0!==t.Qvt){var n=t.Qvt.match(/^CC([1-4])$/);if(n)return Number(n[1]);var i=t.Qvt.match(/^SERVICE([\d+])$/);return i?Number(i[1]):void 0}}var Xq="LLHLSPlayer",zq=[Ty.Og,Ty.Lg,Ty.Mg,Ty.ow],Vq=[Bf.bf,Bf.Cf,Bf.Pf,Bf.df],qq=50,Wq=3e4,Gq=function(t){function e(e,r,s,u,o,a){var h;return(h=t.call(this)||this).ZR=void 0,h.dE=void 0,h.oN=void 0,h.sN=void 0,h.w8=void 0,h.bkt=void 0,h.Akt=void 0,h.Tkt=void 0,h.B6=void 0,h.Ty=void 0,h.Sy=void 0,h.Ey=void 0,h.Skt=Hr(),h.Ekt=void 0,h.Ikt=void 0,h.rN=void 0,h.X8=void 0,h.ykt=void 0,h.Rkt=!1,h._E=new uu,h.C8=void 0,h.ayt=void 0,h.JR=void 0,h._rt=void 0,h.N8=void 0,h.Nkt=new uu,h.Ckt=void 0,h.E8=void 0,h.Dkt=void 0,h.Pkt=void 0,h.Bkt=void 0,h.xkt=void 0,h.Okt=void 0,h.Lkt=[],h.aV=void 0,h.hV=void 0,h.Mkt=void 0,h.Fkt=void 0,h.Ukt=void 0,h.zpt=void 0,h.jkt=new uu,h.Hkt=void 0,h.uG=new uu,h.sG=void 0,h.Xkt=-1,h.zkt=void 0,h.Vkt=void 0,h.qkt=void 0,h.Wkt=void 0,h.Gkt=void 0,h.Ykt=void 0,h.b4=!0,h.$kt=0,h.Qkt=!1,h.pD=1,h.iN=FS.dC,h.tN=void 0,h.nN=void 0,h.cV=WS.vD(),h.Kkt=[],h.Zkt=void 0,h.O8=!1,h.p8=void 0,h.Jkt=void 0,h.A8=!1,h.tbt=!1,h.nbt=void 0,h.ibt=void 0,h.aN=new RS,h.q8=0,h.handleContentProtectionErrorEvent=function(t){h.tN=dm(t.errorObject),h.nN=t.errorObject,h.$s(t)},h.handleBufferingErrorEvent=function(t){h.cN(new lf(n.ErrorCode.MEDIA_LOAD_ERROR,t.mu.message,t.mu))},h.ebt=function(){h.rbt();var t=h.Hg;t!==h.p8&&(h.p8=t,h.Qs(new Dy(h.p8)))},h.sbt=function(){h.Xg&&h.Qs(new xy(h.jg))},h.ubt=function(){h.Qs(new Ey(h.jg))},h.obt=function(){h.Qs(new Iy(h.jg))},h.lN=function(){void 0!==h.ibt&&i.Yn(h.ibt),h.Qs(new Jb(h.jg))},h.abt=function(){h.Qs(new mC(h.jg))},h.RE=function(){h.Qs(new Hy(h.jg,h.$w))},h.Gq=function(){var t=h.glt;Ks(h.Kkt,t)||(h.Qs(new $V),h.Kkt=t),h.Qs(new By(h.jg,h.im))},h.hbt=function(t){h.q8+=t.bmt,"U2"===t.pmt&&t.bd===gm.wd&&gu(h.Ndt())},h.dV=function(){h.Qs(new Ly(h.jg))},h.vN=function(){h.Qs(new My(h.jg))},h.cbt=function(){h.Qs(new Fy(h.jg,h.Qg))},h.fbt=function(){h.ZR.Gg?h.Qs(new Zb(h.jg)):(h.ibt=i.$n(function(){h.tbt&&(h.nbt=void 0,gu(h.vbt()))},jq),h.Qs(new Zb(h.jg)))},h.lbt=function(){h.tbt=!0,h.Qs(new Uy(h.jg,h.$w))},h.dbt=function(t){au(t)||ub(t)||ob(t)||(h._bt(),gu(h.wbt()),h.Qs(new Sz(t)))},h.cyt=function(){h.rbt()},h.gbt=function(t){gu(h.ybt(t.vlt))},h.mbt=nt(function(t){var n=[h._rt,h.Hkt,h.sG].filter(H);h.uG=new uu,h.sG=h.vY(n,t,h.uG.qs).catch(h.dbt)},qq),h.K8=function(t){if(!au(t)){var i=t instanceof lf?t:new lf(n.ErrorCode.MEDIA_DECODE_ERROR,t.message,t);h.cN(i)}},h.onTextTrackChange=function(t){if(h.Dkt){var n=t.V_,i=zs(h.Dkt.H_t,function(t){return n===h.Skt.get(t.Ow)});i&&(n.Ww===Fg.Xw||n.Ww===Fg.zw?(gu(h.pbt(i)),h.Skt.forEach(function(t){t!==n&&(t.Ww=Fg.Hw)})):h.xkt&&h.xkt===i&&gu(h.kbt(h.Pkt,h.Bkt,void 0)))}},h.retryOfflineRenditionsCallback=function(t,n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(h.bbt===t||h.klt===t||h.Alt===t){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,Mr.awrap(h.E8.Zgt(t,n));case 4:t.qvt.igt=-1/0;case 5:case"end":return i.stop()}},null,null,null,Ye)},h.Tct=function(){h.Sct()},h.Ect=function(){h.Ict()},h.Abt=function(t){if(t.vlt.Kvt){var n=h.E8.t5.Ogt(t.vlt);if(n&&!n.VH){h.E8.syt(n,t.VH),h.Ekt.jlt();var i=h.Dkt;if(i){var e=void 0!==h.Pkt&&!Ys(i.Flt,h.Pkt),r=void 0!==h.Bkt&&!Ys(i.Ult,h.Bkt);(e||r)&&h.kbt(e?void 0:h.Pkt,r?void 0:h.Bkt,h.xkt).catch(Z)}}}},h.Tbt=function(t){h.E8.eyt(t.vlt)},h.ED=s,h.Lyt=u,h.Sbt=o,h.B6=new mF(a),h.ZR=e,h.dE=new lz(r,h.ED),h.oN=new Tz(h.ED.JO),h.Akt=new Ez(h.ZR),h.Tkt=new xz(h.ED),h.Ty=new ym,h.Sy=new ym,h.Ekt=new vz(nn(h),h.Ty,h.Sy),h.Ikt=new tb,h.rN=new bb(h.ZR,h.dE),h.X8=new gF(h.ZR),h.ykt=new kH(h.ZR),h.Ey=new SS([h.Ikt,h.rN.VA,h.X8.VA,h.ykt.VA]),h.sN=new AS(h.dE),h.ZR.EN=h.sN,h.w8=new $q(nn(h),h.ZR),h.bkt=new nA(h.w8,!0),h.Ebt(),h}E(e,t);var r=e.prototype;return r.Ibt=function(t){return Js(t,function(t){return t.PR})},r.vbt=function(){var t,n,i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mr.awrap(this.Rbt());case 2:if(void 0!==(t=e.sent)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Mr.awrap(this.Nbt(t));case 7:if((n=e.sent).length>0&&(t=n),void 0===(i=this.Ibt(t))){e.next=14;break}return e.next=13,Mr.awrap(this.plt(i,!0));case 13:this.oN.Adt(i.PR);case 14:case"end":return e.stop()}},null,this,null,Ye)},r.rbt=function(){var t=function(t){for(var n=new WS([0,1/0]),i=0,e=0;e<t.length;e++){var r=t[e],s=r.qvt.pm;s.Tw>0&&(n=n.XC(s),i=w.max(i,s.IC(0)))}if(n.Tw>0)return n;return WS.fD(i)}([this.Pkt,this.Bkt].filter(H));0!==t.Tw&&(this.JR&&this.JR.HU&&this.Cbt&&(t=new WS([t.IC(0),this.JR.Hg])),this.cV=t,this.X8.vE(t.IC(0)),this.ykt.vE(t.IC(0)))},r.Uy=function(){return!1},r.Yy=function(){return $S},r.Wy=function(){cz.fT(Xq,"Hiding the player."),this.ZR.Wy()},r.Oy=function(){cz.fT(Xq,"Pausing the player."),this.ZR.Oy()},r.xy=function(){var t;return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=this.ZR.xy(),this.Rkt){n.next=4;break}return n.next=4,Mr.awrap(this.$h());case 4:return n.next=6,Mr.awrap(t);case 6:case"end":return n.stop()}},null,this,null,Ye)},r.S7=function(){this.tN=void 0,this.nN=void 0},r.cN=function(t){this.tN||(gu(this.bw()),this.tN=dm(t),this.nN=t,this.Qs(new Xy(t)))},r.qy=function(){cz.fT(Xq,"Showing the player."),this.ZR.qy()},r.jy=function(){throw new v("Not implemented")},r.Hy=function(){throw new v("Not implemented")},r.tm=function(){},r.Fy=function(t,n,e){return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(cz.fT(Xq,"Setting the player source to "+t.src+"."),this.S7(),!this.C8||yy(this.C8)){r.next=6;break}return r.next=5,Mr.awrap(this.bw());case 5:hu(e);case 6:if(t.src&&!yy(t)){r.next=8;break}return r.abrupt("return");case 8:this.sN.LR(t.contentProtection),this.ayt=t,this.Ks(CX.Evt,this.handleBufferingErrorEvent),this.E8=new XV(this.dE,this.B6,i.Lr(t.src)),this.E8.Ks(FV.Mgt,this.cyt),this.E8.Ks(FV.Fgt,this.gbt),this.Ckt=new YV(t,this.E8,this.ZR),this.Ey.qR(this.Ckt.Py),this.zpt=this.Sbt.IK(),n.textTracks&&this.BN(n.textTracks),Ib(this.Ey),this.Dbt();case 20:case"end":return r.stop()}},null,this,null,Ye)},r.$h=function(){return this._rt?this._rt:(this._rt=this.p_(this._E.qs).catch(this.K8),this._rt)},r.p_=function(t){var i,e,r,s,u,o,a,h;return Mr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(cz.fT(Xq,"Loading the player."),this.E8.uyt){c.next=13;break}return c.prev=2,c.next=5,Mr.awrap(this.E8.qgt(t));case 5:this.Pbt(),c.next=13;break;case 8:throw c.prev=8,c.t0=c.catch(2),cu(c.t0),this.gm=!1,new lf(n.ErrorCode.MANIFEST_LOAD_ERROR,"The provided HLS document could not be loaded - "+c.t0.message,c.t0);case 13:if(this.Okt=this.E8.t5.Mlt,this.Okt.length){c.next=16;break}throw new lf(n.ErrorCode.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant streams.");case 16:return c.next=18,Mr.awrap(this.Bbt(this.Okt));case 18:if(0!==(e=c.sent).length){c.next=21;break}throw new lf(n.ErrorCode.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant stream with a supported codec.");case 21:return c.next=23,Mr.awrap(this.Nbt(e));case 23:(r=c.sent).length>0&&(e=r),cz.fT(Xq,"Selecting initial active variant stream."),s=Kq(e,null==(i=this.ayt)?void 0:i.abr,this.ED),(u=Jq(s.Flt))&&cz.fT(Xq,"Detected initial audio rendition."),(o=Jq(s.Ult))&&cz.fT(Xq,"Detected initial video rendition."),(a=Qq(s.H_t))&&cz.fT(Xq,"Detected initial subtitle rendition."),a||(h=Qq(s.X_t))&&cz.fT(Xq,"Detected initial closed caption rendition."),this.xbt(s),this.Ekt.J9(),this.Obt(s,h),this.kbt(u,o,a).catch(Z),this.Rkt=!0;case 39:case"end":return c.stop()}},null,this,[[2,8]],Ye)},r.Pbt=function(){this.A8||(this.A8=!0,this.w8.r9())},r.BN=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.rN.wE(i)}},r.Obt=function(t,n){for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i],r=Hq(e);void 0!==r&&n.push({sQ:r,uQ:e.Fw||"",Mw:e._i})}return n}(t.X_t),e=0;e<i.length;e++){var r=i[e];this.ykt.Rht(r)}if(void 0!==n){var s=Hq(n);this.ykt.Nht(s).Ww=Fg.zw}},r.Dbt=function(){this.Nkt.Xs(),this.Nkt=new uu,this.N8=this.Lbt(this.N8,this.Nkt.qs).catch(this.K8)},r.Lbt=function(t,n){var i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.iN,!t){e.next=5;break}return e.next=4,Mr.awrap(t);case 4:hu(n);case 5:if(i!==FS.dC&&this.E8){e.next=7;break}return e.abrupt("return");case 7:if(hu(n),this.E8.uyt){e.next=19;break}return e.prev=9,e.next=12,Mr.awrap(this.E8.qgt(n));case 12:this.Pbt(),e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(9),cu(e.t0),e.abrupt("return");case 19:if(i!==FS.Zb){e.next=21;break}return e.abrupt("return");case 21:hu(n),this.$h().catch(this.K8);case 23:case"end":return e.stop()}},null,this,[[9,15]],Ye)},r.ylt=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(!this.Mbt(i))throw new v("LLHLSPlayer - Could not set an allowed variant stream that does not exists in the internal HLS model.")}this.Okt=t},r.Mbt=function(t){var n=this.t5;return!!n&&Ys(n.Mlt,t)},r.Fbt=function(t){if(this.Dkt)return zs(this.Dkt.Xlt,function(n){return n===t})},r.xbt=function(t){if(cz.fT(Xq,"Setting active variant stream."),this.Dkt!==t){var n;if((null==(n=this.Dkt)?void 0:n.Udt)!==(null==t?void 0:t.Udt)){if(this.Dkt)for(var i=0,e=this.Dkt.H_t;i<e.length;i++){var r=e[i];this.pE(r)}if(t)for(var s=0,u=t.H_t;s<u.length;s++){var o=u[s];this.Ubt(o)}}this.Dkt=t,this.Qs(new Sq)}},r.Ubt=function(t){var n=this.ZR.gE(Jk.Qb,void 0,t._i,t.Fw,t.Wvt);this.Ikt.yw(n),this.Skt.set(t.Ow,n),n.Ks(og.ew,this.onTextTrackChange)},r.pE=function(t){var n=this.Skt.get(t.Ow);n&&(n.nu(og.ew,this.onTextTrackChange),this.Ikt.mw(n),this.Skt.delete(t.Ow),this.ZR.pE(n))},r.Rbt=function(){var t,n,i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==(n=null!=(t=this.Okt)?t:this.t5.Mlt).length||this.Okt){r.next=4;break}return cz.fT(Xq,"The HLS stream does not contain any variant streams, skipping ABR selection."),r.abrupt("return",void 0);case 4:if(1!==n.length||this.Okt){r.next=7;break}return cz.fT(Xq,"The HLS stream contains only a single variant stream, skipping ABR selection."),r.abrupt("return",void 0);case 7:return r.next=9,Mr.awrap(this.Bbt(n));case 9:if((i=r.sent).length){r.next=13;break}return cz.Blt(Xq,"LLHLSPlayer - No variant streams with supported codecs available to perform ABR selection on."),r.abrupt("return",void 0);case 13:if(0!==(e=tW(i)).length){r.next=22;break}if(!this.Qkt){r.next=17;break}return r.abrupt("return",void 0);case 17:return cz.Blt(Xq,"LLHLSPlayer - No variant streams with online renditions available to perform ABR selection on."),this.$kt++,r.next=21,Mr.awrap(this.jbt(i));case 21:return r.abrupt("return",void 0);case 22:return r.abrupt("return",e);case 23:case"end":return r.stop()}},null,this,null,Ye)},r.Ndt=function(){var t,n,i,e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Mr.awrap(this.Rbt());case 2:if(void 0!==(t=u.sent)){u.next=5;break}return u.abrupt("return");case 5:return o=this.ZR,a=void 0,h=void 0,a=o.jg,h=o.nm.oD(a),n=h?h.NC(0)-a:0,u.next=8,Mr.awrap(this.Nbt(t));case 8:return i=u.sent,e={yp:this.ZR.yp,uT:this.ZR.uT,Edt:n},u.next=12,Mr.awrap(this.Tkt.Ndt(t,this.Dkt,i,e));case 12:if(r=u.sent,s=!!this.Dkt&&r.PR<this.Dkt.PR,!(!!s||this.Hbt(r,t,n))){u.next=18;break}return u.next=18,Mr.awrap(this.plt(r,s));case 18:case"end":return u.stop()}var o,a,h},null,this,null,Ye)},r.Hbt=function(t,n,e){var r,s;if(t===this.dlt)return!1;if(t===this.Ibt(n))return!0;(!this.nbt||this.nbt._lt.PR>t.PR)&&(this.nbt={_lt:t,vJ:i.Gn()});var u=i.Gn()-this.nbt.vJ,o=null!=(r=null==(s=this.Alt)?void 0:s.qvt.Sdt)?r:1/0;return e>=w.max(o-1,5)||u>1e3},r.jbt=function(t){var n,i,e,r,s,u=this;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:this.Qkt=!0,n=!1,i=0;case 3:if(!(i<t.length)){o.next=20;break}if(e=t[i],o.prev=5,void 0!==(r=this.Bkt?zs(e.Ult,function(t){return ZX(t,u.Bkt)}):void 0)){o.next=9;break}return o.abrupt("continue",17);case 9:return o.next=11,Mr.awrap(this.Zgt(r));case 11:r.qvt.igt=-1/0,n=!0,o.next=17;break;case 15:o.prev=15,o.t0=o.catch(5);case 17:i++,o.next=3;break;case 20:if(!n){o.next=26;break}return this.$kt=0,o.next=24,Mr.awrap(this.Xbt());case 24:o.next=29;break;case 26:return s=w.min(1e3*w.pow(2,this.$kt),Wq),o.next=29,Mr.awrap(mu(s));case 29:return this.Qkt=!1,o.next=32,Mr.awrap(this.Ndt());case 32:case"end":return o.stop()}},null,this,[[5,15]],Ye)},r.Bbt=function(t){var n,i=this;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mr.awrap(iu(t,function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.VH){n.next=2;break}return n.abrupt("return",!0);case 2:if(n.t1=!t.VH.zH,n.t1){n.next=7;break}return n.next=6,Mr.awrap(i.Akt.jU('audio/mp4; codecs="'+t.VH.zH+'"'));case 6:n.t1=n.sent;case 7:if(n.t0=n.t1,!n.t0){n.next=15;break}if(n.t2=!t.VH.XH,n.t2){n.next=14;break}return n.next=13,Mr.awrap(i.Akt.jU('video/mp4; codecs="'+t.VH.XH+'"'));case 13:n.t2=n.sent;case 14:n.t0=n.t2;case 15:return n.abrupt("return",n.t0);case 16:case"end":return n.stop()}},null,null,null,Ye)}));case 2:return(n=e.sent).some(function(t){var n;return null==(n=t.VH)?void 0:n.XH})&&(n=n.filter(function(t){return!t.VH||t.VH.XH})),n.some(function(t){var n;return null==(n=t.VH)?void 0:n.zH})&&(n=n.filter(function(t){return!t.VH||t.VH.zH})),e.abrupt("return",n);case 6:case"end":return e.stop()}},null,null,null,Ye)},r.Nbt=function(t){var n=this;return iu(t,function(t){var i,e,r,s,u=[Jq(t.Flt),Jq(t.Ult),Qq(t.H_t),Qq(t.X_t)].filter(H);return i=u,e=function(t){return n.zbt(t)},Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=10;break}return s=i[r],t.next=5,Mr.awrap(e(s));case 5:if(t.sent){t.next=7;break}return t.abrupt("return",!1);case 7:r++,t.next=1;break;case 10:return t.abrupt("return",!0);case 11:case"end":return t.stop()}},null,null,null,Ye)})},r.zbt=function(t){var n,i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==t.qvt.UZ.length){r.next=2;break}return r.abrupt("return",!1);case 2:if((n=t.qvt.UZ[0]).Y0){r.next=5;break}return r.abrupt("return",!1);case 5:return i=n.Y0,e=i.l3?FX(i.l3.IC,i.l3.Tw):void 0,r.prev=7,r.next=10,Mr.awrap(this.B6.IZ(i.Ai,e));case 10:return r.abrupt("return",r.sent);case 13:return r.prev=13,r.t0=r.catch(7),r.abrupt("return",!1);case 16:case"end":return r.stop()}},null,this,[[7,13]],Ye)},r.plt=function(t,n){var i,e,r,s=this;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.Rkt){u.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded.");case 2:if(t){u.next=4;break}throw new v("LLHLSPlayer - Cannot explicitly set the active variant stream to undefined.");case 4:if(this.Mbt(t)){u.next=6;break}throw new v("LLHLSPlayer - Trying to set an active variant stream that does not exists on the internal model.");case 6:if(t!==this.Dkt){u.next=9;break}return cz.fT(Xq,"Trying to set the already active variant stream, ignoring."),u.abrupt("return");case 9:return i=this.Pkt?zs(t.Flt,function(t){return ZX(t,s.Pkt)}):void 0,e=this.Bkt?zs(t.Ult,function(t){return ZX(t,s.Bkt)}):void 0,r=this.xkt?zs(t.H_t,function(t){return ZX(t,s.xkt)}):void 0,this.xbt(t),this.nbt=void 0,u.next=16,Mr.awrap(this.kbt(i,e,r,n));case 16:case"end":return u.stop()}},null,this,null,Ye)},r.blt=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Rkt){i.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.Dkt){i.next=4;break}throw new v("LLHLSPlayer - Cannot set the active audio rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new v("LLHLSPlayer - Cannot explicitly set the active audio rendition to undefined.");case 6:if(n=this.Fbt(t)){i.next=9;break}throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active audio rendition.");case 9:return cz.fT(Xq,"Switching audio rendition"),i.next=12,Mr.awrap(this.kbt(n,this.Bkt,this.xkt,!1,!0,!1));case 12:case"end":return i.stop()}},null,this,null,Ye)},r.Tlt=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Rkt){i.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.Dkt){i.next=4;break}throw new v("LLHLSPlayer - Cannot set the active video rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new v("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");case 6:if(n=this.Fbt(t)){i.next=9;break}throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active video rendition.");case 9:return cz.fT(Xq,"Switching video rendition"),i.next=12,Mr.awrap(this.kbt(this.Pkt,n,this.xkt,!1,!1,!0));case 12:case"end":return i.stop()}},null,this,null,Ye)},r.pbt=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Rkt){i.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.Dkt){i.next=4;break}throw new v("LLHLSPlayer - Cannot set the active subtitle rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new v("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");case 6:if(n=this.Fbt(t)){i.next=9;break}throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active subtitle rendition.");case 9:return cz.fT(Xq,"Switching subtitle rendition"),i.next=12,Mr.awrap(this.kbt(this.Pkt,this.Bkt,n));case 12:case"end":return i.stop()}},null,this,null,Ye)},r.ybt=function(t,n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.Qkt){i.next=2;break}return i.abrupt("return");case 2:if(t.vs===DX.wd){i.next=7;break}return i.next=5,Mr.awrap(this.Vbt(t,n));case 5:i.next=17;break;case 7:if(!(this.Okt&&this.Okt.length<=1)){i.next=15;break}if(this.Bkt===t){i.next=11;break}return i.next=11,Mr.awrap(this.kbt(this.Pkt,t,this.xkt));case 11:return i.next=13,Mr.awrap(this.Vbt(t,n));case 13:i.next=17;break;case 15:return i.next=17,Mr.awrap(this.Ndt());case 17:case"end":return i.stop()}},null,this,null,Ye)},r.Zgt=function(t,n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Mr.awrap(this.E8.Zgt(t,n));case 3:i.next=12;break;case 5:if(i.prev=5,i.t0=i.catch(0),cu(i.t0),!ub(i.t0)&&!ob(i.t0)){i.next=11;break}return i.next=11,Mr.awrap(this.ybt(t,n));case 11:throw i.t0;case 12:case"end":return i.stop()}},null,this,[[0,5]],Ye)},r.Vbt=function(t,n){var i=this;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ys(this.Lkt,t)){e.next=2;break}return e.abrupt("return");case 2:return this.Lkt.push(t),e.prev=3,e.next=6,Mr.awrap(CO(function(){return i.retryOfflineRenditionsCallback(t,n)},n,1/0,1e3,Wq));case 6:if(e.prev=6,Ws(this.Lkt,t),t.qvt.igt!==-1/0){e.next=11;break}return e.next=11,Mr.awrap(this.Xbt());case 11:return e.finish(6);case 12:case"end":return e.stop()}},null,this,[[3,,6,12]],Ye)},r.kbt=function(t,n,i,e,r,s){return void 0===e&&(e=!1),void 0===r&&(r=!1),void 0===s&&(s=!1),this.Pkt===t&&this.Bkt===n&&this.xkt===i?Ye.resolve():void 0===t&&void 0===n?Ye.reject(new v("Trying to buffer no media renditions.")):(this.Pkt=t,this.Bkt=n,this.xkt=i,this.rbt(),this.Qs(new Eq),this.uG.Xs(),this.uG=new uu,this.jkt.Xs(),this.jkt=new uu,this.Hkt=this.qbt([this.Hkt,this.sG].filter(H),t,n,i,e,r,s,this.jkt.qs).catch(this.dbt),this.Hkt)},r.qbt=function(t,n,i,e,r,s,u,o){var a,h,c,f,v,l,d,_,w=this;return Mr.async(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,Mr.awrap(Ye.all(t.map(function(t){return t.catch(Z)})));case 2:return this._bt(),g.next=5,Mr.awrap(this.wbt());case 5:return h=[],s&&this.JR&&this.JR.rV&&h.push(this.JR.rV.Qh(0,1/0)),u&&this.JR&&this.JR.sV&&h.push(this.JR.sV.Qh(0,1/0)),g.next=10,Mr.awrap(Ye.all(h));case 10:return hu(o),g.next=13,Mr.awrap(this.Wbt(n,i,o));case 13:return c=g.sent,this.Gbt(n,i,r||c),this.Ybt(e,r),hu(o),f=n&&i&&tz(n,i),v=[i,f?void 0:n,e].filter(H),g.prev=19,g.next=22,Mr.awrap(Ye.all(v.filter(function(t){return!t.qvt.tgt}).map(function(t){var n;return null==(n=w.E8)?void 0:n.Jgt(t,o)})));case 22:g.next=27;break;case 24:g.prev=24,g.t0=g.catch(19),cu(g.t0);case 27:hu(o),this.mV(),this.rbt(),void 0!==this.Zkt?this.mbt(this.Zkt):!this.O8&&null!=(a=this.dlt)&&a.qvt.IC?(d=null==(l=this.dlt)?void 0:l.qvt.IC.a_t,_=d,d<0&&(_+=this.dlt.qvt.Kwt.NC(this.dlt.qvt.Kwt.Tw-1)),this.mbt(_)):!this.O8&&v.every(function(t){return!t.qvt.k_t})?this.mbt(1/0):this.$bt.length>0&&this.Qbt();case 31:case"end":return g.stop()}},null,this,[[19,24]],Ye)},r.Wbt=function(t,n,i){var e,r,s,u,o,a,h,c,f;return Mr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return s=void 0!==t&&t!==n,u=void 0!==n,v.next=4,Mr.awrap(this.Kbt(t,n,this.Dkt));case 4:if(o=v.sent,hu(i),!this.JR||o){v.next=8;break}return v.abrupt("return",!1);case 8:if(a=void 0!==(null==(e=this.JR)?void 0:e.rV),h=void 0!==(null==(r=this.JR)?void 0:r.sV),s!==a||u!==h||!o||!this.JR||!this.JR.PU(o)){v.next=17;break}return v.next=14,Mr.awrap(this.Zbt(i));case 14:return v.next=16,Mr.awrap(this.JR.BU(o));case 16:return v.abrupt("return",!0);case 17:for(c=0,f=this.$bt;c<f.length;c++)f[c].nkt.forEach(function(t){return t.Xs()});if(this.ZR.TY(),v.prev=19,!this.JR){v.next=23;break}return v.next=23,Mr.awrap(this.ZR.bw());case 23:return v.next=25,Mr.awrap(this.Jbt(o,s,u));case 25:this.JR=v.sent;case 26:return v.prev=26,this.ZR.SY(),v.finish(26);case 29:return v.abrupt("return",!0);case 30:case"end":return v.stop()}},null,this,[[19,,26,29]],Ye)},r.Kbt=function(t,n,i){var e,r,s,u,o,a,h,c,f,v,l,d;return Mr.async(function(_){for(;;)switch(_.prev=_.next){case 0:if(o=i.VH,a=[],o&&o.zH&&(h='audio/mp4; codecs="'+o.zH+'"',cz.fT(Xq,"Configuring MediaSource for initial audio rendition with codec: "+h+"."),a.push(h)),o&&o.XH&&(c='video/mp4; codecs="'+o.XH+'"',cz.fT(Xq,"Configuring MediaSource for initial video rendition with codec: "+c+"."),a.push(c)),0!==a.length){_.next=7;break}return cz.Blt(Xq,"No codecs found on the active variant stream."),_.abrupt("return",void 0);case 7:return f=null!=(e=null==n?void 0:null==(r=n.qvt.UZ[0])?void 0:r.f_t)?e:[],v=null!=(s=null==t?void 0:null==(u=t.qvt.UZ[0])?void 0:u.f_t)?s:[],l=this.E8.t5,_.next=12,Mr.awrap(Oz(this.ayt.contentProtection,a,l.Lgt.concat(v).concat(f),this.dE));case 12:return d=_.sent,_.abrupt("return",{vs:Rb.AE,kV:a.map(function(t){return{Pl:t}}),NN:d});case 14:case"end":return _.stop()}},null,this,null,Ye)},r.Jbt=function(t,n,i){var e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=6;break}return r.next=3,Mr.awrap(this.ZR.$h(t));case 3:e=r.sent,r.next=7;break;case 6:e=new Nq(this.ZR,n,i);case 7:return this.JR=e,this.mV(),this.Sct(),this.Ict(),r.abrupt("return",e);case 12:case"end":return r.stop()}},null,this,null,Ye)},r.mV=function(){var t=this.JR;if(t&&m(t.Hg)){var n,i,e,r=null!=(n=null==(i=this.Pkt)?void 0:i.qvt.Hg)?n:null==(e=this.Bkt)?void 0:e.qvt.Hg;void 0!==r&&r>0&&t.gV(r)}this.rbt()},r.Sct=function(){var t=this.JR;t&&(t.sV&&(t.sV.rL=this.ED.mL),t.rV&&(t.rV.rL=this.ED.mL))},r.Ict=function(){var t=this.JR;t&&(t.sV&&(t.sV.aL=this.ED.aL),t.rV&&(t.rV.aL=this.ED.aL))},r.Gbt=function(t,n,i){if(!this.JR)throw new v("Invalid state");this.JR.rV?this.aV&&this.aV.mkt(this.JR.rV)||(this.aV=new Uq(gm._d,this.JR.rV,this.X8,this.ykt)):this.aV=void 0,this.JR.sV?this.hV&&this.hV.mkt(this.JR.sV)||(this.hV=new Uq(gm.wd,this.JR.sV,this.X8,this.ykt)):this.hV=void 0;var e,r,s,u,o,a,h,c,f,l,d,_,w,g,y=t&&n&&tz(t,n);if(this.hV&&n){var m=y&&this.aV?[this.hV,this.aV]:[this.hV];this.Fkt?this.Fkt.vlt!==n&&(i&&(this.Fkt.Xs(),this.Fkt.qpt.Du()),this.Fkt.Bmt(n)):(this.Fkt=(e=n,r=m,this.ZR,s=this.E8,u=this.dE,o=this.B6,a=this.Lyt,h=this.zpt,c=this.ED,f=new wq,l=new fq(gm.wd,e,s,f,u,o,a),d=r.map(function(t){return t.vs}),_=h.z6(e,f,s.t5.qS,d),(w=new Tq(l,f,_,c)).Vpt(r),w),this.Fkt.Jpt.Ks(oq.kmt,this.hbt),this.Fkt.tkt.Ks(_q.kpt,this.Abt),this.Fkt.tkt.Ks(_q.bpt,this.Tbt)),this.Fkt.Vpt(m)}else{var p;null==(p=this.Fkt)||p.Ls(),this.Fkt=void 0}this.aV&&t&&!y?(this.Mkt?this.Mkt.vlt!==t&&(i&&(this.Mkt.Xs(),this.Mkt.qpt.Du()),this.Mkt.Bmt(t)):(this.Mkt=function(t,n,i,e,r,s,u,o,a){var h=new wq,c=new fq(gm._d,t,e,h,r,s,u),f=o.z6(t,h,e.t5.qS,[n.vs]),v=new Tq(c,h,f,a);return v.Vpt([n]),v}(t,this.aV,this.ZR,this.E8,this.dE,this.B6,this.Lyt,this.zpt,this.ED),this.Mkt.Jpt.Ks(oq.kmt,this.hbt),this.Mkt.tkt.Ks(_q.kpt,this.Abt),this.Mkt.tkt.Ks(_q.bpt,this.Tbt)),this.Mkt.Vpt([this.aV])):(null==(g=this.Mkt)||g.Ls(),this.Mkt=void 0);this.tAt()},r.Ybt=function(t,n){this.Ukt&&(this.Ukt.Jpt.vlt===t?n&&(this.Ukt.Xs(),this.Ukt.qpt.Du()):(this.Ukt.Ls(),this.Ukt=void 0));if(!this.Ukt&&t){var i=this.Skt.get(t.Ow);i.Ww=Fg.zw,this.Ukt=function(t,n,i,e,r,s){var u=i.t5.qS,o=new yq(n,u),a=new wq,h=new fq(gm.Jn,t,i,a,e,r,s),c=new Aq(t,a,u,gm.Jn),f=new Tq(h,a,c);return f.Wpt(o),f}(t,i,this.E8,this.dE,this.B6,this.Lyt)}},r.tAt=function(){var t=[this.aV,this.hV].filter(H).map(function(t){return t.vs});this.E8.t5.qS.kgt(t)},r.vY=function(t,n,i){var e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Mr.awrap(Ye.all(t.map(function(t){return t.catch(Z)})));case 2:return hu(i),r.next=5,Mr.awrap(this.wbt());case 5:hu(i),this.Zkt=void 0,this.Jkt=void 0,this.O8=!0,e=this.X9.UC(n),this.ZR.Lu(e),this.Rkt&&this.$bt.length>0&&(this.nAt(this.ZR.jg),this.Qbt());case 12:case"end":return r.stop()}},null,this,null,Ye)},r.nAt=function(t){for(var n=0,i=this.$bt;n<i.length;n++){var e=i[n];e.Lmt(t)||(e.Kpt(),e.qpt.cpt()),e.Ypt(t)||(e.Zpt(),e.qpt.fpt())}},r._bt=function(){for(var t=0,n=this.$bt;t<n.length;t++){n[t].Xs()}},r.wbt=function(){return Ye.all([this.iAt(),this.eAt(),this.rAt()])},r.Qbt=function(){this.sAt(),this.uAt(),this.oAt()},r.Xbt=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.Rkt&&this.$bt.length>0)){t.next=6;break}return this.$bt.forEach(function(t){return t.Kpt()}),t.next=4,Mr.awrap(this.iAt());case 4:this.sAt(),this.$bt.forEach(function(t){return t.Jpt.Xmt()});case 6:case"end":return t.stop()}},null,this,null,Ye)},r.sAt=function(){var t=this;if(!this.Wkt){var n=function(){t.Wkt=void 0};this.zkt=new uu,this.Wkt=this.aAt(this.zkt.qs).catch(this.dbt).then(n,n)}},r.iAt=function(){var t,n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.zkt)||t.Xs(),n=this.Wkt,this.Wkt=void 0,!n){i.next=6;break}return i.next=6,Mr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,Ye)},r.aAt=function(t){var n,i,e,r,s,u,o,a,h,c,f;return Mr.async(function(v){for(;;)switch(v.prev=v.next){case 0:hu(t),n=this.$bt;case 2:for(i=[],e=this.ZR.jg,r=0;r<n.length;r++)s=n[r],u=s.Jpt,o=s.Iet(e),u.Syt?i.push(u.Eyt()):s.Qpt(e,o,this.ED.mL)&&((a=u.Mmt(o))?(c=a[0],f=a[1],u.hnt(c,f,s.gyt)):((h=u.vlt.qvt.UZ).length&&h[0].Vm>o&&(this.jg=1/0),u.qmt(),u.jmt(o)),i.push(u.Eyt()));if(0!==i.length){v.next=13;break}if(!n.every(function(t){return t.Jpt.tpt})){v.next=9;break}return v.abrupt("break",17);case 9:return v.next=11,Mr.awrap(this.ZR.fu(Bf.Hf,t));case 11:v.next=15;break;case 13:return v.next=15,Mr.awrap(vu(Ye.race(i),t));case 15:v.next=2;break;case 17:case"end":return v.stop()}},null,this,null,Ye)},r.uAt=function(){var t=this;if(!this.Gkt){var n=function(){t.Gkt=void 0};this.Vkt=new uu,this.Gkt=this.hAt(this.Vkt.qs).catch(this.dbt).then(n,n)}},r.eAt=function(){var t,n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.Vkt)||t.Xs(),n=this.Gkt,this.Gkt=void 0,!n){i.next=6;break}return i.next=6,Mr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,Ye)},r.hAt=function(t){var n,i,e,r,s,u,o;return Mr.async(function(a){for(;;)switch(a.prev=a.next){case 0:hu(t),n=this.$bt;case 2:for(i=[],e=0;e<n.length;e++)r=n[e],s=r.Jpt,(u=r.tkt).Syt?i.push(u.Eyt()):(o=s.xmt())?"U2"===o.vs?(u.Dpt(o),i.push(u.Eyt())):"w_t"===o.vs&&(u.Npt(o),i.push(u.Eyt())):i.push(s.zmt());if(0!==i.length){a.next=12;break}if(!n.every(function(t){return t.Jpt.tpt})){a.next=8;break}return a.abrupt("break",16);case 8:return a.next=10,Mr.awrap(this.ZR.fu(Bf.Hf,t));case 10:a.next=14;break;case 12:return a.next=14,Mr.awrap(vu(Ye.race(i),t));case 14:a.next=2;break;case 16:case"end":return a.stop()}},null,this,null,Ye)},r.oAt=function(){var t=this;if(!this.Ykt){this.qkt=new uu;var n=function(){t.Ykt=void 0};this.Ykt=this.cAt(this.qkt.qs).catch(this.dbt).then(n,n)}},r.rAt=function(){var t,n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.qkt)||t.Xs(),n=this.Ykt,this.Ykt=void 0,!n){i.next=6;break}return i.next=6,Mr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,Ye)},r.cAt=function(t){var n,i,e,r,s,u,o,a,h,c,f,v,l,d=this;return Mr.async(function(_){for(;;)switch(_.prev=_.next){case 0:for((n=this.$bt).forEach(function(t){return t.Tet()}),i=[],e=[],r=[],s=0;s<n.length;s++)for(u=n[s],o=u.tkt,a=0,h=u.nkt;a<h.length;a++)c=h[a],f=c.Ayt?i:e,c.Syt?f.push(c.Eyt()):c.Iyt(this.ZR.jg)||((v=o.Opt(c.vs))?"U2"===v.vs&&v.m_t===this.Xkt?(c.Det(v),f.push(c.Eyt())):"Fpt"===v.vs&&v.m_t===this.Xkt&&(c.qX(v),f.push(c.Eyt())):r.push(o.Lpt(c.vs)));if(0!==i.length){_.next=15;break}if(!((l=Zs(n,function(t){return t.nkt.filter(function(t){return t.Ayt}).map(function(n){return t.tkt.Opt(n.vs)})})).length>0&&l.every(function(t){return void 0!==t&&"Fpt"===t.vs&&t.m_t!==d.Xkt}))){_.next=15;break}return _.next=12,Mr.awrap(function(){var i,e,r,s,u,o,a,h,c,f;return Mr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=tu(i=l,function(t){return t.m_t}).m_t,!i.every(function(t){return t.m_t===e})){v.next=20;break}return r=Js(i,function(t){return t.Vm}).Vm,v.next=7,Mr.awrap(d.fAt(i));case 7:if(s=v.sent,!d.JR.PU(s)){v.next=15;break}return cz.Plt("Discontinuity","Seamless switch from",d.JR.uc,"to",s),v.next=12,Mr.awrap(d.JR.BU(s));case 12:cz.Plt("Discontinuity","Seamless switch complete."),v.next=17;break;case 15:return v.next=17,Mr.awrap(d.vAt(r,s,t));case 17:d.Xkt=i[0].m_t,v.next=21;break;case 20:for(u=0;u<n.length;u++)for(o=n[u],a=0,h=o.nkt;a<h.length;a++)for(c=h[a],f=o.tkt.Opt(c.vs);f&&f.m_t!==e;)o.tkt.Cyt(f),f=o.tkt.Opt(c.vs);case 21:return v.abrupt("return","continue");case 22:case"end":return v.stop()}},null,null,null,Ye)}());case 12:if("continue"!==_.sent){_.next=15;break}return _.abrupt("continue",0);case 15:if(0!==i.length||0!==e.length||0!==r.length){_.next=19;break}return n.every(function(t){return t.nkt.length>0&&t.nkt.every(function(t){return t.Iyt(d.ZR.jg)})})&&this.JR._z(),_.abrupt("break",23);case 19:return _.next=21,Mr.awrap(vu(Ye.race([].concat(i,e,r)),t));case 21:_.next=0;break;case 23:case"end":return _.stop()}},null,this,null,Ye)},r.fAt=function(t){var n,i,e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.map(function(t){return t.Upt.VH}),i=n.map(function(t){return{Pl:t}}),(e=Zs(t,function(t){return t.Upt.f_t})).push.apply(e,this.E8.t5.Lgt),r=this.ayt.contentProtection,u.next=7,Mr.awrap(Oz(r,n,e,this.dE));case 7:return 0===(s=u.sent).length&&this.JR&&this.JR.uc.NN.length>0&&(s=this.JR.uc.NN),u.abrupt("return",{vs:Rb.AE,kV:i,NN:s});case 10:case"end":return u.stop()}},null,this,null,Ye)},r.vAt=function(t,n,i){var e,r,s,u,o,a;return Mr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(r=this.JR,s=r.Hg,!(u=this.jg<t)){h.next=19;break}h.prev=4,cz.Plt("Discontinuity","Marking end of stream and waiting for ended to switch discontinuity."),r._z();case 7:if(this.ZR.Xg||!(this.ZR.jg<t)){h.next=12;break}return h.next=10,Mr.awrap(this.ZR.fu([Bf.Hf,Bf.mf],i));case 10:h.next=7;break;case 12:h.next=19;break;case 14:throw h.prev=14,h.t0=h.catch(4),r.cz(),r.gV(s),h.t0;case 19:return cz.Plt("Discontinuity","Perform hard switch from",null==(e=this.JR)?void 0:e.uc,"to",n),h.prev=20,this.jg<t&&(this.jg=t),this.ZR.TY(),this.hV=void 0,this.aV=void 0,this.tAt(),h.next=28,Mr.awrap(this.ZR.bw());case 28:return h.next=30,Mr.awrap(this.ZR.$h(n));case 30:this.JR=h.sent,this.mV(),this.Sct(),this.Ict(),this.JR.sV&&(this.hV=new Uq(gm.wd,this.JR.sV,this.X8,this.ykt)),this.JR.rV&&(this.aV=new Uq(gm._d,this.JR.rV,this.X8,this.ykt)),this.tAt();case 37:return h.prev=37,u&&gu(this.ZR.xy()),this.ZR.SY(),h.finish(37);case 41:this.Fkt&&(o=void 0!==this.aV&&void 0===this.Mkt,a=o?[this.hV,this.aV]:[this.hV],this.Fkt.Vpt(a)),this.Mkt&&this.Mkt.Vpt([this.aV]),cz.Plt("Discontinuity","Hard switch complete.");case 44:case"end":return h.stop()}},null,this,[[4,14],[20,,37,41]],Ye)},r.Zbt=function(t){return vu(yu(Zs(this.$bt,function(t){return t.nkt.map(function(t){return t.Eyt()})})),t)},r.Ed=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return cz.fT(Xq,"Unloading the player."),this.lAt(),this.S7(),t.next=5,Mr.awrap(this.bw());case 5:return this.ZR.EN=void 0,this.Ikt.Ed(),t.next=9,Mr.awrap(this.rN.Ed());case 9:return t.next=11,Mr.awrap(this.X8.Ed());case 11:return t.next=13,Mr.awrap(this.ykt.Ed());case 13:this.Ty.Ed(),this.Sy.Ed(),this.Ey.Ed(),this.bkt.Ed(),this.w8.Ls(),this.Lyt.Ls();case 19:case"end":return t.stop()}},null,this,null,Ye)},r.bw=function(){var t;return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return cz.fT(Xq,"Resetting the player."),this.nu(CX.Evt,this.handleBufferingErrorEvent),this.Xkt=-1,this.Nkt.Xs(),this.Nkt=new uu,this._E.Xs(),this._E=new uu,this.uG.Xs(),this.uG=new uu,this.jkt.Xs(),this.jkt=new uu,t=[this.N8,this._rt,this.sG,this.Hkt].filter(H),n.next=14,Mr.awrap(Ye.all(t.map(function(t){return t.catch(Z)})));case 14:return this.N8=void 0,this._rt=void 0,this.sG=void 0,this.Hkt=void 0,this.Pkt=void 0,this.Bkt=void 0,this.xkt=void 0,this.Okt=void 0,this.Lkt=[],this.xbt(void 0),this._bt(),n.next=27,Mr.awrap(this.wbt());case 27:return this.Mkt&&(this.Mkt.Ls(),this.Mkt=void 0),this.Fkt&&(this.Fkt.Ls(),this.Fkt=void 0),this.Ukt&&(this.Ukt.Ls(),this.Ukt=void 0),this.aV=void 0,this.hV=void 0,this.JR=void 0,this.zpt&&(this.zpt.Ls(),this.zpt=void 0),this.E8&&(this.E8.Ls(),this.E8=void 0),this.Ckt&&(this.Ey.GR(this.Ckt.Py),this.Ckt=void 0),n.next=38,Mr.awrap(this.rN.bw());case 38:return n.next=40,Mr.awrap(this.X8.bw());case 40:return n.next=42,Mr.awrap(this.ykt.bw());case 42:return this.ZR.UN(),n.next=45,Mr.awrap(this.ZR.bw());case 45:this.ayt=void 0,this.C8=void 0,this.Rkt=!1,this.pD=1,this.cV=WS.vD(),this.Zkt=void 0,this.p8=void 0,this.Jkt=void 0,this.O8=!1,this.A8=!1,this.tbt=!1,this.q8=0,this.bkt.bw(),this.dAt(),this.Qs(new Sy(this.jg,this.$w));case 60:case"end":return n.stop()}},null,this,null,Ye)},r.dAt=function(){for(var t=0,n=this.Ty.Aw;t<n.length;t++){n[t].Ed()}for(var i=0,e=this.Sy.Aw;i<e.length;i++){e[i].Ed()}for(var r=0,s=this.Ey.Aw;r<s.length;r++){s[r].Ed()}this.Ty.bw(),this.Sy.bw(),this.Ey.bw(),this.Skt.clear()},r.Ebt=function(){this.bkt.Ks(zq,this.$s),this.bkt.Ks(Ty.Ug,this.lN),this.bkt.Ks(Ty.Fg,this.fbt),this.bkt.Ks(Ty.xg,this.lbt),this.ED.Ks("sL",this.Tct),this.ED.Ks("hL",this.Ect),this.ZR.Ks(Vq,this.$s),this.ZR.Ks(Bf.lf,this.handleContentProtectionErrorEvent),this.ZR.Ks(Bf.gf,this.ebt),this.ZR.Ks(Bf.mf,this.sbt),this.ZR.Ks(Bf.If,this.ubt),this.ZR.Ks(Bf.Rf,this.obt),this.ZR.Ks(Bf.Nf,this.abt),this.ZR.Ks(Ty.ow,this.RE),this.ZR.Ks(Bf.Hf,this.Gq),this.ZR.Ks(Bf.xf,this.dV),this.ZR.Ks(Bf.Bf,this.vN),this.ZR.Ks(Bf.Xf,this.cbt)},r.lAt=function(){this.bkt.nu(zq,this.$s),this.bkt.nu(Ty.Ug,this.lN),this.bkt.nu(Ty.Fg,this.fbt),this.bkt.nu(Ty.xg,this.lbt),this.ED.nu("sL",this.Tct),this.ED.nu("hL",this.Ect),this.ZR.nu(Vq,this.$s),this.ZR.nu(Bf.lf,this.handleContentProtectionErrorEvent),this.ZR.nu(Bf.gf,this.ebt),this.ZR.nu(Bf.mf,this.sbt),this.ZR.nu(Bf.If,this.ubt),this.ZR.nu(Bf.Rf,this.obt),this.ZR.nu(Bf.Nf,this.abt),this.ZR.nu(Ty.ow,this.RE),this.ZR.nu(Bf.Hf,this.Gq),this.ZR.nu(Bf.xf,this.dV),this.ZR.nu(Bf.Bf,this.vN),this.ZR.nu(Bf.Xf,this.cbt)},T(e,[{key:"Cbt",get:function(){for(var t=[this.Pkt,this.Bkt].filter(H),n=0;n<t.length;n++){var i=t[n];if(!i.qvt.k_t)return!1;var e=i.qvt.UZ,r=e[e.length-1];if(r&&r.m_t!==this.Xkt)return!1}return!0}},{key:"dlt",get:function(){return this.Dkt}},{key:"klt",get:function(){return this.Pkt}},{key:"Alt",get:function(){return this.Bkt}},{key:"bbt",get:function(){return this.xkt}},{key:"Cy",get:function(){return this.Ty}},{key:"nm",get:function(){return this.ZR.nm.qN()}},{key:"glt",get:function(){var t=[];if(this.Dkt)for(var n=this.ZR.jg,i=0,e=this.$bt;i<e.length;i++)for(var r=0,s=e[i].nkt;r<s.length;r++){var u=s[r].Nyt(n);u&&!Ys(t,u)&&t.push(u)}return t}},{key:"im",get:function(){if(this.Dkt){var t=this.ZR.jg;return this.Dkt.O_t(t)}},set:function(t){if(t&&this.Dkt){var n=this.Dkt.L_t(t);void 0!==n&&(this.jg=n)}}},{key:"jg",get:function(){var t;return null!=(t=this.Zkt)?t:this.ZR.jg},set:function(t){cz.fT(Xq,"Seeking to "+t+" s."),this.Zkt=t,this.Jkt=!0,this.O8=!0,this.Qs(new Ly(t)),this.uG.Xs(),this.Rkt&&this.mbt(t)}},{key:"Hg",get:function(){var t,n,i,e,r,s,u;return this.Cbt?this.ZR.Hg:null!=(t=null!=(n=null!=(i=null==(e=this.Pkt)?void 0:e.qvt.Hg)?i:null==(r=this.Bkt)?void 0:r.qvt.Hg)?n:null==(s=this.E8)?void 0:null==(u=s.oyt)?void 0:u.qvt.Hg)?t:1/0}},{key:"Xg",get:function(){if(!this.Cbt)return!1;if(this.Gg&&this.Rkt){var t,n,i=this.jg,e=null==(t=this.Pkt)?void 0:t.qvt.Hg,r=null==(n=this.Bkt)?void 0:n.qvt.Hg;return!(void 0!==e&&i<e)&&!(void 0!==r&&i<r)}return this.ZR.Xg}},{key:"mu",get:function(){return this.tN}},{key:"zg",get:function(){return this.nN}},{key:"By",get:function(){}},{key:"hm",get:function(){return!1}},{key:"cm",get:function(){return Fr({},{fm:0,vm:0,lm:0,dm:0,_m:0,wm:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.ZR.GN(),{_m:this.q8,dm:this.ED.JO.PR})}},{key:"t5",get:function(){var t;return null==(t=this.E8)?void 0:t.t5}},{key:"Vg",get:function(){return this.ZR.Vg},set:function(t){this.ZR.Vg=t}},{key:"gm",get:function(){return this.b4},set:function(t){this.b4!==t&&(this.b4=t,this.Qs(t?new GM:new YM))}},{key:"qg",get:function(){return this.ZR.qg}},{key:"Wg",get:function(){return this.ZR.Wg},set:function(t){cz.fT(Xq,"Setting playback rate to "+t+"."),this.ZR.Wg=t}},{key:"ym",get:function(){return this.K9.qN()}},{key:"K9",get:function(){return this.ZR.ym}},{key:"mm",get:function(){return this.iN},set:function(t){this.iN!==t&&(this.iN=t,this.Dbt())}},{key:"$w",get:function(){var t=this.ZR.$w;return this.A8&&(t=w.max(sy.Cg,t)),t}},{key:"pm",get:function(){return this.X9.qN()}},{key:"X9",get:function(){var t=this.cV,n=[this.Pkt,this.Bkt].filter(H);if(t.Tw>0&&n.some(function(t){return!t.qvt.k_t})){var i=this.K9,e=t.NC(t.Tw-1);if(i.Tw>0&&i.NC(i.Tw-1)>e){var r=i.NC(i.Tw-1),s=n.reduce(function(t,n){return t.XC(n.qvt.Kwt)},new WS([0,1/0]));s.Tw>0&&(r=w.min(r,s.NC(s.Tw-1))),t=t.YC(new WS([e,r]))}}return t}},{key:"Gg",get:function(){var t;return null!=(t=this.Jkt)?t:this.ZR.Gg}},{key:"YN",get:function(){}},{key:"Py",get:function(){return this.Ey}},{key:"Dy",get:function(){return this.Sy}},{key:"Yg",get:function(){return this.ZR.Yg}},{key:"$g",get:function(){return this.ZR.$g}},{key:"Qg",get:function(){return this.ZR.Qg},set:function(t){cz.fT(Xq,"Setting volume to "+t+"."),this.ZR.Qg=t}},{key:"Am",get:function(){return this.aN}},{key:"Tm",get:function(){return!1},set:function(t){}},{key:"$N",get:function(){return this.oN}},{key:"$bt",get:function(){return[this.Mkt,this.Fkt,this.Ukt].filter(H)}}]),e}(Tu),Yq=function(){function t(){}return t.prototype.KN=function(n,i){var e;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(vy(n.type)){i.next=2;break}return i.abrupt("return",!1);case 2:if(!n.useNativePlayback){i.next=4;break}return i.abrupt("return",!1);case 4:if(!(e=n.contentProtection)||MA(e)){i.next=12;break}if(jA(e)){i.next=8;break}return i.abrupt("return",!1);case 8:return i.next=10,Mr.awrap(t.pZ(e));case 10:if(i.sent){i.next=12;break}return i.abrupt("return",!1);case 12:return i.abrupt("return",!0);case 13:case"end":return i.stop()}},null,null,null,Ye)},t.pZ=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.aes128){n.next=2;break}return n.abrupt("return",!0);case 2:if(n.t0=t.playready,!n.t0){n.next=7;break}return n.next=6,Mr.awrap(i.Dr());case 6:n.t0=n.sent;case 7:if(!n.t0){n.next=9;break}return n.abrupt("return",!0);case 9:if(n.t1=t.widevine,!n.t1){n.next=14;break}return n.next=13,Mr.awrap(i.Pr());case 13:n.t1=n.sent;case 14:if(!n.t1){n.next=16;break}return n.abrupt("return",!0);case 16:if(n.t2=t.clearkey,!n.t2){n.next=21;break}return n.next=20,Mr.awrap(i.Nr());case 20:n.t2=n.sent;case 21:if(!n.t2){n.next=23;break}return n.abrupt("return",!0);case 23:if(!t.fairplay){n.next=25;break}return n.abrupt("return",!1);case 25:return n.next=27,Mr.awrap(i.Ir());case 27:if(!n.sent){n.next=29;break}return n.abrupt("return",!0);case 29:return n.abrupt("return",!1);case 30:case"end":return n.stop()}},null,null,null,Ye)},t}(),$q=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).gC=n,e}return E(n,t),n.prototype.r9=function(){this.Qs(new Hy(this.jg,this.$w))},T(n,[{key:"$w",get:function(){return this.gC.$w}}]),n}(iA);function Qq(t){var n=zs(t,function(t){return t.Wvt}),e=t.filter(function(t){return t.Gvt}),r=i.zr,s=e.map(function(t){return t.Fw}).filter(H),u=Dq(s,r);return u?zs(e,function(t){return t.Fw===u}):n}function Kq(t,n,i){var e=function(t,n){if(void 0===n)return t;var i=n.preferredVideoCodecs,e=n.preferredAudioCodecs;if(void 0!==i){for(var r,s=function(n){var s=i[n],u=t.filter(function(t){return t.VH&&t.VH.XH&&fD(t.VH.XH,s)});if(0===u.length)return"continue";if(void 0===e)return{v:u};void 0===r&&(r=u);var o=Zq(u,e);return void 0!==o?{v:o}:void 0},u=0;u<i.length;u++){var o=s(u);if("continue"!==o&&"object"==typeof o)return o.v}if(void 0!==r)return r}if(void 0!==e){var a=Zq(t,e);if(void 0!==a)return a}return t}(t,n);switch(i.uL.type){case zR.BANDWIDTH:var r=i.pL,s=e.filter(function(t){return t.PR<=r});if(s.length>0)return tu(s,function(t){return t.PR});case zR.PERFORMANCE:return Js(e,function(t){return t.PR});case zR.QUALITY:return tu(e,function(t){return t.PR})}}function Zq(t,n){for(var i=function(i){var e=n[i],r=t.filter(function(t){return t.VH&&t.VH.zH&&fD(t.VH.zH,e)});return 0===r.length?"continue":{v:r}},e=0;e<n.length;e++){var r=i(e);if("continue"!==r&&"object"==typeof r)return r.v}}function Jq(t){var n;return null!=(n=Qq(t))?n:t[0]}function tW(t){return t.filter(function(t){return t.Ult.some(function(t){return t.qvt.igt<i.Gn()-Wq})||0===t.Ult.length})}var nW=function(){function t(){}var i=t.prototype;return i.Myt=function(t,i,e){var r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Mr.awrap(crypto.subtle.importKey("raw",i,{name:"AES-CBC"},!1,["decrypt"]));case 3:return r=u.sent,u.next=6,Mr.awrap(crypto.subtle.decrypt({name:"AES-CBC",iv:e},r,t));case 6:return s=u.sent,u.abrupt("return",new p(s));case 10:throw u.prev=10,u.t0=u.catch(0),new lf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.");case 13:case"end":return u.stop()}},null,null,[[0,10]],Ye)},i.Ls=function(){},t.mc=function(){return"undefined"!=typeof crypto&&void 0!==crypto.subtle&&void 0!==crypto.subtle.decrypt},t}(),iW=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).data=i,e}return E(n,t),n}(Eu),eW=["message","messageerror","error"],rW=function(t){function n(n){var i;return(i=t.call(this,Ug.Vw)||this).error=n,i}return E(n,t),n}(Eu),sW=function(t){function n(n){var i;return(i=t.call(this)||this)._At=void 0,i.wAt=void 0,i.gAt=[],i.yAt=function(t){if(i.mAt)t.pAt();else{i._At=t,i._At.Ks(eW,i.$s);for(var n=0,e=i.gAt;n<e.length;n++){var r=e[n];t.kAt(r._u,r.bAt)}Qs(i.gAt)}},i.AAt=function(t){if(!i.mAt){var n=t instanceof v?t:new v("Could not create Worker.");i.Qs(new rW(n)),i.pAt()}},i.wAt=new uu,n(i.wAt.qs).then(i.yAt,i.AAt),i}E(n,t);var i=n.prototype;return i.kAt=function(t,n){this.mAt||(void 0!==this._At?this._At.kAt(t,n):this.gAt.push({_u:t,bAt:n}))},i.pAt=function(){this.mAt||(this.wAt.Xs(),Qs(this.gAt),void 0!==this._At&&this._At.pAt())},T(n,[{key:"mAt",get:function(){return this.wAt.qs.Ds}}]),n}(Tu);var uW=function(t){function n(n){var i;return(i=t.call(this)||this)._At=void 0,i.TAt=function(t){i.Qs(new iW("message",t.data))},i.SAt=function(t){i.Qs(new iW("messageerror",t.data))},i.VG=function(t){null==t.preventDefault||t.preventDefault();var n=t.error instanceof v?t.error:new v(t.message);i.Qs(new rW(n)),i.pAt()},i._At=new k(n),i._At.addEventListener("message",i.TAt),i._At.addEventListener("messageerror",i.SAt),i._At.addEventListener("error",i.VG),i}E(n,t);var i=n.prototype;return i.kAt=function(t,n){n?this._At.postMessage(t,n):this._At.postMessage(t)},i.pAt=function(){this.tu(),this._At.removeEventListener("message",this.TAt),this._At.removeEventListener("messageerror",this.SAt),this._At.removeEventListener("error",this.VG),this._At.terminate()},n}(Tu),oW=0,aW="iframe.html",hW=function(n){function e(e,r){var u;(u=n.call(this)||this).Oh=void 0,u.EAt=void 0,u.IAt=void 0,u.RAt=void 0,u.NAt=function(){u.IAt.removeEventListener("load",u.NAt),u.IAt.contentWindow.postMessage({type:"initialize",id:u.Oh,script:u.EAt},"*")},u.CAt=function(t){t.origin===u.RAt&&t.data.id===u.Oh&&("initialized"===t.data.type||("error"===t.data.type?(u.Qs(new rW(new v(t.data.data.message))),u.pAt()):u.Qs(new iW("message",t.data.data))))},u.Oh=oW++,u.EAt=e;var o,a,h=i.Or(aW,r);return u.IAt=(o=h.href,(a=s.createElement("iframe")).width="0",a.height="0",a.style.display="none",a.src=o,s.body.appendChild(a),a),u.RAt=h.origin,u.IAt.addEventListener("load",u.NAt),t.addEventListener("message",u.CAt),u}E(e,n);var r=e.prototype;return r.kAt=function(t,n){n?this.IAt.contentWindow.postMessage({type:"message",data:t},"*",n):this.IAt.contentWindow.postMessage({type:"message",data:t},"*")},r.pAt=function(){var n;this.IAt.removeEventListener("load",this.NAt),t.removeEventListener("message",this.CAt),null==(n=this.IAt.contentWindow)||n.postMessage({type:"terminate"},"*"),rr(this.IAt)},e}(Tu);function cW(t,n){return t=i.Lr(t,n),new sW(function(e){return function(t,n,e){var r,s,u,o,a,h,c,f;return Mr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,r=new uW(t),v.next=4,Mr.awrap(dW(r,e));case 4:return v.abrupt("return",r);case 7:v.prev=7,v.t0=v.catch(0),null==(s=r)||s.pAt(),cu(v.t0);case 11:if(!lW||!Df){v.next=42;break}return v.prev=12,v.next=15,Mr.awrap(i.L_.$l({Kl:t,md:c_.GET,Wl:xf.Jn,qs:e}));case 15:return o=v.sent,v.next=18,Mr.awrap(o.Rl(e));case 18:u=v.sent,v.next=24;break;case 21:v.prev=21,v.t1=v.catch(12),cu(v.t1);case 24:if(!u){v.next=42;break}return v.prev=25,h=Df([u],{type:"application/javascript"}),a=URL.createObjectURL(h),r=new uW(a),v.next=31,Mr.awrap(dW(r,e));case 31:return v.abrupt("return",r);case 34:v.prev=34,v.t2=v.catch(25),null==(c=r)||c.pAt(),cu(v.t2),lW=!1;case 39:return v.prev=39,a&&URL.revokeObjectURL(a),v.finish(39);case 42:return v.prev=42,r=new hW(t,n),v.next=46,Mr.awrap(dW(r,e));case 46:return v.abrupt("return",r);case 49:throw v.prev=49,v.t3=v.catch(42),null==(f=r)||f.pAt(),v.t3;case 53:case"end":return v.stop()}},null,null,[[0,7],[12,21],[25,34,39,42],[42,49]],Ye)}(t,n,e)})}var fW,vW,lW=!0;function dW(t,i){var e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Mr.awrap(t.fu(["message","error"],i));case 2:if("error"!==(e=r.sent).type){r.next=5;break}throw u=e.error,new lf(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",u);case 5:if(W(s=e.data)&&"4.8.0"===s.DAt){r.next=7;break}throw new lf(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (4.8.0).");case 7:return r.abrupt("return",e);case 8:case"end":return r.stop()}var s,u},null,null,null,Ye)}!function(t){t.PAt="Myt",t.BAt="umt"}(fW||(fW={})),function(t){t.xAt="OAt",t.LAt="MAt"}(vW||(vW={}));var _W=function(){function t(t){var e=this;this.FAt=void 0,this.UAt=void 0,this._At=void 0,this.jAt=0,this.HAt=jr(),this.XAt=function(t){var i=t.data,r=i.zAt,s=e.HAt.get(r);s&&(e.HAt.delete(r),i.VAt===vW.xAt?s.Wu(i.qAt):i.VAt===vW.LAt&&s.Gu(new lf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.")))},this.s_=function(t){var i=new lf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,t.error.message,t.error);e.Ls(i)},this.FAt=t;try{this.UAt=i.Lr("theoplayer.d.js",t)}catch(t){throw new lf(n.ErrorCode.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}}var e=t.prototype;return e.WAt=function(){var t=cW(this.UAt,this.FAt);return t.Ks("message",this.XAt),t.Ks("error",this.s_),t},e.Myt=function(t,n,i){var e=""+ ++this.jAt,r={GAt:fW.PAt,YAt:e,$At:t,QAt:n,KAt:i},s=new ea;return this.HAt.set(e,s),null!=this._At||(this._At=this.WAt()),this._At.kAt(r),s.Hu},e.Ls=function(t){void 0===t&&(t=new ou),this.HAt.forEach(function(n){return n.Gu(t)}),this.HAt.clear(),this._At&&(this._At.pAt(),this._At=void 0)},t}();function wW(t,n){if(void 0===n.ZAt)return{zH:void 0,XH:t};if(void 0===n.JAt)return{zH:t,XH:void 0};for(var i=Mc(t),e=yW(i),r=yW(i),s=0;s<i.boxes.length;s++){var u=i.boxes[s];LC(u)&&(e.boxes[s]=bW(u,n.JAt),r.boxes[s]=bW(u,n.ZAt))}var o=e.serialize().join(),a=r.serialize().join();return{zH:o,XH:a}}function gW(t){var n=zs(t.boxes,xC);if(n){var i=zs(n.boxes,OC);if(i)return i.handlerType}}function yW(t){var n,i=new Dc;return(n=i.boxes).push.apply(n,t.boxes),i}function mW(t){var n,i=new qh;return(n=i.boxes).push.apply(n,t.boxes),i}var pW=8;function kW(t,n){for(var i=function(t){var n,i=new ec;return(n=i.boxes).push.apply(n,t.boxes),i}(t),e=AW(n),r=0;r<i.boxes.length;r++){var s=i.boxes[r];if(s===n)i.boxes[r]=new gh(new p(n.getSize()-pW));else if(s instanceof qh){var u=s,o=qs(u.boxes,function(t){return t instanceof zh&&t.trackId===e});if(o>=0){var a=u.boxes[o],h=mW(u);h.boxes[o]=new gh(new p(a.getSize()-pW)),i.boxes[r]=h}}}return i}function bW(t,n){for(var i=function(t){var n,i=new _c;return(n=i.boxes).push.apply(n,t.boxes),i}(t),e=0;e<i.boxes.length;e++){var r=i.boxes[e];if(r instanceof lc){var s=zs(r.boxes,MC);s&&s.trackId===n&&(i.boxes[e]=new gh(new p(r.getSize()-pW)))}}return i}function AW(t){return zs(t.boxes,BC).trackId}function TW(t,n,i){for(var e=zs(t.boxes,MC),r=!0,s=0,u=t.boxes;s<u.length;s++){var o=u[s];if(o instanceof oc)o.baseMediaDecodeTime=o.baseMediaDecodeTime.subtract(i.Sk(n).Yp());else if(o instanceof uc)o.baseMediaDecodeTime-=i.mp(n);else if(o instanceof fc&&o.samples.length>0&&r){r=!1;var a=o.samples;if(!o.flags.sampleDurationPresent){o.flags.sampleDurationPresent=!0;for(var h=e.defaultSampleDuration,c=0;c<a.length;c++){a[c].duration=h}}a[0].duration+=i.mp(n),o.samples=a}}}function SW(t,n){var i=kk(Rk.NA(Yo(t)),Pp.Ob);if(!i)throw new v("Mp4Transmuxer - Unable to parse segment or part.");return function(t,n){for(var i=[],e=function(t,e){var r=e[t];if(!r.gS||0===r.wS.length||0===r.wS[0].AS.length)return"continue";for(var s=r.bA.eT,u=zs(n.VA,function(t){return t.eT===s}),o=0,a=1/0,h=0,c=r.bA.uS||0,f=0,v=r.wS;f<v.length;f++)for(var l=0,d=v[f].AS;l<d.length;l++){var _,w=d[l],g=w.TS||0,y=o+g,m=(o+=null!=(_=w.Hg)?_:c)+g;y<a&&(a=y),m>h&&(h=m)}var p=yp.Mp(r.gS.gS,u.yk);i.push({eT:s,tTt:p,SK:p.Em(yp.Fp(a,u.yk)),nTt:p.Em(yp.Fp(o,u.yk)),iTt:p.Em(yp.Fp(h,u.yk))})},r=0,s=t.VA;r<s.length;r++)e(r,s);return i}(i,n)}var EW,IW=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,i,e,r,s)||this).b_=void 0,u.eTt=void 0,u.rTt=void 0,u.sTt=void 0,u.uTt=void 0,u.oTt=0,u.aTt=0,u.hTt=Hr(),u.b_=n,u}E(i,t);var e=i.prototype;return e.Cpt=function(n,i){return t.prototype.Cpt.call(this,n,i)},e.cTt=function(t){var n;return this.hTt.has(t.m_t)?n=this.hTt.get(t.m_t):(n=Mq(t.U2.Hi.Hi),this.hTt.set(t.m_t,n)),n},e.Ppt=function(i,e){var r,s,u,o,a,h,c,f,v,l,d,_,w,g,y,m,p,k,b,A,T,S,E,I,R;return Mr.async(function(N){for(;;)switch(N.prev=N.next){case 0:if(hu(e),s=this.cTt(i),u=i.U2,s===Bq.wkt||s===Bq._kt){N.next=5;break}return N.abrupt("return",t.prototype.Ppt.call(this,i,e));case 5:if(!u.Dyt.f_t.some(NW)){N.next=7;break}throw new lf(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"SAMPLE-AES encryption is not supported for MPEG-TS or Packed Audio segments");case 7:if(o=this.b_.fTt(),s!==Bq.wkt){N.next=14;break}return N.next=11,Mr.awrap(o.vTt({data:u.Hi.Hi,metadata:this.eTt}));case 11:a=N.sent,N.next=17;break;case 14:return N.next=16,Mr.awrap(o.lTt({data:u.Hi.Hi,metadata:this.eTt}));case 16:a=N.sent;case 17:if(hu(e),this.Bpt({zH:a.metadata.audio_codec,XH:a.metadata.video_codec,qH:void 0}),h=yp.Mp(lt.fromBits(a.metadata.first_decode_timestamp.low,a.metadata.first_decode_timestamp.high),a.metadata.first_decode_timestamp.base),c=yp.Mp(lt.fromBits(a.metadata.first_presentation_timestamp.low,a.metadata.first_presentation_timestamp.high),a.metadata.first_presentation_timestamp.base),u.Dyt.TK=c,this.xpt(),this.Sgt.ugt(i.m_t)){N.next=30;break}for(f=yp.Dk(u.Dyt.Vm),v=0,l=this.Mpt;v<l.length;v++)d=l[v],this.Sgt._gt(i.m_t,d,h,f,!0);if(this.xpt(),this.Sgt.ugt(i.m_t)){N.next=30;break}return N.next=30,Mr.awrap(vu(this.Sgt.ogt(i.m_t),e));case 30:if(_=this.Sgt.dgt(h,u.Dyt),this.eTt=a.metadata,w={n_t:i.n_t,jpt:bq(u.Dyt),Vm:u.Dyt.Vm,Hg:null!=(r=u.Dyt.Hg)?r:0,Kk:_.pp(),m_t:i.m_t,vlt:i.vlt,Dyt:u.Dyt},void 0!==a.data.audio_media||void 0!==a.data.video_media){N.next=36;break}for(g=0,y=this.Mpt;g<y.length;g++)m=y[g],p=Fr({vs:"U2",Hi:void 0,b5:m},w),this.spt(p);return N.abrupt("return");case 36:k=[],void 0!==a.data.audio_media&&(!a.data.audio_init||this.rTt&&this.oTt===i.m_t&&Gu(this.rTt,a.data.audio_init)||(b={vs:"Fpt",Hi:{vs:kC.WU,Hi:a.data.audio_init},b5:gm._d,m_t:i.m_t,Upt:{VH:'audio/mp4; codecs="'+a.metadata.audio_codec+'"',f_t:u.Dyt.f_t},Vm:u.Dyt.Vm,vlt:i.vlt,Dyt:u.Dyt},this.rTt=a.data.audio_init,this.oTt=i.m_t,this.spt(b)),A=Fr({vs:"U2",Hi:{vs:kC.WU,Hi:a.data.audio_media},b5:gm._d},w),this.spt(A)),void 0!==a.data.video_media&&(!a.data.video_init||this.sTt&&this.aTt===i.m_t&&Gu(this.sTt,a.data.video_init)||(T={vs:"Fpt",Hi:{vs:kC.WU,Hi:a.data.video_init},b5:gm.wd,m_t:i.m_t,Upt:{VH:'video/mp4; codecs="'+a.metadata.video_codec+'"',f_t:u.Dyt.f_t},Vm:u.Dyt.Vm,vlt:i.vlt,Dyt:u.Dyt},this.sTt=a.data.video_init,this.aTt=i.m_t,this.uTt=KC(Yo(a.data.video_init)),this.spt(T)),S=this.uTt.VA[0],E=SW(a.data.video_media,this.uTt)[0],I=this.dTt(a.data.video_media,S,E,u.Dyt),this._Tt=S,R=Fr({vs:"U2",Hi:{vs:kC.WU,Hi:I},b5:gm.wd},w),this.spt(R),k.push(E)),this.wTt=u.Dyt,this.gTt=k;case 41:case"end":return N.stop()}},null,this,null,Ye)},e.Xs=function(){this.rTt=void 0,this.sTt=void 0,t.prototype.Xs.call(this)},i}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).jX=void 0,n.yTt=void 0,n.wTt=void 0,n.gTt=void 0,n._Tt=void 0,n}E(n,t);var i=n.prototype;return i.Cpt=function(t,n){hu(n);var i=this.vlt.vs,e=KC(Yo(t.w_t.Hi.Hi));if(!e)throw new v("Mp4Transmuxer - Unable to parse "+i+" MP4 initializer.");this.jX=e;var r=function(t){for(var n,i,e,r=0,s=t.VA;r<s.length;r++){var u=s[r];n||(n=u.VH.zH),i||(i=u.VH.XH),e||(e=u.VH.qH)}if(n||i)return{zH:n,XH:i,qH:e};return}(e);r&&this.Bpt(r);var s=function(t){var n=Mc(t),i=zs(n.boxes,DC),e=i.boxes.filter(PC),r=zs(e,function(t){return gW(t)===Sh.AUDIO}),s=zs(e,function(t){return gW(t)===Sh.VIDEO}),u={ZAt:r?AW(r):void 0,JAt:s?AW(s):void 0};if(!r||!s)return{zH:r?t:void 0,XH:s?t:void 0,QS:u};var o=yW(n),a=yW(n),h=n.boxes.indexOf(i);o.boxes[h]=kW(i,s),a.boxes[h]=kW(i,r);var c=o.serialize().join(),f=a.serialize().join();return{zH:c,XH:f,QS:u}}(t.w_t.Hi.Hi);if(this.yTt=s.QS,s.XH){var u=zs(e.VA,function(t){return t.eT===s.QS.JAt}),o={vs:"Fpt",Hi:{vs:kC.WU,Hi:s.XH},b5:gm.wd,m_t:t.m_t,Upt:{VH:'video/mp4; codecs="'+u.VH.XH+'"',f_t:t.f_t},Vm:t.Vm,vlt:this.vlt,Dyt:t.w_t.Dyt};this.spt(o)}if(s.zH){var a=zs(e.VA,function(t){return t.eT===s.QS.ZAt}),h={vs:"Fpt",Hi:{vs:kC.WU,Hi:s.zH},b5:gm._d,m_t:t.m_t,Upt:{VH:'audio/mp4; codecs="'+a.VH.zH+'"',f_t:t.f_t},Vm:t.Vm,vlt:this.vlt,Dyt:t.w_t.Dyt};this.spt(h)}return Ye.resolve()},i.Ppt=function(t,n){var i,e,r,s,u,o,a,h,c,f,v,l,d,_,w,g,y,m,p,k;return Mr.async(function(b){for(;;)switch(b.prev=b.next){case 0:if(hu(n),e=t.U2.Dyt,r=this.vlt.vs,cz.fT("Mp4Transmuxer","Got media data, transmuxing for "+r+" track: "+qX(e.Y0)),s=t.U2.Hi,(u=SW(s.Hi,this.jX)).length>0&&(o=nu(u.map(function(t){return t.SK}),mp),e.TK=o,this.xpt()),this.Sgt.ugt(t.m_t)){b.next=13;break}if(a=yp.Dk(e.Vm),u.length>0){for(h=nu(u.map(function(t){return t.tTt}),mp),c=0,f=this.Mpt;c<f.length;c++)v=f[c],this.Sgt._gt(t.m_t,v,h,a,!1);this.xpt()}if(this.Sgt.ugt(t.m_t)){b.next=13;break}return b.next=13,Mr.awrap(vu(this.Sgt.ogt(t.m_t),n));case 13:l=this.Sgt.fgt(t.m_t),d={n_t:t.n_t,jpt:bq(e),Vm:e.Vm,Hg:null!=(i=e.Hg)?i:0,Kk:l.pp(),m_t:t.m_t,vlt:t.vlt,Dyt:t.U2.Dyt},(_=wW(s.Hi,this.yTt)).XH&&(w=this.yTt.JAt,g=zs(this.jX.VA,function(t){return t.eT===w}),y=zs(u,function(t){return t.eT===w}),m=this.dTt(_.XH,g,y,e),this._Tt=g,p=Fr({vs:"U2",Hi:{vs:kC.WU,Hi:m},b5:gm.wd},d),this.spt(p)),_.zH&&(k=Fr({vs:"U2",Hi:{vs:kC.WU,Hi:_.zH},b5:gm._d},d),this.spt(k)),this.wTt=e,this.gTt=u;case 20:case"end":return b.stop()}},null,this,null,Ye)},i.dTt=function(t,n,i,e){if(!function(t){return mV(t)?t.__t:0===t.V_t&&t.z_t.__t}(e))return t;if(!this.wTt||!this._Tt||!this.gTt)return t;var r=this._Tt.eT,s=zs(this.gTt,function(t){return t.eT===r}),u=this.Sgt.vgt(s.iTt,this.wTt),o=this.Sgt.vgt(i.SK,e).Dp(u).Sk(n.yk);if(o.Sp(yp.jp))return t;if(o.kp(yp.Dk(.5)))return t;var a=mV(e)?e:e.z_t;return cz.Plt("Mp4Transmuxer","Stretching first video frame of segment #"+a.n_t+" to fill gap of "+o.pp()+"s"),function(t,n,i){var e=Mc(t),r=zs(e.boxes,LC);if(r){for(var s=r.getSize(),u=0,o=r.boxes;u<o.length;u++){var a=o[u];a instanceof lc&&TW(a,n,i)}var h=r.getSize();if(h!==s)for(var c=h-s,f=0,v=r.boxes;f<v.length;f++){var l=v[f];l instanceof lc&&FC(l,c)}}return e.serialize().join()}(t,n.yk,o)},n}(kq)),RW=function(){function t(){}return t.prototype.z6=function(t,n,i,e){return new IW(this,t,n,i,e)},t}();function NW(t){return t.md===XX.Xvt}!function(t){t[t.MPEGTS_TO_FMP4=0]="MPEGTS_TO_FMP4",t[t.RAW_AUDIO_TO_FMP4=1]="RAW_AUDIO_TO_FMP4"}(EW||(EW={}));var CW=function(){function t(t){var e=this;this.FAt=void 0,this.UAt=void 0,this.mTt=void 0,this._At=void 0,this.jAt=0,this.HAt=Hr(),this.pTt=0,this.XAt=function(t){var n=t.data;if(void 0!==n.requestId){var i=e.HAt.get(n.requestId);if(!i)return;e.HAt.delete(n.requestId),n.success?i.Wu(n.output):i.Gu(new lf(n.errorCode,n.error))}else n.success||e.Ls(new lf(n.errorCode,n.error))},this.s_=function(t){var i=new lf(n.ErrorCode.MEDIA_DECODE_ERROR,t.error.message,t.error);e.Ls(i)},this.FAt=t,this.mTt=function(){if("undefined"==typeof WebAssembly)return!1;var t=F.wn;return!(t>0&&t<=56)}();var r=this.mTt?"THEOplayer.transmux.js":"THEOplayer.transmux.asmjs.js";try{this.UAt=i.Lr(r,t)}catch(t){throw new lf(n.ErrorCode.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}this._At=this.WAt()}var e=t.prototype;return e.vTt=function(t){return this.kTt(EW.MPEGTS_TO_FMP4,t)},e.lTt=function(t){return this.kTt(EW.RAW_AUDIO_TO_FMP4,t)},e.WAt=function(){var t=cW(this.UAt,this.FAt);return t.Ks("message",this.XAt),t.Ks("error",this.s_),t},e.kTt=function(t,n){var i=++this.jAt;this.pTt+=1;var e={type:t,id:i,input:n},r=new ea;return this.HAt.set(i,r),this._At.kAt(e,[n.data.buffer]),r.Hu},e.Ls=function(t){void 0===t&&(t=new ou),this.HAt.forEach(function(n){return n.Gu(t)}),this.HAt.clear(),this._At.pAt()},t}(),DW=function(t){function n(n){var i;return(i=t.call(this)||this)._At=void 0,i.bTt=n,i}E(n,t);var i=n.prototype;return i.fTt=function(){var t;return null!=(t=this._At)?t:this._At=new CW(this.bTt)},i.Ls=function(){this._At&&(this._At.Ls(),this._At=void 0)},n}(RW),PW=function(){function t(t){this.bTt=t}return t.prototype.IK=function(){return new DW(this.bTt)},t}(),BW=function(t){function n(n,i,e,r,s,u){var o,a=new _X(n),h=a.TN(gm.wd);return(o=t.call(this,h,i,e,r,s,u)||this).KR=void 0,o.KR=a,o}return E(n,t),n.prototype.Ed=function(){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(t.prototype.Ed.call(this));case 2:return n.next=4,Mr.awrap(this.KR.XN(this.ZR));case 4:case"end":return n.stop()}},null,this,null,Ye)},n}(function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Gy=function(){if(NO(this.ZR))return this.ZR.Gy()},T(n,[{key:"Tm",get:function(){return!1},set:function(t){}}]),n}(Gq));LS(new(function(t){function i(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).QN=gS.pg,n}E(i,t);var e=i.prototype;return e.kI=function(t,n,i,e,r,s){return new BW(n,i,r,(u=e.libraryLocation,nW.mc()?new nW:new _W(u)),new PW(e.libraryLocation),new lO(RO.Wn.jZ,RO.Wn.FZ,RO.Wn.UZ,RO.Wn.XZ));var u},e.KN=function(i,e){var r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Mr.awrap(t.prototype.KN.call(this,i,e));case 2:if(s.sent){s.next=4;break}return s.abrupt("return",!1);case 4:if(null==(r=i.hls)||!r.useLegacy){s.next=8;break}if(Ys(cC,"hls-legacy")){s.next=7;break}throw new lf(n.ErrorCode.SOURCE_NOT_SUPPORTED,'The given source requires the "hls-legacy" feature to be enabled.');case 7:return s.abrupt("return",!1);case 8:return s.abrupt("return",!0);case 9:case"end":return s.stop()}},null,this,null,Ye)},e.ZN=function(){return!0},i}(function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.KN=function(n,i){return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.MediaSource){e.next=2;break}return e.abrupt("return",!1);case 2:if(!F.un&&!F.Xn){e.next=4;break}return e.abrupt("return",!1);case 4:if(!i.manifestMetadataTrack){e.next=6;break}return e.abrupt("return",!1);case 6:return e.abrupt("return",t.prototype.KN.call(this,n,i));case 7:case"end":return e.stop()}},null,this,null,Ye)},n}(Yq)))),cz.Bw=function(){return!(!r||!r.THEOplayerDebugLogsEnabled)};var xW=[];function OW(){xW.shift()()}function LW(t){xW.push(t),a(OW,0)}var MW=function(){function t(t){this.ATt=void 0,this.TTt=void 0,this.STt=void 0,this.STt=t}var n=t.prototype;return n.ETt=function(t){return this.ATt=this.ATt||{},void 0===this.ATt[t]&&(this.ATt[t]=[]),this.ATt[t]},n.addEventListener=function(t,n){var i=this.ETt(t);-1===i.indexOf(n)&&i.push(n)},n.Js=function(t){(this.TTt||(this.TTt=[])).push(t)},n.removeEventListener=function(t,n){var i=this.ETt(t);n?Ws(i,n):i.length=0},n.au=function(t){var n=this.TTt;n&&Ws(n,t)},n.tu=function(){this.ATt=void 0},n.dispatchEvent=function(t,n){if(n)return LW(this.dispatchEvent.bind(this,t));"string"==typeof t&&(t={type:t});for(var i=this.ETt(t.type).slice(),e=this.TTt&&this.TTt.slice(),r=0;r<i.length;r++){i[r].call(this.STt||this,t)}if(e)for(var s=0;s<e.length;s++){e[s].call(this.STt||this,t)}},n.ITt=function(t){return Boolean(this.ATt&&this.ATt[t]&&this.ATt[t].length)},n.RTt=function(){return this.ATt?_.keys(this.ATt):[]},t}(),FW=function(){function t(){this.NTt=[]}var n=t.prototype;return n.IK=function(t,n){var i=this.NTt[t];return i?new i(n):null},n.mU=function(t,n){this.NTt[t]=n},t}();FW.Wn=new FW;var UW,jW=function(t){function n(n,i){var e,r=XW[n];return(e=t.call(this,r?r._u:"")||this).code=void 0,e.info=void 0,e.helpLink=void 0,e.helpLinkText=void 0,e.code=n,e.info=i,e.helpLink=r&&r.CTt,e.helpLinkText=r&&r.DTt,e}return E(n,t),T(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(rn);!function(t){t.PTt="LICENSE_INVALID",t.BTt="MANIFEST_NOT_FOUND",t.xTt="MANIFEST_CORS_ERROR",t.OTt="INVALID_HLS_MANIFEST",t.LTt="PLAYBACK_ISSUE",t.MTt="AUDIO_ISSUE",t.FTt="BROWSER_SUPPORT_ISSUE",t.UTt="INVALID_KEY",t.LAt="DECRYPTION_ERROR",t.jTt="AD_BLOCK_DETECTED",t.HTt="THEOPLAYER_NOT_INITIALIZED",t.Vw="ERROR",t.XTt="MANIFEST_SEQUENCE_RESET_ERROR",t.zTt="PLAYER_INCORRECTLY_CONFIGURED",t.VTt="UNSUPPORTED"}(UW||(UW={}));for(var HW=[{Yu:UW.PTt,_u:"The license for this player is invalid. Please contact your service provider for additional information."},{Yu:UW.BTt,_u:"Could not load the manifest file."},{Yu:UW.xTt,_u:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",CTt:"https://www.theoplayer.com/documentation/cors.html",qTt:!1},{Yu:UW.OTt,_u:"The source of the player is an invalid HLS manifest.",CTt:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{Yu:UW.LTt,_u:"There appears to be a playback issue."},{Yu:UW.MTt,_u:"There is an audio issue. Please contact your service provider with the code below for additional information."},{Yu:UW.FTt,_u:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{Yu:UW.UTt,_u:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{Yu:UW.LAt,_u:"There is a decryption error. Please contact your service provider with the code below for additional information."},{Yu:UW.jTt,_u:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{Yu:UW.HTt,_u:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{Yu:UW.Vw,_u:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{Yu:UW.XTt,_u:"The video stream has been reset. THEOplayer will attempt to reload the source."},{Yu:UW.zTt,_u:"The player is incorrectly configured.",CTt:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{Yu:UW.VTt,_u:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],XW={},zW=0;zW<HW.length;zW++){var VW=HW[zW];XW[VW.Yu]=VW}function qW(t){return t.V_t}var WW=function(){function t(){this.tv=[],this.WTt={},this.GTt=0}var n=t.prototype;return n.YTt=function(t){var n=this.WTt[t];return void 0===n?-1:n-this.GTt},n.PZ=function(t){return this.tv[t]},n.$Tt=function(t){return this.PZ(this.YTt(t))},n.QTt=function(t){return!!this.PZ(t)},n.KTt=function(t){return!!this.$Tt(t)},n.ZTt=function(){return this.tv},n.Em=function(t){var n,i=this.tv,e=i.length?i[i.length-1]:null;if(this.YTt(t.V_t)>=0)return!1;if(e&&t.V_t>e.V_t)n=i.length;else{var r=zD(this.tv,t.V_t,qW,Us);if(r>=0)return!1;n=-(r+1)}return this.JTt(t,n),!0},n.Qh=function(t){var n=this.tv,i=this.WTt,e=this.YTt(t.V_t);return!(e<0)&&(n.splice(e,0,t),delete i[t.V_t],this.tSt(e),!0)},n.nSt=function(t){var n=this.tv,i=this.WTt;t=w.min(t,n.length);for(var e=0;e<t;e++)delete i[n[e].V_t];n.splice(0,t),this.GTt+=t},n.JTt=function(t,n){var i=this.tv;n>=i.length?i.push(t):i.splice(n,0,t),this.tSt(n)},n.tSt=function(t){for(var n=this.tv,i=this.WTt,e=this.GTt,r=n.length,s=t;s<r;s++)i[n[s].V_t]=s+e},T(t,[{key:"Tw",get:function(){return this.tv.length}}]),t}(),GW=function(){function t(t,n,i){this.iSt=void 0,this.Xyt=void 0,this.eSt=void 0,this.iSt=t,this.Xyt=n,this.eSt=i}var n=t.prototype;return n.compute=function(){return this.iSt.live?this.iSt.rSt?this.iSt.sSt:this.estimateDiscontinuitySequenceNumber():0},n.estimateDiscontinuitySequenceNumber=function(){var t=0;return this.eSt&&(t+=this.uSt()),this.oSt()&&(t+=this.aSt(t)),t},n.oSt=function(){return void 0!==this.Xyt.hSt.$Tt(this.iSt.fragments[0].V_t)},n.aSt=function(t){var n=this.iSt.fragments[0];return this.Xyt.hSt.$Tt(n.V_t).m_t-(n.m_t+t)||0},n.uSt=function(){var t=YW(this.iSt),n=YW(this.eSt.cSt),i=this.estimateMinimalOffset(n,t);return this.getOldDiscontinuitySequenceNumber(this.eSt)+i},n.estimateMinimalOffset=function(t,n){for(var i=0,e=1/0,r=0;r<t.length;r+=1){for(var s=0,u=0;u<n.length+t.length;u+=1){var o=t[u]||0,a=n[u-r]||0;s+=w.abs(o-a)}s<e&&(i=r,e=s)}return i},n.getOldDiscontinuitySequenceNumber=function(t){return t.cSt.fragments.length?this.eSt.fSt(t.cSt.fragments[0].V_t).m_t:0},t}();function YW(t){for(var n=[],i=0,e=0,r=t.fragments;e<r.length;e++){var s=r[e];s.vSt&&(n.push(i),i=0),i+=s.duration}return n.push(i),n}var $W,QW,KW;function ZW(t){return JW(t)?{Kl:t.Y0,bJ:[t.bJ.IC,t.bJ.NC],Ad:!0}:{Kl:t.toString(),Ad:!0}}function JW(t){return void 0!==t.bJ}function tG(t){return t&&t.lSt&&Sp(t.lSt)||!1}function nG(t){if(!t)return yp.jp;if(!tG(t))return yp.Dk(t.duration);var n=t.dSt||yp.jp,i=t._St||yp.jp,e=yp.Dk(t.duration);return n.qp()||i.qp()?n.qp()?i.qp()?e.qp()?yp.jp:e:i:n:yp.Tk(n,i)}function iG(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.kE)return i}return null}function eG(t){return iG(t)||function(t){return t.filter(function(t){return t.wSt})}(t)[0]||t[0]}function rG(t,n){for(var i=0;i<n.length;i++){var e=n[i];Ys(t,e)||t.push(e)}return t}function sG(t){switch(t){case QW.wd:case QW.gSt:return gm.wd;case QW._d:return gm._d}}function uG(t){switch(t){case QW.wd:case QW.gSt:return l_.wd;case QW._d:return l_._d;default:return l_.Jl}}!function(t){t.wd="video",t._d="audio",t.ySt="closedCaption",t.mSt="variant"}($W||($W={})),function(t){t[t.Jl=-1]="Jl",t[t._d=0]="_d",t[t.wd=1]="wd",t[t.gSt=2]="gSt"}(QW||(QW={})),function(t){t[t.Jl=-1]="Jl",t[t.zvt=1]="zvt",t[t.Vvt=2]="Vvt",t[t.pSt=3]="pSt",t[t.kSt=4]="kSt"}(KW||(KW={})),function(t){t.oy=function(t){return t>=KW.Vvt},t.bSt=function(t){return t===KW.Vvt||t===KW.pSt}}(KW||(KW={}));var oG=function(t){function n(){var n;return(n=t.call(this)||this).C_t=[],n.ASt=function(){return n.dispatchEvent("TSt")},n.SSt=function(){return n.dispatchEvent("ESt")},n}E(n,t);var i=n.prototype;return i.Em=function(t){this.C_t.push(t),t.addEventListener("ESt",this.SSt),t.addEventListener("ISt",this.ASt),this.dispatchEvent("RSt"),t.disabled||this.dispatchEvent("TSt")},i.Qh=function(t){var n=this.C_t.indexOf(t);n<0||(Gs(this.C_t,n),t.removeEventListener("ESt",this.SSt),t.removeEventListener("ISt",this.ASt),this.dispatchEvent("RSt"),t.disabled||this.dispatchEvent("TSt"))},i.Du=function(){for(var t=!!this.NSt.length,n=!!this.CSt.length,i=0,e=this.C_t;i<e.length;i++){e[i].removeEventListener("ISt",this.ASt)}this.C_t.length=0,t&&this.dispatchEvent("RSt"),n&&this.dispatchEvent("TSt")},i.Ed=function(){this.tu(),this.Du()},T(n,[{key:"NSt",get:function(){return this.C_t}},{key:"CSt",get:function(){return this.C_t.filter(function(t){return!t.disabled})}}]),n}(MW);function aG(t){if(!t)return null;for(var n={zH:"",XH:"",qH:""},i=t.toLowerCase().split(","),e=0;e<i.length;e++){var r=i[e],s=r.trim();"mp4a.40.5"===s||"mp4a.40.05"===s?n.zH="mp4a.40.5":"mp4a.40.2"===s||"mp4a.40.02"===s?n.zH="mp4a.40.2":"mp4a.40.29"===s?n.zH="mp4a.40.29":0===s.indexOf("mp4a.40.3")?n.zH=s:"ec-3"===s?n.zH=s:0===s.indexOf("avc")?n.XH=r:n.qH+=","+s}return n}var hG=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this)||this).Unt=void 0,a.aR=void 0,a.Oh=void 0,a.DSt=new WW,a.PSt=NaN,a.BSt=void 0,a.$_t=void 0,a.va=void 0,a.xSt=void 0,a.OSt=void 0,a.b4=!0,a.LSt=!0,a.MSt=!0,a.FSt=!1,a.USt=null,a.jSt=!1,a.Unt=n,a.aR=i,a.Oh=e||0===e?e:-1,a.$_t=r,a.xSt=Boolean(s),a.OSt=Boolean(u),a.va=o,a}E(n,t);var i=n.prototype;return i.HSt=function(t,n){var i=VI(),e=new GW(t,this,n).compute(),r=this.XSt(t.fragments),s=r.oldFragments,u=r.newFragments;this.zSt(s,i),this.VSt(u,i,e),this.BSt!==t&&this.qSt(!0),this.BSt=t,this.dispatchEvent({type:"WSt",vlt:this}),this.dispatchEvent("renditionUpdated")},i.fSt=function(t){return this.DSt.$Tt(t)},i.GSt=function(){var t=this.b4;this.b4=this.LSt&&this.MSt,t!==this.b4&&this.dispatchEvent("ESt")},i.qSt=function(t){this.LSt=t,this.GSt()},i.YSt=function(t){this.MSt=t,this.GSt()},i.$St=function(t){this.aR=t,this.dispatchEvent("renditionUpdated")},i.QSt=function(){null!==this.USt&&h(this.USt),this.dispatchEvent("ISt"),this.dispatchEvent("renditionUpdated")},i.KSt=function(t){this.jSt=t,this.QSt()},i.ZSt=function(){this.JSt(3e4)},i.JSt=function(t){var n=this;this.FSt=!0,this.QSt(),this.USt=a(function(){n.FSt=!1,n.QSt()},t)},i.XSt=function(t){void 0===t&&(t=[]);for(var n=[],i=[],e=0,r=t;e<r.length;e++){var s=r[e];this.DSt.KTt(s.V_t)?n.push(s):i.push(s)}return{oldFragments:n,newFragments:i}},i.zSt=function(t,n){for(var i=0;i<t.length;i++){var e=t[i],r=this.DSt.$Tt(e.V_t);r.tEt=rG(r.tEt,e.tEt),r.g_t=e.g_t||r.g_t,r.nEt=n}},i.VSt=function(t,n,i){var e=this.iEt(t);!function(t,n){for(var i=0,e=t.length-1;e>=0;e--){var r=t[e];r.WA=n-i,i+=1e3*r.duration}}(e,n),function(t,n){for(var i=0;i<t.length;i++){var e=t[i];e.m_t+=n}}(e,i),this.eEt(e)},i.iEt=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.vlt=this;var r=Fr({},e);n.push(r)}return n},i.eEt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.DSt.Em(i),m(this.PSt)&&(this.PSt=i.V_t)}},i.Ed=function(){this.tu(),null!==this.USt&&h(this.USt)},T(n,[{key:"disabled",get:function(){return this.FSt||this.jSt},set:function(t){this.FSt=t,this.QSt()}},{key:"xw",get:function(){return this.Oh}},{key:"gm",get:function(){return this.b4}},{key:"uri",get:function(){return this.$_t||this.BSt&&this.BSt.uri},set:function(t){this.$_t=t,this.dispatchEvent("renditionUpdated")}},{key:"cSt",get:function(){return this.BSt}},{key:"hSt",get:function(){return this.DSt}},{key:"A_t",get:function(){return this.BSt?this.BSt.live?this.BSt.duration<-60?KW.pSt:KW.kSt:KW.zvt:KW.Jl}},{key:"_i",get:function(){return this.aR},set:function(t){this.$St(t)}},{key:"Fw",get:function(){return this.va}},{key:"kE",get:function(){return this.xSt}},{key:"wSt",get:function(){return this.OSt||this.xSt}},{key:"rEt",get:function(){return this.PSt}},{key:"sEt",get:function(){return!!this.cSt}},{key:"Dl",get:function(){return this.Unt}}]),n}(MW),cG=function(t){function n(n,i,e,r,s,u,o,a,h,c,f,v,l,d,_,w){var g;return void 0===_&&(_=$X.Jvt),(g=t.call(this,n,i,e,s,u,o,l)||this).uEt=void 0,g.N_t=void 0,g.oEt=void 0,g.aEt=void 0,g.R_t=void 0,g.ir=void 0,g.hEt=void 0,g.cEt=void 0,g.fEt=void 0,g.zV=void 0,g.vEt=void 0,g.lEt=void 0,g.dEt=void 0,g._Et=void 0,g.wEt=void 0,g.gEt=void 0,g.yEt=null,g.mEt=void 0,g.uEt=Boolean(d),g.R_t=r,g.N_t=aG(a),g.oEt=w,g.hEt=h,g.cEt=c,g.ir=f,g.aEt=v,g.zV=_,g}E(n,t),n.createFromPlaylistStream=function(t,i,e){return new n(t,i.name||i.media&&i.media.name||void 0,i.id,i["average-bandwidth"],i.uri,void 0,void 0,i.codecs,i.V_t,i.audio,i.resolution,i.bandwidth,i.media?i.media.language:void 0,e,t.Flt[0]?t.Flt[0].Lw:$X.Jvt)},n.createFromPlaylistMedia=function(t,i,e,r){return new n(t,i.name,i.id,void 0,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),i.autoselect?"yes"===i.autoselect.toLowerCase():void 0,void 0,void 0,void 0,void 0,void 0,i.language,e,function(t){if(t.default&&"yes"===t.default.toLowerCase())return t.characteristics&&ps(t.characteristics,"public.accessibility.describes-video")?$X.ilt:$X.Jvt;if(t.characteristics&&ps(t.characteristics,"public.accessibility.describes-video"))return $X.nE;return $X.Zvt}(i),r)},n.createFromUri=function(t,i,e){return new n(t,void 0,void 0,void 0,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e)};var i=n.prototype;return i.pEt=function(t){this.N_t="string"==typeof t?aG(t):t,this.dispatchEvent("renditionUpdated")},i.kEt=function(t,n){return t?!n&&t.zH&&t.XH?QW.gSt:t.XH?QW.wd:t.zH?QW._d:QW.Jl:QW.Jl},T(n,[{key:"bEt",set:function(t){this.uEt=t}},{key:"VH",get:function(){return this.N_t}},{key:"bandwidth",get:function(){return this.aEt},set:function(t){this.aEt=t,this.dispatchEvent("renditionUpdated")}},{key:"Lw",get:function(){return this.zV}},{key:"resolution",get:function(){return this.ir},set:function(t){this.ir=t,this.dispatchEvent("renditionUpdated")}},{key:"AEt",get:function(){return void 0!==this.oEt?this.oEt:this.kEt(this.N_t,this.uEt)}},{key:"V_t",get:function(){return this.hEt}},{key:"zH",get:function(){return this.cEt}},{key:"q0",get:function(){return this.R_t}},{key:"TEt",get:function(){return this.fEt},set:function(t){var n=this.fEt;this.fEt=t,n!==t&&this.dispatchEvent("renditionUpdated")}}]),n}(hG);var fG=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return(c=t.call(this,n,i,e,r,s,u,o)||this).zi=void 0,c.Sgt=null,c.wpt=void 0,c.SEt=function(){return c.EEt()},c.zi=a,c.wpt=new rP(h,String(e),c._i,c.Fw,void 0,Bm.WEBVTT),c.kE&&(c.wpt.Ww=Fg.zw),c}E(n,t),n.createFromPlaylistMedia=function(t,i,e,r){return new n(t,i.name,i.id||0===i.id?i.id:-1,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),!!i.autoselect&&"yes"===i.autoselect.toLowerCase(),i.language,i.type,function(t){if(ps(t.characteristics,"public.accessibility.describes-music-and-sound"))return Jk.tE;return Jk.Qb}(i))};var i=n.prototype;return i.HSt=function(n){t.prototype.HSt.call(this,n),this.EEt()},i.Ed=function(){t.prototype.Ed.call(this),this.qS=null},i.$St=function(n){t.prototype.$St.call(this,n),this.wpt.Mw=n},i.EEt=function(){this.Sgt&&this.Sgt.IEt(this,this.hSt)},T(n,[{key:"REt",get:function(){return this.wpt}},{key:"qS",get:function(){return this.Sgt},set:function(t){this.Sgt&&this.Sgt.removeEventListener("NEt",this.SEt),this.Sgt=t,this.EEt(),this.Sgt&&this.Sgt.addEventListener("NEt",this.SEt)}},{key:"Y0",get:function(){return this.uri}},{key:"vs",get:function(){return this.zi}}]),n}(hG),vG=function(t){function n(n,i){var e;(e=t.call(this)||this).Bc=void 0,e.CEt=void 0,e.DEt=["renditionUpdated","WSt","PEt"],e.BEt=null,e.Pkt=null,e.Dkt=null,e.xEt=null,e.OEt=new oG,e.bgt=new oG,e.LEt=new oG,e.Ey={},e.MEt=void 0,e.hyt=void 0,e.FEt=null,e.oa=NaN,e.UEt=void 0,e.jEt=void 0,e.$s=function(t){return e.dispatchEvent(t)},e.Bc=n,e.CEt=i;var r=nn(e);return e.UEt=function(){r.mV(this)},e.jEt=function(t){r.HEt(this,t)},e}E(n,t);var i=n.prototype;return i.XEt=function(t,n){var i=new fB(n);return i.Ww=Fg.Xw,this.Ey[i.xw]=i,this.dispatchEvent({type:"zEt",V_:i}),i},i.VEt=function(t,n,i){var e=new cB(i,"manifest");return e.Ww=Fg.Xw,this.Ey[e.xw]=e,this.dispatchEvent({type:"zEt",V_:e}),e},i.qEt=function(t,n){if(t){var i=t.Qw,e=t.WEt,r=t&&this.Ey[e];r||(r=new fB(t.qw),this.Ey[e]=r,r.Ww=Fg.Xw,this.dispatchEvent({type:"zEt",V_:r}));for(var s=0;s<i.length;s++){var u=i[s];r.mE(u)}}},i.GEt=function(t){t&&(this.MEt||(this.MEt=new rP(Jk.tE,void 0,"CC1","en",!0,Bm.CEA608),this.Ey.CC1=this.MEt,this.dispatchEvent({type:"zEt",V_:this.MEt})),this.MEt.mE(t))},i.YEt=function(t,n,i){var e=this.Ey[t];if(e){var r=[];!function(t,n,i,e){for(var r=0,s=t.Qw.Aw;r<s.length;r++){var u=s[r];if(u.Vm>=i)break;n<u.qm&&e.push(u)}}(e,n,i,r);for(var s=0;s<r.length;s++){var u=r[s];e.uE(u)}}},i.plt=function(t,n){return this.Tlt(t,n)},i.$Et=function(t){var n;return(n=this.QEt(t,this.OEt))?n:(n=this.QEt(t,this.bgt))?n:n=this.QEt(t,this.LEt)},i.Ed=function(){this.ou(this.OEt),this.OEt.Ed(),this.ou(this.bgt),this.bgt.Ed(),this.ou(this.LEt),this.LEt.Ed(),this.Ey={},this.MEt=void 0,this.hyt&&(this.hyt.Ed(),this.hyt=void 0),this.FEt=null,this.oa=NaN,this.BEt=null,this.Pkt=null,this.Dkt=null,this.xEt=null,this.dispatchEvent("Ed")},i.KEt=function(t){var n=cG.createFromUri(this,t.uri);this.ou(this.bgt),this.bgt.Em(n),n.addEventListener("renditionUpdated",this.UEt)},i.mV=function(t){var n=t.cSt,i=t.A_t;if(m(this.oa)||KW.oy(i)){if(KW.Jl===i)return;if(!n)return;this.oa=n.duration,this.dispatchEvent("ZEt")}m(this.oa)||KW.zvt!==i||t.removeEventListener("renditionUpdated",this.UEt)},i.JEt=function(t){var n=this;this.ou(this.OEt),this.OEt.Du(),this.ou(this.bgt),this.bgt.Du(),this.LEt.Du(),this.FEt=t;for(var i=t.streams.map(function(t){return cG.createFromPlaylistStream(n,t)}).filter(function(t){return function(t){if(!t)return!0;if(t.zH&&!ps(t.zH,"mp4a")&&!ps(t.zH,"mp3"))return!1;if(t.XH&&!ps(t.XH,"avc1"))return!1;return!0}(t.VH)}),e=i.some(function(t){return t.VH&&t.VH.zH}),r=i.some(function(t){return t.VH&&t.VH.XH}),s=0;s<i.length;s++){var u=i[s],o=Boolean(u.VH&&u.VH.zH),a=Boolean(u.VH&&u.VH.XH);e&&!o||r&&!a||(this.bgt.Em(u),u.addEventListener("renditionUpdated",this.UEt))}for(var h=function(t,i){var e=i[t];switch(e.type.toLowerCase()){case"subtitles":if(!n.CEt){var r=fG.createFromPlaylistMedia(n,e);n.LEt.Em(r),n.dispatchEvent({type:"zEt",V_:r.REt})}break;case"closed-captions":break;case"audio":var s=n.bgt.NSt.filter(function(t){return t.zH===e["group-id"]});if(0===s.length)return"continue";e.uri&&s.forEach(function(t){return t.bEt=!0});var u=e.uri?QW._d:QW.gSt,o=cG.createFromPlaylistMedia(n,e,!1,u);n.OEt.Em(o)}},c=0,f=t.media;c<f.length;c++)h(c,f);this.klt=eG(this.Flt.CSt)||null,this.dispatchEvent("tIt")},i.QEt=function(t,n){for(var i=0,e=n.NSt;i<e.length;i++){var r=e[i];if(r.uri===t)return r}return null},i.HEt=function(t,n){this.dispatchEvent(Fr({},n,{vlt:t}))},i.nIt=function(t){for(var n=0,i=t.NSt;n<i.length;n++)for(var e=i[n],r=0,s=this.DEt;r<s.length;r++){var u=s[r];e.addEventListener(u,this.jEt)}},i.ou=function(t){for(var n=0,i=t.NSt;n<i.length;n++){i[n].Ed()}},i.iIt=function(t,n){0!==t.length&&this.Bc.hlsDateRange&&(this.hyt||(this.hyt=new SV,this.dispatchEvent({type:"zEt",V_:this.hyt})),this.hyt.Kh(t,n))},i.blt=function(t,n){if(this.Pkt!==t){var i=this.Pkt;this.Pkt=t,this.dispatchEvent({type:"eIt",AEt:"zH",vlt:this.Pkt,rIt:i,sIt:n})}},i.Tlt=function(t,n){if(this.Dkt!==t){var i=this.Dkt;this.Dkt=t,t&&this.dispatchEvent({type:"eIt",AEt:"XH",vlt:this.Dkt,rIt:i,sIt:n})}},i.uIt=function(t){for(var n=0,i=t.NSt;n<i.length;n++){var e=i[n];if(e.A_t!==KW.Jl)return e.A_t}return null},T(n,[{key:"wy",get:function(){return this.BEt},set:function(t){t&&(0===t.streams.length?this.KEt(t):this.JEt(t),this.BEt=t,this.nIt(this.bgt),this.nIt(this.OEt),this.dispatchEvent("oIt"))}},{key:"aIt",get:function(){return this.FEt}},{key:"Hg",get:function(){return this.oa}},{key:"Py",get:function(){var t=this,n=this.LEt.NSt.map(function(t){return t.REt}),i=_.keys(this.Ey).map(function(n){return t.Ey[n]});return this.MEt&&i.push(this.MEt),this.hyt&&i.push(this.hyt),n.concat(i)}},{key:"klt",get:function(){return this.Pkt},set:function(t){this.blt(t,!0)}},{key:"dlt",get:function(){return this.Dkt},set:function(t){this.Tlt(t,!1)}},{key:"Flt",get:function(){return this.OEt}},{key:"Mlt",get:function(){return this.bgt}},{key:"H_t",get:function(){return this.LEt.NSt}},{key:"A_t",get:function(){var t;return null!==(t=this.Pkt&&this.Pkt.A_t)&&t!==KW.Jl?t:null!==(t=this.Dkt&&this.Dkt.A_t)&&t!==KW.Jl?t:null!==(t=this.uIt(this.OEt))?t:null!==(t=this.uIt(this.bgt))?t:KW.Jl}}]),n}(MW);var lG=function(t){function n(n,i,e){var r,s,u,o,a;return(r=t.call(this)||this).VA=[],r.hIt={},r.cIt=void 0,r.fIt=void 0,r.vIt=void 0,r.X_=void 0,r.$s=function(t){return r.dispatchEvent(t)},r.lIt=function(t){r.dIt(t)},r._It=function(t){r.handleRenditionUpdated(t)},r.wIt=function(t){for(var n=0,i=r.VA;n<i.length;n++){i[n].gIt.wIt(t)}},r.cIt=n,r.fIt=i,r.vIt=e,r.fIt&&r.fIt.addEventListener("eIt",r.lIt),r.vIt&&(r.vIt.addEventListener("renditionUpdated",r._It),r.vIt.addEventListener("yIt",r.wIt)),r.X_=(s=nn(r),u=new MW,o={get length(){return s.VA.length},enable:function(t){s.hE(s.mIt(t&&t.id)||t)},disable:function(t){s.cE(s.mIt(t&&t.id)||t)},item:function(t){return s.VA[t]&&s.VA[t].X_},getTrackByID:function(t){var n=s.mIt(t);return n&&n.X_},addEventListener:function(t,n){u.addEventListener(t,n)},removeEventListener:function(t,n){u.removeEventListener(t,n)}},a=function(t){return u.dispatchEvent(t,!0)},s.addEventListener("addtrack",a),s.addEventListener("enabledtrack",a),s.addEventListener("disabledtrack",a),o),r}E(n,t);var i=n.prototype;return i.mIt=function(t){return this.hIt[t]},i.yw=function(t){for(var n=0,i=t.gIt.Uw;n<i.length;n++){var e=i[n];e.xw===this.pIt()&&(e.cp=!0)}t.addEventListener("enabledtrack",this.$s),t.addEventListener("disabledtrack",this.$s),this.VA.push(t),this.hIt[t.xw]=t,this.dispatchEvent({type:"addtrack",track:t.X_})},i.hE=function(t){if(t){var n=this.hIt[t.xw];if(n&&!n.Bw){for(var i=this.VA.length-1;i>=0;i--)this.VA[i].Vy();n.zy()}}},i.cE=function(t){},T(n,[{key:"kIt",get:function(){return this.pIt()}}]),n}(MW);var dG=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).bIt=void 0,r.bIt=NaN,r}E(n,t);var i=n.prototype;return i.pIt=function(){return this.bIt},i.dIt=function(t){t.AIt?this.TIt(t.SIt):t.EIt&&this.TIt(t.EIt)},i.TIt=function(t){t&&(this.bIt=t.xw),this.VA.forEach(function(n){return n.IIt(t)})},i.handleRenditionUpdated=function(t){if(t.vlt&&t.vlt.AEt===QW._d)for(var n=0,i=this.VA;n<i.length;n++){i[n].RIt(t)}},i.hE=function(n){var i=n;if(!i){var e=this.VA.filter(function(t){return t.kE});e.length>0&&(i=e[0])}t.prototype.hE.call(this,i)},T(n,[{key:"vs",get:function(){return"audio"}}]),n}(lG),_G=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).NIt=void 0,r.NIt=NaN,r}E(n,t);var i=n.prototype;return i.pIt=function(){return this.NIt},i.dIt=function(t){(t.CIt||t.SIt)&&(t.SIt&&(this.NIt=t.SIt.xw),this.VA.forEach(function(n){return n.IIt(t.SIt)}))},i.handleRenditionUpdated=function(t){if(t.vlt&&(t.vlt.AEt===QW.wd||t.vlt.AEt===QW.gSt))for(var n=0,i=this.VA;n<i.length;n++){i[n].RIt(t)}},T(n,[{key:"vs",get:function(){return"video"}}]),n}(lG);function wG(t,n){for(var i,e=n-(i=t?V(t)?Array.prototype.map.call(t,function(t){return("0"+t.toString(16)).substr(-2)}).join(""):(+t).toString(16):"").length;e>0;)i="0"+i,e-=1;return i}function gG(t,n){return void 0===n&&(n=0),y(t.toFixed(n))}var yG=function(t){function n(n){var i,e,r,s;return(i=t.call(this)||this).vlt=void 0,i.cp=!1,i.DIt=!0,i.X_=void 0,i.vlt=n,i.cp=!1,i.X_=(e=nn(i),r=new MW,s={get bandwidth(){return e.vlt&&e.vlt.bandwidth},get averageBandwidth(){return e.vlt&&e.vlt.averageBandwidth},get codecs(){return e.VH},get resolution(){return e.Elt},get frameRate(){return gG(e.GJ,2)},get id(){return e.xw},get uri(){return e.vlt&&e.vlt.uri},get name(){return e._i},set name(t){e._i=t},get enabled(){return e.Bw},set enabled(t){e.Bw=Boolean(t)},addEventListener:function(t,n){r.addEventListener(t,n)},removeEventListener:function(t,n){r.removeEventListener(t,n)}},e.addEventListener("qualityupdated",function(t){return r.dispatchEvent(t,!0)}),s),i}E(n,t);var i=n.prototype;return i.PIt=function(t){var n=!!t&&this.xw===t.xw;this.cp!==n&&(this.cp=n,this.dispatchEvent({type:"activequalitychanged",quality:this.X_}))},i.RIt=function(t){return this.vlt.xw===t.vlt.xw&&(this.vlt=t.vlt,this.dispatchEvent({type:"qualityupdated",quality:this.X_}),!0)},T(n,[{key:"Bw",get:function(){return this.DIt},set:function(t){this.DIt=t,this.vlt.KSt(!t)}},{key:"Lw",get:function(){return this.vlt.Lw}},{key:"Elt",get:function(){return this.vlt.resolution?{width:this.vlt.resolution.width,height:this.vlt.resolution.height}:{width:NaN,height:NaN}}},{key:"_i",get:function(){return this.vlt._i},set:function(t){this.vlt._i=t,this.dispatchEvent({type:"qualityupdated",quality:this.X_})}},{key:"xw",get:function(){return this.vlt.xw}}]),n}(MW);var mG=function(t){function n(n){return t.call(this,n)||this}return E(n,t),T(n,[{key:"VH",get:function(){return this.vlt.VH&&this.vlt.VH.XH||""}},{key:"GJ",get:function(){return gG(Number(this.vlt.TEt),2)}}]),n}(yG),pG=function(t){function n(n){return t.call(this,n)||this}return E(n,t),T(n,[{key:"VH",get:function(){return this.vlt.VH&&this.vlt.VH.zH||""}},{key:"GJ",get:function(){return gG(Number(this.vlt.mEt),2)}}]),n}(yG),kG=function(t){function n(n,i){var e,r,s,u,o;(e=t.call(this)||this).Uw=void 0,e.Git=null,e.BIt={},e.vIt=void 0,e.X_=void 0,e.$s=function(t){return e.dispatchEvent(t)},e.Uw=n,e.vIt=i;for(var a=e.Uw.length-1;a>=0;a--){var h=e.Uw[a];e.BIt[h.xw]=h}return e.Uw.forEach(function(t){return t.addEventListener("activequalitychanged",e.$s)}),e.X_=(r=nn(e),s=new MW,u={item:function(t){var n=r.gw(t);return n&&n.X_},getQualitiesByIDs:function(t){return r.xIt(t).map(function(t){return t.X_})},get length(){return r.Uw.length},get activeQuality(){return r.Pw&&r.Pw.X_},get targetQuality(){return r.jw?1===r.jw.length?r.jw[0].X_:r.jw.map(function(t){return t.X_}):null},set targetQuality(t){if(t){var n=z(t)?t:[t];r.jw=r.xIt(n.map(function(t){return t.id}))}else r.jw=null},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}},o=function(t){return s.dispatchEvent(t,!0)},r.addEventListener("activequalitychanged",o),r.addEventListener("targetqualitychanged",o),u),e}E(n,t);var i=n.prototype;return i.OIt=function(t){return!!t&&this.Uw.some(function(n){return n.xw===t.xw})},i.LIt=function(t,n){for(var i=0,e=this.Uw;i<e.length;i++){e[i].PIt(t)}},i.xIt=function(t){var n=this;return t&&t.map(function(t){return n.BIt[t]}).filter(function(t){return t})},i.MIt=function(){for(var t=this.Uw.length-1;t>=0;t--)this.Uw[t].cp=!1},i.wIt=function(t){var n=this.vIt.FIt,i=this.xIt(n);n&&n.length>0&&i&&i.length>0?this.dispatchEvent({type:"targetqualitychanged",quality:i[0].X_}):n&&0!==n.length||this.dispatchEvent({type:"targetqualitychanged",quality:null})},i.gw=function(t){return this.Uw[t]},T(n,[{key:"Pw",get:function(){for(var t=0,n=this.Uw;t<n.length;t++){var i=n[t];if(i.cp)return i}return null}},{key:"jw",get:function(){return this.Git},set:function(t){this.Git=this.UIt(t)}}]),n}(MW);var bG=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.zy=function(){this.vIt&&(this.vIt.bIt=this.Uw[0].xw)},i.Vy=function(t){this.vIt&&(this.vIt.bIt=null)},i.UIt=function(t){},n}(kG),AG=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.zy=function(){if(this.UIt(this.jw),this.vIt){var t=this.vIt.cIt;if(!t)return;var n=zs(t.jIt.Flt.NSt,function(t){return!t.uri});this.vIt.bIt=n?n.xw:null}},i.LIt=function(n,i){"video"===i&&t.prototype.LIt.call(this,n,i)},i.Vy=function(t){"video"===t&&this.MIt()},i.UIt=function(t){if(!this.vIt)return this.jw;var n=t?this.xIt(t.map(function(t){return t.xw})):null;if(n&&n.length>0){var i=n.map(function(t){return t.xw});return this.vIt.FIt=i,n}return t?this.jw:(this.vIt.FIt=null,null)},n}(kG),TG=function(t){function n(n,i){var e,r,s;return(e=t.call(this)||this).vs=void 0,e.gIt=void 0,e.xw=void 0,e.Dm=void 0,e._i=void 0,e.X_=void 0,e.vs=n,e.gIt=i,e.xw=i.gw(0).xw,e.Dm=e.gIt.Uw.some(function(t){return t.cp}),e._i=i.gw(0).vlt._i,e.X_=(r=nn(e),s=new MW,{get id(){return r.xw},get enabled(){return r.Bw},get qualities(){return r.gIt&&r.gIt.X_},get language(){return r.Fw},get default(){return r.kE},get name(){return r._i},set name(t){r._i=t},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}}),e}E(n,t);var i=n.prototype;return i.IIt=function(t){var n=this.gIt.OIt(t);this.Bm(n),this.gIt.LIt(t,this.vs)},i.Bm=function(t){this.Dm!==t&&(t?(this.Dm=!0,this.dispatchEvent({type:"enabledtrack",track:this.X_})):(this.Dm=!1,this.dispatchEvent({type:"disabledtrack",track:this.X_})))},i.zy=function(){this.Dm||this.gIt.zy()},i.Vy=function(){this.Dm&&this.gIt.Vy(this.vs)},i.RIt=function(t){t.vlt.xw===this.xw&&(this._i=t.vlt._i);for(var n=0,i=this.gIt.Uw;n<i.length;n++){i[n].RIt(t)}},T(n,[{key:"Bw",get:function(){return this.Dm}},{key:"Fw",get:function(){return this.HIt()}},{key:"Lw",get:function(){return this.XIt()}},{key:"kE",get:function(){var t="video"===this.vs,n=this.gIt.Uw&&this.gIt.Uw[0].vlt.kE;return t||n}}]),n}(MW);var SG=function(t){function n(n){return t.call(this,"video",n)||this}E(n,t);var i=n.prototype;return i.XIt=function(){return QX.Jvt},i.HIt=function(){return""},n}(TG),EG=function(t){function n(n){return t.call(this,"audio",n)||this}E(n,t);var i=n.prototype;return i.XIt=function(){return this.gIt.Uw[0].vlt.Lw},i.HIt=function(){return this.gIt.Uw[0].vlt.Fw||""},n}(TG),IG=function(){function t(t,n,i){var e=this;this.zIt=void 0,this.VIt=void 0,this.Olt=void 0,this.Llt=void 0,this.qIt=function(){var t=e.zIt;t.removeEventListener("WIt",e.qIt);var n=t.jIt.Mlt.NSt,i=t.jIt.Flt.NSt,r=n.map(function(t){return new mG(t)});if(r.length>0){var s=new AG(r,e.VIt);e.Llt.yw(new SG(s));var u=zs(i,function(t){return!t.uri}),o=0===i.length;if(n.length>0&&(Boolean(u)||o)){var a=new EG(s);u&&(a._i=u._i),e.Olt.yw(a)}}for(var h=0;h<i.length;h++){var c=i[h];if(c.uri){var f=new pG(c),v=new bG([f],e.VIt);e.Olt.yw(new EG(v))}}},this.zIt=t,this.VIt=i,this.Olt=new dG(t,n,i),this.Llt=new _G(t,n,i),t&&(t.WIt?this.qIt():t.addEventListener("WIt",this.qIt))}return T(t,[{key:"Cy",get:function(){return this.Olt}},{key:"Dy",get:function(){return this.Llt}}]),t}(),RG=["loadedmetadata","durationchange","mu","Pd","gm","GIt"],NG=["YIt","eIt","$It","mu"],CG=function(t){function n(n,i,e,r,s,u,o){var a;(a=t.call(this)||this).QIt=null,a.hC=void 0,a.KIt=void 0,a.ZIt=void 0,a.JIt=void 0,a.fIt=void 0,a.tRt=void 0,a.cIt=void 0,a.Dy=void 0,a.Cy=void 0,a.nRt=[],a.iRt=[],a.eRt=function(t){return a.dispatchEvent(t)},a.rRt=function(t){return a.sRt(t)},a.uRt=function(t){return a.oRt(t)},a.hC=n.src,a.KIt=n.type,a.ZIt=i,a.JIt=e,a.tRt=r,a.cIt=s,a.fIt=u,a.cIt&&(a.cIt.addEventListener("aRt",a.eRt),a.cIt.addEventListener("hRt",a.eRt));var h=new IG(a.cIt,a.fIt,o);return a.Dy=h.Dy,a.Cy=h.Cy,a.cC=null,a.hC&&(a.fIt&&a.fIt.bw(),a.cIt&&(a.cIt.cRt=a.hC)),a}E(n,t);var i=n.prototype;return i.fRt=function(t){this.fIt&&this.fIt.$h(t),this.cIt&&this.cIt.vRt(),this.cC&&this.lRt()},i.dRt=function(){this.fIt&&this.fIt.dRt(),this.cIt&&this.cIt._Rt()},i.Wtt=function(){if(this.cIt)for(var t=0;t<RG.length;t++){var n=RG[t];this.cIt.addEventListener(n,this.rRt)}if(this.fIt)for(var i=0;i<NG.length;i++){var e=NG[i];this.fIt.addEventListener(e,this.uRt)}},i.Qtt=function(){if(this.cIt)for(var t=0;t<RG.length;t++){var n=RG[t];this.cIt.removeEventListener(n,this.rRt)}if(this.fIt)for(var i=0;i<NG.length;i++){var e=NG[i];this.fIt.removeEventListener(e,this.uRt)}},i.lRt=function(){if(this.cIt&&this.nRt.length){var t=this.nRt.slice();Qs(this.nRt);for(var n=0;n<t.length;n++){var i=t[n];this.cIt.dispatchEvent(i)}}if(this.fIt&&this.iRt.length){var e=this.iRt.slice();Qs(this.iRt);for(var r=0;r<e.length;r++){var s=e[r];this.fIt.dispatchEvent(s)}}},i.sRt=function(t){this.nRt.push(t)},i.oRt=function(t){this.iRt.push(t)},i.Ed=function(){this.dispatchEvent("Ed"),this.tu(),this.fIt&&this.fIt.Ed(),this.tRt&&this.tRt.Ed(),this.cIt&&this.cIt.Ed(),this.QIt=null,Qs(this.nRt),Qs(this.iRt)},T(n,[{key:"cC",get:function(){return this.QIt},set:function(t){this.Qtt(),this.QIt=t,this.cC?this.dispatchEvent("cc"):this.Wtt()}}]),n}(MW),DG=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).zIt=null,n.$s=function(t){n.dispatchEvent(t,!0)},n}return E(n,t),T(n,[{key:"bIt",get:function(){var t=this.zIt&&this.zIt.jIt.klt;return t?t.xw:null},set:function(t){var n;this.zIt&&(n=null===t?eG(this.zIt.jIt.Flt.NSt):this.zIt.jIt.Flt.NSt.filter(function(n){return t===n.xw}).shift(),this.zIt.jIt.klt=n||null)}},{key:"FIt",get:function(){return this.zIt&&this.zIt.wRt||null},set:function(t){this.zIt&&(this.zIt.gRt(t),this.dispatchEvent("yIt"))}},{key:"cIt",get:function(){return this.zIt},set:function(t){this.zIt&&(this.zIt.jIt.removeEventListener("oIt",this.$s),this.zIt.jIt.removeEventListener("renditionUpdated",this.$s),this.zIt.jIt.removeEventListener("tIt",this.$s)),this.zIt=t,this.zIt&&(this.zIt.jIt.addEventListener("oIt",this.$s),this.zIt.jIt.addEventListener("renditionUpdated",this.$s),this.zIt.jIt.addEventListener("tIt",this.$s))}}]),n}(MW);function PG(t,n,i,e,r,s,u,o){var a=new Of;return n&&a.set("Range","bytes="+n[0]+"-"+n[1]),new __({Kl:t,Wl:i,ql:a,Ad:s,md:c_.GET,vs:f_.ed,kd:e,bd:r,qs:u,Td:o})}var BG=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this)||this).eT=void 0,h.Y0=void 0,h.Wl=void 0,h.kd=void 0,h.bd=void 0,h.yRt=void 0,h.dE=void 0,h.mRt=void 0,h.pRt=void 0,h.Rx=void 0,h.kRt=void 0,h.Ud=null,h.bRt=void 0,h.xl=new uu,h.ARt=function(t,n){return h.Td(t,n)},h.eT=n,h.Y0=i,h.Wl=e,h.kd=r,h.bd=s,h.yRt=u,h.Rx=o,h.kRt=new OG,h.dE=a,h.mRt=RO.Wn.FZ,h.pRt=RO.Wn.UZ,h}E(n,t);var i=n.prototype;return i.IC=function(){return this.TRt(this.xl.qs)},i.TRt=function(t){var n,i,e,r,s,u,o;return Mr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return JW(n=this.Y0)?(i=n.Y0,e=[n.bJ.IC,n.bJ.NC]):(i=n,e=void 0),this.kRt.SRt(),a.prev=3,a.next=6,Mr.awrap(this.ERt(i,e));case 6:if(r=a.sent,hu(t),r){a.next=12;break}return a.next=11,Mr.awrap(this.IRt(i,e,t));case 11:r=a.sent;case 12:return a.next=14,Mr.awrap(r.Hi());case 14:s=a.sent,hu(t),this.RRt(s,r.Vl),a.next=28;break;case 19:if(a.prev=19,a.t0=a.catch(3),!au(a.t0)){a.next=25;break}return a.abrupt("return");case 25:o=a.t0 instanceof E_?a.t0.Ud.Vl:0,u=new v('Could not load fragment: "'+this.Y0+'", HTTP status '+o);case 27:return a.abrupt("return",this.NRt(u));case 28:case"end":return a.stop()}},null,this,[[3,19]],Ye)},i.ERt=function(t,n){var i,e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,i=vO(t,n),u.next=4,Mr.awrap(this.mRt.Iu(i));case 4:if(!u.sent){u.next=11;break}return u.next=7,Mr.awrap(this.pRt.Ru(i));case 7:return e=u.sent,r=PG(t,n,this.Wl,this.kd,this.bd,this.yRt),s=e.data.buffer,u.abrupt("return",new d_({Hi:s,ql:{},$l:r,Ql:t,Wl:this.Wl,Vl:200,Gl:""}));case 11:u.next=16;break;case 13:u.prev=13,u.t0=u.catch(0);case 16:return u.abrupt("return",null);case 17:case"end":return u.stop()}},null,this,[[0,13]],Ye)},i.IRt=function(t,n,i){var e=PG(t,n,this.Wl,this.kd,this.bd,this.yRt,i,this.ARt);return this.dE.$l(e)},i.Td=function(t,n){var i={type:"GIt",$l:this,n5:t,CRt:n=void 0===n?NaN:n};this.kRt.DRt(t,n),this.dispatchEvent(i)},i.RRt=function(t,n){var i=this.Wl===xf.Wf?t.byteLength:0;this.kRt.PRt(i),this.Wl===xf.Jn?this.Ud=t:this.Ud=new p(t),this.bRt=n,t=null,this.NRt(),this.Ud=null},i.Xs=function(t){return this.xl.Xs(),t||((t=new v('Aborted fragment load: "'+this.Y0+'"')).aborted=!0),this.NRt(t)},i.NRt=function(t){this.kRt.BRt();var n={type:"Ly",$l:this};return this.dispatchEvent(n),this.Rx(t||null,this)},n}(MW);function xG(){return VI()/1e3}var OG=function(t){function n(){var n;return(n=t.call(this)||this).Pnt=NaN,n.Dnt=NaN,n.xRt=NaN,n.Cnt=NaN,n.ORt=0,n.LRt=NaN,n.Pnt=xG(),n}E(n,t);var i=n.prototype;return i.SRt=function(){this.Pnt=xG(),this.dispatchEvent("Kh")},i.DRt=function(t,n){this.xRt=xG(),this.aRt||(this.Dnt=this.xRt),this.ORt=t,this.LRt=n||this.LRt||NaN,this.dispatchEvent("Kh")},i.PRt=function(t){this.DRt(t,t)},i.BRt=function(){this.Cnt=xG(),this.dispatchEvent("Kh")},T(n,[{key:"aRt",get:function(){return!m(this.Dnt)}},{key:"MRt",get:function(){return!m(this.Cnt)}},{key:"FRt",get:function(){return(this.Dnt||xG())-this.Pnt}},{key:"URt",get:function(){return(this.Cnt||this.xRt)-this.Dnt}},{key:"jRt",get:function(){return(this.Cnt||this.xRt)-this.Pnt}}]),n}(MW),LG=function(t){function n(n,i){var e;return(e=t.call(this)||this).yRt=void 0,e.HRt=[],e.XRt=null,e.zRt=function(t){return e.VRt(t)},e.dE=void 0,e.yRt=!(!i||i.crossOrigin!==ny.Tg),e.dE=n,e}E(n,t);var i=n.prototype;return i.$h=function(t,n,i,e,r,s){var u=new BG(t,n,i,e,r,this.yRt,s,this.dE);return u.addEventListener("Ly",this.zRt),this.HRt.push(u),this.qRt(),u},i.WRt=function(t,n,i,e,r){var s=this;return new Ye(function(u,o){s.$h(t,n,i,e,r,function(t,n){t?o(t):u(n.Ud)})})},i.Du=function(t,n){var i=function(t){return!n||t.eT===n},e=this.HRt.filter(i);!t&&this.XRt&&i(this.XRt)&&e.push(this.XRt);for(var r=0;r<e.length;r++){e[r].Xs()}return e},i.qRt=function(){if(!this.XRt){var t=this.HRt.shift();t&&(this.XRt=t,t.IC())}},i.VRt=function(t){var n=t.$l,i=this.HRt.indexOf(n);-1!==i&&Gs(this.HRt,i),this.XRt===n&&(this.XRt=null,this.qRt())},n}(MW);function MG(t,n){if(n<0)throw new v("The index provided ("+n+") must be non-negative");if(n>=t.length)throw new v("The index provided ("+n+") is greater than the maximum bound ("+t.length+")")}function FG(t){return{get length(){return t.length},start:function(n){return MG(t,n|=0),t.start(n)},end:function(n){return MG(t,n|=0),t.end(n)}}}function UG(t,n){return t.IC-n.IC}var jG=function(){function t(t){this.Hrt=void 0,this.Hrt=t}var n=t.prototype;return n.start=function(t){return this.Hrt[t].IC},n.end=function(t){return this.Hrt[t].NC},n.GRt=function(){return this.Hrt},T(t,[{key:"length",get:function(){return this.Hrt.length}}]),t}(),HG=new jG([]),XG=new jG([{IC:-1/0,NC:1/0}]);function zG(t,n){return function(t,n){var i=t.length;if(n=+n||0,i<2)return t;for(var e=[],r=t.start(0),s=t.end(0),u=1;u<i;u++){var o=t.start(u),a=t.end(u);r<=o&&s>=a||(s+n>=o?s=a:(e.push({IC:r,NC:s}),r=o,s=a))}return e.push({IC:r,NC:s}),new jG(e)}(function(t){var n=YG(t);return n.sort(UG),new jG(n)}(t),n)}function VG(t,n){for(var i=[],e=0,r=0;e<t.length&&r<n.length;){var s=w.max(t.start(e),n.start(r)),u=w.min(t.end(e),n.end(r));s<u&&i.push({IC:s,NC:u}),t.end(e)<n.end(r)?e+=1:r+=1}return new jG(i)}function qG(t){var n=t.length;if(!n)return XG;var i=[],e=t.start(0);e!==-1/0&&i.push({IC:-1/0,NC:e});for(var r=0;r<n-1;r+=1)i.push({IC:t.end(r),NC:t.start(r+1)});var s=t.end(n-1);return s!==1/0&&i.push({IC:s,NC:1/0}),new jG(i)}function WG(t,n){return-1!==GG(t,n)}function GG(t,n){return function(t,n,i,e){n+=e=+e||0,i-=e;for(var r=0;r<t.length;r+=1)if(t.start(r)<=n&&i<=t.end(r))return r;return-1}(t,n,n)}function YG(t){if(t instanceof jG)return t.GRt();var n=[];if(!t)return n;for(var i=0;i<t.length;i++)n.push({IC:t.start(i),NC:t.end(i)});return n}function $G(t,n){return i=[t,n],r=(e=r=[]).concat.apply(e,i.map(YG)),zG(new jG(r));var i,e,r}var QG=.001;function KG(t,n,i){return i=+i||0,t.IC-i<=n.NC&&n.IC<=t.NC+i}function ZG(t){var n={IC:NaN,NC:NaN,hSt:t};return JG(n),n}function JG(t){var n=t.hSt;n.length?(n.sort(UG),t.IC=n[0].IC,t.NC=n[n.length-1].NC):(t.IC=NaN,t.NC=NaN)}function tY(t){return void 0!==t.hSt}function nY(t,n,i){for(var e=[],r=0;r<t.length;r++){var s=t[r],u=w.max(s.IC,n),o=w.min(s.NC,i);if(u<o){var a=void 0;a=s.IC===u&&s.NC===o?s:{IC:u,NC:o,fT:s.fT},e.push(a)}}return e}function iY(t,n){var i=w.min(t.IC,n.IC),e=w.max(t.NC,n.NC),r=t.hSt,s=n.hSt,u=r.concat(s),o=r.length?r[r.length-1]:null,a=s.length?s[0]:null;return o&&a&&o.fT===a.fT&&KG(o,a,QG)&&u.splice(r.length-1,2,function(t,n){var i=t.fT||n.fT;return{IC:w.min(t.IC,n.IC),NC:w.max(t.NC,n.NC),fT:i}}(o,a)),ZG(u=nY(u,i,e))}var eY,rY,sY,uY,oY,aY=function(){function t(t,n){this.Hrt=void 0,this.Hrt=function(t){for(var n=[],i=0;i<t.length;i+=1){var e=t[i],r=void 0;tY(e)?JG(r=e):r=ZG([e]),r.hSt.length&&r.IC<r.NC&&n.push(r)}return n}(t),n||this.YRt()}var n=t.prototype;return n.start=function(t){return this.Hrt[t]&&this.Hrt[t].IC},n.end=function(t){return this.Hrt[t]&&this.Hrt[t].NC},n.hSt=function(t){return this.Hrt[t]&&this.Hrt[t].hSt},n.$Rt=function(t,n){return this.QRt(t,t,n)},n.QRt=function(t,n,i){t+=i=+i||0,n-=i;for(var e=0;e<this.length;e+=1)if(this.start(e)<=t&&n<=this.end(e))return e;return-1},n.KRt=function(t,n,i){t-=i=+i||0,n+=i;for(var e=0;e<this.length;e+=1)if(this.start(e)<n&&t<this.end(e))return e;return-1},n.ZRt=function(t,n){t+=n=+n||0;for(var i=this.length-1;i>=0;i-=1)if(this.start(i)<=t)return i;return-1},n.JRt=function(t,n){t-=n=+n||0;for(var i=0;i<this.length;i+=1)if(t<=this.end(i))return i;return-1},n.Im=function(t){return-1!==this.$Rt(t)},n.ZC=function(t,n,i){return-1!==this.QRt(t,n,i)},n.tD=function(t,n,i){return-1!==this.KRt(t,n,i)},n.XC=function(t){for(var n=[],i=0,e=0;i<this.length&&e<t.length;){var r=w.max(this.start(i),t.start(e)),s=w.min(this.end(i),t.end(e));if(r<s){var u=nY(this.hSt(i),r,s);n.push(ZG(u))}this.end(i)<t.end(e)?i+=1:e+=1}return this.IK(n,!0)},n.Dp=function(t){return this.length&&t.length?this.XC(qG(t)):this},n.YC=function(t){return this.length?t.length?this.IK(this.Hrt.concat(t.Hrt)):this:t},n.w_t=function(t){for(var n=[],i=0,e=this.Hrt;i<e.length;i++)for(var r=0,s=e[i].hSt;r<s.length;r++){var u=t(s[r]);u&&n.push(u)}return this.IK(n)},n.eD=function(t){return this.w_t(function(n){return t(n)?n:null})},n.tNt=function(){if(!this.length)return this;for(var t=this.Hrt.slice(),n=0;n<t.length-1;n+=1){var i=t[n],e=t[n+1];e&&this.nNt(i,e)&&(t.splice(n,2,iY(i,e)),n-=1)}return this.IK(t,!0)},n.nNt=function(t,n){var i=t.hSt,e=n.hSt,r=i.length?i[i.length-1]:null,s=e.length?e[0]:null;return r&&s&&this.iNt(r,s)},n.YRt=function(){var t=this.Hrt;t.sort(UG);for(var n=0;n<t.length-1;n+=1){var i=t[n],e=t[n+1];e&&KG(i,e,QG)&&(t.splice(n,2,iY(i,e)),n-=1)}},T(t,[{key:"length",get:function(){return this.Hrt.length}}]),t}(),hY=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.IK=function(t,i){return new n(t,i)},i.iNt=function(t,n){return n.fT.vlt===t.fT.vlt&&n.fT.V_t===t.fT.V_t+1},n}(aY);function cY(t,n){for(var i=[],e=0;e<n.length;e++){var r=n[e],s=t.eNt(r),u=t.rNt(r,s);i.push({IC:s.pp(),NC:u.pp(),fT:r})}return new hY(i).tNt()}function fY(t){return t.sNt!==eY.uNt}function vY(t){return 0===t.sNt}function lY(t){return t.sNt>=0}function dY(t,n){for(var i=[],e=0;e<n.length;e++)for(var r=!1,s=0,u=n.hSt(e);s<u.length;s++){var o=u[s];if(!r){var a=o.fT;if(tG(a)&&fY(a)){if((r=lY(a))&&!vY(a)){var h=t.oNt(a,a.aNt).pp();o={IC:w.max(o.IC,h),NC:o.NC,fT:a}}}else r=!0;0}r&&i.push(o)}return new hY(i)}function _Y(t,n){return{audio:t.audio?bY(t.audio,n):void 0,video:t.video?RY(t.video,n):void 0,hNt:t.hNt?(i=t.hNt,{cNt:i.cNt,WEt:i.WEt,qw:i.qw,SH:i.SH,fNt:i.fNt,vNt:i.vNt,lNt:i.lNt.map(wY),Qw:[]}):void 0,Lst:t.Lst?t.Lst.map(yY):t.Lst,dNt:t.dNt.zk()};var i}function wY(t){return{bA:t.bA,QS:{vJ:t.QS.vJ,Nst:t.QS.rQ.zk()},yq:t.yq}}function gY(t){return{bA:t.bA,QS:{vJ:t.QS.vJ,rQ:pp(t.QS.Nst)},yq:t.yq}}function yY(t){return{rQ:t.rQ.zk(),vS:t.vS,Krt:t.Krt,Zrt:t.Zrt,vs:t.vs,v$:t.v$,Jrt:t.Jrt,tst:t.tst}}function mY(t){return{rQ:pp(t.rQ),vS:t.vS,Krt:t.Krt,Zrt:t.Zrt,vs:t.vs,v$:t.v$,Jrt:t.Jrt,tst:t.tst}}function pY(t){return{cNt:t.cNt,yq:[],_Nt:t._Nt,wNt:t.wNt,duration:t.duration,gNt:t.gNt,yNt:t.yNt.zk(),Sst:t.Sst,mNt:t.mNt.zk(),pNt:t.pNt,kNt:t.kNt.zk(),bNt:t.bNt.zk(),ANt:t.ANt.zk(),TNt:t.TNt.zk(),SNt:t.SNt.zk(),ENt:t.ENt.zk(),INt:t.INt.zk()}}function kY(t){return{cNt:t.cNt,yq:[],_Nt:t._Nt,wNt:t.wNt,duration:t.duration,gNt:t.gNt,yNt:pp(t.yNt),Sst:t.Sst,mNt:pp(t.mNt),pNt:t.pNt,kNt:pp(t.kNt),bNt:pp(t.bNt),ANt:pp(t.ANt),TNt:pp(t.TNt),SNt:pp(t.SNt),ENt:pp(t.ENt),INt:pp(t.INt)}}function bY(t,n){switch(t._Nt){case sY.pX:case sY.RNt:return function(t,n){return Fr({},TY(t),{_Nt:t._Nt,yq:t.yq.map(function(t){return function(t,n){var i=(e=t.QS,Fr({},DY(e),{NNt:e.NNt,CNt:e.CNt,DNt:e.DNt}));var e;return EY(t.Mu(i),n)}(t,n)}),yEt:t.yEt,PNt:t.PNt})}(t,n);case sY.kX:return function(t,n){return Fr({},TY(t),{_Nt:t._Nt,yq:t.yq.map(function(t){return function(t,n){var i=(e=t.QS,Fr({},DY(e),{IA:e.IA,rT:e.rT,BNt:e.BNt,yX:e.yX,xNt:e.xNt}));var e;return EY(t.Mu(i),n)}(t,n)})})}(t,n)}}function AY(t){switch(t._Nt){case sY.pX:case sY.RNt:return function(t){return Fr({},SY(t),{_Nt:t._Nt,yq:t.yq.map(function(t){return function(t){var n=IY(t),i=(e=n.QS,Fr({},PY(e),{NNt:e.NNt,CNt:e.CNt,DNt:e.DNt}));var e;return n.Mu(i)}(t)}),yEt:t.yEt,PNt:t.PNt})}(t);case sY.kX:return function(t){return Fr({},SY(t),{_Nt:t._Nt,yq:t.yq.map(function(t){return function(t){var n=IY(t),i=(e=n.QS,Fr({},PY(e),{IA:e.IA,rT:e.rT,BNt:e.BNt,yX:e.yX,xNt:e.xNt}));var e;return n.Mu(i)}(t)})})}(t)}}function TY(t){return Fr({},pY(t),{yq:[],_Nt:t._Nt,ONt:t.ONt,LNt:t.LNt,MNt:t.MNt,FNt:t.FNt})}function SY(t){return Fr({},kY(t),{yq:[],_Nt:t._Nt,ONt:t.ONt,LNt:t.LNt,MNt:t.MNt,FNt:t.FNt})}function EY(t,n){var i=t.Qrt();return n.push(i.buffer),{UNt:i,jNt:t.Tw,HNt:t.QS}}function IY(t){var n=new rj;return n.zrt(t.UNt,0,t.jNt),n.QS=t.HNt,n}function RY(t,n){return Fr({},pY(t),{_Nt:t._Nt,yq:t.yq.map(function(t){return function(t,n){var i=(e=t.QS,Fr({},NY(e),{Hg:e.Hg,Pst:e.Pst.zk(),Bst:e.Bst,xst:e.xst,XNt:e.XNt&&e.XNt.zk(),zNt:e.zNt&&e.zNt.zk(),Ost:e.Ost,Fst:e.Fst,Lst:e.Lst,Mst:e.Mst}));var e;return EY(t.Mu(i),n)}(t,n)}),VNt:t.VNt,qNt:t.qNt,VT:t.VT,width:t.width,height:t.height,Pht:t.Pht,WNt:t.WNt,xht:t.xht,vEt:t.vEt,lEt:t.lEt,iS:t.iS,eS:t.eS})}function NY(t){var n;return Fr({},{vJ:(n=t).vJ,Nst:n.Nst.zk()},{Cst:t.Cst.zk(),Dst:t.Dst.zk()})}function CY(t){var n;return Fr({},{vJ:(n=t).vJ,Nst:pp(n.Nst)},{Cst:pp(t.Cst),Dst:pp(t.Dst)})}function DY(t){return Fr({},NY(t))}function PY(t){return Fr({},CY(t))}function BY(t){var n=t.video,i=n&&n.yq;if(!n)return 0;if(!i)return NaN;for(var e=0;e<i.length;e+=1){if(i[e].QS.Ost)return e}return NaN}function xY(t){var n=t.GNt.video,i=n&&n.yq;if(!n)return 0;if(!i)return NaN;for(var e=i.length-1;e>=0;e-=1){if(i[e].QS.Ost)return e}return NaN}function OY(t){if(!t)return null;switch(t._Nt){case sY.YNt:return function(t){return t.VT?"avc1."+(t.Pht<16?"0":"")+((t.Pht<<16)+(t.WNt<<8)+t.xht).toString(16):null}(t);case sY.kX:return"mp4a.40.34";case sY.pX:return t.PNt?"mp4a.40.5":"mp4a.40.2";case sY.RNt:return"mp4a.40.5";default:return null}}function LY(t,n){var i=t.info,e=i.vlt,r=t.GNt,s=e.fSt(t.info.V_t-1),u=r.audio||void 0,o=r.video||void 0,a=u&&OY(u),h=o&&OY(o),c=(!u||a)&&(!o||h)?{zH:a,XH:h}:null,f=u&&!m(u.pNt)?u.pNt:null,v=o&&!m(o.pNt)?o.pNt:null,l=Cp(u&&u.bNt,o&&o.bNt),d=Cp(u&&u.ANt,o&&o.ANt),_=Dp(u&&u.ENt,o&&o.ENt),g=Dp(u&&u.INt,o&&o.INt),y=o&&o.yNt.Em(yp.Dk(o.duration)),p=u&&u.yNt.Em(yp.Dk(u.duration)),k=tG(s),b=k&&s.width||e.resolution&&e.resolution.width,A=k&&s.width||e.resolution&&e.resolution.height;t.metadata={start:w.max(null===f?v||0:null===v?f:w.min(f,v),0),$Nt:i,duration:y&&p?yp.Tk(y,p).pp():(y||p||yp.jp).pp(),QNt:l,KNt:d,ZNt:_,JNt:g,audio:{start:w.max(0,f||0),duration:u&&u.gNt||0,_Nt:a,GJ:u&&u.Sst,QNt:u&&u.bNt,KNt:u&&u.ANt,ZNt:u&&u.ENt,JNt:u&&u.INt},video:{start:w.max(0,v||0),duration:o&&o.gNt||0,_Nt:h,GJ:o&&o.Sst,QNt:o&&o.bNt,KNt:o&&o.ANt,ZNt:o&&o.ENt,JNt:o&&o.INt},DF:o?{width:o.width||b,height:o.height||A}:null,V_t:i.V_t,size:n,quality:e,VH:c,tCt:i.tCt,nCt:i.nCt}}function MY(t,n){var i,e,r,s,u={start:0,duration:0,_Nt:null,GJ:null,QNt:null,KNt:null,ZNt:null,JNt:null};return"zH"===n?(e=u,r=i=Fr({},u,t.video),s=t.DF):(e=i=Fr({},u,t.audio),r=u,s=null),{start:i.start,$Nt:t.$Nt,duration:i.duration,QNt:i.QNt,KNt:i.KNt,ZNt:i.ZNt,JNt:i.JNt,audio:e,video:r,DF:s,V_t:t.V_t,size:t.size,quality:t.quality,VH:t.VH,tCt:t.tCt,nCt:t.nCt}}function FY(t,n){return t+"iCt"+n.V_t+"eCt"+n.uri}(rY=eY||(eY={})).uNt=-1,rY.rCt=-2,function(t){t.YNt="h.264",t.kX="mp3",t.pX="aac-lc",t.RNt="he-aac"}(sY||(sY={})),function(t){t.sCt="dht",t.BAt="umt"}(uY||(uY={})),function(t){t.uCt="oCt",t.aCt="hCt"}(oY||(oY={}));var UY=function(t){function i(i){var e;return(e=t.call(this)||this).Bc=void 0,e.cCt=jr(),e.fCt=void 0,e.vCt=void 0,e.lCt=function(t){var n=t.data,i=n.zAt;if(e.cCt.get(i))switch(n.VAt){case vW.xAt:0;var r=n.qAt;e.dCt(i,r);break;case vW.LAt:var s=n._Ct;e.wCt(i,new jW(UW.LTt,{code:s}));default:0}},e.gCt=function(t){var n,i,r,s,u=t.data,o=u.yCt;if(e.cCt.get(o))switch(u.mCt){case oY.uCt:0;var a=u.pCt;e.kCt(o,{audio:(n=a).audio?AY(n.audio):void 0,video:n.video?(r=n.video,s=kY(r),Fr({},s,{_Nt:r._Nt,yq:r.yq.map(function(t){return function(t){var n,i=IY(t),e=Fr({},CY(n=i.QS),{Hg:n.Hg,Pst:pp(n.Pst),Bst:n.Bst,xst:n.xst,XNt:n.XNt&&pp(n.XNt),zNt:n.zNt&&pp(n.zNt),Ost:n.Ost,Fst:n.Fst,Lst:n.Lst,Mst:n.Mst});return i.Mu(e)}(t)}),VNt:r.VNt,qNt:r.qNt,VT:r.VT,width:r.width,height:r.height,Pht:r.Pht,WNt:r.WNt,xht:r.xht,vEt:r.vEt,lEt:r.lEt,iS:r.iS,eS:r.eS})):void 0,hNt:n.hNt?(i=n.hNt,{cNt:i.cNt,WEt:i.WEt,qw:i.qw,SH:i.SH,fNt:i.fNt,vNt:i.vNt,lNt:i.lNt.map(gY),Qw:[]}):void 0,Lst:n.Lst?n.Lst.map(mY):n.Lst,dNt:pp(n.dNt)});break;case oY.aCt:var h=u.bCt;e.wCt(o,new jW(UW.LTt,{code:h}));default:0}},e.ACt=function(t){if(t.error instanceof lf&&t.error.code===n.ErrorCode.CONFIGURATION_ERROR){var i={type:"mu",mu:new jW(UW.zTt,{code:"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation"})};ct(i.mu.info.code),e.dispatchEvent(i)}else 0},e.Bc=i,e.vCt=e.TCt(),e}E(i,t);var e=i.prototype;return e.Xs=function(t){var n=[];this.cCt.forEach(function(i,e){t&&i.eT!==t||n.push(e)}),this.SCt(n)},e.SCt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.cCt.delete(i)}if(t.length){if(this.fCt){var e={GAt:fW.BAt,ECt:t};this.fCt.kAt(e)}if(this.vCt){var r={ICt:uY.BAt,RCt:t};this.vCt.kAt(r)}}},e.wCt=function(t,n){var i=this.cCt.get(t);if(i){var e=i.Rx;this.cCt.delete(t),e(n)}},e.NCt=function(t,n,i,e){this.fCt||(this.fCt=this.CCt());var r={GAt:fW.PAt,YAt:t,$At:n,QAt:i,KAt:e};this.fCt.kAt(r)},e.DCt=function(t,n){this.vCt||(this.vCt=this.TCt());var i={ICt:uY.sCt,PCt:t,BCt:n,xCt:this.cCt.get(t).OCt};this.vCt.kAt(i)},e.dCt=function(t,n){this.DCt(t,n)},e.CCt=function(){var t=cW("theoplayer.d.js",this.Bc.libraryLocation);return t.Ks("message",this.lCt),t.Ks("error",this.ACt),t},e.LCt=function(t){var n=t.GNt.video,i=n&&n.yq&&n.yq[0];i&&i.QS.Ost},e.kCt=function(t,n){var i=this.cCt.get(t),e=i.Rx,r=i.MCt,s={GNt:n,info:i.FCt,metadata:null};this.LCt(s),function(t){var n=t.info.vlt.fSt(t.info.V_t-1),i=t.GNt;t.info.nCt=t.info.vSt,n&&(i.audio||i.video?i.video&&!i.video.qNt&&!i.video.VNt&&i.video.Sst&&n.TEt&&i.video.Sst!==n.TEt?t.info.nCt=!0:i.video&&(i.video.height&&n.height&&i.video.height!==n.height||i.video.width&&n.width&&i.video.width!==n.width)&&(t.info.nCt=!0):t.info.nCt=!0)}(s),LY(s,r),function(t){var n=t.info,i=n.vlt,e=t.metadata,r=t.GNt;if(n.UCt=yp.Dk(e.duration),n.dSt=r.audio&&r.audio.yNt.Em(yp.Dk(r.audio.duration))||yp.jp,n._St=r.video&&r.video.yNt.Em(yp.Dk(r.video.duration))||yp.jp,n.jCt=r.audio&&r.audio.yNt||yp.jp,n.HCt=r.video&&r.video.yNt||yp.jp,n.XCt=e.audio.QNt,n.zCt=e.audio.KNt,n.VCt=e.video.QNt,n.qCt=e.video.KNt,n.lSt=e.QNt,n.WCt=e.KNt,n.GCt=e.audio.ZNt,n.YCt=e.audio.JNt,n.$Ct=e.video.ZNt,n.QCt=e.video.JNt,n.ZNt=e.ZNt,n.JNt=e.JNt,r.video){var s=BY(t.GNt),u=r.video.yq&&r.video.yq[s];u?(n.sNt=s,n.aNt=u.QS.Cst,n.KCt=u.QS.Dst):n.sNt=eY.rCt}else n.sNt=eY.uNt;n.TEt=r.video&&r.video.Sst||0,n.width=r.video&&r.video.width||0,n.height=r.video&&r.video.height||0,i.dispatchEvent({type:"PEt",FCt:t.info}),!i.resolution&&e.DF&&(i.resolution=e.DF),i.bandwidth||(i.bandwidth=8*e.size/e.duration),!e.VH||i.VH&&!i.VH.zH==!e.VH.zH&&!i.VH.XH==!e.VH.XH||i.pEt(e.VH),r.audio&&void 0!==r.audio.yEt&&(i.yEt=r.audio.yEt),i.vEt=r.video&&r.video.vEt||i.vEt,i.lEt=r.video&&r.video.lEt||i.lEt,i.dEt=r.audio&&r.audio.cNt||void 0,i._Et=r.video&&r.video.cNt||void 0,i.wEt=r.audio&&r.audio._Nt||void 0,i.gEt=r.video&&r.video._Nt||void 0,i.mEt=r.audio&&r.audio.Sst||void 0,i.TEt=r.video&&r.video.Sst||void 0}(s),this.cCt.delete(t),e(null,s)},e.TCt=function(){var t=cW("theoplayer.e.js",this.Bc.libraryLocation);return t.Ks("message",this.gCt),t.Ks("error",this.ACt),t},e.ZCt=function(t,n,i,e){var r=this;t.getKey(e).then(function(t){var s=i;i=void 0,r.cCt.has(n)&&r.NCt(n,s,t,e.iv)}).catch(function(t){i=void 0,r.cCt.has(n)&&r.wCt(n,t)})},e.JCt=function(t,n,i,e,r,s){var u=FY(t,e),o=e.vlt;this.cCt.set(u,{eT:t,FCt:e,OCt:{tDt:e.duration,VH:o.VH,vEt:o.vEt,lEt:o.lEt,dEt:o.dEt,_Et:o._Et,wEt:o.wEt,gEt:o.gEt,yEt:!this.Bc.skipImplicitHEAACDetection&&o.yEt,E1:r},MCt:i.length,Rx:s}),e.key?this.ZCt(n,u,i,e.key):this.DCt(u,i)},e.nDt=function(t){var n=[];return this.cCt.forEach(function(i){i.eT===t&&n.push(i.FCt)}),n},e.iDt=function(t,n){var i=FY(t,n);return this.cCt.has(i)},e.Ed=function(){this.Xs(),this.fCt&&(this.fCt.pAt(),this.fCt=void 0),this.vCt&&(this.vCt.pAt(),this.vCt=void 0)},i}(MW);function jY(t,n){return t+"eDt"+n}function HY(t){return jY(t.vlt.xw,t.V_t)}function XY(t){return!(!t||!t.GNt)}var zY=function(){function t(t,n,i){this.rDt=void 0,this.qS=void 0,this.sDt=[],this.uDt=jr(),this.oDt=1,this.aDt=void 0,this.qS=t,this.rDt=n,this.aDt=i}var n=t.prototype;return n.hDt=function(t){var n=HY(t.info);if(this.uDt.has(n))this.cDt(t.info,t);else{this.sDt.push(n),this.uDt.set(n,t);for(var i=this.rDt.fDt+10;this.sDt.length>8*this.vDt&&this.lDt>i*this.vDt;){var e=this.uDt.get(this.sDt[0]),r=this.aDt.dDt,s=null==e?void 0:e.info;if(s){var u=s.start,o=u+s.duration,a=new WS([u,o]),h=r,c=h+this.rDt.fDt;if(new WS([h,c]).XC(a).Tw>0)break}this.uDt.delete(this.sDt.shift())}}},n._Dt=function(t,n){var i=jY(t,n),e=this.uDt.get(i),r=this.sDt.indexOf(i);return!(!e||-1===r)&&(Gs(this.sDt,r),this.uDt.delete(i),!0)},n.Du=function(){this.sDt.length=0,this.uDt.clear()},n.wDt=function(){for(var t={},n=0,i=this.sDt;n<i.length;n++){var e=i[n],r=this.uDt.get(e);XY(r)&&(t[r.info.vlt.xw]=(t[r.info.vlt.xw]||0)+1)}return t},n.gDt=function(t,n){var i=[],e=this.yDt(t,n);if(!XY(e))return i;do{i.push(e),n+=1,e=this.yDt(t,n)}while(XY(e));return i},n.mDt=function(t,n){return!!this.yDt(t,n)},n.pDt=function(t,n){return XY(this.yDt(t,n))},n.yDt=function(t,n){return this.uDt.get(jY(t,n))},n.cDt=function(t,n){var i=HY(t),e=this.sDt.indexOf(i);return-1!==e&&(Gs(this.sDt,e),this.sDt.push(i),n&&this.uDt.set(i,n),!0)},n.kDt=function(){for(var t=[],n=0,i=this.sDt;n<i.length;n++){var e=i[n],r=this.uDt.get(e);t.push(r.info)}return t},n.bDt=function(){for(var t=[],n=0,i=this.sDt;n<i.length;n++){var e=i[n],r=this.uDt.get(e);r&&XY(r)&&t.push(r.info)}return t},T(t,[{key:"lDt",get:function(){for(var t=cY(this.qS,this.kDt()),n=0,i=0;i<t.length;i++)n+=t.end(i)-t.start(i);return n}},{key:"vDt",get:function(){return this.oDt},set:function(t){t>0&&(this.oDt=w.max(t,1))}}]),t}();var VY=F.Pn?function(t,n){return Np(t.Cst,n.Cst)}:function(t,n){return Np(t.Dst,n.Dst)};function qY(t,n,i,e){if(!t)return i;if(!i)return t;if(t._Nt===i._Nt){var r,s,u=t.VNt||i.VNt;if(u)s=1/(r=t.mNt.Em(i.mNt)._k(2)).pp();else{if(t.Sst!==i.Sst)return;if(!t.mNt.hp(i.mNt))return;r=t.mNt,s=t.Sst}if(t.width===i.width&&t.height===i.height){var o,a=t.qNt||i.qNt||!t.mNt.hp(i.mNt);if(t.yq)if(i.yq)if(e)o=t.yq.concat(i.yq),WY(t.yq,i.yq,YY);else{!function(t,n,i){var e=t.length,r=yp.jp;t=Os(t,function(t,n){return VY(t.QS,n.QS).bp(yp.jp)});for(var s=1;s<e;s+=1){var u=t[s-1].QS,o=t[s].QS,a=VY(o,u);a.Sp(yp.jp)&&(a=n),r=r.Em(a),u.Pst=a,u.Hg=a.pp()}if(e>0){var h=t[e-1].QS,c=yp.Ak(yp.Dk(w.round(i-r.pp())),n);h.Pst=c,h.Hg=c.pp()}}(n.yq.concat(i.yq),r,n.duration+i.duration),o=t.yq.concat(i.yq),WY(t.yq,i.yq,YY)}else o=t.yq;else o=i.yq;return{_Nt:t._Nt,Pht:t.Pht,xht:t.xht,WNt:t.WNt,Sst:s,mNt:r,VNt:u,qNt:a,width:t.width,height:t.height,vEt:t.vEt,lEt:t.lEt,VT:t.VT,duration:t.duration+i.duration,gNt:t.gNt+i.gNt,yNt:t.yNt,pNt:t.pNt,kNt:t.kNt,bNt:t.bNt,ANt:t.ANt,TNt:QY(i.TNt,t.TNt),SNt:QY(i.SNt,t.SNt),ENt:QY(i.ENt,t.ENt),INt:QY(i.INt,t.INt),yq:o,wNt:t.wNt||i.wNt,iS:t.iS,eS:t.eS}}}}function WY(t,n,i){var e=n[0].QS.Nst,r=t[t.length-1].QS.Nst,s=e.Dp(r),u=Np(e,r).Dp(s);if(!u.qp())for(var o=0;o<n.length;o++){i(n[o].QS,u)}}function GY(t,n){t.Dst=t.Dst.Em(n),t.Cst=t.Cst.Em(n),t.Nst=t.Nst.Em(n)}function YY(t,n){GY(t,n),t.Pst=t.Pst.Em(n),t.zNt=$Y(t.zNt,n),t.XNt=$Y(t.XNt,n)}function $Y(t,n){if(t)return t.Em(n)}function QY(t,n){return n.Em(Np(t,n))}function KY(t,n){var i={audio:void 0,video:void 0,dNt:t.dNt};if("video"===n){if(!t.audio)return i;i.audio={_Nt:t.audio._Nt,Sst:t.audio.Sst,mNt:t.audio.mNt,duration:t.audio.duration,gNt:t.audio.gNt,yNt:yp.jp,pNt:t.audio.pNt,kNt:t.audio.kNt,bNt:t.audio.bNt,ANt:t.audio.ANt,TNt:t.audio.TNt,SNt:t.audio.SNt,ENt:t.audio.ENt,INt:t.audio.INt,yq:t.audio.yq,FNt:t.audio.FNt,MNt:t.audio.MNt,wNt:t.audio.wNt,ONt:t.audio.ONt,LNt:t.audio.LNt}}if("audio"===n){if(!t.video)return i;i.video={_Nt:t.video._Nt,Pht:t.video.Pht,xht:t.video.xht,WNt:t.video.WNt,Sst:t.video.Sst,mNt:t.video.mNt,VNt:t.video.VNt,qNt:t.video.qNt,width:t.video.width,height:t.video.height,vEt:t.video.vEt,lEt:t.video.lEt,iS:t.video.iS,eS:t.video.eS,VT:t.video.VT,duration:t.video.duration,gNt:t.video.gNt,yNt:yp.jp,pNt:t.video.pNt,kNt:t.video.kNt,bNt:t.video.bNt,ANt:t.video.ANt,TNt:t.video.TNt,SNt:t.video.SNt,ENt:t.video.ENt,INt:t.video.INt,yq:t.video.yq,wNt:t.video.wNt}}return i}function ZY(t,n,i,e){var r=function(t,n){if(!t)return n;if(!n)return t;var i;if((t._Nt===n._Nt||!t._Nt||!n._Nt)&&t.Sst===n.Sst&&t.mNt.hp(n.mNt)&&t.MNt===n.MNt)return t.yq?n.yq?(i=t.yq.concat(n.yq),WY(t.yq,n.yq,GY)):i=t.yq:i=n.yq,{_Nt:t._Nt,Sst:t.Sst,mNt:t.mNt,duration:t.duration+n.duration,gNt:t.gNt+n.gNt,yNt:t.yNt,pNt:t.pNt,kNt:t.kNt,bNt:t.bNt,ANt:t.ANt,TNt:QY(n.TNt,t.TNt),SNt:QY(n.SNt,t.SNt),ENt:QY(n.ENt,t.ENt),INt:QY(n.INt,t.INt),yq:i,MNt:t.MNt,FNt:t.FNt,wNt:t.wNt||n.wNt,ONt:t.ONt,LNt:t.LNt}}(t.audio?t.audio:void 0,i.audio?i.audio:void 0);if(!t.audio&&!i.audio||r){var s=qY(t.video?t.video:void 0,n.video,i.video,e);if(!t.video&&!i.video||s)return{audio:r,video:s,dNt:t.dNt}}}function JY(t){return KY(t,"audio")}function t$(t){return KY(t,"video")}var n$,i$,e$,r$=function(){function t(t,n){var i=this;this.z_t=void 0,this.$l=void 0,this.kRt=void 0,this.ADt=!1,this.TDt=0,this.SDt=0,this.EDt=function(){return i.IDt()},this.z_t=t,this.$l=n,this.kRt=n.kRt,this.kRt.addEventListener("Kh",this.EDt)}return t.prototype.IDt=function(){var t=this.kRt.ORt,n=1e3*this.kRt.URt,i=1e3*this.kRt.FRt;this.kRt.aRt&&(this.ADt||(this.z_t.RDt(i),this.ADt=!0),n>this.SDt&&(this.z_t.NDt(n-this.SDt,t-this.TDt),this.TDt=t,this.SDt=n))},t}(),s$=function(){function t(){this.CDt=void 0,this.DDt=void 0,this.CDt=new jF,this.DDt=new HF}var n=t.prototype;return n.PDt=function(t){new r$(this,t)},n.NDt=function(t,n){this.CDt.wnt(t,n)},n.RDt=function(t){this.DDt.wnt(t)},n.Ed=function(){},T(t,[{key:"BDt",get:function(){return this.DDt.gnt()/1e3}},{key:"p6",get:function(){return this.CDt.gnt()}}]),t}(),u$=function(){function t(){this.xDt=jr()}var n=t.prototype;return n.ODt=function(t,n){var i,e,r=this.xDt.get(t);return void 0!==r&&(i=r.Y0,e=n,G(i)?i===e:function(t,n){return t.Y0===n.Y0&&t.bJ.IC===n.bJ.IC&&t.bJ.NC===n.bJ.NC}(i,e))},n.LDt=function(t,n){if(this.ODt(t,n))return this.xDt.get(t).Hi},n.MDt=function(t,n,i){this.xDt.set(t,{Y0:n,Hi:i})},n.Du=function(){this.xDt.clear()},t}();!function(t){t[t.FDt=0]="FDt",t[t.UDt=5]="UDt",t[t.jDt=13]="jDt",t[t.HDt=14]="HDt",t[t.XDt=15]="XDt"}(n$||(n$={})),function(t){t[t.zDt=0]="zDt",t[t.VDt=1]="VDt",t[t.qDt=2]="qDt",t[t.WDt=11]="WDt",t[t.GDt=13]="GDt",t[t.YDt=14]="YDt"}(i$||(i$={})),function(t){t[t.$Dt=0]="$Dt",t[t.QDt=1]="QDt",t[t.KDt=2]="KDt",t[t.ZDt=3]="ZDt",t[t.JDt=4]="JDt",t[t.tPt=5]="tPt",t[t.nPt=6]="nPt",t[t.iPt=7]="iPt"}(e$||(e$={}));var o$=5,a$=5,h$=.5;function c$(t){if(!t.GNt.video)return[];for(var n=[],i=0;i<t.GNt.video.yq.length;i++){var e=t.GNt.video.yq[i].QS;e.Ost&&n.push({TJ:i,cot:e.Cst})}return n}var f$=yp.Dk(.04),v$=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).rDt=void 0,s.Bc=void 0,s.ePt=void 0,s.dE=void 0,s.rPt=void 0,s.sPt=void 0,s.uPt=void 0,s.oPt=jr(),s.aPt=void 0,s.hPt=jr(),s.cPt=1,s.Bc=n,s.ePt=i,s.dE=e,s.rPt=new u$,s.rDt=r,s.sPt=new LG(e,n),s.uPt=new s$,s.aPt=new UY(n),s.aPt.addEventListener("mu",function(t){s.dispatchEvent(t)}),s}E(n,t);var i=n.prototype;return i.fPt=function(t){this.aPt.Xs(t),this.sPt.Du(!1,t)},i.Du=function(t){this.fPt(t),t?this.oPt.get(t).Du():this.oPt.forEach(function(t){return t.Du()})},i.Ed=function(){this.tu(),this.sPt.Du(),this.oPt.forEach(function(t){return t.Du()}),this.oPt.clear(),this.aPt.Ed()},i.yw=function(t,n,i){if(!this.oPt.has(t)){var e=new zY(n,this.rDt,i);e.vDt=this.vDt,this.oPt.set(t,e)}},i.vPt=function(t,n,i){var e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=String(n.xw),!this.rPt.ODt(e,i)){u.next=3;break}return u.abrupt("return",this.rPt.LDt(e,i));case 3:return r=uG(n.AEt),u.t0=p,u.next=7,Mr.awrap(this.sPt.WRt(t,i,xf.Wf,v_.ud,r));case 7:return u.t1=u.sent,s=new u.t0(u.t1),this.rPt.MDt(e,i,s),u.abrupt("return",s);case 11:case"end":return u.stop()}},null,this,null,Ye)},i.lPt=function(t,n,i,e){var r=this.oPt.get(t),s=r.yDt(n.vlt.xw,n.V_t);if(r.pDt(n.vlt.xw,n.V_t))r.cDt(n),this.dispatchEvent({type:"dPt",eT:t,_Pt:s});else{if(!s)return this.wPt(t,n,i,e);r.cDt(n),this.gPt(t,n,i,s.yPt)}return e&&e(),null},i.wPt=function(t,n,i,e){var r=this,s=this.oPt.get(t),u=function(t,n){return t+"mPt"+n.V_t+"eCt"+n.uri}(t,n);if(this.hPt.has(u))return null;this.hPt.set(u,!0);var o=uG(n.vlt.AEt),a=this.sPt.$h(t,n.uri,xf.Wf,v_.Jl,o,function(o,h){return r.hPt.delete(u),o?e&&e(o):(r.dispatchEvent({type:"pPt",eT:t}),s.pDt(n.vlt.xw,n.V_t)||s.hDt({info:n,yPt:a.Ud}),r.lPt(t,n,i),e&&e(o,h))});return this.uPt.PDt(a),a},i.gPt=function(t,n,i,e){var r=this,s=this.oPt.get(t);this.aPt.iDt(t,n)||(n&&n.key&&this.ePt.getKey(n.key).catch(Z),this.aPt.JCt(t,this.ePt,e,n,i,function(n,i){if(n)return r.dispatchEvent({type:"mu",mu:n});s.hDt(i),r.dispatchEvent({type:"dPt",eT:t,_Pt:i})}))},i.kPt=function(t,n,i){var e=i.length,r="zH"===t?d$:_$;if(!l$(n,i))return null;if(e<=1)return i;for(var s=1;s<e;s+=1){var u=i[s],o=i[s-1];if(u.metadata.nCt){if("bPt"===this.Bc.APt||r(u,o)){var a=i.splice(0,s);return l$(n,a)?a:this.kPt(t,n,i)}0}}return i},i.TPt=function(t,n,i,e){for(var r=this.oPt.get(t).bDt(),s=e.SPt,u=function(t){var e=i[t],u=r.filter(function(t){return t.vlt===e}),o=cY(n,u),a=o.$Rt(s.pp(),f$.pp());if(a>=0&&yp.Dk(o.end(a)).Dp(s).Ap(f$))return{v:!0}},o=0;o<i.length;o++){var a=u(o);if("object"==typeof a)return a.v}return!1},i.EPt=function(t,n,i,e,r){if(!F.Rn)return!0;if(r.IPt||this.TPt(t,n,i,r))return!0;var s=yp.Ak(e,r.RPt);return r.SPt.Dp(s).Ap(yp.Dk(2))},i.NPt=function(t,n,i,e,r,s,u,o){var a=n.gDt(r.xw,s),h=this.kPt(t,s,a);if(!h||0===h.length)return null;var c,f=h[0],v=e.eNt(f.info),l=R$(t,e,f);if("XH"!==t||function(t,n,i){return!!t&&t.fT.vlt===n&&i.Ap(yp.Dk(t.NC))&&i.Sp(yp.Dk(t.NC).Em(f$))}(i,r,l))return{hSt:h,CPt:yp.Tk(v,l)};f.GNt.video&&(f=(h=k$(h,function(t,n,i,e){for(var r=0,s=0,u=0;u<t.length;u+=1)for(var o=t[u],a=c$(o),h=0;h<a.length;h++){var c=a[h];if(n.oNt(o.info,c.cot).kp(i.Dp(e)))return{DPt:r,PPt:s};r=u,s=c.TJ}return{DPt:r,PPt:s}}(h,e,u,o)))[0]);if(l=R$(t,e,f),function(t){var n=t.GNt.video,i=n&&n.yq,e=i&&i[0],r=e&&e.QS.Ost;if(!n)return!0;return!!r}(f))return{hSt:h,CPt:yp.Tk(v,l)};var d=function(t){for(var n=0;n<t.length;n++){var i=BY(t[n].GNt);if(!m(i))return{DPt:n,PPt:i}}return null}(h),_=yp.Ak(u,S$(t,e,r.fSt(s)));if(f.info.V_t===s){if(d&&(l=R$(t,e,(c=k$(h,d))[0]),_.Dp(l).Ap(o)))return{hSt:c,CPt:yp.Tk(v,l)};for(var w=s-1;n.pDt(r.xw,w);){var g=n.gDt(r.xw,w);if((f=(c=this.kPt(t,s,g))&&c[0]&&p$(c[0],xY(c[0])))&&(l=R$(t,e,f),_.Dp(l).Ap(o)))return c[0]=f,{hSt:c,CPt:yp.Tk(v,l)};w-=1}}return function(t){if(t.vSt)return!1;var n=t.vlt;if(n.cSt&&n.cSt.live)return!1;if(!n.fSt(t.V_t-1))return!1;return!0}(h[0].info)?null:d?{hSt:h=k$(h,d),CPt:v}:null},i.BPt=function(t,n,i,e,r,s,u,o,a,h,c){var f=s.xPt(o,a,n),v=f&&f.fT;if(!v)return null;var l=v.V_t;do{var d=l,_=o.fSt(d),w=S$(n,s,_);if(!E$(n,s,_).Ip(a)||_.tCt){if(w.Em(f$).kp(h))break;if(yp.Ak(yp.jp,a.Dp(w)).Ip(c)&&i.pDt(o.xw,d-1)&&i.pDt(o.xw,d))i.yDt(o.xw,d).metadata.nCt||(d-=1);var g=this.OPt(t,n,i,e,r,s,u,o,d,a,c);if(g&&(m$(g,a,h)||g.IPt))return g}}while(i.pDt(o.xw,++l));return null},i.OPt=function(t,n,i,e,r,s,u,o,a,h,c){var f=o.fSt(a),v=this.NPt(n,i,e,s,o,a,h,c),l=v&&v.hSt,d=v&&v.CPt,_=l&&l[l.length-1],g=_&&_.metadata.tCt;if(!(l=function(t,n){if(!n||!n.length)return n;var i="zH"===t?w$:g$;return n.map(i).filter(y$)}(n,l))||!l.length){if(g){var y=[],m=s.eNt(_.info);return y.TK=m,y.LPt=m,y.RPt=m,y.MPt=m,y.SPt=m,y.IPt=g,y}return null}var p=l="XH"===n?function(t,n,i){var e=i[0].GNt.video;return i[0].info.vSt?function(t,n,i,e){var r=qs(e.yq,function(t){return t.QS.Ost});if(r<0)return i;var s=e.yq[r].QS,u=n.oNt(i[0].info,s.Cst),o=N$(t,u);if(o.Pp())return i;var a=u.Dp(o).Sk(kp,dp.Xk);if(a.Sp(yp.jp))return i;var h=P$(e.yq.slice(r),a);return i[0]=A$(i[0],h),i}(t,n,i,e):function(t,n,i,e){var r=e.mNt.fk(o$),s=e.yq[0].QS,u=n.oNt(i[0].info,s.Dst),o=C$(t,u,r);if(o.Pp())return i;var a=u.Dp(o).Sk(kp,dp.Xk);if(a.Sp(yp.jp)||a.kp(r))return i;var h=P$(e.yq,a);return i[0]=A$(i[0],h),i}(t,n,i,e)}(r,s,l):function(t,n,i){var e;if((null==(e=i[0].GNt.audio)?void 0:e._Nt)===sY.kX)return i;var r=i[0].GNt.audio,s=r.yq[0].QS;return i[0].info.vSt?function(t,n,i,e,r){var s=n.oNt(i[0].info,r.Cst),u=N$(t,s);if(u.Pp())return i;var o=s.Dp(u).pp(),a=w.floor(o/e.mNt.pp());if(a<=0)return i;var h=D$(e,a);return i[0]=b$(i[0],h),i}(t,n,i,r,s):function(t,n,i,e,r){var s=n.oNt(i[0].info,r.Dst),u=C$(t,s,e.mNt.fk(a$));if(u.Pp())return i;var o=s.Dp(u).pp(),a=w.round(o/e.mNt.pp());if(0===a||w.abs(a)>a$)return i;var h=D$(e,a);return i[0]=b$(i[0],h),i}(t,n,i,r,s)}(r,s,l),k=p[0];if(f.V_t<k.info.V_t&&(d=s.eNt(f)),p.TK=d,p.LPt=function(t,n,i){return n.oNt(i.info,I$(t,i).KNt)}(n,s,k),p.RPt=R$(n,s,k),p.MPt=function(t,n,i){return n.oNt(i.info,I$(t,i).JNt)}(n,s,p[p.length-1]),p.SPt=function(t,n,i){return n.oNt(i.info,I$(t,i).ZNt)}(n,s,p[p.length-1]),p.IPt=g,!this.EPt(t,s,u,h,p))return null;var b=k.GNt.video;return!b||(b.vEt=b.vEt||o.vEt,b.lEt=b.lEt||o.lEt,b.vEt&&b.lEt)?p:null},i.FPt=function(t,n,i,e,r,s,u,o,a,h){for(var c=null,f=u.length-1;f>=0;f-=1){var v=u[f],l=this.BPt(t,n,i,e,r,s,u,v,o,a,h);l&&(c&&!l.RPt.Ip(c.RPt)||(c=l))}return c},i.UPt=function(t,n,i,e,r,s,u,o,a){for(var h=yp.Dk(u),c=yp.Dk(o),f=yp.Dk(a),v=this.oPt.get(t),l=new jG([{IC:h.pp(),NC:h.Em(c).pp()}]),d=r.XC(l),_=function(t){if(0===t.length)return null;var n=t.hSt(t.length-1),i=n[n.length-1];if(!i.fT.b1)return null;return i}(r),w=VG(qG(d),l),g=0;g<w.length;g++){var y=yp.Dk(w.start(g)),m=yp.Dk(w.end(g)),p=B$(d,y,m),k=y.Em(p).Sk(kp,dp.Xk),b=m.Sk(kp,dp.Xk);if(k.Ip(b)){if(_&&k.Ap(yp.Dk(_.NC)))continue;var A=this.FPt(t,n,v,s,r,i,e,k,b,f);if(A)return A}}return null},i.bDt=function(t){return this.oPt.get(t).bDt()},i.nDt=function(t){return this.aPt.nDt(t)},T(n,[{key:"vDt",get:function(){return this.cPt},set:function(t){t>0&&(this.cPt=t,this.oPt.forEach(function(n){return n.vDt=t}))}},{key:"BDt",get:function(){return this.uPt.BDt}},{key:"p6",get:function(){return this.uPt.p6}}]),n}(MW);function l$(t,n){for(var i=0;i<n.length;i++){if(n[i].info.V_t===t)return!0}return!1}function d$(t,n){return t.metadata.audio._Nt!==n.metadata.audio._Nt||(t.metadata.audio.GJ!==n.metadata.audio.GJ||(!(!t.GNt.audio||!n.GNt.audio||t.GNt.audio.MNt===n.GNt.audio.MNt)||!Ip(t.metadata.audio.QNt,t.metadata.audio.KNt).hp(Ip(n.metadata.audio.ZNt,n.metadata.audio.JNt))))}function _$(t,n){return t.metadata.video._Nt!==n.metadata.video._Nt||(!(!t.metadata.DF||!n.metadata.DF||t.metadata.DF.height===n.metadata.DF.height&&t.metadata.DF.width===n.metadata.DF.width)||(!(!n.GNt.video||n.GNt.video.qNt||t.metadata.video.GJ===n.metadata.video.GJ)||Ip(t.metadata.video.QNt,t.metadata.video.KNt)!==Ip(n.metadata.video.ZNt,n.metadata.video.JNt)))}function w$(t){return t.GNt.video&&(t={GNt:t$(t.GNt),info:t.info,metadata:MY(t.metadata,"XH")}),t}function g$(t){return t.GNt.audio&&(t={GNt:JY(t.GNt),info:t.info,metadata:MY(t.metadata,"zH")}),t}function y$(t){return Boolean(t&&(t.GNt.audio||t.GNt.video))}function m$(t,n,i){var e=yp.Ak(n,t.RPt),r=yp.Tk(i,t.SPt),s=f$;return F._n&&(e.Sp(t.RPt)?s=s.Em(t.RPt).Dp(t.LPt):r.Ap(t.SPt)&&(s=s.Em(t.SPt).Dp(t.MPt))),r.Dp(e).Ap(s)}function p$(t,n){return m(n)?null:0===n?t:A$(t,t.GNt.video.yq.slice(n))}function k$(t,n){return(t=t.slice(n.DPt))[0]=p$(t[0],n.PPt),t}function b$(t,n){var i={info:t.info,GNt:{audio:t$(t.GNt).audio,video:null,dNt:t.GNt.dNt},metadata:null},e=i.GNt.audio;e.yq=n;var r=n[0].QS;return e.kNt=r.Nst,e.pNt=e.kNt.pp(),T$(e,i.GNt.dNt,e.mNt),LY(i,t.metadata.size),i.metadata=MY(i.metadata,"XH"),i}function A$(t,n){var i={info:t.info,GNt:{audio:null,video:JY(t.GNt).video,dNt:t.GNt.dNt},metadata:null},e=i.GNt.video;e.yq=n;var r=n[0].QS;e.kNt=r.Nst,e.pNt=e.kNt.pp();var s=n[n.length-1].QS.Pst;return T$(e,i.GNt.dNt,s),LY(i,t.metadata.size),i.metadata=MY(i.metadata,"zH"),i}function T$(t,n,i){for(var e=yp.Bk,r=yp.Bk,s=yp.xk,u=yp.xk,o=0,a=t.yq;o<a.length;o++){var h=a[o].QS;e=yp.Tk(h.Dst,e),r=yp.Tk(h.Cst,r),s=yp.Ak(h.Dst,s),u=yp.Ak(h.Cst,u)}t.bNt=r,t.ANt=e,t.TNt=u,t.SNt=s,t.yNt=yp.Ak(Np(t.kNt,n),yp.jp),t.ENt=Rp(t.TNt,i),t.INt=Rp(t.SNt,i),t.gNt=Ip(t.ENt,t.bNt).pp(),t.duration=t.gNt}function S$(t,n,i){if(tG(i)){var e="zH"===t?i.XCt:i.VCt;return Sp(e)||(e=i.lSt),n.oNt(i,e)}return i&&n.eNt(i)}function E$(t,n,i){if(tG(i)){var e="zH"===t?i.GCt:i.$Ct;return Sp(e)||(e=i.lSt),n.oNt(i,e)}return i&&n.eNt(i).Em("zH"===t?function(t){return tG(t)?t.dSt||yp.jp:t&&yp.Dk(t.duration)||yp.jp}(i):function(t){return tG(t)?t._St||yp.jp:t&&yp.Dk(t.duration)||yp.jp}(i))}function I$(t,n){return"zH"===t?n.metadata.audio:n.metadata.video}function R$(t,n,i){return n.oNt(i.info,I$(t,i).QNt)}function N$(t,n){var i=t.ZRt(n.pp());if(-1!==i){var e=yp.Dk(t.end(i));if(n.Dp(e).Sp(yp.Dk(h$)))return e}return yp.Pk}function C$(t,n,i){var e=t.$Rt(n.pp(),i.pp());if(-1!==e)for(var r=t.hSt(e),s=r.length-1;s>=0;s--)for(var u=r[s],o=u.fT.hSt.length-1;o>=0;o--){var a=u.fT.hSt[o];if(n.Dp(yp.Dk(a.NC)).Rp().Sp(i))return yp.Dk(a.NC);if(n.Dp(yp.Dk(a.IC)).Rp().Sp(i))return yp.Dk(a.IC)}return yp.Pk}function D$(t,n){var i;if(n<0)i=t.yq.slice(-n);else{0;var e=new rj,r=function(t,n){if(t)switch(n){case 1:return new p([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);case 2:case 3:return new p([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}else switch(n){case 1:return new p([0,200,0,128,35,128]);case 2:return new p([33,0,73,144,2,25,0,35,128]);case 3:return new p([0,200,0,128,32,132,1,38,64,8,100,0,142]);case 4:return new p([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);case 5:return new p([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);case 6:return new p([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}return null}(t.PNt,t.MNt);e.zrt(r,0,r.length),i=t.yq.slice();for(var s=0;s<n;s++){var u=i[0].QS,o=e.Mu(Fr({},e.QS,{Nst:u.Nst.Dp(t.mNt),vJ:u.vJ-t.mNt.pp(),Dst:u.Dst.Dp(t.mNt),Cst:u.Cst.Dp(t.mNt)}));i.unshift(o)}}return i}function P$(t,n){var i=t[0].QS,e=t.slice();return e[0]=t[0].Mu(Fr({},i,{Nst:yp.Ak(yp.jp,i.Nst.Dp(n)),vJ:w.max(i.vJ-n.pp(),0),Dst:yp.Ak(yp.jp,i.Dst.Dp(n)),xst:w.max(i.xst-n.pp(),0),Cst:yp.Ak(yp.jp,i.Cst.Dp(n)),Bst:w.max(i.Bst-n.pp(),0),Pst:yp.Ak(yp.jp,i.Pst.Em(n)),Hg:w.max(0,i.Hg+n.pp())})),e}function B$(t,n,i){for(var e=0;e<t.length-1;e++){var r=t.hSt(e),s=t.hSt(e+1);if(r.length&&s.length&&yp.Dk(r[0].IC).Sp(n)&&yp.Dk(s[s.length-1].NC).Ap(i)&&s[0].fT.hSt[0].Fu.$Nt.vSt)return f$.fk(5)}return t.Im(n.pp())?f$:yp.jp}function x$(n){return t.URL&&t.URL.createObjectURL?t.URL.createObjectURL(n):t.webkitURL&&t.webkitURL.createObjectURL?t.webkitURL.createObjectURL(n):t.createObjectURL?t.createObjectURL(n):null}function O$(n){return t.URL&&t.URL.revokeObjectURL?t.URL.revokeObjectURL(n):t.webkitURL&&t.webkitURL.revokeObjectURL?t.webkitURL.revokeObjectURL(n):t.revokeObjectURL?t.revokeObjectURL(n):void 0}function L$(t){return new V$(t.Pl,t.Hi)}var M$,F$,U$,j$,H$,X$,z$={},V$=function(){function t(t,n){this.Pl=void 0,this.jPt=void 0,this.jPt=n,this.Pl=t}return t.prototype.HPt=function(t){delete z$[t],O$(t)},T(t,[{key:"Hi",get:function(){return this.jPt}},{key:"XPt",get:function(){var t,n,i=(t=this.jPt,n=this.Pl,Df([t],{type:n})),e=x$(i);return z$[e]=i,e}}]),t}(),q$=function(){function t(t,n,i){this.Y0=void 0,this.Y0="data:"+t+";"+n+","+i}return t.prototype.HPt=function(t){},T(t,[{key:"XPt",get:function(){return this.Y0}}]),t}();!function(t){t.kX="zPt",t.gg="VPt",t.qPt="WPt",t.GPt="YPt",t.$Pt="QPt"}(M$||(M$={})),function(t){t.KPt="ZPt",t.JPt="tBt"}(F$||(F$={})),function(t){t.nBt="audio/mp4",t.iBt="audio/mpeg",t.eBt="video/mp4"}(U$||(U$={})),function(t){t[t.rBt=0]="rBt",t[t.sBt=1]="sBt",t[t.Vw=2]="Vw",t[t.uBt=3]="uBt"}(j$||(j$={})),function(t){t.oBt="aBt",t.hBt="cBt"}(H$||(H$={})),function(t){t.fBt="bPt",t.hBt="vBt"}(X$||(X$={}));var W$=function(){function t(t,n,i,e,r,s,u,o,a,h){this.lBt=void 0,this.dBt=void 0,this.eT=void 0,this.Pl=void 0,this._Pt=void 0,this._Bt=void 0,this.XS=void 0,this.wBt=void 0,this.gBt=void 0,this.Rx=void 0,this.yBt=j$.rBt,this.dBt=t,this.lBt=n,this.eT=i,this.Pl=e,this._Pt=r,this._Bt=s,this.XS=u,this.wBt=o,this.gBt=a,this.Rx=h}return t.mBt=function(t,n,i,e,r,s,u,o,a,h){switch(n){case H$.oBt:return new G$(t,i,e,r,s,u,o,a,h);case H$.hBt:return new Y$(t,i,e,r,s,u,o,a,h)}},t}(),G$=function(t){function n(n,i,e,r,s,u,o,a,h){return t.call(this,H$.oBt,n,i,e,r,s,u,o,a,h)||this}return E(n,t),n.prototype.pBt=function(){return{kBt:"bBt",ABt:this.lBt,TBt:M$.$Pt,SBt:F$.KPt,EBt:this.Pl,IBt:_Y(this._Pt,[]),RBt:this.gBt,NBt:this.wBt.zk(),CBt:this._Bt.zk(),DBt:this.XS.zk()}},n}(W$),Y$=function(t){function n(n,i,e,r,s,u,o,a,h){return t.call(this,H$.hBt,n,i,e,r,s,u,o,a,h)||this}return E(n,t),n.prototype.pBt=function(){return{kBt:"bBt",ABt:this.lBt,TBt:this.Pl===U$.iBt?M$.kX:M$.gg,SBt:qb?F$.JPt:F$.KPt,EBt:this.Pl,IBt:_Y(this._Pt,[])}},n}(W$),$$=function(){function t(){this.PBt=void 0,this.BBt=void 0,this.PBt=jr(),this.BBt=1}var n=t.prototype;return n.xBt=function(){return(this.BBt++).toString()},n.mBt=function(t,n,i,e,r,s,u,o,a){var h=this.xBt(),c=W$.mBt(h,n,t,i,e,r,s,u,o,a);return this.OBt(c),c},n.LBt=function(t){return this.PBt.get(t)},n.OBt=function(t){this.PBt.set(t.lBt,t)},n.MBt=function(t){this.PBt.delete(t)},n.FBt=function(t){this.LBt(t).yBt=j$.sBt,this.MBt(t)},n.UBt=function(t,n){var i=this.LBt(t).Rx;this.LBt(t).yBt=j$.Vw,this.MBt(t),i(n)},n.jBt=function(t,n){var i=this.LBt(t).Rx;this.LBt(t).yBt=j$.uBt,this.MBt(t),i(null,n)},n.Du=function(t){var n=[];this.PBt.forEach(function(i,e){t&&i.eT!==t||n.push(e)});for(var i=0;i<n.length;i++){var e=n[i];this.FBt(e)}},t}();var Q$,K$=function(){function t(n){var i=this;this.PBt=void 0,this.HBt=void 0,this.Bc=void 0,this.XBt=void 0,this.zBt=function(t){var n=t.data.VBt,e=t.data.qBt,r=t.data.WBt,s=t.data.GBt,u=i.PBt.LBt(e);if(u&&u.yBt!==j$.sBt)switch(n){case"YBt":i.$Bt(u,r);break;case"QBt":i.PBt.UBt(e,new jW(UW.LTt,{code:s}));break;default:0}},this.KBt=function(t){0},this.PBt=new $$,this.Bc=n,this.XBt=t.ZBt(n.APt),this.JBt()}t.ZBt=function(t){switch(t){case X$.fBt:return H$.oBt;case X$.hBt:return H$.hBt}};var n=t.prototype;return n.bBt=function(t,n,i,e,r,s,u){var o={metadata:null,zH:null,XH:null,mu:null};i&&i.length||u(new jW(UW.LTt,{code:"SP154"}));var a=i[0],h=i[i.length-1],c=a.info.V_t+1,f=a.info.vlt,v=a.metadata,l=v.audio._Nt?v.audio:void 0,d=v.video._Nt?v.video:void 0,_=h.metadata,w=_.audio._Nt?_.audio:void 0,g=_.video._Nt?_.video:void 0,y=e.Em(Np(v.KNt,v.QNt)),p=e.Em(Np(v.QNt,v.QNt)),k=e.Em(l?Np(l.KNt,v.QNt):yp.jp),b=e.Em(l?Np(l.QNt,v.QNt):yp.jp),A=e.Em(d?Np(d.KNt,v.QNt):yp.jp),T=e.Em(d?Np(d.QNt,v.QNt):yp.jp),S=e.Em(Np(_.JNt,v.QNt)),E=e.Em(Np(_.ZNt,v.QNt)),I=e.Em(w?Np(w.JNt,v.QNt):yp.jp),R=e.Em(w?Np(w.ZNt,v.QNt):yp.jp),N=e.Em(g?Np(g.JNt,v.QNt):yp.jp),C=e.Em(g?Np(g.ZNt,v.QNt):yp.jp);k=yp.Ak(yp.jp,k),A=yp.Ak(yp.jp,A);var D,P,B,x,O,L=KW.oy(n.A_t)?yp.Dk(100079991719):yp.Dk(n.Hg),M=function(t){for(var n=t[0].GNt,i=n,e=1;e<t.length;e++){if(!(n=ZY(i,t[e-1].GNt,t[e].GNt,t[e].info.nCt)))return i;i=n}return i}(i);if(M.audio){P=(D=t$(M)).audio.duration;B=this.PBt.mBt(t,this.XBt,"mp3"===D.audio._Nt?U$.iBt:U$.nBt,D,k,b,L,c,function(t,n){if(o.mu=o.mu||t,o.zH=n,D=!0,x)return u(o.mu,o)}),this.txt(B),D=null}else D=!0;if(M.video){O=(x=JY(M)).video.duration;B=this.PBt.mBt(t,this.XBt,U$.eBt,x,A,T,L,c,function(t,n){if(o.mu=o.mu||t,o.XH=n,x=!0,D)return u(o.mu,o)}),this.txt(B),x=null}else x=!0;var F,U,j,H=i.map(function(t){return t.metadata}),X=yp.Dk(P),z=yp.Dk(O),V=a.GNt.audio&&a.GNt.video?yp.Tk(a.GNt.audio.yNt.Em(X),a.GNt.video.yNt.Em(z)):a.GNt.audio?a.GNt.audio.yNt.Em(X):a.GNt.video?a.GNt.video.yNt.Em(z):yp.jp;if(V.qp()&&ht("Segment with no valid audio or video track detected",a.info.uri),M.video){var q=BY(M);if(m(q))ht("Segment without keyframes detected",a.info.uri),F=yp.Pk,U=yp.Pk,j=V.fk(1.5);else{var W=M.video.yq[q].QS;F=e.Em(Np(W.Dst,v.QNt)),U=e.Em(Np(W.Cst,v.QNt)),j=yp.Dk(W.Bst-a.metadata.start)}}else F=k,U=b,j=yp.jp;var G=yp.Ak(j,yp.Ak(a.GNt.audio&&a.GNt.audio.yNt||yp.jp,a.GNt.video&&a.GNt.video.yNt||yp.jp));o.metadata={V_t:c,IC:e.pp(),nxt:y.pp(),TK:p.pp(),MPt:S.pp(),SPt:E.pp(),KCt:F.pp(),aNt:U.pp(),CPt:yp.Tk(e,r).pp(),Hg:V.pp(),hSt:H,Bu:G.pp(),zH:l&&{IC:b.pp(),nxt:k.pp(),NC:R.pp(),MPt:I.pp(),Hg:P,_Nt:l._Nt},XH:d&&{IC:T.pp(),nxt:A.pp(),NC:C.pp(),MPt:N.pp(),Hg:O,_Nt:d._Nt,yp:v.DF.width,uT:v.DF.height},VH:v.VH,nCt:v.nCt,vlt:f,tCt:s},i=null,M=null},n.Ed=function(){this.PBt.Du(),this.HBt&&(this.HBt.pAt(),this.HBt=null)},n.Xs=function(t){this.PBt.Du(t)},n.$Bt=function(t,n){switch(t.dBt){case H$.oBt:var i=n;this.PBt.jBt(t.lBt,{initializer:L$(i.Fpt),m4s:L$(i.ixt)});break;case H$.hBt:var e=n;this.PBt.jBt(t.lBt,(r=e,qb?new q$(r.Pl,"base64",r.Hi):new V$(r.Pl,r.Hi)));break;default:0}var r},n.JBt=function(){this.HBt||(this.HBt=cW("theoplayer.p.js",this.Bc.libraryLocation),this.HBt.Ks("message",this.zBt),this.HBt.Ks("error",this.KBt))},n.txt=function(t){this.HBt||this.JBt(),this.HBt.kAt(t.pBt())},t}();function Z$(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function J$(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function tQ(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function nQ(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,e=i.exec(t);null!==e;){var r=e[2],s=void 0;s=void 0!==e[6]?ia(e[6]):void 0!==e[7]?{width:y(e[8]),height:y(e[10])}:void 0!==e[12]?y(e[12]):void 0!==e[14]?e[14]:void 0!==e[16]?e[16]:null,n[r.toLowerCase()]=s,e=i.exec(t)}return n}var iQ,eQ="x-";function rQ(t,n,i,e){var r=t.split("@"),s=Z$(n,i),u=g(r[0],10),o=r[1]?g(r[1],10):e;return{Y0:s,toString:function(){return s},indexOf:function(t){return s.indexOf(t)},bJ:{IC:o,NC:o+u-1}}}function sQ(t,n,i){var e,r,s,u,o,a=0,h=0,c=0,f=null,v=0,l=!1,d=[],_=null,m=0,k=t.match(/[^\r\n]+/g);if(!k||"#EXTM3U"!==k[0].trim())throw new jW(UW.OTt,{code:"HMP2670",uri:n});for(var b={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},A=1;A<k.length;A+=1){var T=k[A].trim();if(d.push(T+""),J$(T,"#EXT")){if(J$(T,"#EXTINF"))c=(c=y(tQ(T)))||.5;else if(J$(T,"#EXT-X-BYTERANGE"))f=tQ(T);else if(J$(T,"#EXT-X-KEY"))(s=nQ(T)).method&&"NONE"===s.method?s=null:s.absoluteURI=Z$(s.uri,i);else if(J$(T,"#EXT-X-DISCONTINUITY")&&!J$(T,"#EXT-X-DISCONTINUITY-"))l=!0,v+=1;else if(J$(T,"#EXT-X-STREAM-INF"))(r=nQ(T)).V_t=h++,(A+=1)<k.length&&(r.uri=Z$(k[A].trim(),i),b.streams.push(r));else if(J$(T,"#EXT-X-MEDIA")&&!J$(T,"#EXT-X-MEDIA-"))(u=nQ(T)).uri&&(u.uri=Z$(u.uri,i)),b.media.push(u);else if(J$(T,"#EXT-X-PROGRAM-DATE-TIME"))_=new Date(tQ(T));else if(J$(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))b.rSt=!0,b.sSt=g(tQ(T),10);else if(J$(T,"#EXT-X-MEDIA-SEQUENCE"))a=g(tQ(T),10),b.ext=!0,b.rxt=a;else if(J$(T,"#EXT-X-TARGETDURATION"))b.targetDuration=g(tQ(T),10),b.hasTargetDuration=!0;else if(J$(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))b.isEvent=!0;else if(J$(T,"#EXT-X-ENDLIST"))b.live=!1,b.hasEnd=!0;else if(J$(T,"#EXT-X-MAP")){var S=nQ(T),E=S.uri,I=S.byterange;o=I?rQ(I,E,i,0):Z$(E,i)}else if(J$(T,"#EXT-X-VERSION"))b.version=g(tQ(T),10);else if(J$(T,"#EXT-X-DATERANGE")){var R=uQ(T);b.dateRanges.push(R)}}else if(J$(T,"#"));else if(0!==T.length){f?m=(e=rQ(f,T,i,m)).bJ.NC+1:e=Z$(T,i);var N,C=s&&Fr({},s);s&&void 0===s.iv&&(N=a%4294967295,C.iv=new p([0,0,0,0,0,0,0,0,0,0,0,0,N>>24,N>>16,N>>8,255&N])),b.fragments.push({start:0,duration:c,uri:e,V_t:a,vSt:l,m_t:v,key:C,g_t:_,tEt:d,tCt:!1,I1:o}),a+=1,c=0,f=null,l=!1,_=null,d=[]}}return b.hasEnd&&b.fragments.length&&(b.fragments[b.fragments.length-1].tCt=!0),b.isMasterPlaylist=0!==b.streams.length,b.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,e=0,r=0;if(!n)return null;for(var s=0,u=t.fragments;s<u.length;s++){var o=u[s];r+=o.duration,i=w.min(i,o.duration),e=w.max(e,o.duration)}return{sxt:i,uxt:e,oxt:n?t.fragments[n-1].duration:0,axt:r/n,hxt:r}}(b),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var e=i[n];t.duration+=e.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(b),function(t){for(var n=0,i=0,e=t.fragments;i<e.length;i++){var r=e[i];r.start=n,n+=r.duration}}(b),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.V_t-n.V_t})}(b),function(t,n){for(var i={},e=0;e<t.media.length;e+=1){var r=t.media[e];r.type===n&&r.uri&&(i[r["group-id"]]=(i[r["group-id"]]||0)+1)}for(var s=t.media.length-1;s>=0;s-=1){var u=t.media[s];u.type!==n||i[u["group-id"]]||Gs(t.media,s)}}(b,"VIDEO"),function(t){for(var n=0,i=0,e=t.streams;i<e.length;i++)e[i].id=n,n+=1;for(var r=0,s=t.media;r<s.length;r++)s[r].id=n,n+=1}(b),function(t){for(var n=function(n,i){var e=i[n];"video"in e&&(e.media=function(t,n){for(var i,e=t.length>>>0,r=arguments[1],s=0;s<e;s++)if(i=t[s],n.call(r,i,s,t))return i}(t.media,function(t){return t["group-id"]==e.video}))},i=0,e=t.streams;i<e.length;i++)n(i,e)}(b),b}function uQ(t){var n=nQ(t),i=function(t){for(var n={},i=0,e=_.keys(t);i<e.length;i++){var r=e[i];ks(r,eQ)&&(n[r.substr(eQ.length)]=t[r])}return n}(n),e=n["start-date"]?new Date(n["start-date"]):void 0,r=n["end-date"]?new Date(n["end-date"]):void 0,s="YES"===n["end-on-next"]||void 0,u=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,a=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{xw:n.id,Cvt:n.class,YN:e,Dvt:r,Hg:n.duration,Pvt:n["planned-duration"],Nvt:s,Bvt:i,Ovt:u,Mvt:o,Fvt:a}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(iQ||(iQ={}));(Q$={})[iQ.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",Q$[iQ.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",Q$[iQ.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",Q$[iQ.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",Q$[iQ.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",Q$[iQ.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",Q$[iQ.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var oQ=function(){function t(){}return t.prototype.NA=function(t,n,i){return sQ(t,n,i)},t}();function aQ(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var hQ=function(){function t(t,n,i){this.Bc=void 0,this.dE=void 0,this.L4=void 0,this.cxt=void 0,this.cxt=new oQ,this.Bc=t,this.dE=i;var e=this.Bc&&this.Bc.crossOrigin===ny.Tg,r=new HM(i,e,1);this.L4=qM(r,new lO(RO.Wn.jZ,RO.Wn.FZ,RO.Wn.UZ,RO.Wn.XZ))}var n=t.prototype;return n.$h=function(t,n,i){var e=this.p_(t,n);return i&&e.then(function(t){return i(null,t)},function(t){return i(t)}),e},n.p_=function(t,n){var i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Mr.awrap(this.L4.Z4([t],n));case 3:return i=r.sent,t=i.Ql,e=this.cxt.NA(i.J4,t,aQ(t)),r.abrupt("return",{wy:e,fxt:i.J4});case 10:if(r.prev=10,r.t0=r.catch(0),!(r.t0 instanceof S_)){r.next=16;break}throw new jW(UW.BTt,{code:"MFL8600",uri:t});case 16:if(!(r.t0 instanceof E_)){r.next=24;break}if(0!==r.t0.Ud.Vl){r.next=21;break}throw new jW(UW.xTt,{code:"MFL3900",uri:t,status:r.t0.Ud.Vl});case 21:throw new jW(UW.BTt,{code:"MFL4100",uri:t,status:r.t0.Ud.Vl});case 22:r.next=25;break;case 24:throw new jW(UW.Vw,{error:r.t0,uri:t});case 25:case"end":return r.stop()}},null,this,[[0,10]],Ye)},t}(),cQ=function(t){function n(n,i){var e;return(e=t.call(this)||this).vxt=void 0,e.lxt=void 0,e.dxt=void 0,e._xt=void 0,e.wxt=void 0,e.FEt=void 0,e.BEt=void 0,e.tN=void 0,e.vxt=new hQ(i||{},RO.Wn.jZ,n),e}E(n,t);var i=n.prototype;return i.Ly=function(){void 0!==this._xt&&(h(this._xt),this._xt=void 0),this.dxt&&this.dxt.$l&&(this.dxt=void 0)},i.gxt=function(t){if(this.BEt)for(var n=0,i=this.BEt.fragments;n<i.length;n++){var e=i[n];if(e.uri===t)return e}},n.yxt=function(t,n,i,e){var r,s=t.targetDuration,u=t.metadata;return r=t.fragments.length&&u&&(!s||u.hxt<3*s)?1e3*u.sxt:s?1e3*s:1e4,i===n&&(r/=2),r=w.max(r-e,1e3)},i.mxt=function(t){if(t.fragments.length>0)for(var n=this.gxt(t.fragments[0].uri),i=n&&n.V_t||0,e=0,r=t.fragments;e<r.length;e++){r[e].V_t+=i}},i.pxt=function(t,i,e,r,s,u){var o=this;if(this.dxt&&e===this.dxt.$l){var h=VI()-i;if(r){this.dxt=void 0,this.tN=r;var c={type:"mu",mu:r};return this.dispatchEvent(c),s&&s(r)}this.dxt=void 0;var f=u.wy,v=u.fxt;f.ext||this.mxt(f),t===this.lxt&&(this.FEt=f),this.BEt=f;var l=n.yxt(f,v,this.wxt,h);f.live?f.isMasterPlaylist||(this._xt=a(function(){return o.p_(t)},l)):this.Ly(),s&&s(r,u);var d={type:"kxt",manifest:f,manifestText:v};this.dispatchEvent(d),this.wxt=v}},i.p_=function(t,n){var i=this,e=VI(),r=t;h(this._xt),this._xt=void 0;var s=this.vxt.$h(r,{},function(r,u){return i.pxt(t,e,s,r,n,u)});this.dxt={$l:s,Kl:t}},i.IC=function(t,n){var i,e,r,s=this,u=!1;(r=t||(this.BEt?this.BEt.uri:this.lxt))&&(this.dxt&&this.dxt.Kl===t?n&&(i=function(t){s.removeEventListener("mu",e),s.removeEventListener("kxt",i);var r=t;n(null,{wy:r.manifest,fxt:r.manifestText})},e=function(t){s.removeEventListener("mu",e),s.removeEventListener("kxt",i),n(t.mu)},this.addEventListener("mu",e),this.addEventListener("kxt",i)):(this.Ly(),this.p_(r,function(t,i){if(!u)return u=!0,n&&n(t,i)})))},i.bxt=function(t){t&&(this.wxt=void 0,this.FEt&&this.FEt.isMasterPlaylist?this.IC(t.uri):this.BEt&&!this.Axt()&&this.IC(this.BEt.uri))},i.Ed=function(){this.Ly(),this.tu()},i.Axt=function(){return!!this.dxt||!!this._xt||!(!this.BEt||this.BEt.live)},T(n,[{key:"wy",get:function(){return this.BEt}},{key:"aIt",get:function(){return this.FEt}},{key:"cRt",get:function(){return this.lxt},set:function(t){this.Ly(),this.wxt=void 0,this.FEt=void 0,this.BEt=void 0,this.lxt=t}}]),n}(MW),fQ=function(t){function n(n,i){var e;return(e=t.call(this)||this).Bc=void 0,e.ww=void 0,e.lxt=void 0,e.Txt=void 0,e.dE=void 0,e.Bc=i,e.ww=jr(),e.lxt=null,e.Txt=null,e.dE=n,e}E(n,t);var i=n.prototype;return i.IC=function(){var t=this,n=this.cRt;if(n&&!this.Txt){var i=new cQ(this.dE,this.Bc);i.addEventListener("mu",function(i){var e=i.mu;t.dispatchEvent({type:"Sxt",mu:e}),t.ww.has(n)&&t.dispatchEvent({type:"mu",mu:e,Ext:n})}),i.addEventListener("kxt",function n(e){i.removeEventListener("kxt",n),i===t.Txt&&t.dispatchEvent({type:"Ixt",wy:e.manifest})}),i.addEventListener("kxt",function(i){t.ww.has(n)&&t.dispatchEvent({type:n,wy:i.manifest})}),this.Txt=i,i.IC(n)}},i.Rxt=function(t,n){this.Nxt(t),this.Cxt(n)},i.Cxt=function(t){var n,i=this;this.ww.has(t)||(t===this.cRt?(this.IC(),(n=this.Txt).wy&&this.dispatchEvent({type:t,wy:n.wy},!0)):((n=new cQ(this.dE,this.Bc)).addEventListener("mu",function(n){i.dispatchEvent({type:n.type,mu:n.mu,Ext:t})}),n.addEventListener("kxt",function(n){i.dispatchEvent({type:t,wy:n.manifest})})),this.ww.set(t,n))},i.Nxt=function(t){if(this.ww.has(t)){var n=this.ww.get(t);n!==this.Txt&&n.Ed(),this.ww.delete(t),this.removeEventListener(t)}},i.Dxt=function(t){if(this.ww.has(t)){var n=this.ww.get(t);n.Axt()||n.IC(t)}},i.Pxt=function(){var t=this;this.ww.forEach(function(n,i){return t.Dxt(i)})},i.bw=function(){this.ww.forEach(function(t){return t.Ed()}),this.ww.clear(),this.Txt&&(this.Txt.Ed(),this.Txt=null),this.lxt=null},T(n,[{key:"cRt",get:function(){return this.Txt&&this.Txt.wy?this.Txt.wy.uri:this.lxt},set:function(t){this.bw(),this.lxt=t}}]),n}(MW),vQ=function(t){function n(){var n;return(n=t.call(this)||this).Bxt=NaN,n}E(n,t);var i=n.prototype;return i.xxt=function(t,n){for(var i=t.length?w.min.apply(w,t):0,e=0;e<t.length;e++)t[e]-=i;for(var r=0;r<n.length;r++){n[r].Bu=yp.Dk(t[r]||0)}var s=t.length?w.max.apply(w,t):0;this.Bxt=s,this.dispatchEvent({type:"Oxt",Lxt:s})},i.Mxt=function(t,n){var i=[];if(n.length<2)return this.xxt(i,n),!0;for(var e=n[0],r=0;r<n.length;r++){var s=n[r];if(!s.Fxt(t))return!1;i[r]=s.Bu.Em(s.Uxt(e,t)).pp()}return this.xxt(i,n),!0},i.jxt=function(t,n){return this.Mxt(t.m_t,n)},i.Hxt=function(t,n){if(n.length<2)return this.xxt([],n),!0;var i=n[0].Xxt(t);if(m(i))return!1;for(var e=0;e<n.length;e++){if(n[e].Xxt(t)!==i)return!1}return this.Mxt(i,n)},i.bw=function(){this.Bxt=NaN},i.Ed=function(){this.tu()},T(n,[{key:"Lxt",get:function(){return this.Bxt}}]),n}(MW),lQ=.001;function dQ(t){return t.metadata.vlt.xw+"zxt"+t.metadata.V_t+"Vxt"+t.metadata.IC+"qxt"+t.metadata.Hg}var _Q=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.IK=function(t,i){return new n(t,i)},i.iNt=function(t,n){return!1},n}(aY);function wQ(t,n){var i=new _Q([n]);return t.Dp(i).YC(i)}function gQ(t,n){var i=function(t,n){var i=t.TK,e=t.aNt;if(!m(e)&&e===i)return!0;return!t.nCt&&!!n&&n.fT.vlt===t.vlt&&i>=n.NC&&i<=n.NC+lQ}(t,n);return i||!m(t.aNt)?{IC:i?t.TK:t.aNt,NC:t.SPt,fT:t}:null}var yQ=function(t){function n(n,i){var e;return(e=t.call(this)||this).Wxt=void 0,e.qS=void 0,e.Gxt=null,e.Yxt=function(){return e.$xt()},e.Ctt=[],e.nm=[],e.Qxt=new _Q([]),e.Kxt=null,e.Wxt=n,e.qS=i,e}E(n,t);var i=n.prototype;return i.a8=function(t){var n=t.metadata,i=n&&n.hSt;if(!i||!i.length)return Ye.resolve();for(var e=[],r=n.IC,s=0;s<i.length;s++){var u=i[s],o=r+u.duration;e.push({IC:r,Hg:u.duration,NC:o,V_t:u.V_t,Fu:u}),r=o}var a={xw:dQ(t),IC:t.metadata.IC,nxt:n.nxt,TK:n.TK,Zxt:i[0].$Nt.g_t?new Date(i[0].$Nt.g_t.getTime()):null,Hg:t.metadata.Hg,NC:t.metadata.IC+t.metadata.Hg,MPt:n.MPt,SPt:n.SPt,KCt:n.KCt,aNt:n.aNt,hSt:e,vlt:t.metadata.vlt,b1:t.metadata.tCt,nCt:n.nCt};return this.Ctt.push(a),this.Jxt(this.Wxt.a8(t),a)},i.Jxt=function(t,n){var i=this;return t.then(function(){if(Ws(i.Ctt,n)){i.nm.push(n);var t=i.Kxt,e=gQ(n,t);e&&(i.Qxt=wQ(i.Qxt,e)),i.Kxt=e}i.$xt(),i.tOt(n)}).catch(function(){Ws(i.Ctt,n)})},i.tOt=function(t){var n=t.hSt[0],i=t.hSt[t.hSt.length-1],e=t.vlt,r=e.fSt(n.V_t-1),s=KW.oy(e.A_t);if(!r||s){var u=e.fSt(n.V_t),o=this.qS.eNt(u).pp(),a=t.nxt,h=w.min(o,a);h<n.IC&&this.Wxt.kz(h,n.IC)}for(var c=0,f=this.nm;c<f.length;c++){var v=f[c];if(v.vlt===t.vlt){var l=v.hSt[0],d=v.hSt[v.hSt.length-1];d.V_t+1===n.V_t&&d.NC!==n.IC?this.Wxt.kz(d.NC,n.IC):l.V_t-1===i.V_t&&i.NC!==l.IC&&this.Wxt.kz(i.NC,l.IC)}}},i.Du=function(){this.Ctt.length=0,this.nm.length=0,this.Qxt=new _Q([]),this.Kxt=null},i.$xt=function(){if(this.nOt&&!this.nOt.cO){var t=this.nOt.nm||HG;t=function(t,n){for(var i=YG(t),e=0;e<i.length;e++){var r=i[e],s=n.ZRt(r.NC,lQ);if(s>=0){var u=n.hSt(s),o=u[u.length-1],a=o.fT.MPt,h=o.fT.SPt;a-lQ<r.NC&&r.NC<h&&(r.NC=h)}}return new jG(i)}(t,this.Qxt),this.nm=this.nm.filter(function(n){return function(t,n,i,e){n-=e=+e||0,i+=e;for(var r=0;r<t.length;r+=1)if(t.start(r)<i&&n<t.end(r))return r;return-1}(t,n.IC,n.NC)>=0}),this.Qxt=this.Qxt.XC(t)}},i.Ed=function(){this.tu(),this.Du(),this.nOt=null},i.iOt=function(t){var n=this.eOt(t);if(n)for(var i=0,e=n.hSt;i<e.length;i++){var r=e[i];if(r.IC<=t&&r.NC>t)return r}return null},i.eOt=function(t){for(var n=0,i=this.nm;n<i.length;n++){var e=i[n];if(e.IC<=t&&e.NC>t)return e}return null},i.rOt=function(t){for(var n=0,i=this.nm;n<i.length;n++){var e=i[n];if(e.vlt.xw===t.vlt.xw)for(var r=0,s=e.hSt;r<s.length;r++){if(s[r].V_t===t.V_t)return!0}}return!1},i.sOt=function(){return this.uOt()[0]},i.uOt=function(){for(var t=this.Qxt,n=this.Kxt,i=0,e=this.Ctt;i<e.length;i++){var r=gQ(e[i],n);r&&(t=wQ(t,r)),n=r}return[t,n]},T(n,[{key:"Tw",get:function(){return this.Ctt.length+this.nm.length}},{key:"nOt",get:function(){return this.Gxt},set:function(t){this.Gxt&&this.Gxt.removeEventListener("updateend",this.Yxt),this.Gxt=t,this.Gxt&&(this.Gxt.addEventListener("updateend",this.Yxt),this.$xt())}}]),n}(MW);function mQ(t,n,i){!function(t,n,i){for(var e=i.lNt,r=[],s=0;s<e.length;s++)for(var u=e[s],o=n.oNt(t,u.QS.rQ).pp(),a=0,h=u.yq;a<h.length;a++){var c=h[a];r.push(new hB(o,c))}i.Qw=r}(t,n,i)}function pQ(t,n){return t&&n?w.abs(t.V_t-n.V_t)<=1?yp.jp:yp.Fp(n.WA-t.WA,1e3):yp.jp}var kQ=function(){function t(t,n,i,e,r){this.vSt=void 0,this.DPt=void 0,this.oOt=void 0,this.aOt=void 0,this.vs=void 0,this.TJ=void 0,this.Bu=yp.jp,this.hOt=!1,this.cOt=null,this.vSt=t,this.DPt=t.vlt.hSt.YTt(n.V_t),this.TJ=this.DPt,this.oOt=i,this.aOt=e,this.vs=r||null}var n=t.prototype;return n.fOt=function(){if(this.cOt)return this.cOt;var t=this.vOt();return(t.lOt||t.mu)&&(this.cOt=t),t},n.dOt=function(){return{lOt:!1,mu:!1,hOt:this.hOt,Vm:yp.Pk}},n.lOt=function(t){return t.Pp()?{lOt:!1,mu:!0,hOt:this.hOt,Vm:yp.Pk}:{lOt:!0,mu:!1,hOt:this.hOt,Vm:t}},t}();function bQ(t,n){switch(n){case"zH":return Sp(t.XCt)?t.XCt:t.lSt;case"XH":return Sp(t.VCt)?t.VCt:t.lSt;default:return t.lSt}}var AQ=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.vOt=function(){var t=this.vSt,n=t.vlt,i=n.hSt,e=i.PZ(this.TJ);if(t.Im(e)){if(this.aOt&&t._Ot&&tG(e)){var r=bQ(e,this.vs),s=t.wOt(r,e.gOt);return this.lOt(s.Dp(this.Bu))}if(this.oOt&&e===t.yOt){var u=t.qm.Dp(nG(e));return this.lOt(u.Dp(this.Bu))}this.TJ+=1;var o=pQ(e,i.PZ(this.TJ));return this.hOt=this.hOt||o.kp(yp.jp),this.Bu=this.Bu.Em(o).Em(nG(e)),this.dOt()}return this.lOt(yp.Pk)},n}(kQ),TQ=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.vOt=function(){var t=this.vSt,n=t.vlt,i=n.hSt,e=i.PZ(this.TJ);if(t.Im(e)){if(this.aOt&&t._Ot&&tG(e)){var r=bQ(e,this.vs),s=t.wOt(r,e.gOt);return this.lOt(s.Em(this.Bu))}if(this.oOt&&e===t.mOt){var u=t.Vm;return this.lOt(u.Em(this.Bu))}this.TJ-=1;var o=i.PZ(this.TJ),a=pQ(o,e);return this.hOt=this.hOt||a.kp(yp.jp),this.Bu=this.Bu.Em(a).Em(nG(o)),this.dOt()}return this.lOt(yp.Pk)},n}(kQ);var SQ=function(){function t(t,n,i){this.V_t=void 0,this.vlt=void 0,this.Vm=yp.jp,this.qm=yp.jp,this.mOt=null,this.yOt=null,this.Y_t=!1,this.pOt=yp.Pk,this.kOt=yp.Pk,this.bOt=!1,this.AOt=void 0,this.V_t=t,this.vlt=n,this.AOt=i}var n=t.prototype;return n.Im=function(t){return t&&t.m_t===this.V_t},n.wOt=function(t,n){var i=t.Dp(this.pOt).Em(this.kOt);if(void 0!==n){var e=i.Dp(n);if(e.Rp().kp(Tp)){var r=w.round(e.pp()/Ap.pp());i=i.Dp(Ap.fk(r))}}return i},n.TOt=function(t,n){var i=this.SOt(t);this.EOt(n);var e=this.IOt();return i||e||t===this.yOt&&this.ROt()},n.SOt=function(t){if(this._Ot&&mp(t.WCt,this.pOt)>=0)return!1;var n;if(n=this._Ot?this.NOt(t,!0,!1):this.COt(t,!0,!1),this.pOt.Pp())this.pOt=t.WCt;else{var i=Np(t.WCt,this.pOt);this.pOt=this.pOt.Em(i)}return this.kOt=n,!0},n.EOt=function(t){if(!t)return!1;if(this.AOt)return!1;if(!this.DOt())return!1;var n=this.vlt.hSt,i=this.mOt,e=n.$Tt(i.V_t-1);if(tG(i)&&tG(e)){var r=function(t,n,i){var e=t.oNt(n,n.ZNt);if(!Sp(i.qCt)||!Sp(i.VCt))return e;var r,s=Sp(i.XCt),u=Ip(i.VCt,i.qCt);if(s){var o=Ep(Ip(i.VCt,i.XCt),yp.jp);r=Ep(Ip(u,o),yp.jp)}else r=u;return Ip(e,r)}(t,e,i);return this.bOt=!0,this.oat(r)}return!1},n.oat=function(t){if(t.hp(this.Vm))return!1;var n=t.Dp(this.Vm);return this.Vm=t,this.qm=this.qm.Em(n),this.kOt=this.kOt.Em(n),!0},n.IOt=function(){if(this.AOt)return!1;var t=this.yOt;if(!t)return!1;var n,i=new TQ(this,t,!1,!0);do{n=i.fOt()}while(!n.lOt&&!n.mu&&!n.hOt);if(n.lOt&&!n.hOt){var e=n.Vm.Em(nG(t));if(!e.hp(this.qm))return this.qm=e,!0}return!1},n.POt=function(t){var n=!1;return n=this.EOt(t)||n,n=this.BOt(t)||n},n.BOt=function(t){if(!t)return!1;if(this.bOt)return!1;var n=t.qm.Em(pQ(t.yOt,this.mOt));return this.oat(n)},n.xOt=function(t){var n=!1;return(!this.mOt||this.mOt.V_t>t.V_t)&&(this.Vm=this.Vm.Dp(pQ(t,this.mOt)),this.mOt=t,n=!0),(!this.yOt||this.yOt.V_t<t.V_t)&&(this.qm=this.qm.Em(pQ(this.yOt,t)).Em(nG(t)),this.yOt=t,n=!0),n},n.OOt=function(t){if(!this._Ot||!t._Ot)return yp.Pk;if(this.pOt.Sp(t.pOt)){var n=this.wOt(t.pOt,t.kOt);return t.kOt.Dp(n)}return t.wOt(this.pOt,this.kOt).Dp(this.kOt)},n.DOt=function(){var t=this.mOt;return!!t&&function(t,n){return n.m_t===t&&n.vSt}(this.V_t,t)},n.ROt=function(){var t=this.yOt;if(!t)return!1;var n=this.vlt.hSt.$Tt(t.V_t+1);return function(t,n,i){return n.m_t===t&&(!i||i.vSt)}(this.V_t,t,n)},n.LOt=function(t,n){return this.NOt(t,!0,!0,n)},n.COt=function(t,n,i){if(!this.Im(t))return yp.Pk;var e,r=new TQ(this,t,n,i);do{e=r.fOt()}while(!e.lOt&&!e.mu);if(!e.lOt)return yp.Pk;var s=e.Vm;return s.Ip(this.Vm)?this.Vm:s},n.NOt=function(t,n,i,e){if(!this.Im(t))return yp.Pk;var r,s,u,o,a,h=new AQ(this,t,n,i,e),c=new TQ(this,t,n,i,e);do{r=h.fOt(),s=c.fOt()}while(!(r.lOt||s.lOt||r.mu&&s.mu));if(s.lOt)u=s,o=r,a=h;else{if(!r.lOt)return yp.Pk;u=r,o=s,a=c}if(u.Vm.Ip(this.Vm)){for(;!o.lOt&&!o.mu;)o=a.fOt();return o.lOt?yp.Ak(this.Vm,o.Vm):this.Vm}if(u.hOt){for(;!o.hOt&&!o.lOt&&!o.mu;)o=a.fOt();if(o.lOt&&!o.hOt&&this.Vm.Sp(o.Vm))return o.Vm}return u.Vm},n.oNt=function(t,n){return this.Im(t)&&this._Ot?this.wOt(n,t.gOt):yp.Pk},n.uOt=function(){0},T(t,[{key:"_Ot",get:function(){return!this.pOt.Pp()}}]),t}();function EQ(t,n){return n.Ip(t.Vm)?Bs.Ns:n.Ap(t.qm)?Bs.Cs:Bs.Rs}var IQ=function(){function t(){this.MOt=new WW}var n=t.prototype;return n.$Tt=function(t){return this.MOt.$Tt(t)},n.PZ=function(t){return this.MOt.PZ(t)},n.FOt=function(t){var n=this.MOt.YTt(t);return n<0?null:this.MOt.PZ(n-1)},n.fOt=function(t){var n=this.MOt.YTt(t);return n<0?null:this.MOt.PZ(n+1)},n.UOt=function(){return this.MOt.PZ(0)},n.jOt=function(){var t=this.MOt.Tw;return 0===t?null:this.MOt.PZ(t-1)},n.HOt=function(t){var n=this.MOt,i=this.jOt();if(i&&function(t,n){return t.Vm.Sp(n)&&n.Ip(t.qm)}(i,t))return i;var e=zD(this.MOt.ZTt(),t,J,EQ);return n.PZ(e)},n.Em=function(t){var n=this.MOt.Em(t);if(n&&!this.fOt(t.V_t)){t.Y_t=!0;var i=this.FOt(t.V_t);i&&(i.Y_t=!1)}return n},n.Qh=function(t){var n=this.MOt.Qh(t);if(n&&t.Y_t){t.Y_t=!1;var i=this.FOt(t.V_t);i&&(i.Y_t=!0)}return n},n.nSt=function(t){this.MOt.nSt(t)},n.uOt=function(){},T(t,[{key:"Tw",get:function(){return this.MOt.Tw}}]),t}();var RQ=yp.Dk(10),NQ=function(){function t(t,n,i){this.vlt=void 0,this.XOt=!1,this.zOt=!1,this.VOt=new IQ,this.qOt=yp.jp,this.WOt=void 0,this.GOt=null,this.YOt=null,this.AOt=void 0,this.vlt=t,this.WOt=n.liveOffset,this.AOt=i}var n=t.prototype;return n.$Ot=function(t){var n=this.vlt,i=t?t.fragments:null,e=n.hSt;if(!t||!i||!i.length)return!1;this.XOt=!0;var r,s=!1;if(!this.VOt.Tw){var u=e.$Tt(i[0].V_t).m_t,o=new SQ(u,n,this.AOt);o.oat(this.Bu),this.VOt.Em(o),s=!0}if(this.YOt){var a=e.YTt(this.YOt.V_t);r=a<0?0:a+1}else r=0;for(var h=r,c=e.PZ(h),f=null,v=!1;c;){var l=c.m_t;if(f&&f.V_t===l||(f&&v&&this.QOt(f),f=this.VOt.$Tt(l),s=s||v,v=!1),!f){f=new SQ(l,n,this.AOt),this.VOt.Em(f);var d=this.VOt.FOt(l);f.POt(d||void 0)}v=f.xOt(c)||v,c=e.PZ(++h)}return f&&v&&this.QOt(f),(s=s||v)&&this.KOt(),this.VOt.jOt()&&this.IEt(n.hSt),this.GOt=e.$Tt(i[0].V_t),this.YOt=e.$Tt(i[i.length-1].V_t),s},n.TOt=function(t){var n=this.VOt.$Tt(t.m_t);if(!n)return!1;this.zOt=!0;var i=this.VOt.FOt(n.V_t),e=n.TOt(t,i);return e&&this.QOt(n),e},n.QOt=function(t){for(var n=t,i=this.VOt.fOt(t.V_t),e=!0;e&&i;)e=i.POt(n),n=i,i=this.VOt.fOt(i.V_t)},n.KOt=function(){for(var t=!1,n=this.VOt.UOt(),i=n&&this.VOt.fOt(n.V_t);n&&i;)n.qm.kp(i.Vm)&&(i.oat(n.qm),t=!0),n=i,i=this.VOt.fOt(n.V_t);return t},n.ZOt=function(t){var n=this.VOt.jOt(),i=t.VOt.jOt();if(!this.AOt){if(n&&this.JOt(t,n.V_t))return!0;if(i&&this.JOt(t,i.V_t))return!0}return this.tLt?!(!n||!this.nLt(t,n.V_t))||(!(!i||!this.nLt(t,i.V_t))||(!(!n||!this.iLt(t,n.V_t))||(!(!i||!this.iLt(t,i.V_t))||this.eLt(t)))):this.rLt(t)},n.rLt=function(t){var n=this.VOt.UOt(),i=t.VOt.UOt();return!(!n||!i)&&(this.xu(i.Vm.Dp(n.Vm)),!0)},n.JOt=function(t,n){var i=this.VOt.$Tt(n);if(!i||!i._Ot)return!1;var e=t.VOt.$Tt(n);return!(!e||!e._Ot)&&(this.xu(i.OOt(e)),!0)},n.nLt=function(t,n){var i=this.VOt.$Tt(n);if(!i||!i.DOt())return!1;var e=t.VOt.$Tt(n);return!(!e||!e.DOt())&&(this.xu(e.Vm.Dp(i.Vm)),!0)},n.iLt=function(t,n){var i=this.VOt.$Tt(n);if(!i)return!1;var e=this.sLt(i.yOt.V_t);if(!e)return!1;var r=t.VOt.$Tt(n);if(!r)return!1;var s=t.sLt(r.yOt.V_t);if(!s)return!1;var u=i.LOt(i.yOt),o=r.LOt(r.yOt),a=yp.Lk(e).Dp(yp.Lk(s)),h=u.Dp(o);return this.xu(a.Dp(h)),!0},n.eLt=function(t){if(!this.zOt&&!t.zOt)return!1;var n=this.VOt.jOt(),i=t.VOt.jOt();if(n&&n.yOt&&i&&i.yOt){var e=yp.Fp(n.yOt.WA-i.yOt.WA,1e3),r=n.qm.Dp(i.qm);return this.xu(e.Dp(r)),!0}return!1},n.IEt=function(t){var n=this.VOt.jOt();if(n)for(var i=n.qm,e=t.Tw-1;e>=0;e--){var r=t.PZ(e);if(i=i.Dp(yp.Dk(r.duration)),void 0!==r.gOt){0;break}r.gOt=i}},n.Xxt=function(t){var n=this.VOt.HOt(t);return n?n.V_t:NaN},n.eNt=function(t,n){var i=this.VOt.$Tt(t.m_t);return i?i.LOt(t,n):yp.Pk},n.rNt=function(t,n){var i=this.vlt.hSt.$Tt(t.V_t+1);if(i){var e=this.eNt(i);return e}return n.Em(function(t){if(!t)return yp.jp;if(!tG(t))return yp.Dk(t.duration);var n=t.dSt||yp.jp,i=t._St||yp.jp,e=yp.Dk(t.duration);return n.qp()||i.qp()?n.qp()?i.qp()?e.qp()?e:yp.jp:i:n:yp.Ak(n,i)}(t))},n.oNt=function(t,n){var i=this.VOt.$Tt(t.m_t);return i&&i._Ot?i.oNt(t,n):yp.Pk},n.xPt=function(t,n){var i=this.vlt.hSt;return i.Tw?function(t,n,i,e,r){var s,u,o=t.vlt.hSt,a={},h=function(n){var i=a[n];return void 0!==i?i:a[n]=t.eNt(o.PZ(n),r)},c=i,f=h(c),v=e,l=h(v);if(n.Ip(f))return{fT:s=o.PZ(c),uLt:f};if(n.Ap(l)&&(s=o.PZ(v)).tCt)return{fT:s,uLt:l};for(;f.Sp(n)&&n.Sp(l);){var d=void 0,_=void 0,g=void 0;if(c===v?(d=c,_=f):(d=c+w.round(n.Dp(f).pp()*(v-c)/l.Dp(f).pp())||0,_=h(d)),_.kp(n))l=h(v=d-1);else{if(s=o.PZ(d),!(g=(u=d)===e?h(u).Em(nG(o.PZ(u))):h(u+1)).Sp(n))return s&&n.Sp(_.Em(nG(s)))?{fT:s,uLt:_}:(s=o.PZ(d+1))&&{fT:s,uLt:g};c=d+1,f=g}}if(l.Sp(n)){if((s=o.PZ(v))&&n.Sp(l.Em(nG(s))))return{fT:s,uLt:l};if(v<e&&(s=o.PZ(v+1),l=h(v+1),s&&n.Ip(l)))return{fT:s,uLt:l}}return null}(this,t,0,i.Tw-1,n):null},n.sLt=function(t){var n=this.vlt.hSt,i=n.YTt(t),e=n.PZ(i),r=e,s=yp.jp;if(e.g_t)return e.g_t;for(var u=i-1;u>=0;u--){var o=n.PZ(u);if(s=s.Em(nG(o)).Em(pQ(o,r)),o.g_t)return new Date(o.g_t.getTime()+1e3*s.pp());r=o}return null},n.oLt=function(t){for(var n=this.vlt.hSt,i=void 0,e=0;e<n.Tw;e++){var r=n.PZ(e);if(r.g_t){if(!(r.g_t.getTime()<=t.getTime())){i=i||r;break}i=r}}if(!i)return yp.Pk;var s=yp.Lk(t).Dp(yp.Lk(i.g_t));return this.eNt(i).Em(s)},n.xu=function(t){if(!t.hp(yp.jp))for(var n=this.VOt.Tw,i=0;i<n;i++){var e=this.VOt.PZ(i);e.oat(e.Vm.Em(t))}},n.Fxt=function(t){var n=this.VOt.$Tt(t);return n&&n._Ot},n.Uxt=function(t,n){if(this===t)return yp.jp;var i=this.VOt.$Tt(n),e=t.VOt.$Tt(n);return i&&e?i.OOt(e):yp.Pk},n.uOt=function(){0},T(t,[{key:"tLt",get:function(){var t=this.vlt.cSt;return!!t&&t.live}},{key:"aLt",get:function(){var t=this.vlt.cSt;return!!t&&t.isEvent}},{key:"hLt",get:function(){var t=this.GOt;return t?this.eNt(t):yp.jp}},{key:"cLt",get:function(){var t=this.VOt.jOt();return t?t.qm:yp.jp}},{key:"fLt",get:function(){if(!this.tLt)return yp.jp;var t=this.cLt.Dp(this.O4);return yp.Ak(this.hLt,t)}},{key:"O4",get:function(){return this.WOt&&yp.Dk(this.WOt)||this.Sdt.fk(3)}},{key:"vLt",get:function(){return this.tLt&&this.YOt?yp.Fp(VI()-this.YOt.WA,1e3):yp.jp}},{key:"Sdt",get:function(){var t=this.vlt.cSt;return t&&t.targetDuration?yp.Dk(t.targetDuration):RQ}},{key:"Bu",get:function(){return this.qOt},set:function(t){var n=t.Dp(this.qOt);this.qOt=t,this.xu(n)}}]),t}(),CQ=function(t){function n(n){var i;return(i=t.call(this)||this).lLt=[],i.dLt={},i._Lt=null,i.wLt=null,i.qOt=yp.jp,i.AOt=void 0,i.gLt=void 0,i.gLt=n,i}E(n,t);var i=n.prototype;return i.yLt=function(t){return t&&this.dLt[t.xw]||null},i.mLt=function(t){var n=this.yLt(t);return n||((n=new NQ(t,this.gLt,!!this.AOt)).Bu=this.qOt,this.lLt.push(n),this.dLt[t.xw]=n),n},i.pLt=function(t){var n;switch(null==(n=this.gLt.hls)?void 0:n.discontinuityAlignment){case CE.$P:return!0;case CE.QP:return!1;default:return t.isEvent||t.hasEnd}},i.$Ot=function(t,n){void 0===this.AOt&&(this.AOt=this.pLt(n));var i=this.yLt(this._Lt),e=i?i.hLt:yp.jp,r=i?i.cLt:yp.jp,s=this.mLt(t),u=s.XOt,o=s.$Ot(n);if(!u&&s.XOt&&(s.xu(this.kLt(t)),o=!0),o=this.bLt(s)||o,this.ALt(s,e,r)){var a=new jW(UW.XTt,{code:"MFU0166"});this.dispatchEvent({type:"mu",mu:a})}else this._Lt=t,o&&this.dispatchEvent("NEt")},i.TOt=function(t,n){if(tG(n)){0;var i=this.mLt(t),e=i.TOt(n);e=this.bLt(i)||e,this.wLt=t,e&&this.dispatchEvent("NEt")}},i.bLt=function(t){var n=!1,i=!1,e=this.yLt(this.wLt);e&&(e===t?n=!0:i=(n=t.ZOt(e))||i);var r=this.yLt(this._Lt);return r&&r!==t&&(i=n?r.ZOt(t)||i:t.ZOt(r)||i),i},i.kLt=function(t){var n=this.yLt(t),i=!n.tLt,e=t.cSt&&t.cSt.isEvent;return i||e?yp.jp:n.Sdt.fk(3)},i.ALt=function(t,n,i){if(!t.tLt)return!1;var e=t.hLt,r=t.cLt,s=yp.Tk(r,i).Dp(yp.Ak(e,n)),u=yp.Ak(t.Sdt.fk(3),s._k(2));return e.Em(u).Ip(n)},i.IEt=function(t,n){var i=this.yLt(t)||this.yLt(this._Lt);return i&&i.IEt(n)},i.Xxt=function(t){var n=this._Lt&&this.yLt(this._Lt);return n?n.Xxt(t):NaN},i.TLt=function(t,n){var i=t.fSt(n);return this.eNt(i)},i.eNt=function(t){if(!t)return yp.Pk;var n=this.yLt(t.vlt)||this.yLt(this._Lt);return n?n.eNt(t):yp.Pk},i.rNt=function(t,n){if(!t)return yp.Pk;var i=this.yLt(t.vlt)||this.yLt(this._Lt);return i?i.rNt(t,n):yp.Pk},i.oNt=function(t,n){if(!t||!n)return yp.Pk;var i=this.yLt(t.vlt)||this.yLt(this._Lt);return i?i.oNt(t,n):yp.Pk},i.xPt=function(t,n,i){var e=this.yLt(t);if(!e)return null;var r=e.xPt(n,i);return r?{fT:r.fT,uLt:r.uLt}:null},i.sLt=function(t,n){var i=this.yLt(t)||this.yLt(this._Lt);return i?i.sLt(n):null},i.oLt=function(t,n){var i=this.yLt(t)||this.yLt(this._Lt);return i?i.oLt(n):yp.Pk},i.Fxt=function(t){return void 0!==this.SLt(t)},i.Uxt=function(t,n){if(this===t)return yp.jp;var i=this.SLt(n),e=t.SLt(n);return i&&e?i.Uxt(e,n):yp.Pk},i.SLt=function(t){return zs(this.lLt,function(n){return n.Fxt(t)})},i.Ed=function(){this.tu(),this.lLt.length=0,this.dLt={},this._Lt=null,this.wLt=null,this.qOt=yp.jp},i.uOt=function(){0},T(n,[{key:"ELt",get:function(){return this.hLt.Dp(this.Sdt.fk(3))}},{key:"O4",get:function(){var t=this.gLt.liveOffset;return yp.Dk(t||3*this.Sdt.pp())}},{key:"tLt",get:function(){var t=this.yLt(this._Lt);return!!t&&t.tLt}},{key:"pm",get:function(){return this._Lt?new jG([{IC:this.hLt.pp(),NC:this.cLt.pp()}]):HG}},{key:"hLt",get:function(){if(!this._Lt)return yp.jp;var t=this.yLt(this._Lt);return t.aLt?t.hLt:t.hLt.Em(t.vLt)}},{key:"cLt",get:function(){if(!this._Lt)return yp.jp;var t=this.yLt(this._Lt);return t.cLt.Em(t.vLt)}},{key:"fLt",get:function(){if(!this._Lt)return yp.jp;var t=this.yLt(this._Lt);return t.fLt.Em(t.vLt)}},{key:"Sdt",get:function(){return this._Lt?this.yLt(this._Lt).Sdt:RQ}},{key:"Bu",get:function(){return this.qOt},set:function(t){if(!this.qOt.hp(t)){this.qOt=t;for(var n=0,i=this.lLt;n<i.length;n++){i[n].Bu=t}this.dispatchEvent("NEt")}}}]),n}(MW),DQ=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.kLt=function(t){return yp.jp},n}(CQ),PQ=.25,BQ=1/60;function xQ(t,n){return Hs(t,n,BQ)}var OQ,LQ=function(t,n,i){this.vlt=void 0,this.Vm=void 0,this.Hg=void 0,this.qm=void 0,this.fT=void 0,this.ILt=NaN,this.RLt=NaN,this.NLt=0,this.vlt=t.vlt,this.Vm=n,this.qm=i,this.Hg=i-n,this.fT=t},MQ=function(t,n,i){this.vlt=void 0,this.Vm=void 0,this.Hg=void 0,this.qm=void 0,this.ILt=NaN,this.RLt=NaN,this.NLt=0,this.vlt=t,this.Vm=n,this.qm=i,this.Hg=i-n};function FQ(t){return!(!t||!t.fT)}function UQ(t,n,i){return e=n,r=i,s=t.Vm,u=t.qm,xQ(e,u)<=0&&xQ(s,r)<=0;var e,r,s,u}function jQ(t,n){return xQ(t.Vm,n)<=0?t.qm:t.Vm}function HQ(t,n,i){return(t-n)/i-PQ}function XQ(t,n){return n.Dp(t).YC(t)}function zQ(t,n){var i=w.min(BQ,t.Hg/2);return n.ZC(t.Vm,t.qm,i)}function VQ(t,n){var i=n.$Rt(t);return-1===i?t:n.end(i)}function qQ(t){return t.RLt<=t.ILt}function WQ(t,n){if(!qQ(n))return!1;for(var i=0;i<t.length;i++){var e=t[i];if(e.NLt+n.RLt>e.ILt)return!1}return!0}function GQ(t,n){for(var i=0;i<t.length;i++){t[i].NLt+=n.RLt}n.NLt=n.RLt,t.push(n)}!function(t){t[t.CLt=0]="CLt",t[t.DLt=1]="DLt",t[t.PLt=2]="PLt",t[t.uBt=3]="uBt"}(OQ||(OQ={}));var YQ=function(){function t(t,n,i,e){this.eT=void 0,this.qS=void 0,this.Xlt=void 0,this.BLt=void 0,this.xLt=void 0,this.pRt=void 0,this.eT=t,this.qS=n,this.Xlt=i,this.BLt=e,this.xLt=RO.Wn.jZ,this.pRt=RO.Wn.UZ}var n=t.prototype;return n.OLt=function(){return this.Xlt.NSt.reduce(function(t,n){return w.max(t,n.cSt&&n.cSt.targetDuration||0)},0)},n.LLt=function(t,n){void 0===n&&(n=this.qS.eNt(t).pp());var i=this.qS.rNt(t,yp.Dk(n));return new LQ(t,n,i.pp())},n.MLt=function(t,n){var i=t.hSt.PZ(n);return i&&this.LLt(i)||null},n.FLt=function(t){var n=t.vlt,i=n.hSt.YTt(t.V_t);return i>=0&&this.MLt(n,i-1)||null},n.ULt=function(t){var n=t.vlt,i=n.hSt.YTt(t.V_t);return i>=0&&this.MLt(n,i+1)||null},n.jLt=function(t,n){var i=this.qS.xPt(t,yp.Dk(n));return i&&this.LLt(i.fT,i.uLt.pp())||null},n.HLt=function(t){var n=t.hSt.Tw-1;return n>=0&&this.MLt(t,n)||null},n.XLt=function(t,n,i){var e=t.cSt&&t.cSt.targetDuration||this.OLt()||10,r=w.max(0,n-e),s=r+e;return i&&UQ(i,r,s)&&(s=(r=i.qm)+e),new MQ(t,r,s)},n.zLt=function(t,n,i){var e=this.BLt.BDt,r=.8*this.BLt.p6,s=(n.bandwidth||0)*t.Hg;return i&&i.aRt?((s=8*i.LRt||s)-8*i.ORt)/r:e+s/r},n.VLt=function(){for(var t=this.BLt.bDt(this.eT),n=this.BLt.nDt(this.eT),i=0;i<n.length;i++){var e=n[i];-1===t.indexOf(e)&&t.push(e)}return t},n.qLt=function(t,n){var i=n.filter(function(n){return n.vlt===t});return cY(this.qS,i).tNt()},n.WLt=function(t){return"audio"===this.eT&&t?[t]:this.Xlt.NSt},n.GLt=function(t){for(var n=new hY([]),i=new hY([]),e=this.VLt(),r={dtt:{},YLt:{},$Lt:{},QLt:{}},s=t.length-1;s>=0;s-=1){var u=t[s],o=this.qLt(u,e),a=dY(this.qS,o);r.dtt[u.xw]=o,r.YLt[u.xw]=a,r.$Lt[u.xw]=n=XQ(n,o),r.QLt[u.xw]=i=XQ(i,a)}return r},n.KLt=function(t,n,i,e,r){for(var s,u,o,a,h=[],c=0;c<e.length;c++)for(var f=r[e[c].xw],v=0;v<f.length;v+=1){var l=f.start(v),d=f.end(v)-i;l<d&&h.push({IC:l,NC:d})}return 0===(s=VG(s=zG(new jG(h)),new jG([{IC:t,NC:n}]))).length||xQ(s.start(0),t)>0?t:1===s.length&&(u=s.start(0),o=s.end(0),a=n,xQ(u,t)<=0&&xQ(a,o)<=0)?NaN:s.end(0)},n.ZLt=function(t,n,i){var e=null,r=i.dtt[t.xw],s=i.$Lt[t.xw],u=i.QLt[t.xw],o=s.$Rt(n);if(-1!==o){for(var a=w.max(n,s.start(o)),h=s.end(o),c=new jG([{IC:a,NC:h}]),f=s.XC(c).Dp(u),v=0;v<f.length;v++){var l=f.start(v),d=f.hSt(v)[0];if(d.fT.vlt===t){if(e=this.FLt(d.fT))return e}else{for(e=this.jLt(t,l);e&&zQ(e,r);)e=this.FLt(e.fT);if(e)return e}}var _=s.hSt(o),g=_[_.length-1];if(g.fT.vlt===t&&(e=this.ULt(g.fT)))return e}var y=this.HLt(t);if(!y||xQ(y.qm,n)<=0){if(!y||!y.fT.tCt)return e=this.XLt(t,n,y);e=y}for(e||(e=this.jLt(t,n));e&&zQ(e,s);)e=this.ULt(e.fT);return e},n.JLt=function(t,n){var i=this.HLt(t);return i&&i.fT.tCt&&xQ(i.qm,n)<=0?i:this.jLt(t,n)},n.tMt=function(t,n,i,e,r,s,u,o){var a=t.vlt,h=u.$Lt[a.xw],c=!zQ(t,h),f=c?n:jQ(t,e);t.ILt=HQ(f,e,s),t.RLt=this.zLt(t,a);var v=o&&this.LLt(o);if(v&&!zQ(v,h)){var l=jQ(v,e);if(v.ILt=HQ(l,e,s),v.RLt=this.zLt(v,a,i&&i.kRt),qQ(v)&&(!c||function(t,n){var i=[];return!!WQ(i,n)&&(GQ(i,n),!(!FQ(t)||!FQ(n)||t.fT!==n.fT)||!!WQ(i,t))}(t,v)))return v}if(c&&!qQ(t))return null;var d=this.nMt(t,e,r,s,h);return d.length&&d[d.length-1]||null},n.nMt=function(t,n,i,e,r){for(var s=[],u=t.vlt,o=t;o&&n<o.qm&&i<=o.Vm;){if(!zQ(o,r)){if(m(o.ILt)){var a=jQ(o,n);o.ILt=HQ(a,n,e),o.RLt=this.zLt(o,u)}WQ(s,o)&&GQ(s,o)}o=FQ(o)&&this.FLt(o.fT)}return s},n.iMt=function(t,n){return t.Vm<n?{Lw:OQ.PLt}:FQ(t)?{Lw:OQ.CLt,fT:t.fT,Vm:t.Vm}:{Lw:OQ.DLt,vlt:t.vlt}},n.mDt=function(t){if(JW(t.uri)){var n=t.uri,i=vO(n.Y0,[n.bJ.IC,n.bJ.NC]);return this.pRt.Iu(i)}var e=vO(t.uri);return this.pRt.Iu(e)},n.eMt=function(t){return this.xLt.Iu(t.uri)},n.rMt=function(t,n,i,e,r,s,u,o,a){var h,c,f,v,l,d,_,w,g,y,p,k,b;return Mr.async(function(A){for(;;)switch(A.prev=A.next){case 0:if(h=this.WLt(e),c=this.GLt(h),f=this.qS.ELt.pp(),v=this.KLt(t,n,r,h,c.YLt),_=null,g=!1,!m(v)){A.next=3;break}return A.abrupt("return",{Lw:OQ.uBt});case 3:if(!(v<f)){A.next=5;break}return A.abrupt("return",{Lw:OQ.PLt});case 5:y=o.length-1;case 6:if(!(y>=0)){A.next=27;break}if(l=o[y],d=VQ(v,c.YLt[l.xw]),!(_=this.ZLt(l,d,c))){A.next=24;break}if(p=!1,!FQ(_)){A.next=18;break}return A.next=15,Mr.awrap(this.mDt(_.fT));case 15:p=A.sent,A.next=22;break;case 18:if(l.sEt){A.next=22;break}return A.next=21,Mr.awrap(this.eMt(l));case 21:p=A.sent;case 22:if(!p){A.next=24;break}return A.abrupt("return",this.iMt(_,f));case 24:y-=1,A.next=6;break;case 27:if(!(v<=t+PQ&&a.length)){A.next=33;break}if(l=a[0],d=VQ(v,c.YLt[l.xw]),!(_=this.ZLt(l,d,c))){A.next=33;break}return A.abrupt("return",this.iMt(_,f));case 33:k=a.length-1;case 34:if(!(k>=0)){A.next=48;break}if(l=a[k],d=VQ(v,c.YLt[l.xw]),(_=this.ZLt(l,d,c))?w=_:(g=!0,w=this.JLt(l,d)),!w){A.next=45;break}if(!(b=this.tMt(w,d,s,t,f,i,c,u))){A.next=45;break}return A.abrupt("return",this.iMt(b,f));case 45:k-=1,A.next=34;break;case 48:if(!g){A.next=50;break}return A.abrupt("return",{Lw:OQ.uBt});case 50:if(!_){A.next=52;break}return A.abrupt("return",this.iMt(_,f));case 52:if(o.length){A.next=54;break}return A.abrupt("return",{Lw:OQ.uBt});case 54:if(l=o[0],d=VQ(v,c.YLt[l.xw]),!(_=this.ZLt(l,d,c))){A.next=61;break}return A.abrupt("return",this.iMt(_,f));case 61:return A.abrupt("return",{Lw:OQ.uBt});case 62:case"end":return A.stop()}},null,this,null,Ye)},t}(),$Q=yp.Dk(.1),QQ=function(t){function n(n){var i;return(i=t.call(this)||this).Sgt=void 0,i.sMt=[],i.Sgt=n,i}E(n,t);var i=n.prototype;return i.bht=function(t,n,i){var e=this.uMt(t),r=this.oMt(e);this.aMt(r,n,i),this.JP()},i.uMt=function(t){if(0===t.length)return[];for(var n=t[0]._Pt,i=this.hMt(t[0]),e=[],r=0;r<t.length;r++){var s=t[r];n!==s._Pt&&(n=s._Pt,i=this.hMt(s)),e.push(Fr({},s,{cMt:s.rQ.Em(i)}))}return e},i.hMt=function(t){var n=this.Sgt.oNt(t._Pt,t.rQ),i=n.Dp(t.rQ);return Np(n,t.rQ).Dp(i)},i.oMt=function(t){var n,i,e,r,s,u=t.slice().sort(KQ),o=this.sMt;if(o.length)if(u.length){var a=1/u[0]._Pt.TEt,h=u[0].cMt,c=o[0].cMt,f=o[o.length-1].cMt,v=(r=o[0]._Pt,s=u[0]._Pt,r.vlt===s.vlt);if(f.Dp(h).Ip(yp.Dk(2.5*a))&&v)n=o.concat(u).sort(KQ);else if(h.Ap(c)){for(var l=0;l<o.length&&o[l].cMt.Ip(h);)l++;for(var d=!1,_=!1,w=l,g=0;w<o.length&&g<u.length;w++,g++)i=o[w],e=u[g],i.rQ.hp(e.rQ)&&i.vs===e.vs&&i.Jrt===e.tst?d=!0:_=!0;var y=d&&!_,m=d&&_;!d&&_?n=o.concat(u).sort(KQ):y?n=o.slice(0,l).concat(u):(n=u,m&&this.bw())}else n=u,this.bw()}else n=o;else n=u;return n},i.aMt=function(t,n,i){if(0!==t.length){for(var e=t[0],r=n.Dp(e.cMt),s=Np(n,e.cMt).Dp(r),u=n.Em(s),o=$Q.Sk(u.yk),a=0;a<t.length;a+=1){var h=t[a];if(!i&&u.Dp(h.cMt).Ip(o))return void(this.sMt=t.slice(a));var c=this.Sgt.oNt(h._Pt,h.rQ);this.kht(h,c.pp())}this.sMt=[]}},T(n,[{key:"CT",get:function(){return 4}}]),n}(mH);function KQ(t,n){return(t._Pt===n._Pt?mp(t.rQ,n.rQ):mp(t.cMt,n.cMt))||Us(t.vS,n.vS)}var ZQ=function(t){function n(n,i,e,r,s,u,o,a,h,c){var f;return(f=t.call(this)||this).fMt=!1,f.vMt=!1,f.rDt=void 0,f.jIt=void 0,f.lMt=void 0,f.BLt=void 0,f.dMt=void 0,f.Wxt=void 0,f.uc=void 0,f.qS=void 0,f._Mt=void 0,f.wMt=!1,f.gMt=void 0,f.yMt=void 0,f.mMt=!1,f.pMt=!1,f.kMt=null,f.ED=void 0,f.Pkt=void 0,f.Bkt=void 0,f.bMt=null,f.qm=-1,f.AMt=null,f.TMt=!1,f.SMt=!1,f.EMt=1/0,f.IMt=void 0,f.RMt=null,f.NMt=0,f.CMt=void 0,f.$s=function(t){f.dispatchEvent(t)},f.DMt=function(){!f.wMt&&!f.mMt&&f.PMt&&f.fMt&&(f.mMt=f.ant("zH",f.gMt,function(){f.mMt=!1}))},f.BMt=function(){!f.wMt&&!f.pMt&&f.xMt&&f.vMt&&(f.pMt=f.ant("XH",f.yMt,function(){f.pMt=!1}))},f.OMt=function(t){return f.LMt()},f.MMt=function(t){if(t.eT===f.eT){var n=t._Pt,i=n.GNt;i.hNt&&f.FMt(i.hNt,n.info),i.Lst&&f.UMt(i.Lst,n.info),f.LMt(f.rDt.fDt,!0)}},f.lIt=function(t){var n=t;f.jMt(n.AEt,n.vlt)},f.Iht=function(t){if(1===t.Iut){if(f.bMt)for(var n=0;n<f.bMt.CT;n++){var i="CC"+(n+1);f.jIt.YEt(i,t.zm.Vm,t.zm.qm)}f.jIt.GEt(t.zm)}},f.ED=h,f.jIt=i,f.lMt=e,f.BLt=r,f.dMt=s,f.Wxt=u,f.uc=o,f.rDt=c,f.qS=new CQ(o),f._Mt=f.HMt(i),r.yw(n,f.qS,f.Wxt),f.gMt=new yQ(u,f.qS),f.yMt=new yQ(u,f.qS),f.bMt=f.XMt(f.qS),f.CMt=new YQ(n,f.qS,f._Mt,r),r.addEventListener("dPt",f.MMt),f.qS.addEventListener("mu",f.$s),i.addEventListener("eIt",f.lIt),f}E(n,t);var i=n.prototype;return i.ant=function(t,n,i){var e=this,r=this.Wxt.dDt,s=5*this.Wxt.Wg,u=this.zMt(),o="audio"===this.eT?[this.VMt]:this._Mt.NSt,a=n.uOt(),h=a[0],c=a[1],f=this.BLt.UPt(this.eT,t,this.qS,o,h,c||void 0,r,s,u);return f&&!f.length&&f.IPt?(this.Wxt.qMt("zH"===t,"XH"===t),!1):!(!f||!f.length)&&(this.dMt.bBt(this.eT,this.jIt,f,f.RPt,f.TK,f.IPt,function(t,r){if(i(),t)e.dispatchEvent({type:"mu",mu:t});else{var s=r;n.a8(s).then(function(){return e.dispatchEvent("GIt")}).catch(function(t){0})}}),!0)},i.WMt=function(){this.dMt.Xs(this.eT),this.mMt=!1,this.pMt=!1},i.GMt=function(){var t=this.Wxt.dDt,n=this.gMt.iOt(t)||this.yMt.iOt(t);!n||this.kMt&&this.kMt.V_t===n.V_t||(this.LMt(this.rDt.fDt),this.kMt=n,this.dispatchEvent({type:"YMt",QS:this.kMt.Fu.$Nt}))},i.$Mt=function(){this.QMt()},i.KMt=function(){this.$Mt()},i.ZMt=function(){this.LMt(this.rDt.fDt)},i.JMt=function(t,n){this.gMt.iOt(t)||this.yMt.iOt(t)||(this.kMt=null)},i.tFt=function(t){var n=!1;this.gMt.sOt().Im(t)||(this.DMt(),n=!0),this.yMt.sOt().Im(t)||(this.BMt(),n=!0),n&&this.LMt(this.rDt.fDt,!0)},i.nFt=function(){this.gMt.Du()},i.iFt=function(){this.yMt.Du()},i.zMt=function(){return 0===this.gMt.Tw+this.yMt.Tw?0:"bPt"===this.uc.APt?0:1*this.BLt.vDt},i.QMt=function(){this.DMt(),this.BMt()},i.OIt=function(t){return-1!==this._Mt.NSt.indexOf(t)},i.eFt=function(t){t&&this.OIt(t)&&(this.EEt(t),this.iIt(t))},i.EEt=function(t){this.qS.$Ot(t,t.cSt)},i.iIt=function(t){var n=this;if(t&&t.cSt&&this.uc.hlsDateRange){this.jIt.iIt(t.cSt.dateRanges,function(i){return n.qS.oLt(t,i).pp()})}},i.rFt=function(t){this.OIt(t.vlt)&&this.qS.TOt(t.vlt,t)},i.sFt=function(t){var n,i,e,r=t,s=this.gMt.iOt(r)||this.yMt.iOt(r);if(s)i=s.Fu.quality,e=s.V_t,n=s.IC;else{var u=this.VMt;if(!u)return null;var o=this.qS.xPt(u,yp.Dk(r));if(!o)return null;i=u,e=o.fT.V_t,n=o.uLt.pp()}var a=this.qS.sLt(i,e);if(!a)return null;var h=r-n;return new Date(a.getTime()+1e3*h)},i.oLt=function(t){var n=this.VMt;return this.qS.oLt(n,t).pp()},i.LMt=function(t,n){var i=this,e=this.uFt(),r=this.Wxt.dDt;t&&(this.qm=r+t,n&&(this.RMt=null,this.NMt=0)),this.uFt()||r>=this.qm?this.oFt(e):this.AMt||this.TMt||!this.Bw||(this.aFt(),this.hFt(function(t){return i.cFt(r,i.Wxt.Wg,t)}))},i.fFt=function(t){t&&this.lMt.removeEventListener(t.uri,this.OMt)},i.vFt=function(t){t&&this.lMt.addEventListener(t.uri,this.OMt)},i.uFt=function(){return-1===this.qm},n.lFt=function(t){return KW.oy(t.vlt.A_t)&&VI()-t.WA>2e3*t.vlt.cSt.metadata.hxt},i.hFt=function(t){var n,i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,this.AMt=new uu,i=this.AMt,e.prev=3,e.next=6,Mr.awrap(t(i.qs));case 6:n=e.sent,hu(i.qs),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),fu(e.t0);case 13:return e.prev=13,this.AMt===i&&(this.AMt=null),e.finish(13);case 16:n&&this.LMt();case 17:case"end":return e.stop()}},null,this,[[3,10,13,16]],Ye)},i.aFt=function(){this.AMt&&(this.AMt.Xs(),this.AMt=null)},i.dFt=function(t,n){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,Ye)},i._Ft=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!rK.lFt(t)){i.next=2;break}return i.abrupt("return",this.dispatchEvent("wFt"));case 2:if(n=w.min(16e3,1e3*w.pow(2,this.NMt)),this.NMt+=1,this.aFt(),!(this.NMt>2)){i.next=8;break}return t.vlt.YSt(!1),i.abrupt("return",t.vlt.ZSt());case 8:this.hFt(function(t){return mu(n,t).then(function(){return!0})});case 9:case"end":return i.stop()}},null,this,null,Ye)},i.FMt=function(t,n){var i,e;e=wG((i=t).cNt,4),i.WEt="0000.0000.0000."+e,function(t){var n=wG(t.SH,4),i=wG(t.fNt,3),e=wG(t.vNt,2*t.fNt);t.qw=(n+i+e).toUpperCase()}(t),mQ(n,this.qS,t),this.jIt.qEt(t,this.qS)},i.UMt=function(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];i.push(Fr({},r,{_Pt:n}))}this.bMt&&this.bMt.bht(i,n.$Ct,n.tCt)},i.gFt=function(t){this.IMt&&this.IMt._Pt===t&&this.LMt()},i.yFt=function(t,n){if(n){if(n.aborted)return;if(this.RMt===t)return this._Ft(t)}else t.vlt.YSt(!0);return this.LMt()},i.mFt=function(t){var n=sG(t.vlt.AEt);n&&this.dispatchEvent(new nU(ZW(t.uri),t.vlt.bandwidth||0,t.V_t,t.vlt.V_t,n))},i.pFt=function(t,n){var i=this.IMt&&this.IMt.$l.bRt||200,e=sG(t.vlt.AEt);e&&this.dispatchEvent(new hU(ZW(t.uri),t.vlt.bandwidth||0,t.V_t,t.vlt.V_t,e,i,n&&n.kRt.ORt||0))},i.oFt=function(t){this.qm=-1,t||this.dispatchEvent("kFt")},i.bFt=function(t){this.SMt=!0,this.oFt(t),this.dispatchEvent("hRt")},i.cFt=function(t,n,i){var e,r,s,u,o,a,h=this;return Mr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(hu(i),e=this.VMt,r=this.uFt(),this.fFt(e||void 0),!(t>=this.qm)){c.next=7;break}return this.oFt(r),c.abrupt("return",!1);case 7:return c.next=9,Mr.awrap(this.CMt.rMt(t,this.qm,n,e||void 0,this.zMt(),this.IMt&&this.IMt.$l,this.IMt&&this.IMt._Pt,this.AFt,this.TFt));case 9:if(s=c.sent,Zg.dg(this.BLt.p6/8),hu(i),s.Lw!==OQ.PLt){c.next=18;break}return this.aFt(),this.dispatchEvent("wFt"),c.abrupt("return",!1);case 18:if(s.Lw!==OQ.DLt){c.next=29;break}if(s.vlt!==e){c.next=24;break}return this.vFt(e),c.abrupt("return",!1);case 24:return c.next=26,Mr.awrap(this.dFt(s.vlt,null));case 26:return c.abrupt("return",c.sent);case 27:c.next=33;break;case 29:if(s.Lw!==OQ.uBt){c.next=33;break}return this.vFt(e||void 0),!KW.oy(e.A_t)&&e.cSt&&this.bFt(r),c.abrupt("return",!1);case 33:if(u=s.fT,!this.IMt||this.IMt._Pt!==u){c.next=36;break}return c.abrupt("return",!1);case 36:if(u.vlt===e){c.next=40;break}return c.next=39,Mr.awrap(this.dFt(u.vlt,u));case 39:return c.abrupt("return",c.sent);case 40:if(this.IMt&&(this.IMt.$l.Xs(),this.IMt=void 0),!(s.Vm>this.EMt)){c.next=46;break}return this.bFt(r),c.abrupt("return",!1);case 46:if(!(s.Vm>this.qm)){c.next=49;break}return this.oFt(r),c.abrupt("return",!1);case 49:if(this.SMt=!1,this.IMt=void 0,u!==this.RMt&&(this.NMt=0),this.RMt=u,this.dispatchEvent("aRt"),this.mFt(u),!u.I1){c.next=59;break}return c.next=58,Mr.awrap(this.BLt.vPt(this.eT,u.vlt,u.I1));case 58:o=c.sent;case 59:return(a=this.BLt.lPt(this.eT,u,o,function(t,n){h.aFt(),h.pFt(u,n),h.IMt=void 0,i&&i.Ds||h.yFt(u,t)}))&&(this.IMt={_Pt:u,$l:a},a.addEventListener("GIt",function(){i&&i.Ds||h.gFt(u)})),c.abrupt("return",!1);case 62:case"end":return c.stop()}},null,this,null,Ye)},i.SFt=function(t){this.LMt(t||this.rDt.fDt,!0)},i.EFt=function(){var t=this.uFt();this.qm=-1,this.IMt&&this.IMt.$l.Xs(),this.IMt=void 0,this.fFt(),this.SMt=!1,this.RMt=null,this.NMt=0,this.aFt(),this.oFt(t),this.bMt=this.XMt(this.qS)},i.IFt=function(){this.TMt=!0,this.fFt(),this.aFt()},i.RFt=function(){this.TMt=!1,this.LMt()},i.NFt=function(){this.wMt=!0},i.CFt=function(){this.wMt=!1,this.QMt()},i.Ed=function(){this.tu(),this.EFt(),this.WMt(),this.PMt=null,this.xMt=null,this.gMt.Ed(),this.yMt.Ed(),this.dMt.Xs(this.eT),this.qS.Ed(),this.jIt.removeEventListener("eIt",this.lIt),this.BLt.removeEventListener("dPt",this.MMt),this._Mt=null,this.DFt()},i.bw=function(){this.kMt=null,this.Pkt=void 0,this.Bkt=void 0,this.DFt(),this.bMt=this.XMt(this.qS)},i.XMt=function(t){var n=new QQ(t);return n.Ks("mht",this.Iht),n},i.DFt=function(){this.bMt&&(this.bMt.nu("mht",this.Iht),this.bMt.Ed(),this.bMt=null)},T(n,[{key:"jg",get:function(){return this.Wxt.dDt}},{key:"PFt",get:function(){return this.fMt}},{key:"eT",get:function(){return this.BFt()}},{key:"sEt",get:function(){return this.xFt()}},{key:"AFt",get:function(){return this.OFt()}},{key:"TFt",get:function(){return this.LFt()}},{key:"PMt",get:function(){return this.gMt.nOt},set:function(t){var n=this.gMt.nOt;n&&n.removeEventListener("updateend",this.DMt),this.gMt.nOt=t,t&&(t.addEventListener("updateend",this.DMt),this.DMt())}},{key:"xMt",get:function(){return this.yMt.nOt},set:function(t){var n=this.yMt.nOt;n&&n.removeEventListener("updateend",this.BMt),this.yMt.nOt=t,t&&(t.addEventListener("updateend",this.BMt),this.BMt())}},{key:"kFt",get:function(){return this.uFt()}},{key:"hRt",get:function(){return this.SMt}},{key:"MFt",get:function(){return this.EMt},set:function(t){this.EMt=t}},{key:"VMt",get:function(){return this.llt()}},{key:"FFt",get:function(){return this.UFt()},set:function(t){this.jFt(t)}},{key:"Bw",get:function(){return this.Yct()}},{key:"gm",get:function(){return this.HFt()}}]),n}(MW);function JQ(t,n){if(t.bandwidth!==n.bandwidth)return!1;if(t.resolution){if(!n.resolution)return!1;if(t.resolution.width!==n.resolution.width||t.resolution.height!==n.resolution.height)return!1}else if(n.resolution)return!1;return!0}function tK(t){for(var n=[],i=0;i<t.length;i++){for(var e=t[i],r=!1,s=0;s<n.length;s++){JQ(e,n[s])&&(r=!0)}r||n.push(e)}return n}function nK(t){var n=t&&t.uri||"",i=n.indexOf("?"),e=n.indexOf("#"),r=n.length;-1!==e&&(r=e),-1!==i&&(r=i);var s=n.indexOf(".aac",r-4);return 0<=s&&s<r}var iK=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this)||this).jIt=void 0,o.qS=void 0,o.BLt=void 0,o.uc=void 0,o.XFt=void 0,o.zFt=void 0,o.VFt=null,o.qFt=null,o.WFt=null,o.GFt=null,o.YFt=null,o.$Ft=null,o.QFt=null,o.iet=!1,o.Dm=!0,o.b4=!0,o.KFt=null,o.ED=void 0,o.ZFt=function(){o.KFt&&o.KFt.disabled&&o.JFt(o.uc.initialRendition||"default"),o.tUt(!0)},o.nUt=function(){var t=o.jIt.Mlt.CSt.some(function(t){return t.gm});o.R4(t)},o.iUt=function(t){"variant"===t.eT&&(o.BLt.removeEventListener("pPt",o.iUt),o.KFt&&(o.KFt=null,o.tUt(!1)))},o.ED=u,o.jIt=n,o.qS=i,o.BLt=e,o.uc=r,o.XFt=r.eUt||[],o.zFt=new hQ(r,RO.Wn.jZ,s),o.VFt=null,o.BLt.addEventListener("pPt",o.iUt),o.rUt(),o.sUt(),o.JFt(r.initialRendition||"default"),o}E(n,t);var i=n.prototype;return i.uUt=function(t,n){var i=iG(t);if(i&&!i.disabled)return i;var e=this.oUt(t,null);switch(e.length?"first"!==n&&(n="high"):e=t,n){case"first":return e.reduce(function(t,n){return t.V_t<=n.V_t?t:n});case"high":var r=tK(e);return r[r.length-1];case"low":default:return tK(t)[0]}},i.aUt=function(t,n){var i=this.hUt||this.KFt&&[this.KFt],e=i&&i.filter(function(n){return Ys(t,n)});return e&&e.length>0?tK(e):tK(this.oUt(t,n))},i.oUt=function(t,n){var i=this.uc,e=this.XFt,r=this.cUt();return t.filter(function(t){for(var s=0;s<e.length;s++){if(!e[s].fUt(t,n,r,i))return!1}return!0})},i.vUt=function(t,n){var i=this.aUt(t,n);return i.length?i[i.length-1]:t[0]},i.lUt=function(t,n){var i=this.hUt;return i&&i.length>0?i.filter(function(n){return Ys(t,n)}):t},i.dUt=function(t,n){var i,e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=this.GFt,e=this.YFt,!i||t!==this.$Ft||n!==this.QFt){u.next=4;break}return u.abrupt("return",i);case 4:return r=new uu,s=this._Ut(t,n,r.qs),i&&e&&e.Xs(),this.GFt=s,this.YFt=r,this.QFt=n,u.prev=10,u.next=13,Mr.awrap(s);case 13:return u.abrupt("return",u.sent);case 14:return u.prev=14,s===this.GFt&&(this.GFt=null,this.YFt=null,this.QFt=null),u.finish(14);case 17:case"end":return u.stop()}},null,this,[[10,,14,17]],Ye)},i._Ut=function(t,n,i){var e,r,s,u,o;return Mr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return e=this.jIt,r=this.qS,s=e.dlt,a.next=5,Mr.awrap(this.wUt(t,i));case 5:if(a.sent){a.next=8;break}return a.abrupt("return",!1);case 8:if(!n){a.next=14;break}if(u=r.TLt(s,n.V_t),o=r.xPt(t,u),KW.oy(s.A_t)||o){a.next=14;break}return t.disabled="isUnsynced",a.abrupt("return",!1);case 14:return a.abrupt("return",!0);case 15:case"end":return a.stop()}},null,this,null,Ye)},i.wUt=function(t,n){var i,e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=this.qFt,e=this.WFt,!i||t!==this.$Ft){u.next=4;break}return u.abrupt("return",i);case 4:return(r=new uu).zs(n),s=this.gUt(t,r.qs),i&&e&&e.Xs(),this.qFt=s,this.WFt=r,this.$Ft=t,u.prev=11,u.next=14,Mr.awrap(s);case 14:return u.abrupt("return",u.sent);case 15:return u.prev=15,s===this.qFt&&(this.qFt=null,this.WFt=null,this.$Ft=null),u.finish(15);case 18:case"end":return u.stop()}},null,this,[[11,,15,18]],Ye)},i.gUt=function(t,n){var i,e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=this.jIt,e=i.dlt,!this.Bw||e!==t){u.next=4;break}return u.abrupt("return",!1);case 4:if(this.yUt(t)){u.next=8;break}r=t.cSt,u.next=22;break;case 8:return u.prev=8,u.next=11,Mr.awrap(this.zFt.$h(t.uri,{}));case 11:s=u.sent,hu(n),r=s.wy,u.next=21;break;case 16:return u.prev=16,u.t0=u.catch(8),t.qSt(!1),t.ZSt(),u.abrupt("return",!1);case 21:t.HSt(r,e);case 22:if(!nK(r.fragments[0])){u.next=25;break}return t.disabled="isAAC",u.abrupt("return",!1);case 25:return u.abrupt("return",!0);case 26:case"end":return u.stop()}},null,this,[[8,16]],Ye)},i.yUt=function(t){var n=t.cSt;return!n||!!n.live&&(!t.hSt.Tw||t.hSt.PZ(t.hSt.Tw-1).WA+1e3*n.targetDuration<VI())},i.Bm=function(t){t?this.Dm||(this.Dm=!0,this.dispatchEvent("Bw")):this.Dm&&(this.Dm=!1)},i.R4=function(t){t&&!this.b4?(this.b4=!0,this.dispatchEvent("gm")):!t&&this.b4&&(this.b4=!1,this.dispatchEvent("Pd"))},i.tUt=function(t){var n=this,i=this.jIt,e=i.dlt,r=i.Mlt.CSt,s=this.lUt(r,e),u=this.vUt(s,e);u?this.dUt(u,null).then(function(e){e&&(i.plt(u,t),n.Bm(!0))}):this.Bm(!1)},i.mUt=function(){this.KFt=null,this.tUt(!0)},i.sUt=function(){this.jIt.Mlt.addEventListener("ESt",this.nUt)},i.pUt=function(){this.jIt.Mlt.removeEventListener("ESt",this.nUt)},i.rUt=function(){this.jIt.Mlt.addEventListener("TSt",this.ZFt)},i.kUt=function(){this.jIt.Mlt.removeEventListener("TSt",this.ZFt)},i.JFt=function(t){var n=this.jIt,i=n.Mlt.CSt;if(Boolean(n.dlt&&!n.dlt.disabled))this.KFt=null;else{if(i&&i.length){var e;switch(this.ED.uL.type){case zR.PERFORMANCE:e="low";break;case zR.QUALITY:e="high";break;case zR.BANDWIDTH:e=t}this.KFt=this.uUt(i,e),this.iet=!0}var r=this.lUt(i,null),s=this.vUt(r,null);s&&(n.dlt=s)}},i.cUt=function(){return this.iet?{p6:this.BLt.p6}:{p6:this.ED.pL}},i.Xs=function(){this.GFt&&this.YFt&&(this.YFt.Xs(),this.GFt=null,this.YFt=null,this.QFt=null),this.qFt&&this.WFt&&(this.WFt.Xs(),this.qFt=null,this.WFt=null,this.$Ft=null)},i.Ed=function(){this.BLt.removeEventListener("pPt",this.iUt),this.kUt(),this.pUt(),this.Xs(),this.VFt=null,this.KFt=null},i.bUt=function(t,n){var i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.jIt,t){r.next=3;break}return r.abrupt("return",!1);case 3:return r.next=5,Mr.awrap(this.dUt(t,n));case 5:return(e=r.sent)&&(i.dlt=t),r.abrupt("return",e);case 8:case"end":return r.stop()}},null,this,null,Ye)},T(n,[{key:"Bw",get:function(){return this.Dm}},{key:"gm",get:function(){return this.b4}},{key:"TFt",get:function(){var t=this.jIt,n=t.dlt,i=this.lUt(t.Mlt.CSt,n);return this.aUt(i,n)}},{key:"AFt",get:function(){return this.lUt(this.jIt.Mlt.CSt,this.jIt.dlt)}},{key:"hUt",get:function(){return this.VFt},set:function(t){this.VFt=t,this.mUt()}}]),n}(MW),eK=function(){function t(t,n){this.V_=void 0,this.qS=void 0,this.AUt=-1,this.V_=t,this.qS=n}return t.prototype.Kh=function(t){for(var n=t.hSt,i=n.YTt(this.AUt),e=i<0?0:i+1;e<n.Tw;e++){var r=n.PZ(e);if(r.V_t>this.AUt){var s=this.qS.eNt(r),u=this.qS.rNt(r,s),o=new Zm(s.pp(),u.pp(),[].concat(r.tEt),!1,r.V_t.toString());this.V_.mE(o),this.AUt=r.V_t}}},t}(),rK=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return(c=t.call(this,$W.mSt,n,i,e,r,s,u,o,a,h)||this).TUt=void 0,c.SUt=null,c.EUt=null,c.TUt=new iK(n,c.qS,e,u,o,a),c.TUt.addEventListener("Bw",c.$s),c.TUt.addEventListener("gm",c.$s),c.TUt.addEventListener("Pd",c.$s),u.manifestMetadataTrack&&(c.SUt=n.VEt("",c.qS,""),c.EUt=new eK(c.SUt,c.qS)),c.fMt=!c.jIt.klt||!c.jIt.klt.uri,c.vMt=Boolean(c.jIt.dlt),c}E(n,t);var i=n.prototype;return i.jMt=function(t,n){if("zH"===t){var i=n?n.uri:void 0;this.fMt=!i}},i.BFt=function(){return $W.mSt},i.xFt=function(){return this.VMt&&this.VMt.sEt||!1},i.llt=function(){return this.jIt.dlt},i.OFt=function(){return this.TUt.AFt},i.LFt=function(){return this.TUt.TFt},i.UFt=function(){var t=this.TUt.hUt;return t&&t.map(function(t){return t.xw})},i.jFt=function(t){if(t&&t.length>0){var n=this._Mt.NSt.filter(function(n){return-1!==t.indexOf(n.xw)});if(!(n.length>0))return void 0;this.TUt.hUt=n}else this.TUt.hUt=null},i.Yct=function(){return this.TUt.Bw},i.HFt=function(){return this.TUt.gm},i.dFt=function(n,i){return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mr.awrap(this.TUt.bUt(n,i));case 2:return e.abrupt("return",t.prototype.dFt.call(this,n,i));case 3:case"end":return e.stop()}},null,this,null,Ye)},i.EFt=function(){t.prototype.EFt.call(this),this.TUt.Xs()},i.EEt=function(n){t.prototype.EEt.call(this,n),this.EUt&&this.EUt.Kh(n)},i.Ed=function(){t.prototype.Ed.call(this),this.TUt.Ed(),this.TUt.removeEventListener("gm",this.$s),this.TUt.removeEventListener("Pd",this.$s)},i.HMt=function(t){return t.Mlt},i.IUt=function(){var t=this.jg,n=this.PFt?this.gMt.eOt(t):void 0,i=n?n.vlt:void 0,e=this.yMt.eOt(t),r=e?e.vlt:void 0,s=this.Pkt;this.Pkt=i;var u=this.Bkt;return this.Bkt=r,!s&&i?{rIt:s,RUt:i}:!u&&r?{rIt:u,RUt:r}:u&&r&&u.xw!==r.xw?{rIt:u,RUt:r}:void 0},n}(ZQ),sK=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return(c=t.call(this,$W._d,n,i,e,r,s,u,o,a,h)||this).fMt=!!c.jIt.klt&&!!c.jIt.klt.uri,c.vMt=!1,c}E(n,t);var i=n.prototype;return i.jMt=function(t,n){if("zH"===t){var i=n?n.uri:void 0;this.fMt=!!i}},i.BFt=function(){return $W._d},i.xFt=function(){return this.VMt&&this.VMt.sEt||!1},i.llt=function(){return this.jIt.klt},i.OFt=function(){var t=this.llt();return t?[t]:[]},i.LFt=function(){return this.OFt()},i.HMt=function(t){return t.Flt},i.UFt=function(){return null},i.jFt=function(t){},i.Yct=function(){return!0},i.HFt=function(){return!0},i.IUt=function(){var t=this.PFt?this.gMt.eOt(this.jg):void 0,n=t?t.vlt:void 0,i=this.Pkt;return this.Pkt=n||void 0,!i&&n?{rIt:i,RUt:n}:i&&n&&i.xw!==n.xw?{rIt:i,RUt:n}:void 0},n}(ZQ),uK=function(){function t(t,i,e,r,s,u){var o=this;this.NUt=!1,this.Xyt=void 0,this.CUt=void 0,this.aDt=void 0,this.DUt=void 0,this.rDt=void 0,this.Zu=WS.vD(),this.PUt=[],this.Imt=void 0,this.BUt=[],this.SEt=function(){return o.xUt()},this.OUt=function(t){t.wy.live||o.CUt.removeEventListener(o.Xyt.Y0,o.OUt),o.Xyt.HSt(t.wy)},this.LUt=function(){o.Xyt.REt.Ww===Fg.Hw?o.NUt&&o.MUt():o.NUt||o.FUt()},this.Ec=function(t){if(!au(t)){var i=t instanceof sb?t:new sb(n.ErrorCode.SUBTITLE_LOAD_ERROR,t.message,o.Xyt.Y0,0,t);o.Xyt.REt.$w=Pm.ERROR,o.Xyt.REt.Qs(new kb(i))}},this.Xyt=t,this.CUt=i,this.aDt=e,this.rDt=u,this.DUt=new LG(r,s),this.Imt=new uu,t.REt.Ks(og.ew,this.LUt),t.qS&&t.qS.addEventListener("NEt",this.SEt),this.LUt()}var i=t.prototype;return i.FUt=function(){this.NUt||this.Xyt.REt.Ww===Fg.Hw||(this.CUt.removeEventListener(this.Xyt.Y0,this.OUt),this.CUt.addEventListener(this.Xyt.Y0,this.OUt),this.CUt.Cxt(this.Xyt.Y0),this.CUt.Dxt(this.Xyt.Y0),this.NUt=!0,this.UUt(this.Imt.qs).catch(this.Ec))},i.UUt=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return hu(t),n.next=4,Mr.awrap(this.jUt(t));case 4:n.next=0;break;case 6:case"end":return n.stop()}},null,this,null,Ye)},i.jUt=function(t){var n,i,e,r,s,u,o,a,h,c,f,v,l,d,_,w;return Mr.async(function(g){for(;;)switch(g.prev=g.next){case 0:if(n=this.aDt.dDt,i=this.rDt.fDt,e=new WS([n,n+i]),(r=e.XC(this.Zu.zC())).Tw){g.next=9;break}return g.next=8,Mr.awrap(mu(1e3,t));case 8:return g.abrupt("return");case 9:if(s=r.IC(0),u=this.HUt(s)){g.next=15;break}return g.next=14,Mr.awrap(ng(this.Xyt,"WSt",t));case 14:return g.abrupt("return");case 15:return o=u.fT,a=u.uLt.pp(),h=a+o.duration,g.prev=18,g.next=21,Mr.awrap(this.DUt.WRt("REt",o.uri,xf.Jn,v_.Jl,l_.Jn));case 21:c=g.sent,g.next=30;break;case 24:return g.prev=24,g.t0=g.catch(18),cu(g.t0),g.next=29,Mr.awrap(mu(1e3,t));case 29:return g.abrupt("return");case 30:g.prev=30,f=Wp(c),g.next=37;break;case 34:throw g.prev=34,g.t1=g.catch(30),gb(Bm.WEBVTT,o.uri.toString(),0,g.t1);case 37:for(v=f.ib||{eb:yp.jp,sb:yp.jp},l=this.Xyt.hSt.$Tt(o.V_t),this.Zu=this.Zu.YC(new WS([a,h])),this.PUt.push(o.V_t),d=0,_=f.Qw;d<_.length;d++)w=_[d],this.BUt.push({_Pt:l,uLt:oK(yp.Dk(w.Vm),v.sb,v.eb),XUt:oK(yp.Dk(w.qm),v.sb,v.eb),zm:w});this.xUt();case 43:case"end":return g.stop()}},null,this,[[18,24],[30,34]],Ye)},i.xUt=function(){var t=this.Xyt.qS;if(this.BUt.length&&t){for(var n=[],i=0,e=this.BUt;i<e.length;i++){var r=e[i],s=t.oNt(r._Pt,r.uLt);if(s.Pp())n.push(r);else{var u=t.oNt(r._Pt,r.XUt),o=r.zm;o.Vm=s.pp(),o.qm=u.pp(),this.Xyt.REt.mE(o)}}this.BUt=n,this.Xyt.REt.JV(this.aDt.dDt,!0)}},i.HUt=function(t){var n=this.Xyt.qS,i=this.Xyt.hSt;if(n.tLt)for(var e=n.cLt.pp(),r=i.Tw-1;r>=0;r-=1){var s=i.PZ(r),u=e-s.duration;if(new WS([u,e]).VN(t,.5)){var o={fT:s,uLt:yp.Dk(u)};return this.zUt(i,o,r)}e=u}else for(var a=0,h=0;h<i.Tw;h+=1){var c=i.PZ(h),f=a+c.duration;if(new WS([a,f]).VN(t,.5)){var v={fT:c,uLt:yp.Dk(a)};return this.zUt(i,v,h)}a=f}},i.zUt=function(t,n,i){var e=n.fT;if(-1===this.PUt.indexOf(e.V_t))return n;for(var r=n.uLt.pp()+e.duration,s=i+1;s<t.Tw;s+=1){var u=t.PZ(s);if(-1===this.PUt.indexOf(u.V_t))return{fT:u,uLt:yp.Dk(r)};r+=u.duration}},i.MUt=function(){this.NUt=!1,this.CUt.Nxt(this.Xyt.Y0),this.Imt.Xs(),this.Imt=new uu},i.bw=function(){this.MUt(),this.Zu=WS.vD(),this.PUt.length=0,this.Xyt.REt.nu(og.ew,this.LUt),this.Xyt.qS&&this.Xyt.qS.removeEventListener("NEt",this.SEt),this.CUt.removeEventListener(this.Xyt.Y0,this.OUt)},t}();function oK(t,n,i){return Rp(i,t.Dp(n))}var aK=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).uc=void 0,s.tRt=void 0,s.BLt=void 0,s.dMt=void 0,s.jIt=void 0,s.lMt=void 0,s.VUt=void 0,s.qUt=NaN,s.WUt=!1,s.GUt=1/0,s.YUt=1/0,s.$Ut=null,s.QUt=!0,s.KUt=!0,s.Wxt=null,s.dE=void 0,s.ED=void 0,s.ZUt=void 0,s.JUt=void 0,s.tjt=[],s.mV=function(){var t=s.jIt.Hg;m(t)||s.qUt===t||(s.qUt=t,s.dispatchEvent("durationchange"))},s.njt=function(){s.WIt&&(s.jIt.removeEventListener("renditionUpdated",s.njt),s.dispatchEvent("WIt"))},s.ijt=function(){s.kFt&&s.dispatchEvent("kFt")},s.ejt=function(){s.hRt&&s.dispatchEvent("hRt")},s.$s=function(t){s.dispatchEvent(t)},s.rjt=function(t){var n=s.jIt.$Et(t.Ext);n?n instanceof cG&&(n.qSt(!1),n.ZSt()):s.dispatchEvent(t)},s.sjt=function(t){s.jIt.wy||(t.mu.code===UW.BTt?(s.$Ut||(s.$Ut=a(s.ujt,Qb)),s.KUt=!1,s.GSt()):s.dispatchEvent({type:"mu",mu:t.mu}))},s.ojt=function(t){s.ajt(),s.hjt(t.wy),s.cjt(),s.jIt.removeEventListener("ZEt",s.mV),s.jIt.addEventListener("ZEt",s.mV),s.mV(),s.WUt||(s.WUt=!0,s.dispatchEvent("loadedmetadata")),s.njt(),s.KUt=!0,s.GSt()},s.ujt=function(){s.ajt();var t=s.cRt;t&&(s.lMt.bw(),s.lMt.cRt=t,s.lMt.IC())},s.fjt=function(){s.lMt.Pxt()},s.vjt=function(){s.ljt.forEach(function(t){return t.CFt()})},s.djt=function(t){s._jt.forEach(function(n){return n.eFt(t.vlt)})},s.wjt=function(t){s.ljt.forEach(function(n){return n.rFt(t.FCt)}),s.VUt.jxt(t.FCt,s.ljt.map(function(t){return t.qS}))},s.GSt=function(){var t=s.QUt,n=s.HFt();s.QUt=n,n&&!t?s.dispatchEvent("gm"):!n&&t&&s.dispatchEvent("Pd")},s.ED=r,s.uc=n,s.tRt=i,s.dE=e,s.BLt=new v$(n,i,e,nn(s)),s.dMt=new K$(n),s.jIt=new vG(n),s.lMt=new fQ(e,n),s.VUt=new vQ,s.lMt.addEventListener("mu",s.rjt),s.lMt.addEventListener("Sxt",s.sjt),s.lMt.addEventListener("Ixt",s.ojt),s.BLt.addEventListener("dPt",s.$s),s.BLt.addEventListener("mu",s.$s),s.jIt.addEventListener("eIt",s.$s),s.jIt.addEventListener("WSt",s.djt),s.jIt.addEventListener("PEt",s.wjt),s.jIt.addEventListener("sIt",s.$s),s.VUt.addEventListener("Oxt",s.$s),s.VUt.addEventListener("Oxt",s.vjt),s.addEventListener("gm",s.fjt),s}E(n,t);var i=n.prototype;return i.gjt=function(t){t.MFt=this.MFt,t.addEventListener("YMt",this.$s),t.addEventListener("yjt",this.$s),t.addEventListener("mu",this.$s),t.addEventListener("wFt",this.$s),t.addEventListener("aRt",this.$s),t.addEventListener("kFt",this.ijt),t.addEventListener("hRt",this.ejt),t.addEventListener("Pd",this.GSt),t.addEventListener("gm",this.GSt),t.addEventListener("Bw",this.$s),t.addEventListener("GIt",this.$s),t.addEventListener(Bf.Lf,this.$s),t.addEventListener(Bf.Ff,this.$s)},i.cjt=function(){this.mjt();this.jIt.Mlt.NSt;var t=this.jIt.Flt.NSt;this.ZUt=new rK(this.jIt,this.lMt,this.BLt,this.dMt,this.Wxt,this.uc,this.dE,this.ED,this),this.gjt(this.ZUt),t.length&&(this.JUt=new sK(this.jIt,this.lMt,this.BLt,this.dMt,this.Wxt,this.uc,this.dE,this.ED,this),this.gjt(this.JUt));for(var n=this.jIt.H_t,i=this.ZUt.qS,e=0;e<n.length;e++){var r=n[e];r.qS=i,this.tjt.push(new uK(r,this.lMt,this.Wxt,this.dE,this.uc,this))}},i.mjt=function(){this.ZUt&&(this.ZUt.Ed(),this.ZUt=void 0),this.JUt&&(this.JUt.Ed(),this.JUt=void 0),this.tjt.forEach(function(t){return t.bw()}),this.tjt.length=0,this.VUt.bw()},i.pjt=function(t){this.ljt.forEach(function(n){return n.SFt(t)})},i.hjt=function(t){this.jIt.wy=t},i.kjt=function(){this.lMt.IC()},i.bjt=function(t){this.VUt.Hxt(t,this.ljt.map(function(t){return t.qS}))||this.ljt.forEach(function(t){t.WMt(),t.NFt()})},i.MUt=function(){this.BLt.fPt(),this.ljt.forEach(function(t){return t.EFt()})},i._Rt=function(){this.BLt.fPt(),this.ljt.forEach(function(t){return t.IFt()})},i.vRt=function(){this.ljt.forEach(function(t){return t.RFt()})},i.Ed=function(){this.tu(),this.ajt(),this.mjt(),this.BLt.Ed(),this.dMt.Ed(),this.jIt.Ed(),this.lMt.bw(),this.VUt.Ed()},i.Ajt=function(t,n,i,e){var r=this.ZUt,s=this.JUt;t&&(r.EFt(),this.BLt.Du(r.eT),r.SFt(e)),n&&s&&(s.EFt(),this.BLt.Du(s.eT),i&&s.SFt(e))},i.Tjt=function(){if(!this.ZUt)return HG;var t=this.ZUt;return cY(t.qS,this.BLt.bDt(t.eT))},i.Rxt=function(t,n,i){var e=this,r=n?n.uri:void 0,s=i?i.uri:void 0,u=function t(n){n.wy.live||e.lMt.removeEventListener(s,t),i&&i.HSt(n.wy)};s&&(this.lMt.removeEventListener(s,u),this.lMt.addEventListener(s,u)),this.lMt.Rxt(r,s),this.lMt.Dxt(s)},i.ajt=function(){null!==this.$Ut&&h(this.$Ut),this.$Ut=null},i.HFt=function(){return!!this.KUt&&(!this.ZUt||this.ZUt.gm)},i.gRt=function(t){this.ZUt&&(this.ZUt.FFt=t)},i.bw=function(){this._jt.forEach(function(t){return t.bw()}),this.tjt.forEach(function(t){return t.bw()})},T(n,[{key:"Sjt",get:function(){return this.ZUt}},{key:"Ejt",get:function(){return this.JUt}},{key:"ljt",get:function(){var t=[];return this.ZUt&&t.push(this.ZUt),this.JUt&&this.JUt.PFt&&t.push(this.JUt),t}},{key:"_jt",get:function(){return[this.ZUt,this.JUt].filter(H)}},{key:"fDt",get:function(){return Ut(this.ED.rL*this.BLt.vDt,1,this.Ijt)}},{key:"cRt",get:function(){return this.lMt.cRt},set:function(t){this.qUt=NaN,this.GUt=1/0,this.WUt=!1,this.QUt=!0,this.KUt=!0,this.jIt.removeEventListener("renditionUpdated",this.njt),this.jIt.removeEventListener("ZEt",this.mV),this.ajt(),this.mjt(),this.BLt.Du(),this.dMt.Xs(),this.jIt.Ed(),this.jIt.addEventListener("renditionUpdated",this.njt),this.lMt.cRt=t,this.GSt()}},{key:"Hg",get:function(){return this.qUt}},{key:"tLt",get:function(){return this.jIt&&KW.oy(this.jIt.A_t)}},{key:"gm",get:function(){return this.QUt}},{key:"WIt",get:function(){var t=this.ljt;return t.length>0&&t.every(function(t){return t.sEt})}},{key:"vDt",get:function(){return this.BLt.vDt},set:function(t){t>0&&(this.BLt.vDt=t)}},{key:"kFt",get:function(){return this.ljt.every(function(t){return t.kFt})}},{key:"hRt",get:function(){return this.ljt.length>0&&this.ljt.every(function(t){return t.hRt})}},{key:"Ijt",get:function(){return this.YUt},set:function(t){this.YUt=t}},{key:"MFt",get:function(){return this.GUt},set:function(t){var n=this;this.GUt=t,this._jt.forEach(function(t){return t.MFt=n.GUt})}},{key:"pm",get:function(){return this.WIt?new jG([{IC:this.hLt,NC:this.cLt}]):HG}},{key:"hLt",get:function(){if(!this.WIt)return 0;for(var t=-1/0,n=0,i=this.ljt;n<i.length;n++){var e=i[n];t=w.max(t,e.qS.hLt.pp())}return t}},{key:"cLt",get:function(){if(!this.WIt)return 0;for(var t=1/0,n=0,i=this.ljt;n<i.length;n++){var e=i[n];t=w.min(t,e.qS.cLt.pp())}return t}},{key:"fLt",get:function(){if(!this.WIt)return 0;for(var t=1/0,n=0,i=this.ljt;n<i.length;n++){var e=i[n];t=w.min(t,e.qS.fLt.pp())}return w.max(t,this.hLt)}},{key:"wRt",get:function(){return this.ZUt&&this.ZUt.FFt||void 0}}]),n}(MW),hK=function(t){function n(n,i){var e;return(e=t.call(this)||this).uc=void 0,e.qUt=NaN,e.WUt=!1,e.jIt=void 0,e.qS=void 0,e.Rjt=void 0,e.$Ut=null,e.QUt=!0,e.SUt=null,e.EUt=null,e.$s=function(t){e.dispatchEvent(t)},e.hjt=function(t){if(e.jIt.wy||(e.jIt.wy=e.Rjt.aIt||null),!e.jIt.dlt){var n=e.jIt.Mlt.NSt[0];n&&(e.jIt.dlt=n,e.Rjt.bxt(n),e.dispatchEvent({type:"Njt",vlt:n}))}t.manifest.isMasterPlaylist||e.jIt.dlt.HSt(t.manifest),void 0!==t.manifest.duration&&e.qUt!==t.manifest.duration&&(e.qUt=t.manifest.duration,e.dispatchEvent("durationchange")),e.WUt||(e.WUt=!0,e.dispatchEvent("loadedmetadata")),e.R4(!0),e.dispatchEvent({type:"kxt",manifest:t.manifest})},e.sjt=function(t){t.mu.code===UW.BTt?(e.$Ut||(e.$Ut=a(e.ujt,Qb)),e.R4(!1)):e.dispatchEvent({type:"mu",mu:t.mu})},e.ujt=function(){e.ajt();var t=e.cRt;t&&e.Rjt.IC(t)},e.ajt=function(){h(e.$Ut),e.$Ut=null},e.djt=function(t){var n=t.vlt;e.qS.$Ot(n,n.cSt),e.uc.manifestMetadataTrack&&(e.EUt||(e.SUt=e.jIt.VEt("",e.qS,""),e.EUt=new eK(e.SUt,e.qS)),e.EUt.Kh(n))},e.uc=n,e.jIt=new vG(n,!0),e.qS=new DQ(n),e.Rjt=new cQ(i,e.uc),e.qS.addEventListener("mu",e.$s),e.Rjt.addEventListener("kxt",e.hjt),e.Rjt.addEventListener("mu",function(t){e.jIt.wy?(e.$Ut||(e.$Ut=a(e.ujt,Qb)),e.R4(!1)):e.sjt(t)}),e.jIt.addEventListener("WSt",e.djt),e}E(n,t);var i=n.prototype;return i.kjt=function(){this.jIt.wy||this.Rjt.IC()},i.Tjt=function(){return HG},i.R4=function(t){var n=this.QUt;this.QUt=t,t&&!n?this.dispatchEvent("gm"):!t&&n&&this.dispatchEvent("Pd")},i.Ed=function(){this.tu(),this.ajt(),this.jIt.Ed(),this.Rjt.Ed(),this.EUt=null,this.qS.Ed()},i._Rt=function(){},i.vRt=function(){},i.pjt=function(t){},i.gRt=function(t){},T(n,[{key:"cRt",get:function(){return this.Rjt.cRt},set:function(t){this.qUt=NaN,this.WUt=!1,this.ajt(),this.jIt.Ed(),this.EUt=null,this.Rjt.cRt=t,this.R4(!0)}},{key:"Hg",get:function(){return this.qUt}},{key:"tLt",get:function(){return this.jIt&&KW.oy(this.jIt.A_t)}},{key:"gm",get:function(){return this.QUt}},{key:"hRt",get:function(){return!1}},{key:"kFt",get:function(){return!1}},{key:"wRt",get:function(){return[]}}]),n}(MW),cK=1e3,fK="VEE3",vK=function(t){function n(n){var i;return(i=t.call(this,"Cjt")||this).ptsOffset=n,i}return E(n,t),n}(Eu),lK=function(t){function n(n){var i;return(i=t.call(this)||this).cIt=void 0,i.Djt=null,i.Pjt=0,i.Bjt="start",i.xjt=1,i.Ojt=!1,i.Ljt=!1,i.Mjt=0,i.Fjt=null,i.Ujt=null,i.jjt=null,i.Hjt=null,i.Lxt=0,i.Xjt=0,i.zjt=new uu,i.Vjt=new ea,i.qjt=void 0,i.Wjt={},i.Gjt=!1,i.Yjt=null,i.$jt=NaN,i.GMt=function(){i.cIt.ljt.map(function(t){t.GMt()})},i.IUt=function(){for(var t,n,e,r=0,s=i.cIt._jt;r<s.length;r++){var u=s[r],o=u.IUt();if(o){var a=o.RUt;a&&a.AEt!==QW._d&&(i.Yjt=a)}u.eT===$W._d?t=o:u.eT===$W.mSt&&(n=o,e=u)}(t||n)&&i.dispatchEvent({type:"eIt",Qjt:t&&t.rIt,EIt:t&&t.RUt,CIt:n&&n.rIt,SIt:n&&n.RUt,AIt:!!e&&e.PFt})},i.$Mt=function(){null!==i.Fjt&&h(i.Fjt),i.Fjt=a(i.$Mt,cK),i.cIt.ljt.forEach(function(t){return t.$Mt()})},i.ZMt=function(){null!==i.Ujt&&h(i.Ujt),i.Ojt&&(i.Ujt=a(i.ZMt,cK),i.cIt.ljt.forEach(function(t){return t.ZMt()}))},i.KMt=function(){i.cIt.ljt.forEach(function(t){return t.KMt()})},i.Kjt=function(){if(i.cIt.tLt&&i.Wg>1){var t=i.cIt.fLt;i.Zjt>t&&(i.Wg=1,i.Zjt>=t+1&&(i.Zjt="start"))}},i.Jjt=function(){i.Djt&&(0===i.Djt.tHt()?i.Zjt="start":i.Zjt=i.nHt(i.dDt))},i.iHt=function(){i.Mjt=i.dDt},i.eHt=function(t){i.rHt(),i.Djt.error&&(t.error.info.code===fK&&i.Xjt<Kb?(i.Xjt+=1,i.sHt()):i.dispatchEvent({type:"mu",error:t.error}))},i.uHt=function(){i.Xjt=0},i.oHt=function(){i.removeEventListener("aHt",i.hHt),i.Ojt?i.hHt():i.addEventListener("aHt",i.hHt)},i.hHt=function(){var t=i.dDt;i.cIt.removeEventListener("WIt",i.oHt),i.cIt.WIt?i.cIt.ljt.forEach(function(n){return n.tFt(t)}):(i.cIt.addEventListener("WIt",i.oHt),i.cIt.kjt())},i.cHt=function(){var t=i.dDt;i.cIt._jt.forEach(function(n){return n.JMt(t,i.cIt.tLt)})},i.fHt=function(){null!==i.Fjt&&h(i.Fjt),i.Fjt=null,null!==i.Ujt&&h(i.Ujt),i.Ujt=null},i.vHt=function(){i.lHt(),i.cIt.WIt?i.fRt():(i.cIt.addEventListener("WIt",i.vHt),i.cIt.kjt())},i.lHt=function(){i.cIt.removeEventListener("WIt",i.vHt)},i.dIt=function(t){i.cIt.Rxt(t.AEt,t.rIt||void 0,t.vlt||void 0),t.sIt&&i.dHt(t.AEt,t.rIt,t.vlt)},i._Ht=function(t){var n=t.Lxt-i.Lxt;w.abs(n)>$b&&(i.Lxt=t.Lxt,i.dDt=i.dDt+n)},i.wHt=function(t){var n=t._Pt.metadata;n.VH&&(i.Wjt[t.eT]=n.VH,i.gHt())},i.gHt=function(){if(i.cIt.WIt){var t=_.keys(i.Wjt).length===i.cIt.ljt.length;i.Djt&&!i.Djt.yHt&&!i.qjt&&t&&i.mrt(),i.Djt&&i.Lxt&&(i.Djt.Lxt=i.Lxt)}},i.mHt=function(){if(m(i.pHt))if(i.cIt.tLt)i.pHt=0;else{var t=i.Yjt,n=t&&t.rEt,e=t&&H(n)&&!m(n)&&t.fSt(n)||void 0;i.pHt=tG(e)?e.HCt.pp():NaN}i.YIt&&(i.removeEventListener("eIt",i.mHt),i.cIt.removeEventListener("dPt",i.mHt),i.dispatchEvent("YIt",!0))},i.cIt=n,n.Wxt=nn(i),i}E(n,t);var i=n.prototype;return i.sHt=function(){this.cIt.tLt?this.Zjt="start":(this.Mjt+=.5,this.cIt.ljt.map(function(t){t.WMt(),t.nFt(),t.iFt()}),this.Zjt=this.Mjt),this.gHt(),this.Djt.play()},i.kHt=function(t){var n=this;this.jjt&&(this.cIt.removeEventListener("WIt",this.jjt),this.jjt=null),this.cIt.WIt?(this.Ljt=!0,this.Gjt=!0,this.cIt.bjt(t),this.Gjt=!1):(this.jjt=function(){return n.kHt(t)},this.cIt.kjt())},i.Lbt=function(t){this.bHt(),this.cIt.tLt&&(t="none"),"auto"===t&&this.vHt()},i.AHt=function(t){var n=this;this.bHt(),"none"!==t&&(this.cIt.WIt?this.Lbt(t):(this.Hjt=function(){return n.Lbt(t)},this.cIt.addEventListener("WIt",this.Hjt),this.cIt.kjt()))},i.bHt=function(){this.lHt(),this.Hjt&&(this.cIt.removeEventListener("WIt",this.Hjt),this.Hjt=null)},i.fRt=function(){this.Ljt?this.cIt.pjt():(this.Zjt=this.Bjt,this.cIt.pjt(22)),this.Ojt||(this.Ojt=!0,this.dispatchEvent("aHt"))},i.THt=function(){this.Djt&&(this.Djt.addEventListener("SHt",this.cHt),this.Djt.addEventListener("seeking",this.oHt),this.Djt.addEventListener("error",this.eHt),this.Djt.addEventListener("playing",this.uHt)),this.cIt.addEventListener("eIt",this.dIt),this.cIt.addEventListener("wFt",this.Jjt),this.cIt.addEventListener("WIt",this.gHt),this.cIt.addEventListener("Oxt",this._Ht),this.cIt.addEventListener("Bw",this.oHt),this.Wtt()},i.EHt=function(){this.Djt&&(this.Djt.removeEventListener("SHt",this.cHt),this.Djt.removeEventListener("seeking",this.oHt),this.Djt.removeEventListener("error",this.eHt),this.Djt.removeEventListener("playing",this.uHt)),this.cIt.removeEventListener("eIt",this.dIt),this.cIt.removeEventListener("wFt",this.Jjt),this.cIt.removeEventListener("WIt",this.gHt),this.cIt.removeEventListener("Oxt",this._Ht),this.cIt.removeEventListener("Bw",this.oHt),this.Qtt()},i.Wtt=function(){this.Djt&&(this.Djt.addEventListener("loadstart",this.vHt),this.Djt.addEventListener("timeupdate",this.GMt),this.Djt.addEventListener("playing",this.IUt),this.Djt.addEventListener("timeupdate",this.IUt),this.Djt.addEventListener("timeupdate",this.ZMt),this.Djt.addEventListener("timeupdate",this.$Mt),this.Djt.addEventListener("timeupdate",this.iHt),this.Djt.addEventListener("timeupdate",this.Kjt),this.Djt.addEventListener("ended",this.fHt)),this.cIt.addEventListener("dPt",this.wHt),this.cIt.addEventListener("dPt",this.KMt)},i.Qtt=function(){null!==this.Fjt&&h(this.Fjt),null!==this.Ujt&&h(this.Ujt),this.Djt&&(this.Djt.removeEventListener("loadstart",this.vHt),this.Djt.removeEventListener("timeupdate",this.GMt),this.Djt.removeEventListener("playing",this.IUt),this.Djt.removeEventListener("timeupdate",this.IUt),this.Djt.removeEventListener("timeupdate",this.ZMt),this.Djt.removeEventListener("timeupdate",this.$Mt),this.Djt.removeEventListener("timeupdate",this.iHt),this.Djt.removeEventListener("timeupdate",this.Kjt),this.Djt.removeEventListener("ended",this.fHt)),this.cIt.removeEventListener("dPt",this.wHt),this.cIt.removeEventListener("dPt",this.KMt)},i.a8=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Mr.awrap(this.Vjt.Hu);case 2:return n=this.Djt.a8(t),this.Djt.loading&&(this.Djt.loaded=!0,this.Djt.loading=!1),i.next=6,Mr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,Ye)},i.kz=function(t,n){this.IHt.kz(t,n)},i.qMt=function(t,n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Mr.awrap(this.Vjt.Hu);case 3:return i.next=5,Mr.awrap(this.Djt.qMt(t,n));case 5:i.next=10;break;case 7:i.prev=7,i.t0=i.catch(0),au(i.t0)||this.dispatchEvent({type:"mu",error:i.t0});case 10:case"end":return i.stop()}},null,this,[[0,7]],Ye)},i.mrt=function(){var t=this,n=this.Vjt,i=this.RHt(this.qjt,this.zjt.qs);this.qjt=i,i.then(function(){t.qjt===i&&(t.qjt=void 0,n.Wu())},function(e){t.qjt===i&&(t.qjt=void 0,n.Gu(e))})},i.RHt=function(t,n){var i,e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!t){u.next=3;break}return u.next=3,Mr.awrap(t.catch(Z));case 3:return hu(n),u.next=6,Mr.awrap(this.Djt.mrt(this.Wjt,this.cIt.Hg,n));case 6:if(i=u.sent){u.next=9;break}return u.abrupt("return");case 9:for(e=0,r=this.cIt._jt;e<r.length;e++)s=r[e],i.zH&&(s.PMt=i.zH),i.XH&&(s.xMt=i.XH);case 10:case"end":return u.stop()}},null,this,null,Ye)},i.rHt=function(){this.zjt.Xs(),this.zjt=new uu,this.qjt=void 0,this.Vjt=new ea},i.nHt=function(t){var n=this.pm;return n.length?Ut(t,n.start(0),n.end(n.length-1)):0},i.sFt=function(t){var n=this.cIt.Sjt;return n?n.sFt(t):null},i.oLt=function(t){var n=this.cIt.Sjt;return n?n.oLt(t):NaN},i.$h=function(t){var n=t||"none";this.EHt(),this.THt(),this.AHt(n)},i.dRt=function(){this.bHt()},i.Ed=function(){this.tu(),this.Wjt={},this.IHt=null},i.bw=function(){this.rHt(),this.NHt(),this.Wjt={},this.Pjt=0,this.Mjt=0,this.Bjt="start",this.Lxt=0,this.xjt=1,this.Ojt=!1,this.Ljt=!1,this.Yjt=null,this.cIt.bw()},i.dHt=function(t,n,i){if(n){this.dispatchEvent("$It"),this.Qtt();var e=!1,r=!1,s=!1;if("XH"===t){r=!0;var u=this.cIt.Sjt;u&&u.PFt&&(e=!0)}else e=!0,s=!(!i||!i.uri);e&&this.Djt.sIt("audio"),r&&this.Djt.sIt("video"),this.cIt._jt.forEach(function(t){t.WMt(),e&&t.nFt(),r&&t.iFt()}),this.cIt.Ajt(r,e,s,22),this.cIt._jt.forEach(function(t){return t.QMt()}),this.Wtt()}},i.xy=function(){this.Qtt(),this.Wtt(),this.cIt.vRt()},i.CHt=function(t){var n=this.pHt||0;return this.TEt?t-n<0?0:w.round((t-n)*this.TEt-.5)||0:NaN},i.DHt=function(t){var n=this.pHt||0;return this.TEt?n+(t+.5)/this.TEt:NaN},i.NHt=function(){this.pHt=NaN,this.removeEventListener("eIt",this.mHt),this.addEventListener("eIt",this.mHt),this.cIt.removeEventListener("dPt",this.mHt),this.cIt.addEventListener("dPt",this.mHt)},T(n,[{key:"IHt",get:function(){return this.Djt},set:function(t){this.EHt(),this.rHt(),this.uHt(),this.Djt=t,this.gHt()}},{key:"dDt",get:function(){return this.Djt&&!this.Gjt?this.Djt.tHt():this.Pjt},set:function(t){t=this.nHt(t),this.Mjt=this.Pjt=t,this.Djt?this.Djt.PHt(t):(this.cHt(),this.oHt())}},{key:"Zjt",get:function(){return this.Djt&&!this.Gjt?this.dDt:this.Bjt},set:function(t){"start"===t&&(t=this.cIt.tLt?1/0:0),t=this.nHt(t),this.Bjt=t,this.Mjt=this.Pjt=t,this.kHt(yp.Dk(this.Pjt)),this.dDt=t}},{key:"qm",get:function(){return this.cIt.MFt},set:function(t){this.cIt.MFt=t}},{key:"Wg",get:function(){return this.Djt?this.Djt.Wg:this.xjt},set:function(t){var n=this.xjt;t>0&&(this.xjt=t,this.Djt&&(this.Djt.Wg=t),this.cIt.vDt=t,this.xjt!==n&&this.dispatchEvent("BHt"))}},{key:"pm",get:function(){var t=this.cIt.pm;if(!t.length||!this.cIt.tLt)return t;var n=t.start(0),i=this.cIt.fLt;return i=w.max(this.dDt,i),new jG([{IC:n,NC:i}])}},{key:"im",get:function(){return this.sFt(this.dDt)}},{key:"TEt",get:function(){var t=this.Yjt;return t&&t.TEt||NaN}},{key:"pHt",get:function(){return this.$jt},set:function(t){this.$jt!==t&&(this.dispatchEvent(new vK(t)),this.$jt=t)}},{key:"YIt",get:function(){return Boolean(this.TEt)&&!m(this.pHt)}}]),n}(MW),dK=function(t){function n(n){var i;return(i=t.call(this)||this).xHt=null,i.jIt=void 0,i.S9=[],i.OHt=function(t){return i.LHt(t)},i.MHt=function(){return i.FHt()},i.jIt=n,i.S9=[],i}E(n,t);var i=n.prototype;return i.gE=function(t){var n,i;"metadata"===t.kind&&(t.mode=Fg.Xw,n=this.jIt.XEt(t.id,t.inBandMetadataTrackDispatchType),i=this.UHt.bind(this,n),this.S9.push({jHt:t,HHt:i,REt:n}),t.addEventListener("cuechange",i))},i.gL=function(){for(var t=this.xHt.Py,n=t&&t.length,i=0;i<n;i+=1)this.gE(t[i]);t&&t.addEventListener&&(t.addEventListener("addtrack",this.OHt),t.addEventListener("change",this.MHt))},i.UHt=function(t,n){for(var i=n.target.activeCues,e=i.length,r=e?i[0].startTime:0,s=0;s<e;s++){var u=tB(i[s].value),o=new hB(r,u);t.mE(o)}},i.FHt=function(){for(var t=0,n=this.S9;t<n.length;t++){var i=n[t].jHt;i.mode!==Fg.Xw&&(i.mode=Fg.Xw)}},i.LHt=function(t){this.gE(t.track)},i.XHt=function(){for(var t=this.xHt,n=t&&t.Py,i=0,e=this.S9;i<e.length;i++){var r=e[i];r.jHt.removeEventListener("cuechange",r.HHt)}this.S9.length=0,n&&n.removeEventListener&&(n.removeEventListener("addtrack",this.OHt),n.removeEventListener("change",this.MHt))},i.Ed=function(){this.XHt(),this.xHt=null,this.jIt=null,this.OHt=null,this.MHt=null},i.bw=function(){this.XHt(),this.xHt&&this.gL()},n}(MW),_K=function(t){function n(n){var i;return(i=t.call(this)||this).cIt=void 0,i.zHt=void 0,i.Djt=null,i.Bjt="start",i.xjt=1,i.Pd=!1,i.VHt=null,i.qHt=null,i.WHt=NaN,i.GHt=NaN,i.YHt=null,i.$Ht=function(){i.Djt.removeEventListener("loadstart",i.$Ht),i.Djt.removeEventListener("play",i.$Ht),i.cIt.kjt()},i.GMt=function(){var t=i.cIt.jIt.dlt;if(t&&(!i.VHt||i.VHt.IC>i.dDt||i.VHt.NC<i.dDt)){var n=i.cIt.qS.xPt(t,yp.Dk(i.dDt));if(!n)return void i.Djt.addEventListener("timeupdate",i.GMt);i.VHt={IC:n.uLt.pp(),NC:n.uLt.Em(yp.Dk(n.fT.duration)).pp(),V_t:n.fT.V_t,g_t:null},i.dispatchEvent({type:"YMt",QS:n.fT})}},i.IUt=function(){var t=i.cIt.jIt,n=t.Mlt.NSt.length?t.Mlt.NSt:t.Flt.NSt,e=i.Djt.$g,r=i.Djt.Yg,s=n&&n.filter(function(t){var n=t.resolution;return n&&n.width===e&&n.height===r}),u=s&&s.length?s[0]:null;u!==i.qHt&&(i.qHt=u,i.dispatchEvent({type:"eIt",vlt:u}))},i.QHt=function(t){i.dispatchEvent({type:"eIt",vlt:t.vlt})},i.KHt=function(){if(i.Djt){var t=i.Djt.pm,n=t.length?t.end(t.length-1):NaN;isFinite(n)&&n!==i.GHt&&(i.GHt=n,i.WHt=VI())}},i.ZHt=function(){i.Pd=!0},i.JHt=function(){i.Pd&&(i.Pd=!1,i.tXt())},i.cIt=n,i.zHt=new dK(n.jIt),n.addEventListener("Pd",i.ZHt),n.addEventListener("gm",i.JHt),i}E(n,t);var i=n.prototype;return i.nHt=function(t){var n=this.Djt.pm;return n.length?Ut(t,n.start(0),n.end(n.length-1)):0},i.tXt=function(){if(this.Djt){var t=this.Djt.currentTime,n=this.Djt.paused;this.Djt.load(),this.Djt.currentTime=t,n||this.Djt.play()}},i.nXt=function(){this.Djt&&(this.Djt.addEventListener("loadstart",this.$Ht),this.Djt.addEventListener("play",this.$Ht),this.Djt.addEventListener("timeupdate",this.GMt),this.Djt.addEventListener("timeupdate",this.IUt),f(this.YHt),this.YHt=c(this.KHt,250))},i.iXt=function(){f(this.YHt),this.Djt&&(this.Djt.removeEventListener("loadstart",this.$Ht),this.Djt.removeEventListener("play",this.$Ht),this.Djt.removeEventListener("timeupdate",this.GMt),this.Djt.removeEventListener("timeupdate",this.IUt))},i.$h=function(t){t=t||"none",this.iXt(),this.nXt(),this.cIt.removeEventListener("Njt",this.QHt),this.cIt.addEventListener("Njt",this.QHt),"none"!==t&&this.$Ht()},i.Ed=function(){this.tu(),this.zHt.Ed(),this.IHt=null,this.cIt.removeEventListener("Njt",this.QHt)},i.bw=function(){this.Bjt="start",this.xjt=1,this.Pd=!1,this.VHt=null,this.qHt=null,this.WHt=NaN,this.GHt=NaN,f(this.YHt),this.zHt.bw()},i.xy=function(){},i.dRt=function(){},i.dHt=function(){},i.oLt=function(t){var n=this.cIt.jIt.dlt;return this.cIt.qS.oLt(n,t).pp()},i.sFt=function(t){var n,i,e=this.cIt.jIt.dlt,r=this.cIt.qS,s=t,u=this.VHt;if(u)u.g_t||(u.g_t=r.sLt(e,u.V_t)),n=u.IC,i=u.g_t;else{var o=r.xPt(e,yp.Dk(s));if(!o)return null;n=o.uLt.pp(),i=r.sLt(e,o.fT.V_t)}if(!i)return null;var a=s-n;return new Date(i.getTime()+1e3*a)},i.CHt=function(t){return NaN},i.DHt=function(t){return NaN},T(n,[{key:"eXt",get:function(){return null}},{key:"im",get:function(){return this.sFt(this.dDt)}},{key:"IHt",get:function(){return this.Djt},set:function(t){this.iXt(),this.Djt=t,this.Djt&&(this.zHt.xHt=this.Djt,this.zHt.gL())}},{key:"Zjt",get:function(){return this.Djt?this.Djt.tHt():this.Bjt},set:function(t){"start"===t&&(t=this.cIt.tLt?1/0:0),t=this.nHt(t),this.Bjt=t,this.Djt&&this.Djt.PHt(t)}},{key:"dDt",get:function(){return this.Zjt},set:function(t){t=this.nHt(t),this.Zjt=t}},{key:"qm",get:function(){return 1/0},set:function(t){}},{key:"Wg",get:function(){return this.Djt?this.Djt.Wg:this.xjt},set:function(t){t>0&&(this.xjt=t,this.Djt&&(this.Djt.Wg=t))}},{key:"pm",get:function(){var t,n,i,e=this.Djt?this.Djt.pm:null,r=this.cIt.qS.pm;if(e&&e.length&&r.length)t=e.start(0),n=(i=this.GHt||e.end(e.length-1))+this.cIt.qS.O4.pp(),isFinite(this.WHt)&&(i+=(VI()-this.WHt)/1e3);else{if(e&&e.length)return e;if(!r.length)return r;t=e.start(0),n=r.end(r.length-1),i=this.cIt.qS.fLt.pp()}return i=w.min(n,i),i=w.max(this.dDt,i),new jG([{IC:t,NC:i}])}},{key:"TEt",get:function(){return NaN}},{key:"pHt",get:function(){return NaN}},{key:"YIt",get:function(){return!1}}]),n}(MW),wK=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r)||this).rXt=new uu,o.sXt=void 0,o.dE=void 0,o.uXt=function(){return o.oXt()},o.vs=Bm.WEBVTT,o.$w=Pm.NONE,o.Zw=m_(s),o.Ks(og.ew,o.uXt),o.dE=u,o}E(n,t);var i=n.prototype;return i.$h=function(){this.Zw&&!this.sXt&&(this.sXt=this.p_(this.rXt.qs),this.sXt.catch(fu))},i.p_=function(t){var n,i,e,r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.Zw,s.prev=1,this.$w=Pm.LOADING,i=new __({Kl:n,md:c_.GET,Wl:xf.Jn,qs:t}),s.next=6,Mr.awrap(this.dE.$l(i));case 6:return e=s.sent,s.next=9,Mr.awrap(e.Hi());case 9:r=s.sent,this.PRt(e,r),s.next=17;break;case 13:s.prev=13,s.t0=s.catch(1),cu(s.t0),this.cN(wb(s.t0,this.Zw));case 17:case"end":return s.stop()}},null,this,[[1,13]],Ye)},i.dRt=function(){this.$w!==Pm.LOADED&&(this.$w=Pm.NONE,this.rXt.Xs(),this.rXt=new uu,this.sXt=void 0)},i.cN=function(t){this.$w=Pm.ERROR,this.Qs(new Xy(t))},i.Ed=function(){this.dRt(),this.rXt.Ls(),t.prototype.Ed.call(this)},i.oXt=function(){switch(this.Ww){case Fg.zw:case Fg.Xw:this.$h();break;case Fg.Hw:this.dRt()}},i.PRt=function(t,n){try{for(var i=Wp(n).Qw,e=0;e<i.length;e++){var r=i[e];this.mE(r)}this.$w=Pm.LOADED}catch(n){this.cN(gb(this.vs,this.Zw,t.Vl,n))}},n}(rP);function gK(t){return eb(t.kind)}var yK=function(){function t(t,n,i,e){this.aXt=void 0,this.Py=void 0,this.hXt=void 0,this.dE=void 0,this.aXt=t,this.Py=i,this.hXt=n,this.dE=e,this.bw()}var n=t.prototype;return n.cXt=function(t){if(this.fXt(),t)if(this.hXt)for(var n=0;n<t.length;n++){var i=t[n];this.LN(i)}else for(var e=0;e<t.length;e++){var r=t[e];this.vXt(r)}},n.LN=function(t){var n=gK(t);if(lb(n,t.label||""));else{var i=s.createElement("track");i.kind=n,i.label=t.label,i.src=t.src,i.srclang=t.srclang,i.default=!!t.default,this.aXt.appendChild(i)}},n.vXt=function(t){var n=gK(t),i=new wK(n,t.id,t.label,t.srclang,t.src,this.dE);t.default&&(i.Ww=Fg.zw),this.Py.yw(i)},n.fXt=function(){for(var t=this.Py.Aw,n=t.length-1;n>=0;n--){var i=t[n];"static"===i.lXt&&this.Py.mw(i)}},n.dXt=function(){this.fXt()},n.bw=function(){this.fXt()},t}(),mK=function(){function t(t){this.ZIt=void 0,this.ZIt=t}var n=t.prototype;return n.Ks=function(t,n){this.ZIt.addEventListener(t,n)},n.nu=function(t,n){this.ZIt.removeEventListener(t,n)},T(t,[{key:"jg",get:function(){return this.ZIt.currentTime}},{key:"qg",get:function(){return this.ZIt.paused}},{key:"Gg",get:function(){return this.ZIt.seeking}}]),t}(),pK=function(t){function n(n,i){var e;(e=t.call(this)||this)._Xt=void 0,e.Py=void 0,e.wXt=void 0,e.gXt=void 0,e.Djt=void 0,e.yXt=!0,e.mXt=function(t){return e.pXt(t)},e.kXt=function(){return e.bXt()},e.AXt=function(){return e.TXt()},e.SXt=function(){return e.EXt()},e.OHt=function(t){return e.LHt(t.V_)},e.IXt=function(t){return e.RXt(t.V_)},e.NXt=function(){return e.CXt()},e._Xt=n,e.Py=i,e._Xt.addEventListener("seeking",e.NXt),e._Xt.addEventListener("seeked",e.NXt),e.wXt=new aB(new mK(n));for(var r=0,s=e.Py.Aw;r<s.length;r++){var u=s[r];e.LHt(u)}return e.Py.Ks(eg.M_,e.OHt),e.Py.Ks(eg.U_,e.IXt),e}E(n,t);var i=n.prototype;return i.pXt=function(t){this.Py.yw(t.V_)},i.bXt=function(){for(var t=this.Py.Aw,n=t.length-1;n>=0;n--){var i=t[n];"static"!==i.lXt&&this.Py.mw(i)}},i.TXt=function(){var t=this.IHt,n=[],i=t&&t.Py;if(i)for(var e=0;e<i.length;e++){var r=i[e]||i.item(e);if("metadata"!==r.kind){var s=r.THEOplayerTextTrack;if(!s){var u=this.kG(r);s=new iB(r,u,this.Nq),r.THEOplayerTextTrack=s,this.Py.yw(s)}n.push(s)}}for(var o=0,a=this.Py.Aw;o<a.length;o++){var h=a[o];eB(h)&&-1===n.indexOf(h)&&this.Py.mw(h)}},i.kG=function(t){for(var n=this.IHt.um.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},i.EXt=function(){for(var t=0,n=this.Py.Aw;t<n.length;t++){var i=n[t];eB(i)&&i.Cq()}},i.CXt=function(){this.DXt()},i.LHt=function(t){t instanceof rP&&this.wXt.yw(t)},i.RXt=function(t){t instanceof rP&&this.wXt.mw(t)},i.DXt=function(){var t=this.Py.Aw;if(t.length)for(var n=this._Xt.seekable,i=n.length?n.start(0):0,e=0;e<t.length;e++){var r=t[e];if(r instanceof rP){for(var s=[],u=0,o=r.Qw.Aw;u<o.length;u++){var a=o[u];if(!(a.qm<i))break;s.push(a)}for(var h=0;h<s.length;h++){var c=s[h];r.uE(c)}}}},i.Ed=function(){this._Xt.removeEventListener("seeking",this.NXt),this._Xt.removeEventListener("seeked",this.NXt);for(var t=0,n=this.Py.Aw;t<n.length;t++){var i=n[t];this.RXt(i)}this.Py.nu(eg.M_,this.OHt),this.Py.nu(eg.U_,this.IXt),this.wXt.Ed(),this.jIt=null,this.IHt=null},T(n,[{key:"jIt",get:function(){return this.gXt},set:function(t){var n=this.gXt;if(n){for(var i=0,e=n.Py;i<e.length;i++){var r=e[i];this.Py.mw(r)}n.removeEventListener("zEt",this.mXt),n.removeEventListener("Ed",this.kXt)}if(this.gXt=t,t){for(var s=0,u=t.Py;s<u.length;s++){var o=u[s];this.Py.yw(o)}t.addEventListener("zEt",this.mXt),t.addEventListener("Ed",this.kXt)}}},{key:"IHt",get:function(){return this.Djt},set:function(t){var n=this.Djt;n&&n.Py&&n.Py.removeEventListener&&(n.Py.removeEventListener("addtrack",this.AXt),n.Py.removeEventListener("removetrack",this.AXt),n.Py.removeEventListener("change",this.SXt)),this.Djt=t,t&&t.Py&&t.Py.addEventListener&&(t.Py.addEventListener("addtrack",this.AXt),t.Py.addEventListener("removetrack",this.AXt),t.Py.addEventListener("change",this.SXt)),this.TXt(),this.EXt()}},{key:"Nq",get:function(){return this.yXt},set:function(t){if(this.yXt!==t){this.yXt=t;for(var n=0,i=this.Py.Aw;n<i.length;n++){var e=i[n];eB(e)&&(e.Nq=t)}}}}]),n}(MW),kK=function(){function t(t,n){this.Ad=void 0,this.L_=void 0,this.PXt=[],this.BXt=new Of,this.xXt=jr(),this.OXt=new uu,this.Ad=!(!t||t.crossOrigin!==ny.Tg&&!t.LXt),this.L_=n}var n=t.prototype;return n.MXt=function(t,n){var e,r,s,u,o,a,h,c,f;return Mr.async(function(l){for(;;)switch(l.prev=l.next){case 0:for(e=i.Or(t),r=0,s=this.PXt;r<s.length;r++)null===(u=s[r]).Ai||void 0===u.Ai?e.searchParams.delete(u.FXt):e.searchParams.set(u.FXt,u.Ai);return l.prev=2,o=new __({Kl:e.href,Wl:xf.Wf,ql:this.BXt,Ad:this.Ad,md:c_.GET,qs:n,vs:f_.rd,kd:v_.dd}),l.next=6,Mr.awrap(this.L_.$l(o));case 6:return a=l.sent,l.next=9,Mr.awrap(a.Hi());case 9:return h=l.sent,c=new p(h),f=new p(16),16!==c.length&&ht("AES-128 decryption key length must be 16 bytes, but was "+c.length+" bytes. URL: ",e.href),c.length>16&&(c=Zo(c,0,16)),f.set(c,16-c.length),l.abrupt("return",f);case 19:throw l.prev=19,l.t0=l.catch(2),cu(l.t0),new v('Playback has been stalled due to failure to retrieve encryption key from "'+e.href);case 23:case"end":return l.stop()}},null,this,[[2,19]],Ye)},n.getKey=function(t){var n=t.absoluteURI;if(!n)return Ye.reject(new jW(UW.UTt,{code:"CAD1603"}));var i=this.xXt.get(n);return i||(i=this.MXt(n,this.OXt.qs),this.xXt.set(n,i)),i},n.Ed=function(){this.OXt.Xs(),this.xXt.clear()},n.UXt=function(t,n){this.PXt.push({FXt:t,Ai:n})},n.jXt=function(t,n){this.BXt.append(t,n)},t}(),bK=function(t){this._Xt=void 0,this._Xt=t},AK=s.createElement("video");var TK=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.fUt=function(t){return!!function(t){return AK.canPlayType('video/mp4;codecs="'+t.codecs+'"')}(t)||(t.disabled="AvoidUnsupportedCodecsRule",!1)},n}(bK);FW.Wn.mU("AvoidUnsupportedCodecsRule",TK);var SK=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.fUt=function(t,n,i,e){return!("vBt"===e.APt)||t.bandwidth<2e6},n}(bK);FW.Wn.mU("AvoidHighBitrateStreamsRule",SK);var EK=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var e=n.prototype;return e.HXt=function(t){if(!t.resolution)return!0;var n=this._Xt.element.getBoundingClientRect(),e=r.innerWidth||s.documentElement.clientWidth,u=r.innerHeight||s.documentElement.clientHeight,o=w.max(0,w.min(n.right,e)-w.max(0,n.left)),a=w.max(0,w.min(n.bottom,u)-w.max(0,n.top)),h=i.Fr.Xe;return t.resolution.width<=o*h&&t.resolution.height<=a*h},e.fUt=function(t){return this.HXt(t)},n}(bK);FW.Wn.mU("AvoidVideoResolutionGreaterThanDisplaySizeRule",EK);var IK=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.fUt=function(t,n,i){if(i.p6<=0)return!1;var e=i&&.8*i.p6;return!(e&&!m(e)&&t.bandwidth)||e>t.bandwidth*this._Xt.playbackRate},n}(bK);FW.Wn.mU("DownloadMetricRule",IK);var RK=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.fUt=function(t){return!0},n}(bK);FW.Wn.mU("LimitVideoQualityToDisplaySizeRule",RK);var NK=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.fUt=function(t,n){return!n||(n.AEt===QW.Jl||t.AEt===QW.Jl||(n.AEt===QW.gSt||t.AEt===QW.gSt||n.AEt===t.AEt))},n}(bK);function CK(t){return!!t&&("object"==typeof t&&"src"in t&&"type"in t)}function DK(t,n){var i=n;for(var e in t)W(t[e])?(i[e]=i[e]||{},DK(t[e],i[e])):U.call(i,e)||(i[e]=t[e]);return i}function PK(t,n){var i=DK(n,t||{});return i.crossOrigin=function(t){var n=t&&t.crossOrigin;switch(n){case ny.Ag:case ny.Tg:break;default:n=ny.Sg}return t&&t.withCredentials&&(n=ny.Tg),t&&t.vr&&t.vr[360]&&n===ny.Sg&&(n=ny.Ag),n}(i),i}function BK(t){$(t)&&t.then(Z,Z)}FW.Wn.mU("OnlyAllowSameTrackTypeRenditionsRule",NK);var xK,OK=500,LK=["abort","durationchange","ended","loadstart","pause","play","progress","ratechange","seeked","seeking","suspend","timeupdate","volumechange","webkitpresentationmodechanged"],MK=function(t){function n(n,i){var e;return(e=t.call(this)||this).XXt=void 0,e.ZR=void 0,e.zXt=void 0,e.tN=void 0,e.loading=!1,e.loaded=!1,e.configuration={useNativeVideoPlayback:!0},e.gW=function(){var t=e.ZR.SN.error&&e.ZR.SN.error.code;t&&e.cN(new jW(UW.LTt,{code:"VEE"+t}))},e.VXt=function(t){e.dispatchEvent({type:t.type,error:e.ZR.SN.error})},e.qXt=function(){h(e.zXt),e.zXt=void 0,e.ZR.SN.removeEventListener("timeupdate",e.qXt),e.ZR.nu(Ty.Ug,e.qXt)},e.WXt=function(){void 0!==e.zXt&&e.qXt(),e.zXt=a(function(){e.ZR.SN.currentTime+=.1,e.qXt()},OK),e.ZR.SN.addEventListener("timeupdate",e.qXt),e.ZR.Ks(Ty.Ug,e.qXt)},e.GXt=function(){switch(e.ZR.SN.readyState){case sy.Dg:case sy.Pg:case sy.Bg:e.WXt();break;case sy.Cg:case sy.Ng:}},e.XXt=n,e.ZR=i,e}E(n,t);var i=n.prototype;return i.setup=function(){this.HEt(),this.ZR.SN.parentNode!==this.XXt&&this.XXt.appendChild(this.ZR.SN),this.loaded=!1,this.ZR.SN.preload="metadata",this.ZR.SN.addEventListener("play",this.GXt),this.ZR.SN.addEventListener("loadeddata",this.GXt),this.dispatchEvent("YXt")},i.HEt=function(){for(var t=0;t<LK.length;t++){var n=LK[t];this.ZR.SN.addEventListener(n,this.VXt,!0)}this.ZR.SN.addEventListener("error",this.gW,!0),this.ZR.Ks(Ty.ow,this.VXt),this.ZR.Ks(Ty.Ug,this.VXt)},i.$Xt=function(){for(var t=0;t<LK.length;t++){var n=LK[t];this.ZR.SN.removeEventListener(n,this.VXt,!0)}this.ZR.SN.removeEventListener("error",this.gW,!0),this.ZR.nu(Ty.ow,this.VXt),this.ZR.nu(Ty.Ug,this.VXt)},i.cN=function(t){this.tN=t,this.dispatchEvent({type:"error",error:t})},i.a8=function(){return Ye.resolve()},i.load=function(){this.ZR.SN.load(),this.loaded=!0},i.unload=function(){return this.qXt(),this.tu(),this.$Xt(),this.ZR.SN.removeEventListener("play",this.GXt),this.ZR.SN.removeEventListener("loadeddata",this.GXt),vr(this.ZR.SN),this.ZR.SN},i.play=function(){var t=this.Wg;BK(this.ZR.SN.play()),this.Wg=t},i.pause=function(){this.ZR.SN.pause()},i.Ly=function(){this.pause()},i.reset=function(){this.loading=!1,this.loaded=!1;try{this.PHt(0)}catch(t){}this.dispatchEvent("reset")},i.Gy=function(){return this.ZR.SN},i.tHt=function(){return this.ZR.SN.currentTime},i.PHt=function(t){this.ZR.SN.currentTime=t},i.canPlayCodecs=function(t){return this.ZR.SN.canPlayType('video/mp4; codecs="'+t+'"')},T(n,[{key:"yHt",get:function(){return!0}},{key:"um",get:function(){return this.ZR.SN}},{key:"nm",get:function(){return this.ZR.SN.buffered}},{key:"Qg",get:function(){return this.ZR.SN.volume},set:function(t){this.ZR.SN.volume=t}},{key:"duration",get:function(){return this.ZR.SN.duration}},{key:"muted",get:function(){return this.ZR.SN.muted},set:function(t){this.ZR.SN.muted=t}},{key:"paused",get:function(){return this.ZR.SN.paused}},{key:"played",get:function(){return this.ZR.SN.played}},{key:"poster",get:function(){return this.ZR.SN.poster},set:function(t){t?this.ZR.SN.poster=t:this.ZR.SN.removeAttribute("poster")}},{key:"controls",get:function(){return this.ZR.SN.controls},set:function(t){t?this.ZR.SN.controls=t:this.ZR.SN.removeAttribute("controls")}},{key:"ended",get:function(){return this.ZR.SN.ended}},{key:"seeking",get:function(){return this.ZR.SN.seeking}},{key:"error",get:function(){return this.ZR.SN.error}},{key:"width",get:function(){return this.ZR.SN.offsetWidth}},{key:"height",get:function(){return this.ZR.SN.offsetHeight}},{key:"src",get:function(){return this.ZR.SN.src},set:function(t){this.ZR.SN.src=t}},{key:"$g",get:function(){return this.ZR.SN.videoWidth}},{key:"Yg",get:function(){return this.ZR.SN.videoHeight}},{key:"Py",get:function(){return this.ZR.SN.textTracks}},{key:"tLt",get:function(){return this.ZR.SN.duration===1/0}},{key:"pm",get:function(){var t=this.ZR.SN.seekable,n=t.length&&t.start(0)||0,i=t.length&&t.end(t.length-1)||0;return i===1/0&&(i=this.tHt()||0),new jG([{IC:n,NC:i}])}},{key:"Wg",get:function(){return this.ZR.SN.playbackRate},set:function(t){t>0&&(this.ZR.SN.playbackRate=t)}},{key:"$w",get:function(){return this.ZR.$w}},{key:"QXt",get:function(){return void 0!==this.ZR.SN.webkitSupportsPresentationMode&&this.ZR.SN.webkitSupportsPresentationMode("picture-in-picture")}},{key:"KXt",get:function(){return"picture-in-picture"===this.ZR.SN.webkitPresentationMode}},{key:"ZXt",get:function(){return this.ZR.SN.webkitPresentationMode},set:function(t){["inline","picture-in-picture","fullscreen"].indexOf(t)>-1&&this.ZR.SN.webkitSetPresentationMode(t)}}]),n}(MW);!function(t){t[t.JXt=0]="JXt",t[t.tzt=1]="tzt",t[t.hK=2]="hK",t[t.nzt=3]="nzt",t[t.izt=4]="izt"}(xK||(xK={}));var FK=function(){function t(){this.ezt=!1,this.rzt=null,this.szt=null,this.uzt=null,this.ZF=[],this.ozt=null}var n=t.prototype;return n.azt=function(){if(!this.ezt)return!1;for(var t=this.rzt,n=this.szt,i=0;i<t.sourceBuffers.length;i++)if(t.sourceBuffers[i]===n)return!0;return!1},n.hzt=function(t){switch(t.vs){case xK.JXt:return this.czt(t.Hi,t.uLt,t.Rx);case xK.tzt:return this.fzt(t.vzt);case xK.hK:return this.lzt(t.dzt,t._zt);case xK.nzt:return this.JF();case xK.izt:return this.wzt(t.Rx)}},n.czt=function(t,n,i){var e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e=this.szt,m(n)||(e.timestampOffset=n),e.appendBuffer(t),r.next=6,Mr.awrap(this.gzt());case 6:i(),r.next=13;break;case 9:throw r.prev=9,r.t0=r.catch(0),i(r.t0),r.t0;case 13:case"end":return r.stop()}},null,this,[[0,9]],Ye)},n.fzt=function(t){var n,i,e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(n=this.szt,i=n.buffered,!(i.length>0)){u.next=11;break}if(e=i.start(0),r=w.min(i.end(0),t),!((s=r-e)>.5||r<=t&&s>0)){u.next=11;break}return n.remove(e,r),u.next=11,Mr.awrap(this.gzt());case 11:case"end":return u.stop()}},null,this,null,Ye)},n.lzt=function(t,n){var i,e,r,s,u;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(i=this.szt,e=i.buffered,!((r=e.length)>0)){o.next=12;break}if(s=w.max(e.start(0),t),u=w.min(e.end(r-1),n),!(u-s>0)){o.next=12;break}return i.remove(s,u),o.next=12,Mr.awrap(this.gzt());case 12:case"end":return o.stop()}},null,this,null,Ye)},n.JF=function(){var t,n,i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.rzt,n=this.szt,t.open&&"open"===t.readyState){e.next=4;break}return e.abrupt("return");case 4:if(e.prev=4,i=n.updating,n.abort(),!i){e.next=10;break}return e.next=10,Mr.awrap(ng(n,"updateend"));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4);case 15:case"end":return e.stop()}},null,this,[[4,12]],Ye)},n.wzt=function(t){return Ye.resolve(t())},n.yzt=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this._V(t)){n.next=5;break}return n.next=3,Mr.awrap(mu(100));case 3:n.next=0;break;case 5:case"end":return n.stop()}},null,this,null,Ye)},n._V=function(t){var n=this.rzt;if(!n.open||"open"!==n.readyState||!this.azt())return!0;for(var i=0;i<n.sourceBuffers.length;i++)if(n.sourceBuffers[i].updating)return!1;return t?n.endOfStream(t):n.endOfStream(),!0},n.gzt=function(){var t=this;return new Ye(function(n,i){var e,r=t.szt,s=!1,u=function(){s=!0},o=function(){s=!1,e="error"},a=function(){s=!1,e="aborted"},h=function(){c(),s&&!e?n():i(new v(e))},c=function(){r.removeEventListener("update",u),r.removeEventListener("error",o),r.removeEventListener("abort",a),r.removeEventListener("updateend",h)};r.addEventListener("update",u),r.addEventListener("error",o),r.addEventListener("abort",a),r.addEventListener("updateend",h)})},n.mzt=function(){var t=this;this.uzt||(0!==this.ZF.length||this.ozt)&&this.azt()&&(this.uzt=this.pzt().then(function(){t.uzt=null}))},n.pzt=function(){var t;return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:if(!(this.ZF.length>0)){n.next=9;break}if(this.azt()){n.next=4;break}return n.abrupt("return");case 4:return t=this.ZF.shift(),n.next=7,Mr.awrap(this.hzt(t));case 7:n.next=1;break;case 9:n.next=16;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=16,Mr.awrap(this.yzt("decode").catch(Z));case 16:if(!this.ozt){n.next=26;break}return n.prev=17,n.next=20,Mr.awrap(this.yzt(this.ozt.mu));case 20:n.next=25;break;case 22:n.prev=22,n.t1=n.catch(17);case 25:this.ozt=null;case 26:case"end":return n.stop()}},null,this,[[0,11],[17,22]],Ye)},n.gL=function(t,n){this.ezt||(this.ezt=!0,this.rzt=t,this.szt=n,this.mzt())},n.Em=function(t,n,i){this.ZF.push({vs:xK.JXt,Hi:t,uLt:n,Rx:i}),this.mzt()},n.kzt=function(t,n){this.ZF.push({vs:xK.hK,dzt:t,_zt:n}),this.mzt()},n.bzt=function(t){this.ZF.push({vs:xK.tzt,vzt:t}),this.mzt()},n.Xs=function(){this.ZF.push({vs:xK.nzt}),this.mzt()},n.Azt=function(t){this.ZF.push({vs:xK.izt,Rx:t}),this.mzt()},n.qMt=function(t){this.ozt={mu:t},this.mzt()},n.Du=function(){this.ZF.length=0,this.ozt=null},t}();var UK=function(t){function n(n){var i;return(i=t.call(this)||this).rzt=void 0,i.szt=null,i.Tzt=new FK,i.qm=NaN,i.Szt=null,i.$s=function(t){return i.dispatchEvent(t)},i.Ezt=function(){return i.fPt()},i.rzt=n,i.bw(),i}E(n,t);var i=n.prototype;return i.Izt=function(t){if(t)return this.dispatchEvent({type:"error",error:t})},i.a8=function(t,n,i,e){var r=this;if(!this.szt||!n)return Ye.resolve();var s=n.initializer.Hi,u=function(t,n){if(!t)return!0;var i=t.length;if(i!==n.length)return!0;for(var e=0;e<i;e+=1)if(t[e]!==n[e])return!0;return!1}(this.Szt,s);if(e&&(F.Pn||this.Tzt.Xs()),e)if(F.Pn);else{var o=t&&t.IC,a=t&&t.IC+t.Hg-.5;this.Tzt.kzt(o,a)}return u&&(this.Tzt.Em(s,i,this.Izt.bind(this)),this.Szt=s),new Ye(function(t,e){r.Tzt.Em(n.m4s.Hi,i,function(n){n?e(n):t()})})},i._z=function(){var t=this;return new Ye(function(n){t.Tzt.Azt(function(){var i=t.nm;i&&i.length&&(t.qm=i.end(i.length-1)),n()})})},i.Rzt=function(t){if(!this.szt){try{this.szt=this.rzt.addSourceBuffer(t),this.szt.addEventListener("updatestart",this.$s),this.szt.addEventListener("updateend",this.$s)}catch(t){return this.dispatchEvent({type:"error",error:t}),!1}this.rzt.addEventListener("sourceclose",this.Ezt),this.Tzt.gL(this.rzt,this.szt)}return!0},i.azt=function(){for(var t=0;t<this.rzt.sourceBuffers.length;t++)if(this.rzt.sourceBuffers[t]===this.szt)return!0;return!1},i.Qh=function(t){var n=this,i=this.nm;if(!(this.szt&&i&&i.length))return t&&t();this.szt.remove(0,i.end(i.length-1)),t&&this.szt.addEventListener("updateend",function i(e){n.szt.removeEventListener("updateend",i),t()})},i.bw=function(t){this.Szt=null,this.qm=NaN,this.fPt(),this.Qh(t)},i.bzt=function(t){this.szt&&this.Tzt.bzt(t)},i.qMt=function(t){this.szt&&this.Tzt.qMt(t)},i.fPt=function(){this.Tzt.Du(),"open"===this.rzt.readyState&&this.szt&&this.szt.updating&&this.szt.abort()},T(n,[{key:"nm",get:function(){return this.szt&&this.azt()?new jG(YG(this.szt.buffered)):null}},{key:"cO",get:function(){return this.szt&&this.szt.updating}},{key:"Xg",get:function(){var t=this.nm;return!t||!m(this.qm)&&WG(t,this.qm)}}]),n}(MW),jK="mp4a.40.34";var HK=function(t){function n(n){var i;return(i=t.call(this)||this).mediasource=void 0,i.audioTrackBuffer=void 0,i.videoTrackBuffer=void 0,i.Nzt=!1,i.ZD=function(){var t=i.Nzt;i.Nzt=i.cO,!t&&i.Nzt?i.dispatchEvent("updatestart"):t&&!i.Nzt&&i.dispatchEvent("updateend")},i.mediasource=n,i.audioTrackBuffer=new UK(n),i.videoTrackBuffer=new UK(n),i.audioTrackBuffer.addEventListener("updatestart",i.ZD),i.videoTrackBuffer.addEventListener("updatestart",i.ZD),i.audioTrackBuffer.addEventListener("updateend",i.ZD),i.videoTrackBuffer.addEventListener("updateend",i.ZD),i.bw(),i}E(n,t);var i=n.prototype;return i.a8=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.mediasource.open){i.next=2;break}return i.abrupt("return");case 2:return n=[],t.zH&&n.push(this.audioTrackBuffer.a8(t.metadata.zH,t.zH,t.metadata.zH&&t.metadata.zH._Nt===jK?t.metadata.zH.IC:NaN,t.metadata.nCt)),t.XH&&n.push(this.videoTrackBuffer.a8(t.metadata.XH,t.XH,NaN,t.metadata.nCt)),i.next=7,Mr.awrap(Ye.all(n));case 7:this.Xg&&(this.audioTrackBuffer.qMt(),this.videoTrackBuffer.qMt());case 8:case"end":return i.stop()}},null,this,null,Ye)},i.qMt=function(t,n){var i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],t&&i.push(this.audioTrackBuffer._z()),n&&i.push(this.videoTrackBuffer._z()),e.next=5,Mr.awrap(Ye.all(i));case 5:this.Xg&&(this.audioTrackBuffer.qMt(),this.videoTrackBuffer.qMt());case 6:case"end":return e.stop()}},null,this,null,Ye)},i.gL=function(t){var n,i={};for(var e in t)if(U.call(t,e)){var r=t[e];if(r.XH){var s='video/mp4; codecs="'+r.XH+'"';this.videoTrackBuffer.Rzt(s),i.XH=this.videoTrackBuffer}if(r.zH){var u=(n=r.zH)!==jK||Hb?'audio/mp4; codecs="'+n+'"':"audio/mpeg";this.audioTrackBuffer.Rzt(u),i.zH=this.audioTrackBuffer}0}return i},i.bw=function(t){var n=!1,i=!1;this.Nzt=!1,this.audioTrackBuffer.bw(function(){if(n=!0,i&&t)return t()}),this.videoTrackBuffer.bw(function(){if(i=!0,n&&t)return t()})},i.bzt=function(t){this.audioTrackBuffer.bzt(t),this.videoTrackBuffer.bzt(t)},i.fPt=function(t){t&&-1===t.indexOf("audio")||this.audioTrackBuffer.fPt(),t&&-1===t.indexOf("video")||this.videoTrackBuffer.fPt()},T(n,[{key:"nm",get:function(){var t=this.audioTrackBuffer.nm,n=this.videoTrackBuffer.nm;return t&&n?VG(t,n):t||n||HG}},{key:"XU",get:function(){return this.audioTrackBuffer.nm||HG}},{key:"zU",get:function(){return this.videoTrackBuffer.nm||HG}},{key:"cO",get:function(){return this.audioTrackBuffer.cO||this.videoTrackBuffer.cO}},{key:"Xg",get:function(){return this.audioTrackBuffer.Xg&&this.videoTrackBuffer.Xg}}]),n}(MW),XK=1,zK=.05,VK=.01;function qK(t,n){for(var i=n.length,e=0;e<i;e+=1)if(n.start(e)>t)return e;return-1}function WK(t,n,i,e){var r=GG(n,t),s=t;if(!(!e&&r>=0&&t<n.end(r)-zK)){var u,o;do{if((u=qK(t,n))<0)return;t=(o=n.start(u)+VK)+zK}while(n.end(u)-o<zK);for(var a=o-s,h=VG(new jG([{IC:s,NC:o}]),i),c=0;c<h.length;c++)a-=h.end(c)-h.start(c);return e&&r>=0&&(a-=n.end(r)-s),a<XK?o:void 0}}var GK=100,YK=1e-4,$K=500,QK=Wb,KK=F._n,ZK=5,JK=["resize","volumechange"],tZ=function(n){function i(t,i){var e;return(e=n.call(this)||this).Czt=void 0,e.ZR=void 0,e.Dzt=!0,e.Xg=!1,e.Pzt=!1,e.Bzt=!1,e.xzt=null,e.mu=!1,e.rzt=null,e.szt=null,e.Ozt=null,e.ezt=!1,e.Lzt=0,e.fft=WS.vD(),e.xjt=1,e.Mzt=!1,e.CV=!1,e.Gg=!1,e.Fzt=new uu,e.Uzt=!1,e.jzt=!1,e.Hzt=void 0,e.Xzt=null,e.zzt=null,e.Vzt=sy.Ng,e.qzt=!1,e.configuration={},e.loading=!1,e.loaded=!1,e.ubt=function(){e.qzt=!1,e.Wzt(),e.Gzt(),e.Yzt()},e.obt=function(){e.$zt(),e.Yzt(),e.Qzt()},e.lN=function(){e.Kzt(),e.$zt(),e.xV()?e.dispatchEvent("playing"):e.qzt=!0},e.sbt=function(){e.qzt=!1,e.Wzt(),e.Ly()},e.dV=function(){e.Zzt()},e.vN=function(){e.Jzt(),e.Qzt()},e.qz=function(){var t=e.Vzt,n=e.$w;t!==n&&(e.Vzt=n,e.dispatchEvent(new Hy(e.tHt(),n))),e.Qzt()},e.Gzt=function(){e.Lzt&&(f(e.Lzt),e.Lzt=0,KK&&(e.ZR.SN.removeEventListener("timeupdate",e.EG),e.removeEventListener(Ty.ow,e.CG)))},e.tVt=function(){e.Lzt||(e.Lzt=c(e.nVt,$K)),KK&&(e.ZR.SN.addEventListener("timeupdate",e.EG),e.addEventListener(Ty.ow,e.CG),e.EG()),e.nVt()},e.iVt=function(){var t=e.tHt(),n=WG(e.eVt,t);e.ZR.qg||e.Gg&&!n||e.rVt()||e.tVt()},e.nVt=function(t){if(!(e.Xzt||void 0===t&&e.jzt)){var n,i=e.tHt(),r=e.nm;if(void 0===t){if(void 0===(n=WK(i,r,e.eVt,e.Pzt)))return}else{if(!WG(r,t))return;n=t}var s=function(){e.ZR.SN.currentTime=n,e.sVt(n),e.Gzt(),e.jzt=!0};Ht(n,i)?e.Xzt=a(function(){e.Xzt=null,i=e.tHt(),Ht(n,i)&&(n+=1e3*$K,s())},$K):s()}},e.vY=function(){var t=e.Ozt;if(e.uVt(),e.ZR.SN.readyState===sy.Ng)return e.Ozt=t,void e.ZR.SN.addEventListener("loadedmetadata",e.vY);w.abs(e.ZR.SN.currentTime-t)<YK?e.vN():(e.ZR.SN.currentTime=t,e.jzt=!1,e.dV()),e.Ozt=null,e.qL(e.xjt),e.ZR.rY(),e.oVt(t)&&e.Ly()},e.aVt=function(){if(!e.Pzt){var t=e.ZR.SN,n=e.nm,i=t.currentTime;e.hVt(n,i)&&(e.Pzt=!0,e.$zt(),i=t.currentTime,e.hVt(n,i)?e.Pzt=!0:e.Pzt=!1,e.qz()),e.zzt=i}},e.Kzt=function(){e.Wzt(),e.xzt=c(e.aVt,GK)},e.Wzt=function(){e.Pzt=!1,f(e.xzt)},e.cVt=function(){e.Pzt&&(e.Pzt=!1,e.qz())},e.EG=function(){var t=e.szt;if(t)if(t.Xg)e.IG();else{var n=t.XU,i=t.zU;if(0!==n.length&&0!==i.length){var r=e.tHt();if(r<n.start(0)||r<i.start(0))e.IG();else WG(n,r)!==WG(i,r)?e.RG():e.IG()}else e.IG()}},e.CG=function(){if(!(e.Gg||e.jzt||e.ZR.SN.seeking||e.$w>=sy.Pg)){var t=e.szt;if(t){var n=e.tHt(),i=WS.hD(t.XU),r=WS.hD(t.zU);if(i.VN(n)&&r.VN(n))i.$C(r).tD(n-ZK,n)&&(e.ZR.SN.currentTime=n,e.jzt=!0)}}},e.fVt=function(){e.rzt.open=!0,e.rzt.removeEventListener("sourceopen",e.fVt),e.rzt.removeEventListener("webkitsourceopen",e.fVt)},e.gW=function(t){var n=e.ZR.SN.error&&e.ZR.SN.error.code;n&&e.cN(new jW(UW.LTt,{code:"VEE"+n}))},e.$s=function(t){e.dispatchEvent({type:t.type})},e.vVt=function(){e.szt&&e.szt.Xg&&e.dispatchEvent("durationchange")},e.lVt=function(){e.removeEventListener("dVt",e.lVt),e.Uzt=!1,e._Vt(e.xjt)},e.Czt=t,e.ZR=i,e}E(i,n);var e=i.prototype;return e._Vt=function(t){this.CV&&(t=0),this.ZR.Wg=t,0!==t||QK?this.Mzt&&(this.Mzt=!1,BK(this.ZR.xy())):(this.Mzt=!this.ZR.qg||this.Mzt,this.ZR.Oy()),this.Yzt()},e.qL=function(t){this.xjt=t,this.Uzt||this._Vt(t)},e.wVt=function(t){var n=GG(this.eVt,t);return-1===n?null:this.eVt.end(n)},e.Zzt=function(){this.jzt||this.Gg||(this.Gg=!0,this.dispatchEvent("seeking"))},e.Jzt=function(){this.jzt=!1,this.gVt(),this.Gg&&(this.Gg=!1,this.dispatchEvent("seeked")),this.iVt()},e.$zt=function(){this.jzt||this.iVt()},e.gVt=function(){this.Hzt&&(h(this.Hzt),this.Hzt=void 0)},e.sVt=function(t){var n=this;this.Hzt=a(function(){n.nVt(t+2)},750)},e.Qzt=function(){this.qzt&&this.xV()&&(this.qzt=!1,this.dispatchEvent("playing"))},e.Yzt=function(){var t=this.Dzt,n=this.paused;this.Dzt=n,t&&!n?this.dispatchEvent("play"):!t&&n&&this.dispatchEvent("pause")},e.kz=function(t,n){if(!(t+.001>n)){var i=new WS([t,n]);this.fft=this.fft.YC(i).QC(WS.hD(this.nm)),this.fft.VN(this.tHt())&&this.iVt()}},e.oVt=function(t){return t>=this.ZR.SN.duration-(this.paused?0:.5)},e.yVt=function(t){return m(this.ZR.SN.duration)||(t=w.min(t,this.ZR.SN.duration)),w.max(0,t)},e.uVt=function(){this.Ozt=null,this.ZR.SN.removeEventListener("loadedmetadata",this.vY)},e.LV=function(){return this.$w<sy.Pg},e.xV=function(){return!(this.paused||this.ended||this.error||this.LV())},e.hVt=function(t,n){var i=function(t,n){for(var i=n.length,e=0;e<i;e+=1){if(n.start(e)>t)return e;if(t<n.end(e)-zK)return e}return-1}(n,t),e=i<0?0:t.end(i),r=i<0?0:t.start(i);if(this.zzt&&this.zzt===n){if(this.oVt(n))return!1;if(r>n||e-n<1/6)return!0}return!1},e.RG=function(){this.CV||(this.CV=!0,this._Vt(0),this.qz())},e.IG=function(){this.CV&&(this.CV=!1,this.qL(this.xjt),this.ZR.SN.currentTime=this.ZR.SN.currentTime,this.qz())},e.mVt=function(){var t=this.ZR.SN;t.addEventListener("timeupdate",this.cVt),this.ZR.Ks(Bf.If,this.ubt),this.ZR.Ks(Bf.Rf,this.obt),this.ZR.Ks(Bf.mf,this.sbt),t.addEventListener("seeking",this.dV),t.addEventListener("seeked",this.vN);for(var n=0;n<JK.length;n++){var i=JK[n];t.addEventListener(i,this.$s)}t.addEventListener("error",this.gW),t.addEventListener("durationchange",this.vVt),this.ZR.Ks(Bf.Hf,this.$s),this.ZR.Ks(Ty.ow,this.qz),this.ZR.Ks(Ty.Ug,this.lN)},e.pVt=function(){var t=this.ZR.SN;t.removeEventListener("timeupdate",this.cVt),this.ZR.nu(Bf.If,this.ubt),this.ZR.nu(Bf.Rf,this.obt),this.ZR.nu(Bf.mf,this.sbt),t.removeEventListener("seeking",this.dV),t.removeEventListener("seeked",this.vN);for(var n=0;n<JK.length;n++){var i=JK[n];t.removeEventListener(i,this.$s)}t.removeEventListener("error",this.gW),t.removeEventListener("durationchange",this.vVt),this.ZR.nu(Bf.Hf,this.$s),this.ZR.nu(Ty.ow,this.qz),this.ZR.nu(Ty.Ug,this.lN)},e.kVt=function(){var n=this.ZR.SN,i=r.MediaSource||r.WebKitMediaSource||null;null!==i?t.URL&&t.URL.createObjectURL||t.webkitURL&&t.webkitURL.createObjectURL||t.createObjectURL?(this.F9(),this.rzt=new i,this.rzt.addEventListener("sourceopen",this.fVt),this.rzt.addEventListener("webkitsourceopen",this.fVt),n.src=x$(this.rzt),n.load()):this.cN(new jW(UW.FTt,{code:"MVE2720"})):this.cN(new jW(UW.FTt,{code:"MVE2650"}))},e.F9=function(){if(this.ezt=!1,this.szt&&(this.szt.bw(),this.szt=null),this.rzt){this.Fzt.Xs();var t=this.ZR.SN;t.src&&(O$(t.src),vr(t)),this.rzt=null}},e.setup=function(){this.kVt(),this.mVt(),this.ZR.SN.parentNode!==this.Czt&&this.Czt.appendChild(this.ZR.SN)},e.cN=function(t){this.mu=t,this.dispatchEvent({type:"error",error:t})},e.rVt=function(){return this.szt&&this.szt.cO},e.bVt=function(t){var n=this.tHt()-w.max(30,3*t.vlt.cSt.targetDuration);this.dispatchEvent("dVt"),this.szt&&!t.tCt&&this.szt.bzt(n),this.iVt()},e.a8=function(t){if(!this.rzt.open||"closed"===this.rzt.readyState)return Ye.reject("AVt");if(!this.szt)return Ye.reject("TVt");var n=this.SVt(t);return this.Bzt||(this.Bzt=!0,this.dispatchEvent({type:"canplay"},!0)),n},e.SVt=function(t){var n,i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.metadata,(i=[]).push(this.szt.a8(t)),n.tCt&&i.push(this.qMt(!!t.zH,!!t.XH)),t=null,e.next=7,Mr.awrap(Ye.all(i));case 7:this.bVt(n);case 8:case"end":return e.stop()}},null,this,null,Ye)},e.qMt=function(t,n){return this.rzt.open&&"closed"!==this.rzt.readyState?this.szt?this.szt.qMt(t,n):Ye.reject("TVt"):Ye.reject("AVt")},e.play=function(){var t=this.ZR.Wg;this.Xg=!1,0!==this.ZR.Wg||QK?(BK(this.ZR.xy()),this.ZR.rY(),this.ZR.Wg=t):this.Mzt=!0,this.Yzt()},e.pause=function(){0!==this.ZR.Wg||QK?this.ZR.Oy():this.Mzt=!1,this.Yzt()},e.Ly=function(){this.Xg||(this.Xg=!0,this.ZR.Oy(),this.dispatchEvent("ended"))},e.load=function(){this.dispatchEvent("loadstart"),this.loaded=!0},e.unload=function(){return f(this.xzt),this.xzt=null,this.Gzt(),this.uVt(),this.F9(),this.pVt(),this.tu(),this.ZR.SN},e.reset=function(){f(this.xzt),this.xzt=null,this.Gzt(),this.uVt(),this.Dzt=!0,this.Xg=!1,this.Pzt=!1,this.Bzt=!1,this.mu=!1,this.Gg=!1,this.qzt=!1,this.IG(),this.kVt(),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},e.Gy=function(){return this.ZR.SN},e.tHt=function(){return null===this.Ozt?this.ZR.SN.currentTime:this.Ozt},e.PHt=function(t){var n=this.wVt(t);t=this.yVt(t),this.Pzt=!1,this.ZR.SN.error&&(this.Bzt=!1,this.mu=!1,this.kVt()),this.Xg&&(this.Xg=this.oVt(t)),this.Gzt(),null!==n&&(t=n),this.uVt(),this.Ozt=t,this.Gg=!0,this.dispatchEvent("SHt"),this.dispatchEvent("seeking"),this.vY()},e.EVt=function(t){return this.rzt.open?Ye.resolve(null):ng(this.rzt,"sourceopen",t)},e.IVt=function(t,n,i){hu(i),n>0&&(this.rzt.duration=n),this.szt=new HK(this.rzt);var e=this.szt.gL(t);return this.dispatchEvent("YXt"),this.szt.addEventListener("updatestart",this.Gzt),this.szt.addEventListener("updateend",this.iVt),this.ezt=!0,this.dispatchEvent("ezt"),e},e.mrt=function(t,n,i){var e=this;this.Fzt.Xs();var r=new uu;return r.zs(i),this.Fzt=r,this.szt?Ye.resolve(null):this.EVt(r.qs).then(function(){return e.IVt(t,n,i)})},e.sIt=function(t){F.Pn&&(this.Uzt=!0,this._Vt(0),this.removeEventListener("dVt",this.lVt),this.addEventListener("dVt",this.lVt),this.szt&&this.szt.fPt(t))},e.canPlayCodecs=function(t){return this.ZR.SN.canPlayType('video/mp4; codecs="'+t+'"')},T(i,[{key:"eVt",get:function(){return this.fft.qN()}},{key:"$w",get:function(){var t=this.ZR.$w;return t>sy.Dg&&(this.Pzt||this.CV)?sy.Dg:t}},{key:"um",get:function(){return this.ZR.SN}},{key:"nm",get:function(){return this.szt?this.szt.nm:this.ZR.SN.buffered}},{key:"XU",get:function(){return this.szt?this.szt.XU:HG}},{key:"zU",get:function(){return this.szt?this.szt.zU:HG}},{key:"volume",get:function(){return this.ZR.SN.volume},set:function(t){this.ZR.SN.volume=t}},{key:"duration",get:function(){return this.ZR.SN.duration}},{key:"muted",get:function(){return this.ZR.SN.muted},set:function(t){this.ZR.SN.muted=t}},{key:"paused",get:function(){return this.ZR.qg&&!this.Mzt}},{key:"played",get:function(){return this.ZR.SN.played}},{key:"poster",get:function(){return this.ZR.SN.poster},set:function(t){t?this.ZR.SN.poster=t:this.ZR.SN.removeAttribute("poster")}},{key:"controls",get:function(){return this.ZR.SN.controls},set:function(t){t?this.ZR.SN.controls=t:this.ZR.SN.removeAttribute("controls")}},{key:"ended",get:function(){return this.Xg}},{key:"seeking",get:function(){return this.Gg}},{key:"error",get:function(){return this.mu||this.ZR.SN.error}},{key:"width",get:function(){return this.ZR.SN.offsetWidth||this.ZR.SN.parentNode.offsetWidth}},{key:"height",get:function(){return this.ZR.SN.offsetHeight||this.ZR.SN.parentNode.offsetHeight}},{key:"Wg",get:function(){return this.xjt},set:function(t){var n=this.xjt;t>0&&(this.qL(t),this.xjt!==n&&this.dispatchEvent("ratechange"))}},{key:"$g",get:function(){return this.ZR.SN.videoWidth||0}},{key:"Yg",get:function(){return this.ZR.SN.videoHeight||0}},{key:"yHt",get:function(){return this.ezt}}]),i}(MW),nZ=["seeked","seeking","playing","pause","play","resize","warning","ended","durationchange","RVt","sIt",Ty.ow],iZ=.04,eZ=.25,rZ=4,sZ=.75,uZ=1.5,oZ=.25,aZ=function(t){function n(){var n;return(n=t.call(this)||this).NVt=null,n.CVt=null,n.yD=!1,n.Ca=1,n.pD=1,n.DVt=null,n.PVt=void 0,n.VXt=function(t){n.dispatchEvent(t)},n.BVt=function(t){n.CVt||n.dispatchEvent(t)},n.xVt=function(t){var i=t.error||n.CVt.error;n.audioStream=null,n.DVt=i.message||i.toString(),n.dispatchEvent({type:"warning",warning:n.DVt})},n.OVt=function(){n.CVt&&!n.CVt.loaded||n.NVt&&!n.NVt.loaded||(n.CVt&&(n.CVt.removeEventListener("loaded",n.OVt),n.CVt.play()),n.NVt&&(n.NVt.removeEventListener("loaded",n.OVt),n.NVt.play()))},n.LVt=function(){n.MVt(),n.CVt&&n.NVt&&(n.CVt.addEventListener("timeupdate",n.FVt),n.NVt.addEventListener("timeupdate",n.FVt))},n.MVt=function(){h(n.PVt),n.CVt&&n.CVt.removeEventListener("timeupdate",n.FVt),n.NVt&&(n.NVt.Wg=n.pD,n.NVt.removeEventListener("timeupdate",n.FVt))},n.UVt=function(){n.$w<sy.Pg&&n.MVt()},n.FVt=function(){if(h(n.PVt),n.CVt&&n.NVt){var t=n.CVt.Wg,i=n.CVt.tHt()-n.NVt.tHt(),e=w.max(rZ,uZ*t),r=w.min(eZ,sZ*t);if(w.abs(i)<iZ)n.NVt.Wg!==t&&(n.NVt.Wg=t);else{var s=oZ,u=t*(i/s+1);(u<r||u>e)&&(s=i/((u=i>0?e:r)/t-1)),n.NVt.Wg=u,n.PVt=a(n.FVt,1e3*s)}}else n.MVt()},n.addEventListener("playing",n.LVt),n.addEventListener("ended",n.MVt),n.addEventListener(Ty.ow,n.UVt),n}E(n,t);var i=n.prototype;return i.nIt=function(t,n){n?(t.addEventListener("timeupdate",this.VXt),t.addEventListener("error",this.xVt)):(t.addEventListener("timeupdate",this.BVt),t.addEventListener("error",this.VXt));for(var i=0;i<nZ.length;i++){var e=nZ[i];t.addEventListener(e,this.VXt)}},i.ou=function(t){t.removeEventListener("timeupdate",this.VXt),t.removeEventListener("timeupdate",this.BVt),t.removeEventListener("timeupdate",this.FVt),t.removeEventListener("error",this.VXt),t.removeEventListener("error",this.xVt),t.removeEventListener("loaded",this.OVt);for(var n=0;n<nZ.length;n++){var i=nZ[n];t.removeEventListener(i,this.VXt)}},i.jVt=function(t){this.CVt&&this.CVt.jVt(t),this.NVt&&this.NVt.jVt(t)},i.play=function(){if(this.CVt&&!this.CVt.loaded||this.NVt&&!this.NVt.loaded)return this.CVt&&this.CVt.addEventListener("loaded",this.OVt),void(this.NVt&&this.NVt.addEventListener("loaded",this.OVt));this.OVt()},i.pause=function(){this.CVt&&(this.CVt.removeEventListener("loaded",this.OVt),this.CVt.pause()),this.NVt&&(this.NVt.removeEventListener("loaded",this.OVt),this.NVt.pause()),this.MVt()},i.load=function(t){t?(-1!==t.indexOf("audio")&&this.CVt&&this.CVt.load(),-1!==t.indexOf("video")&&this.NVt&&this.NVt.load()):(this.CVt&&this.CVt.load(),this.NVt&&this.NVt.load())},i.Ed=function(t){this.tu(),this.DVt=null,t?(-1!==t.indexOf("audio")&&this.CVt&&(this.CVt.Ed(),this.CVt=null),-1!==t.indexOf("video")&&this.NVt&&(this.NVt.Ed(),this.NVt=null)):(this.CVt&&(this.CVt.Ed(),this.CVt=null),this.NVt&&(this.NVt.Ed(),this.NVt=null))},i.sIt=function(t){this.CVt&&this.CVt.pause(),this.NVt&&this.NVt.pause(),this.MVt(),t&&-1===t.indexOf("audio")||!this.CVt||this.CVt.sIt(),t&&-1===t.indexOf("video")||!this.NVt||this.NVt.sIt()},i.a8=function(t){this.CVt&&t.zH&&this.CVt.a8(t),this.NVt&&t.XH&&this.NVt.a8(t)},i.HVt=function(t){return this.NVt?this.NVt.HVt(t):""},i.XVt=function(){return this.NVt?this.NVt.XVt():0},i.zVt=function(){return this.NVt?this.NVt.zVt():0},i.Gy=function(){return this.NVt&&this.NVt.Gy()},i.tHt=function(){return this.CVt?this.CVt.tHt():this.NVt?this.NVt.tHt():NaN},i.PHt=function(t,n){this.CVt&&this.CVt.PHt(t,n),this.NVt&&this.NVt.PHt(t,n)},T(n,[{key:"nm",get:function(){return this.CVt&&this.NVt?VG(this.CVt.nm,this.NVt.nm):this.CVt?this.CVt.nm:this.NVt?this.NVt.nm:HG}},{key:"volume",get:function(){return this.Ca},set:function(t){this.Ca!==t&&(this.Ca=t,this.CVt&&(this.CVt.volume=t),this.dispatchEvent("volumechange"))}},{key:"duration",get:function(){return this.CVt&&this.CVt.duration||this.NVt&&this.NVt.duration||NaN}},{key:"muted",get:function(){return this.yD},set:function(t){this.yD!==t&&(this.yD=t,this.CVt&&(this.CVt.muted=t),this.dispatchEvent("volumechange"))}},{key:"loaded",get:function(){return!(!this.CVt&&!this.NVt)&&(!(this.CVt&&!this.CVt.loaded)&&!(this.NVt&&!this.NVt.loaded))}},{key:"paused",get:function(){return!this.CVt&&!this.NVt||(this.CVt&&this.CVt.paused||this.NVt&&this.NVt.paused||!1)}},{key:"ended",get:function(){return this.CVt&&this.CVt.ended||this.NVt&&this.NVt.ended||!1}},{key:"seeking",get:function(){return this.CVt&&this.CVt.seeking||this.NVt&&this.NVt.seeking||!1}},{key:"error",get:function(){return this.CVt&&this.CVt.error||this.NVt&&this.NVt.error}},{key:"warning",get:function(){return this.DVt||this.CVt&&this.CVt.warning||this.NVt&&this.NVt.warning}},{key:"audioStream",get:function(){return this.CVt},set:function(t){this.CVt&&(this.ou(this.CVt),this.CVt.Ed()),this.CVt=t,this.CVt&&(this.CVt.volume=this.Ca,this.CVt.muted=this.yD,this.CVt.Wg=this.pD,this.nIt(this.CVt,!0))}},{key:"videoStream",get:function(){return this.NVt},set:function(t){this.NVt&&(this.ou(this.NVt),this.NVt.Ed()),this.NVt=t,this.NVt&&(this.NVt.Wg=this.pD,this.nIt(this.NVt,!1))}},{key:"Wg",get:function(){return this.pD},set:function(t){this.pD!==t&&(t<0||(this.pD=t,this.CVt&&(this.CVt.Wg=t),this.NVt&&(this.NVt.Wg=t),this.dispatchEvent("ratechange")))}},{key:"$w",get:function(){return this.CVt&&this.NVt?w.min(this.CVt.$w,this.NVt.$w):this.CVt?this.CVt.$w:this.NVt?this.NVt.$w:sy.Ng}},{key:"$g",get:function(){return this.NVt?this.NVt.$g:0}},{key:"Yg",get:function(){return this.NVt?this.NVt.Yg:0}}]),n}(MW),hZ=function(){function t(t,n,i,e){var r=this;this.VVt=void 0,this.qVt=void 0,this.Hg=void 0,this.Rx=void 0,this.WVt=void 0,this.GVt=void 0,this.Vm=void 0,this.$l=0,this.pd=0,this.running=!1,this.YVt=function(t){return r.Kh(t)},this.VVt=t,this.qVt=n,this.Hg=i,this.Rx=e,this.WVt=t.Ru(),this.GVt=(n-this.WVt)/(i||1)}var n=t.prototype;return n.$Vt=function(){return this.VVt.rf(this.qVt),this.running=!1,this.QVt(),this.Rx()},n.IC=function(){var t=this;this.running=!0,this.Hg?this.KVt():LW(function(){t.running&&t.$Vt()})},n.Kh=function(t){if(this.QVt(),this.running){void 0===this.Vm&&(this.Vm=t);var n=this.WVt,i=this.GVt,e=this.qVt,r=this.VVt,s=n+w.max(0,t-this.Vm)*i;if(n>=e&&s<=e||n<e&&s>=e)return this.$Vt();if(r.rf(s))return this.$Vt();this.KVt()}},n.KVt=function(){this.$l=vR(this.YVt),this.pd=hR(this.YVt)},n.QVt=function(){lR(this.$l),fR(this.pd)},t}();var cZ=function(t){function n(n,i){var e;return(e=t.call(this)||this).ZVt=void 0,e.zi=void 0,e.w3=null,e.JVt=null,e.tqt=NaN,e.nqt=!1,e.S8=!1,e.iqt=1,e.eqt=void 0,e.rqt=void 0,e.sqt=function(t){e.uqt(t)||e.dispatchEvent(t)},e.ZVt=n,e.zi=i,e}E(n,t);var i=n.prototype;return i.pause=function(){this.ZVt.pause()},i.play=function(){BK(this.ZVt.play()),this.oqt()},i.aqt=function(t){if(!(this.$w<sy.Pg))return this.fPt(),this.nqt=!0,this.sqt({type:"canplay"}),t&&t();this.eqt=a(this.rqt,100)},i.$h=function(t){this.S8=!0,this.nqt=!1,this.ZVt.removeEventListener("canplay",this.rqt),this.rqt=this.aqt.bind(this,t),this.ZVt.addEventListener("canplay",this.rqt),this.ZVt.load(),this.eqt=a(this.rqt,100)},i.fPt=function(){this.S8=!1,this.ZVt.removeEventListener("canplay",this.rqt),void 0!==this.eqt&&(h(this.eqt),this.eqt=void 0)},i.hqt=function(t){if(this.pause(),this.fPt(),null===t)return this.w3=null,void(this.nqt=!1);this.nqt=!1,this.JVt&&this.JVt.HPt(this.ZVt.src),this.JVt=t[this.zi],this.ZVt.src=this.JVt.XPt,this.w3=t},i.Gy=function(){return this.ZVt},i.cqt=function(t){this.tqt=w.max(t||0,0),this.ZVt.currentTime=this.tqt},i.fqt=function(){return this.ZVt.currentTime},i.vqt=function(t){var n=this.w3&&this.w3.metadata,i=n&&n.IC,e=n&&n[this.zi].IC,r=n&&n[this.zi].Hg;return!!this.n5&&(!(t<i)&&t<e+w.min(r,this.ZVt.duration))},i.oqt=function(){this.iqt!==this.ZVt.playbackRate&&(this.ZVt.playbackRate=this.iqt,Gb&&this.iqt>0&&this.$w!==sy.Ng&&(this.ZVt.currentTime=this.ZVt.currentTime))},i.uqt=function(t){return!!(Gb&&"seeked"===t.type&&w.abs(this.ZVt.currentTime-this.tqt)>.04)},i.addEventListener=function(n,i){this.ITt(n)||this.ZVt.addEventListener(n,this.sqt),t.prototype.addEventListener.call(this,n,i)},i.removeEventListener=function(n,i){t.prototype.removeEventListener.call(this,n,i),this.ITt(n)||this.ZVt.removeEventListener(n,this.sqt)},i.tu=function(){for(var n=0,i=this.RTt();n<i.length;n++){var e=i[n];this.ZVt.removeEventListener(e,this.sqt)}t.prototype.tu.call(this)},i.unload=function(){this.JVt&&this.JVt.HPt(this.ZVt.src),this.tu()},T(n,[{key:"volume",get:function(){return this.ZVt.volume},set:function(t){this.ZVt.volume=t}},{key:"muted",get:function(){return this.ZVt.muted},set:function(t){this.ZVt.muted=t}},{key:"style",get:function(){return this.ZVt.style}},{key:"IC",get:function(){return this.w3?this.w3.metadata[this.zi].IC:NaN}},{key:"NC",get:function(){return this.w3?this.IC+this.w3.metadata[this.zi].Hg:NaN}},{key:"lqt",get:function(){return this.w3?this.IC+this.dqt:NaN},set:function(t){this.w3?this.dqt=t-this.IC:this.dqt=0}},{key:"dqt",get:function(){return this.fqt()},set:function(t){this.cqt(t)}},{key:"U2",get:function(){return this.w3},set:function(t){this.hqt(t)}},{key:"b1",get:function(){return this.w3&&this.w3.metadata.tCt}},{key:"n5",get:function(){return!(!this.nqt||!this.w3)}},{key:"_qt",get:function(){return!(!this.S8||!this.w3)}},{key:"Wg",get:function(){return this.iqt},set:function(t){t>=0&&this.iqt!==t&&(this.iqt=t,this.oqt())}},{key:"qg",get:function(){return this.ZVt.paused}},{key:"Xg",get:function(){return this.ZVt.ended}},{key:"mu",get:function(){return this.ZVt.error}},{key:"$g",get:function(){return this.ZVt.videoWidth}},{key:"Yg",get:function(){return this.ZVt.videoHeight}},{key:"$w",get:function(){return this.ZVt.readyState}}]),n}(MW);function fZ(t,n){return i=t.U2.metadata.vlt,e=n.U2.metadata.vlt,i.bandwidth&&e.bandwidth&&js(i.bandwidth,e.bandwidth)||i.resolution&&e.resolution&&js(i.resolution.width*i.resolution.height,e.resolution.width*e.resolution.height)||Us(i.V_t,e.V_t)||js(t.NC,n.NC);var i,e}function vZ(t){return{IC:t.IC,NC:t.NC}}function lZ(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.IC<=n&&n<e.NC)return i}return-1}function dZ(t,n,i){return{IC:n?i.metadata.CPt:i.metadata[t].IC,NC:i.metadata[t].IC+i.metadata[t].Hg}}function _Z(t,n,i){return new jG([dZ(t,n,i)])}function wZ(t,n,i){for(var e=[],r=0;r<i.length;r++){var s=i[r];e.push(dZ(t,n,s))}return zG(new jG(e))}function gZ(t,n,i){if(!n)return!1;var e=n.metadata[t].IC,r=e+n.metadata[t].Hg;return e<=i&&i<=r}function yZ(t,n){var i=GG(t,n);return i<0?n:t.end(i)}var mZ=function(){function t(t){this.vs=void 0,this.Hrt=[],this.wqt=HG,this.gqt=HG,this.vs=t}var n=t.prototype;return n.a8=function(t){var n,i;this.Hrt=function(t,n){for(var i=[],e=function(t,n,e){var r=i.length&&i[i.length-1];r&&r.U2===t?r.NC=e:i.push({U2:t,IC:n,NC:e})},r=0;r<t.length;r++){var s=t[r];if(s.NC<=n.IC)e(s.U2,s.IC,s.NC);else if(s.IC>=n.NC)n.IC<n.NC&&(e(n.U2,n.IC,n.NC),n.IC=n.NC),e(s.U2,s.IC,s.NC);else{var u=void 0,o=void 0;fZ(n,s)>=0?(u=s,o=n):(u=n,o=s);var a=u.IC,h=o.IC,c=w.min(o.NC,s.NC),f=w.min(u.NC,s.NC);a<h&&e(u.U2,a,h),h<c&&e(o.U2,h,c),c<f&&e(u.U2,c,f),n.IC=w.max(n.IC,s.NC)}}return n.IC<n.NC&&e(n.U2,n.IC,n.NC),i}(this.Hrt,function(t,n){var i=n.metadata[t].IC;return{U2:n,IC:i,NC:i+n.metadata[t].Hg}}(this.vs,t)),this.wqt=$G(this.wqt,_Z(this.vs,!1,t)),this.gqt=$G(this.gqt,_Z(this.vs,!0,t)),this.gqt=(n=this.gqt,i=this.wqt,VG(n,qG(i)))},n.yqt=function(t){t=this.mqt(t);var n=lZ(this.Hrt,t);return n>=0?this.Hrt[n].U2:null},n.a2=function(t,n,i,e){t=this.mqt(t);var r=this.Hrt,s=lZ(r,t);if(s<0)return null;var u=r[s];if(!i||!gZ(this.vs,i,t))return e&&gZ(this.vs,e,t)?null:u.U2;if(i!==u.U2){if(e&&e===u.U2)return null;if(u.NC-t>n)return u.U2}for(var o=s+1;o<r.length;o++){var a=r[o];if(e&&e===a.U2)return null;if(a.NC-t>n)return a.U2;for(var h=[i],c=o+1;c<r.length;c++)h.push(r[c].U2);var f=wZ(this.vs,!1,h);h.push(a.U2);var v=wZ(this.vs,!1,h);if(yZ(f,t)<yZ(v,t))return a.U2}return null},n.lyt=function(t,n){for(var i=this.Hrt,e=i.length-1;e>=0;e--){var r=i[e];(r.NC<=t||r.IC>=n)&&Gs(i,e)}},n.bw=function(){this.Hrt.length=0,this.wqt=HG,this.gqt=HG},n.mqt=function(t){var n=WK(t,this.nm,this.gqt,!1);return void 0===n?t:n},T(t,[{key:"nm",get:function(){var t=this.Hrt.map(vZ);return zG(new jG(t))}}]),t}(),pZ=5,kZ=30,bZ=function(t){function n(n,i){var e,r;(e=t.call(this)||this).pqt=void 0,e.zi=void 0,e.kqt=void 0,e.bqt=void 0,e.Aqt=void 0,e.Bc={zH:{Tqt:100,Sqt:100,Eqt:100},XH:{Tqt:500,Sqt:100,Eqt:200}},e.Ca=void 0,e.tN=null,e.DVt=null,e.Iqt=null,e.Rqt=void 0,e.Nqt=void 0,e.Cqt=void 0,e.Dqt=void 0,e.Pqt=null,e.Bqt=void 0,e.xqt=void 0,e.Oqt=0,e.Lqt=null,e.Mqt=!1,e.kK=!1,e.Fqt=0,e.Uqt=0,e.jqt=sy.Ng,e.bzt=function(){var t=e.tHt();e.Aqt.lyt(t-pZ,t+kZ)},e.Hqt={Xqt:(r=nn(e),{$h:function(){r.Cqt.addEventListener("ended",this.zqt),r.Dqt.addEventListener("ended",this.Vqt)},Ed:function(){r.Cqt.removeEventListener("ended",this.zqt),r.Dqt.removeEventListener("ended",this.Vqt)},qqt:function(){},zqt:function(){r.pause(),r.dispatchEvent({type:"ended",origin:r.Cqt})},Vqt:function(){r.pause(),r.dispatchEvent({type:"ended",origin:r.Dqt})}}),kE:{_i:"kE",$h:function(){},Ed:function(){},qqt:function(){}},Wqt:function(){var t=nn(e),n=function n(){t.Cqt.removeEventListener("play",n),t.Cqt.removeEventListener("timeupdate",i),t.Cqt.addEventListener("timeupdate",i)},i=function n(){var i,e;t.Cqt.qg||(!t.seeking&&t.Cqt.U2?(i=t.Cqt,(e=t.Dqt).n5&&AZ(i,e)>=0&&t.Gqt(t.Hqt.Yqt)):t.Cqt.removeEventListener("timeupdate",n))};return{_i:"Wqt",$h:function(){t.Hqt.Xqt.$h.call(this),this.$qt(),this.qqt()},Ed:function(){t.Hqt.Xqt.Ed.call(this),t.Cqt.removeEventListener("play",n),t.Cqt.removeEventListener("timeupdate",i)},qqt:function(){t.Cqt.U2?t.qqt(t.Dqt,t.Qqt):t.qqt(t.Cqt,t.Qqt)},zqt:function(){var n=t.Dqt.U2;if(n&&n.metadata.nCt)return t.Dqt.vqt(t.Cqt.lqt)&&(t.Dqt.lqt=t.Cqt.lqt),t.Kqt(),void t.Cqt.play();t.Hqt.Xqt.zqt.call(this)},Vqt:function(){0},$qt:function(){t.Cqt.removeEventListener("play",n),t.Cqt.qg?t.Cqt.addEventListener("play",n):n.call(t.Cqt)}}}(),Yqt:function(){var t=nn(e),n=function(){e.Gqt(e.Hqt.Zqt)};return{_i:"Yqt",$h:function(){t.Hqt.Xqt.$h.call(this),t.Dqt.addEventListener("seeked",n);var i=AZ(t.Cqt,t.Dqt),e=t.Bc[t.zi].Tqt/1e3,r=w.min(i+e,t.Dqt.NC);try{t.Dqt.dqt=r}catch(n){t.Gqt(t.Hqt.Wqt),t.Jqt(n.message)}},Ed:function(){t.Hqt.Xqt.Ed.call(this),t.Dqt.removeEventListener("seeked",n)},qqt:function(){},zqt:function(){t.Hqt.Xqt.zqt.call(this)},Vqt:function(){}}}(),Zqt:function(){var t,n=nn(e),i=function(){s()},r=function(){s()},s=function(){lR(t),e.Dqt.lqt-e.Cqt.lqt-1/60>0?t=vR(i):e.Gqt(e.Hqt.tWt)};return{_i:"Zqt",$h:function(){n.Hqt.Xqt.$h.call(this),n.Cqt.addEventListener("timeupdate",r),s()},Ed:function(){n.Hqt.Xqt.Ed.call(this),lR(t),n.Cqt.removeEventListener("timeupdate",r)},qqt:function(){},zqt:function(){n.Hqt.Xqt.zqt.call(this)},Vqt:function(){n.Hqt.Xqt.Vqt.call(this)}}}(),tWt:function(){var t,n=nn(e),i=function(){var t=e.nWt(e.Dqt),n=e.Bc[e.zi].Sqt/w.max(1,e.Cqt.Wg);return function(t,n,i,e){return new hZ(t,n,i,e)}(t,t.iWt,n,function(){e.Gqt(e.Hqt.eWt),e.Hqt.eWt.rWt()})},r=function(){e.Iqt.IC(),e.Gqt(e.Hqt.eWt)};return{_i:"tWt",$h:function(){n.Hqt.Xqt.$h.call(this);var e=n.Bc[n.zi].Eqt/w.max(1,n.Cqt.Wg);n.Iqt=i(),t=a(r,e),n.Dqt.play()},Ed:function(){n.Hqt.Xqt.Ed.call(this),h(t),t=0},qqt:function(){},zqt:function(){n.Hqt.Xqt.zqt.call(this)},Vqt:function(){n.Hqt.Xqt.Vqt.call(this)}}}(),eWt:function(){var t=nn(e);return{_i:"eWt",$h:function(){t.Hqt.Xqt.$h.call(this)},Ed:function(){t.Hqt.Xqt.Ed.call(this),t.Iqt&&t.Iqt.$Vt()},qqt:function(){},zqt:function(){t.Hqt.Xqt.zqt.call(this)},Vqt:function(){t.Hqt.Xqt.Vqt.call(this)},rWt:function(){t.Iqt=null,t.Kqt()}}}()},e.sWt={uWt:function(){var t=nn(e);return{$h:function(){},Ed:function(){},qqt:function(){t.Bqt.qqt()},PHt:function(n,i,e,r){t.Oqt=n,t.Lqt=r,t.Gqt(t.Hqt.kE);var s=t.Cqt===t.Rqt?i:e,u=t.Dqt===t.Rqt?i:e;s&&t.Cqt.vqt(n)?t.oWt(t.sWt.aWt):u&&t.Dqt.vqt(n)?t.oWt(t.sWt.hWt):t.oWt(t.sWt.cWt)}}}(),cWt:function(){var t=nn(e),n=function(){e.Qqt(),e.Dqt.n5?(e.Dqt.vqt(e.Oqt)||(e.fWt('Could not seek to exact timestamp "'+e.Oqt+'", seeking instead to: "'+e.Dqt.IC+'"'),e.Oqt=e.Dqt.IC),e.oWt(e.sWt.hWt)):e.oWt(e.sWt.uWt)};return{$h:function(){t.vWt(),t.Cqt.U2=null,t.Dqt.U2=null,t.Dqt.style.display="none",t.Qqt(),this.qqt()},Ed:function(){t.Dqt.fPt(),t.Dqt.style.display=""},qqt:function(){t.Dqt.U2||t.qqt(t.Dqt,n)},PHt:function(n,i,e,r){t.p9(),t.xqt.PHt(n,i,e,r)}}}(),aWt:function(){var t=nn(e),n=function(){e.oWt(e.sWt.uWt),e.Gqt(e.Hqt.Wqt),e.RV(),e.Lqt&&(e.Lqt.call(t),e.Lqt=null)};return{$h:function(){t.Cqt.addEventListener("seeked",n);try{t.Cqt.lqt=t.Oqt,t.RV()}catch(n){t.Jqt(n.message)}},Ed:function(){t.Cqt.removeEventListener("seeked",n)},qqt:function(){},PHt:function(n,i,e,r){t.p9(),t.xqt.PHt(n,i,e,r)}}}(),hWt:function(){var t=nn(e),n=function(){e.oWt(e.sWt.uWt),e.Kqt(),e.Lqt&&(e.Lqt.call(t),e.Lqt=null)};return{$h:function(){t.Dqt.style.display="none",t.Dqt.addEventListener("seeked",n);try{t.Dqt.lqt=t.Oqt,t.RV()}catch(n){t.Jqt(n.message)}},Ed:function(){t.Dqt.style.display="",t.Dqt.removeEventListener("seeked",n)},qqt:function(){},PHt:function(n,i,e,r){t.p9(),t.xqt.PHt(n,i,e,r)}}}()},e.Qqt=function(){var t=e.kK;e.kK=e.Rqt._qt||e.Nqt._qt,t&&!e.kK&&e.dispatchEvent("updateend"),e.lWt(),e.RV(),e.dWt()},e.RV=function(){var t=e.$w;t!==e.jqt&&(e.jqt=t,e.dispatchEvent(Ty.ow))},e.pqt=n,e.zi=i,e.Aqt=new mZ(i),e.Ca="XH"===i?0:1;var s=function(t){switch(t){case"zH":return"audio";case"XH":return"video"}}(i);return e.kqt=TZ(s),e.bqt=TZ(s),n.appendChild(e.kqt),n.appendChild(e.bqt),e.Rqt=new cZ(e.kqt,e.zi),e.Nqt=new cZ(e.bqt,e.zi),e.Cqt=e.Rqt,e.Dqt=e.Nqt,e.Bqt=e.Hqt.Wqt,e.xqt=e.sWt.uWt,e.Bqt.$h(),e.xqt.$h(),e.HEt(),e.Rw(),e}E(n,t);var i=n.prototype;return i._Wt=function(t){return t===this.Rqt?this.Nqt:this.Rqt},i.fWt=function(t){this.DVt=t,this.dispatchEvent({type:"warning",warning:this.DVt})},i.Jqt=function(t){this.tN=t,this.dispatchEvent({type:"error",error:t})},i.nWt=function(t){var n,i=this,e=this._Wt(t);return n="XH"===this.zi?{Ru:function(){if(i.Pqt!==t)return 0;var n=y(t.style.opacity);return m(n)?1:n},rf:function(n){n=Ut(n,0,1),e.style.opacity=""+(1-n),1===n&&(i.Pqt=t,t.style.zIndex="2",e.style.zIndex="1",e.style.opacity="1")},iWt:1,wWt:function(){if(n.Ru()!==n.iWt)return n.rf(n.iWt)}}:{Ru:function(){return t.volume},rf:function(i){var r;try{t.volume=i}catch(t){r=t}try{e.volume=n.iWt-i}catch(t){r=t}return r},iWt:this.Ca,wWt:function(){if(n.Ru()!==n.iWt)return n.rf(n.iWt)}}},i.qqt=function(t,n){var i=this.Aqt.a2(this.tHt(),1,this.Cqt.U2,this.Dqt.U2);return!!i&&(this.vWt(),t.U2=i,t.$h(n),t.b1&&this.dispatchEvent("durationchange"),!0)},i.gWt=function(){this.vWt(),this.Aqt.bw(),this.Rqt.fPt(),this.Nqt.fPt(),this.Qqt()},i.Gy=function(){return this.Cqt.Gy()},i.tHt=function(){return this.seeking?this.Oqt:this.Cqt.lqt},i.PHt=function(t,n){var i=this,e=!n;this.dispatchEvent("seeking"),this.pause(),this.xqt.PHt(t,e,e,function(){i.dispatchEvent("seeked"),i.dispatchEvent("timeupdate",!0)})},i.Kqt=function(){var t=this.Cqt;this.Gqt(this.Hqt.kE),this.Cqt=this.Dqt,this.Dqt=t,this.nWt(this.Cqt).wWt(),this.vWt(),this.Dqt.pause(),this.Dqt.U2=null,this.Qqt(),this.Gqt(this.Hqt.Wqt)},i.HEt=function(){for(var t=this,n=["timeupdate","play","playing"],i=function(n,i){if("error"===i.type)return i.error?t.Jqt(new jW(UW.LTt,{code:"VEE"+i.error})):t.Jqt(new jW(UW.LTt,{code:"VEE"+n.mu.code}));n===t.Cqt&&t.dispatchEvent({type:i.type,origin:n})},e=i.bind(null,this.Rqt),r=i.bind(null,this.Nqt),s=0;s<n.length;s++){var u=n[s];this.Rqt.addEventListener(u,e),this.Nqt.addEventListener(u,r)}this.Rqt.addEventListener("error",e),this.Nqt.addEventListener("error",r);for(var o=0;o<LD.length;o++){var a=LD[o];this.Rqt.addEventListener(a,this.RV),this.Nqt.addEventListener(a,this.RV)}},i.Rw=function(){this.addEventListener("seeking",this.bzt),this.addEventListener("timeupdate",this.bzt)},i.Gqt=function(t){var n;if(this.Bqt!==t){do{(n=this.Bqt).Ed()}while(n!==this.Bqt);this.Bqt=t,t.$h()}},i.oWt=function(t){var n;if(this.xqt!==t){do{(n=this.xqt).Ed()}while(n!==this.xqt);this.xqt=t,t.$h()}},i.p9=function(){this.Lqt=null,this.oWt(this.sWt.uWt)},i.load=function(){this.pause(),this.p9(),this.Cqt.U2=null,this.Dqt.U2=null,this.Gqt(this.Hqt.Wqt)},i.Ed=function(){this.p9(),this.Gqt(this.Hqt.kE),this.gWt(),this.Rqt.unload(),this.Nqt.unload(),this.pqt.removeChild(this.kqt),this.pqt.removeChild(this.bqt),this.tN=null,this.DVt=null},i.sIt=function(){var t=this,n=this.tHt();this.gWt(),this.xqt.PHt(n,!1,!1,function(){t.dispatchEvent("sIt",!0)})},i.play=function(){this.nWt(this.Cqt).wWt(),this.Cqt.n5&&this.Cqt.play()},i.pause=function(){this.Rqt.pause(),this.Nqt.pause()},i.jVt=function(t){var n=this,i=function(){n.dispatchEvent("RVt",!0)};this.pause(),this.Cqt.Xg?this.xqt.PHt(t,this.Dqt===this.Rqt,this.Dqt===this.Nqt,i):this.Dqt.Xg?this.xqt.PHt(t,!1,!1,i):this.Dqt.vqt(t)?this.xqt.PHt(t,this.Dqt===this.Rqt,this.Dqt===this.Nqt,i):i()},i.a8=function(t){this.vWt(),this.Aqt.a8(t),this.Qqt(),this.xqt.qqt()},i.HVt=function(t){return this.kqt.canPlayType('video/mp4; codecs="'+t+'"')},i.XVt=function(){return w.max(this.kqt.offsetWidth,this.bqt.offsetWidth)},i.zVt=function(){return w.max(this.kqt.offsetHeight,this.bqt.offsetHeight)},i.lWt=function(){!this.Mqt&&this.loaded&&(this.Mqt=!0,this.dispatchEvent("loaded"))},i.dWt=function(){if("XH"===this.zi){var t=this.$g,n=this.Yg;t>0&&n>0&&(this.Fqt!==t||this.Uqt!==n)&&(this.Fqt=t,this.Uqt=n,this.dispatchEvent("resize"))}},i.vWt=function(){var t=this.kK;this.kK=!0,t||this.dispatchEvent("updatestart")},T(n,[{key:"nm",get:function(){var t=[];return m(this.Rqt.IC)||t.push({IC:this.Rqt.IC,NC:this.Rqt.NC}),m(this.Nqt.IC)||t.push({IC:this.Nqt.IC,NC:this.Nqt.NC}),$G(zG(new jG(t)),this.Aqt.nm)}},{key:"duration",get:function(){return this.Cqt.b1?this.Cqt.NC:this.Dqt.b1?this.Dqt.NC:NaN}},{key:"paused",get:function(){return this.Cqt.qg}},{key:"ended",get:function(){return this.Cqt.Xg}},{key:"muted",get:function(){return this.Cqt.muted&&this.Dqt.muted},set:function(t){this.Cqt.muted=t,this.Dqt.muted=t}},{key:"volume",get:function(){return this.Ca},set:function(t){this.Ca=t,this.Iqt&&this.Iqt.$Vt(),this.Dqt.volume=0,this.Cqt.volume=this.Ca}},{key:"error",get:function(){return this.tN}},{key:"warning",get:function(){return this.DVt}},{key:"seeking",get:function(){return this.xqt!==this.sWt.uWt}},{key:"loaded",get:function(){return this.Cqt.n5}},{key:"Wg",get:function(){return this.Cqt.Wg},set:function(t){t>=0&&(this.Cqt.Wg=t,this.Dqt.Wg=t)}},{key:"$g",get:function(){return this.Cqt.$g}},{key:"Yg",get:function(){return this.Cqt.Yg}},{key:"cO",get:function(){return this.kK}},{key:"$w",get:function(){var t;if(this.xqt===this.sWt.cWt||this.xqt===this.sWt.hWt)t=sy.Cg;else{var n=this.Cqt.$w;if(n<=sy.Dg)t=n;else{var i=WS.hD(this.nm).MC(),e=this.duration,r=this.tHt();m(e)||(r=w.min(r,e));var s=i.oD(r);if(s){var u=s.NC(0);t=u-r>=3*this.Wg||!m(e)&&u>=e?sy.Bg:sy.Pg}else t=sy.Dg}}return t===sy.Ng&&this.Mqt?sy.Cg:t}}]),n}(MW);function AZ(t,n){return t.lqt-n.IC}function TZ(t){var n=s.createElement(t);return n.preload="metadata","audio"===t&&(n.style.display="none"),"video"===t&&(n.style.display="",n.style.zIndex="1"),hr(n),n.controls=!1,n}var SZ,EZ=function(){function t(t){var n=this;this.cC=void 0,this.ym=void 0,this.yWt=void 0,this.mWt=void 0,this.pWt=void 0,this.kWt=function(){(m(n.mWt)||n.pWt)&&(n.mWt=n.PL()),n.yWt=n.mWt,n.pWt=!1},this.bWt=function(){var t=n.PL();n.AWt(t),n.mWt=t},this.TWt=function(){n.cC.$w<=sy.Dg&&n.bWt()},this.SWt=function(){n.AWt(n.mWt),n.pWt=!0},this.EWt=function(){n.mWt=n.PL()},this.cC=t,this.ym=WS.vD(),this.yWt=NaN,this.mWt=NaN,this.pWt=!1,t.addEventListener("playing",this.kWt),t.addEventListener("pause",this.bWt),t.addEventListener("seeking",this.SWt),t.addEventListener("timeupdate",this.EWt),t.addEventListener(Ty.ow,this.TWt)}var n=t.prototype;return n.Dz=function(){var t=this.ym,n=this.yWt;if(!m(n)){var i=this.PL();n<i&&(t=t.YC(new WS([n,i])))}return t.qN()},n.PL=function(){return this.cC.tHt()},n.AWt=function(t){var n=this.yWt;n<t&&(this.ym=this.ym.YC(new WS([n,t]))),this.yWt=NaN},n.SHt=function(){var t=this.PL();this.AWt(t),this.pWt=!0},n.bw=function(){this.ym=WS.vD(),this.yWt=NaN,this.mWt=NaN,this.pWt=!1},n.Ls=function(){var t=this.cC;t.removeEventListener("playing",this.kWt),t.removeEventListener("pause",this.bWt),t.removeEventListener("seeking",this.SWt),t.removeEventListener("timeupdate",this.EWt),t.removeEventListener(Ty.ow,this.TWt),this.cC=null},t}(),IZ=function(t){function n(n,i){var e;return(e=t.call(this)||this).IWt=void 0,e.ZR=void 0,e.vW=!1,e.oa=NaN,e.RWt=void 0,e.ye=void 0,e.pqt=void 0,e.NWt=void 0,e.tN=void 0,e.configuration={},e.loading=!1,e.loaded=!1,e.jqt=sy.Ng,e.CWt=function(){e.NWt.seeking||(e.NWt.removeEventListener("seeked",e.CWt),e.dispatchEvent("seeked"),e.DWt.paused?e.ye=e.PWt:e.BWt(),e.RV())},e.xWt=function(){e.NWt.paused||(e.NWt.removeEventListener("playing",e.xWt),e.dispatchEvent("playing"))},e.OWt=function(t){e.ye=e.LWt,e.tN=t,e.dispatchEvent({type:"error",error:e.tN})},e.MWt={paused:!0,play:function(){e.removeEventListener("ezt",e.MWt.FWt),e.vW?(e.ye=e.UWt,e.NWt.removeEventListener("playing",e.xWt),e.NWt.addEventListener("playing",e.xWt),e.NWt.play(),e.dispatchEvent("play")):e.addEventListener("ezt",e.MWt.FWt)},FWt:function(){e.removeEventListener("ezt",e.MWt.FWt),e.ye.play()},stall:function(){},pause:function(){e.MWt.FWt&&e.removeEventListener("ezt",e.MWt.FWt),e.NWt.pause(),e.dispatchEvent("pause"),e.ye=e.PWt},load:function(t){},tHt:function(){return e.vW?e.NWt.tHt():0},PHt:function(t,n){var i=WG(e.nm,t);n=n||!i,e.NWt.removeEventListener("seeked",e.CWt),e.NWt.addEventListener("seeked",e.CWt),e.DWt.seekTime=t,e.ye=e.DWt,e.dispatchEvent("SHt"),e.NWt.PHt(t,n),e.dispatchEvent("seeking")},$L:function(){return e.NWt.$w},sIt:function(t){e.DWt.seekTime=e.tHt(),e.ye=e.jWt,e.NWt.removeEventListener("sIt",e.jWt.HWt),e.NWt.addEventListener("sIt",e.jWt.HWt),e.NWt.sIt(t),e.RV()},forwardEvent:function(t){"pause"===t.type&&e.NWt.ended||e.dispatchEvent(t)}},e.PWt=Fr({},e.MWt,{pause:function(){e.removeEventListener("ezt",e.MWt.FWt)},PHt:function(t){e.DWt.paused=!0,e.MWt.PHt(t)},sIt:function(t){e.DWt.paused=!0,e.MWt.sIt(t)}}),e.XWt=Fr({},e.PWt),e.zWt=Fr({},e.PWt,{load:function(t,n){e.removeEventListener("ezt",e.zWt.VWt),n||e.dispatchEvent("loadstart"),e.vW?e.NWt.load(t):(e.zWt.qWt=t,e.addEventListener("ezt",e.zWt.VWt))},VWt:function(){e.removeEventListener("ezt",e.zWt.VWt),e.ye.load(e.zWt.qWt,!0)},qWt:null,tHt:function(){return e.vW?e.NWt.tHt():e.zWt.WWt},PHt:function(t){e.removeEventListener("ezt",e.zWt.GWt),e.vW?(e.ye=e.PWt,e.ye.PHt(t)):(e.zWt.WWt=t,e.addEventListener("ezt",e.zWt.GWt),e.dispatchEvent("seeking"))},GWt:function(){e.removeEventListener("ezt",e.zWt.GWt),e.ye.PHt(e.zWt.WWt)},WWt:0,sIt:function(t){}}),e.UWt=Fr({},e.MWt,{PHt:function(t){e.DWt.paused=!1,e.MWt.PHt(t)},play:function(){},stall:function(){e.ye=e.YWt,e.YWt.$Wt=e.NWt.tHt(),e.YWt.paused=!1,e.NWt.addEventListener("RVt",e.YWt.QWt),e.NWt.jVt(e.YWt.$Wt),e.RV()},sIt:function(t){e.DWt.paused=!1,e.MWt.sIt(t)}}),e.YWt=Fr({},e.UWt,{paused:!1,$Wt:0,PHt:function(t){e.NWt.removeEventListener("RVt",e.YWt.QWt),e.YWt.paused?e.ye=e.PWt:e.ye=e.UWt,e.ye.PHt(t),e.RV()},tHt:function(){return e.YWt.$Wt},$L:function(){return w.min(e.NWt.$w,sy.Dg)},forwardEvent:function(){},play:function(){e.YWt.paused=!1,e.dispatchEvent("play")},pause:function(){e.YWt.paused=!0,e.dispatchEvent("pause")},stall:function(){},QWt:function(){e.NWt.seeking||(e.NWt.removeEventListener("RVt",e.YWt.QWt),e.YWt.paused?e.ye=e.PWt:e.MWt.play(),e.RV())}}),e.DWt=Fr({},e.MWt,{paused:!1,seekTime:0,tHt:function(){return e.DWt.seekTime},play:function(){e.DWt.paused=!1},pause:function(){e.DWt.paused=!0,e.NWt.pause(),e.dispatchEvent("pause")}}),e.jWt=Fr({},e.DWt,{PHt:function(t){e.NWt.removeEventListener("sIt",e.jWt.HWt),e.DWt.paused?e.ye=e.PWt:e.ye=e.UWt,e.ye.PHt(t)},$L:function(){return w.min(e.NWt.$w,sy.Dg)},forwardEvent:function(){},stall:function(){},HWt:function(){e.NWt.seeking||(e.NWt.removeEventListener("sIt",e.jWt.HWt),e.DWt.paused?e.ye=e.PWt:e.MWt.play(),e.RV())}}),e.LWt=Fr({},e.MWt,{play:function(){},pause:function(){},load:function(){},tHt:function(){return NaN},$L:function(){return sy.Ng},PHt:function(t){e.MWt.PHt(t,!0)},sIt:function(t){}}),e.$s=function(t){e.dispatchEvent(t)},e.KWt=function(t){e.ye.forwardEvent(t)},e.ZWt=function(t){e.OWt(t.error)},e.JWt=function(t){if(t.origin&&t.origin.b1)return e.Ly();e.ye.stall()},e.vVt=function(){var t=e.NWt.duration;t&&e.oa!==t&&(e.oa=t,e.dispatchEvent("durationchange"))},e.tGt=function(){e.NWt.loaded&&(e.loaded=!0)},e.RV=function(){var t=e.$w;t!==e.jqt&&(e.jqt=t,e.dispatchEvent(Ty.ow))},e.IWt=n,e.ZR=i,e.RWt=new EZ(nn(e)),e.NWt=new aZ,e.ye=e.zWt,e.pqt=s.createElement("div"),e.pqt.style.position="absolute",e.pqt.style.width="100%",e.pqt.style.height="100%",e.nGt(),e}E(n,t);var i=n.prototype;return i.BWt=function(){this.MWt.play()},i.nGt=function(){for(var t=["resize","volumechange","ratechange"],n=["timeupdate","pause","warning"],i=0;i<t.length;i++){var e=t[i];this.NWt.addEventListener(e,this.$s)}for(var r=0;r<n.length;r++){var s=n[r];this.NWt.addEventListener(s,this.KWt)}this.NWt.addEventListener("ended",this.JWt),this.NWt.addEventListener("error",this.ZWt),this.NWt.addEventListener("durationchange",this.vVt),this.NWt.addEventListener("loaded",this.tGt),this.NWt.addEventListener(Ty.ow,this.RV)},i.setup=function(){this.ZR.SN.parentNode===this.IWt?this.IWt.replaceChild(this.pqt,this.ZR.SN):(this.ZR.SN.parentNode&&this.ZR.SN.parentNode.removeChild(this.ZR.SN),this.IWt.appendChild(this.pqt))},i.play=function(){this.ye.play()},i.pause=function(){this.ye.pause()},i.iGt=function(t){this.NWt&&this.NWt.Ed(t),this.vW=!1},i.Ly=function(){this.pause(),this.ye=this.XWt,this.tN=void 0,this.dispatchEvent("ended"),this.dispatchEvent("pause")},i.load=function(t){this.ye.load(t)},i.unload=function(){return this.NWt.Ed(),this.RWt.Ls(),this.pqt.parentNode===this.IWt?this.IWt.replaceChild(this.ZR.SN,this.pqt):(this.pqt.parentNode&&this.pqt.parentNode.removeChild(this.pqt),this.IWt.appendChild(this.ZR.SN)),this.tu(),this.ZR.SN},i.reset=function(t){this.vW=!1,this.ye=this.zWt,this.tN=void 0,this.oa=NaN,this.jqt=sy.Ng,this.RWt.bw(),this.iGt(t),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},i.sIt=function(t){this.ye.sIt(t)},i.a8=function(t){return this.NWt.a8(t),Ye.resolve()},i.Gy=function(){return this.NWt.Gy()},i.tHt=function(){return this.ye.tHt()},i.PHt=function(t){this.RWt.SHt(),this.ye.PHt(t)},i.qMt=function(t,n){return Ye.resolve()},i.canPlayCodecs=function(t){return this.NWt.HVt('video/mp4; codecs="'+t+'"')},i.mrt=function(t,n,i){var e={};for(var r in t)if(U.call(t,r)){var s=t[r];!this.NWt.videoStream&&s.XH&&(this.NWt.videoStream=new bZ(this.pqt,"XH"),e.XH=this.NWt.videoStream),!this.NWt.audioStream&&s.zH&&(this.NWt.audioStream=new bZ(this.pqt,"zH"),e.zH=this.NWt.audioStream,this.dispatchEvent("YXt"))}return this.vW=!0,this.dispatchEvent("ezt"),Ye.resolve(e)},T(n,[{key:"yHt",get:function(){return this.vW}},{key:"um",get:function(){return this.pqt}},{key:"nm",get:function(){return this.NWt.nm}},{key:"volume",get:function(){return this.NWt.volume},set:function(t){this.NWt.volume=t}},{key:"duration",get:function(){return this.oa}},{key:"muted",get:function(){return this.NWt.muted},set:function(t){this.NWt.muted=t}},{key:"paused",get:function(){return this.ye.paused&&this.NWt.paused}},{key:"played",get:function(){return this.RWt.Dz()}},{key:"ended",get:function(){return this.ye===this.XWt}},{key:"seeking",get:function(){return this.ye===this.DWt}},{key:"error",get:function(){return this.tN||this.NWt.error}},{key:"warning",get:function(){return this.NWt.warning}},{key:"width",get:function(){return this.NWt.XVt()}},{key:"height",get:function(){return this.NWt.zVt()}},{key:"Wg",get:function(){return this.NWt.Wg},set:function(t){this.NWt.Wg=t}},{key:"$w",get:function(){return this.ye.$L()}},{key:"$g",get:function(){return this.NWt.$g}},{key:"Yg",get:function(){return this.NWt.Yg}}]),n}(MW);!function(t){t.VTt="unsupported",t.eGt="native",t.rGt="hls-native",t.sGt="hls-mse",t.uGt="hls-switching-video"}(SZ||(SZ={}));var RZ=function(){function t(){this.oGt={},this.aGt(SZ.eGt,MK),this.aGt(SZ.rGt,MK),this.aGt(SZ.sGt,tZ),this.aGt(SZ.uGt,IZ)}return t.prototype.aGt=function(t,n){this.oGt[t]=n},t.aGt=function(n,i){t.aJ.aGt(n,i)},t.hGt=function(n,i,e){var r=t.aJ.oGt[n];return r?new r(i,e):void 0},t}();RZ.aJ=new RZ;var NZ=function(t){function n(n){var i;return(i=t.call(this)||this).cGt=void 0,i.fGt=function(t){i.Qs(t)},i.cGt=n,i.vGt(),i}E(n,t);var i=n.prototype;return i.vGt=function(){this.cGt.Ks("Ix",this.fGt)},i.lGt=function(){this.cGt.nu("Ix",this.fGt)},i.Ed=function(){this.lGt()},T(n,[{key:"Bx",get:function(){return this.cGt.Bx}},{key:"xx",get:function(){return this.cGt.xx}},{key:"dGt",set:function(t){if(this.cGt!==t){var n=this.xx,i=this.Bx;this.lGt(),this.cGt=t,this.vGt();var e=this.xx,r=this.Bx;n===e&&i===r||this.Qs(new rR(e,r))}}}]),n}(Tu);function CZ(t){return void 0!==t&&-1!==t.indexOf("m3u8")}function DZ(t){return void 0!==t&&(0===t.toLowerCase().indexOf("application/x-mpegurl")||0===t.toLowerCase().indexOf("application/vnd.apple.mpegurl"))}function PZ(t,n){var i=t.type;return i?Lb?DZ(i)?!zb||n.useSwitchOverMSE||F.Pn&&n.vr&&n.vr[360]?!Ub||F.En||F.Cn&&F.Yt?jb?SZ.uGt:SZ.VTt:SZ.rGt:SZ.sGt:SZ.eGt:SZ.VTt:SZ.eGt}var BZ=function(t,n,i,e,r){var s,u,o,c,f,l,d=this,g=null,p=null,k=null,b=!0,A=null,T=null,S=!1,E=null,I=null,R=null,N=$S,C=$S,D=!0,P=null,B={vJ:0,qVt:0},x=null,O=null,L=null,M=1,U=!1,j="none",H=!0,X=!0,z=!1,q=null,W=!0,G=!1,Y=sy.Ng,$=!1,Q=!1,K=NaN,Z=null,J=null,tt=F.un&&Fb,nt=!1,it="",et=SZ.VTt,rt=null,st=function(){var t=new jW(UW.VTt,{info:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."});d.dispatchEvent({type:"unsupportedPlatform"}),Yt(t)},ut=function(){var t,e;return(t=i.audioOnly?(e=n.TN(gm._d)).SN:(e=n.TN(gm.wd)).SN).preload="none",hr(t),e},ot=function(t){return t===I?R:I},at=function(){A.style.zIndex="1",T.style.zIndex="0",A.style.display=b?"":"none",T.style.display=b&&S?"":"none"},ht=function(t){wt(t.cIt),_t(t.fIt),u&&(u.cIt=o),mt()},ct=function(t,n){yt(t.cIt,n),gt(t.fIt),u&&(u.cIt=o)},ft=function(){Ht(),It(),d.dispatchEvent("timeupdate"),d.dispatchEvent("ended")},vt=function(){var t=function(t){if("error"===t.type)return Yt(t.error);d.dispatchEvent(t)},n=function(t,n){var i;for(i=0;i<t.length;i+=1)p.addEventListener(t[i],n,!0)};switch(p.addEventListener("YXt",function(){p.volume=M,p.muted=U}),p.addEventListener("loadedmetadata",function(t){et===SZ.eGt&&(G=!0,d.dispatchEvent(t))}),p.addEventListener("durationchange",function(){var t=p.duration;t&&t!==1/0&&K!==t&&(K=t,d.dispatchEvent("durationchange"))}),p.addEventListener("seeking",jt),p.addEventListener("seeked",Ht),p.addEventListener("ended",ft),p.addEventListener(Ty.ow,Jt),p.setup(),l.IHt=p,n(["timeupdate","playing","ratechange","resize"],t),et){case SZ.eGt:case SZ.rGt:n(["abort","emptied","error","loadstart","progress","suspend"],t);break;case SZ.sGt:n(["play","pause"],Tt)}p.addEventListener("warning",function(t){d.warning=t.warning,d.dispatchEvent(t)}),d.dispatchEvent("volumechange")},lt=function(t){g&&g.dXt(),p&&(g=new yK(t,tt,f,e))},dt=function(t){var n=Ct(t.sources),e=t.textTracks||[],r=PK(t.configuration,i);return n&&n.contentProtection&&n.contentProtection.aes128&&n.contentProtection.aes128.useCredentials&&(r.LXt=!0),{sources:[n],textTracks:e,configuration:r}},_t=function(t){gt(t)},wt=function(t){o&&(o.Ed(),o=null,d.initialized=!1),(o=t)&&(d.dispatchEvent("loadstart",!0),o.addEventListener("loadedmetadata",function(){G=!0,Jt()}),o.addEventListener("durationchange",function(){K=o.Hg,d.dispatchEvent("durationchange")}),o.addEventListener("mu",function(t){Yt(t.mu)}),o.addEventListener("Pd",pt),o.addEventListener("gm",pt),o.jIt.addEventListener("renditionUpdated",function(){Vt()}),l.jIt=o.jIt)},gt=function(t){var n;c&&(c.Ed(),c=null),p&&(c=t)&&(n=c.Zjt,c.addEventListener("eIt",function(t){var n=d.videoWidth,i=d.videoHeight;Z=t.vlt,d.dispatchEvent(t),Yb&&n===d.videoWidth&&i===d.videoHeight||d.dispatchEvent("resize")}),c.addEventListener("mu",function(t){Yt(t.error)}),c.addEventListener("Cjt",function(t){d.dispatchEvent(t)}),c.IHt=p,m(n)||Ft(n))},yt=function(t,n){o&&(o.Ed(),o=null,d.initialized=!1),(o=t)&&(d.dispatchEvent("loadstart",!0),o.addEventListener("loadedmetadata",function(){G=!0,Jt()}),o.addEventListener(Bf.Lf,function(t){d.dispatchEvent(t)}),o.addEventListener(Bf.Ff,function(t){d.dispatchEvent(t)}),o.addEventListener("durationchange",function(){K=o.Hg,d.dispatchEvent("durationchange")}),o.addEventListener("mu",function(t){Yt(t.mu)}),o.addEventListener("Pd",pt),o.addEventListener("gm",pt),o.addEventListener("GIt",function(){d.dispatchEvent("progress")}),o.jIt.addEventListener("renditionUpdated",function(){Vt()}),o.jIt.addEventListener("renditionUpdated",function(t){var i,e=t.vlt.VH&&t.vlt.VH.zH;e&&-1!==e.indexOf("mp4a.40.3")&&("bPt"!==n.APt||Xb||(i=x,LW(function(){n.useSwitchOverMSE=!0;var t=X;x=null,tn({sources:i,configuration:n}),t||Et()})))}),l.jIt=o.jIt)},mt=function(){p.addEventListener("play",function(){d.play({fromNative:!0})}),p.addEventListener("pause",function(){d.pause({fromNative:!0})}),p.addEventListener("volumechange",function(){d.volume=p.volume,d.muted=p.muted}),p.addEventListener("webkitpresentationmodechanged",xt)},pt=function(){var t=W,n=!o||o.gm;W=n,n&&!t?d.dispatchEvent(Bf.Ef):!n&&t&&d.dispatchEvent(Bf.Sf)},kt=function(){H=!1,X=!1,$=!0,p.configuration.useNativeVideoPlayback||p.loaded||St(),Vt()},bt=function t(){d.removeEventListener("initialized",t),d.removeEventListener("initialized",At),H&&(kt(),d.ended?Ft(0):qt(),p.play(),c&&c.xy())},At=function t(){d.removeEventListener("initialized",bt),d.removeEventListener("initialized",t),H&&(kt(),qt())},Tt=function(t){var n=X;X="pause"===t.type,n&&!X?d.play({fromNative:!0}):!n&&X&&d.pause({fromNative:!0})},St=function(){$=!0,p.configuration.useNativeVideoPlayback?(p.load(),B.qVt="start"):p.loading||(p.load(),p.loading=!0),Vt()},Et=function(t){if(t=t||{},X=!1,D&&(D=!1,n.CD()),B._Gt=!1,!d.initialized||!p){if(t.onlyWhenInitialized){var i=new jW(UW.HTt,{code:"MGB6720"});throw Yt(i),i}return d.removeEventListener("initialized",bt),d.removeEventListener("initialized",At),d.addEventListener("initialized",t.fromNative?At:bt),d.dispatchEvent("play",!0),void d.dispatchEvent("waiting",!0)}if(H){if(z&&d.ended)return It(),void d.dispatchEvent("timeupdate",!0);d.dispatchEvent("play",!0),t.fromNative?At():bt()}},It=function(t){X=!0,(t=t||{}).fromNative||d.removeEventListener("initialized",bt),d.removeEventListener("initialized",At),!H&&p&&(H=!0,t.fromNative||p.pause(),d.dispatchEvent("pause",!0))},Rt=function(t){return{type:CZ(t)?"application/vnd.apple.mpegurl":"",src:t}},Nt=function(t){return"string"==typeof t},Ct=function(t){if(CK(t))return t.type?t:Rt(t.src);if(Nt(t))return Rt(t);if(V(t)&&Nt(t[0])){for(var n=0;n<t.length;n++){var i=t[n];if(CZ(i))return Rt(i)}return Rt(t[0])}if(V(t)&&CK(t[0])){for(var e=0;e<t.length;e++){var r=t[e];if(DZ(r.type)||!r.type&&CZ(r.src))return r.type?r:Rt(r.src)}return t[0]}return{type:null,src:null}},Dt=function(t){var n=(t=dt(t)).sources[0],i=t.configuration,s=PZ(n,i);!function(t,n){switch(t){case SZ.eGt:case SZ.rGt:n.APt=!1,n.wGt=!1;break;case SZ.sGt:n.APt="bPt",n.wGt=!0;break;case SZ.uGt:n.APt="vBt",n.wGt=F.qt}}(s,i);var o=function(t,n,i){var s,o,a,h=i.configuration;switch(t){case SZ.eGt:a=s=o=null;break;case SZ.rGt:a=null;var c=new hK(h,e);s=c,o=new _K(c);break;case SZ.sGt:case SZ.uGt:a=new kK(h,e);var f=new aK(h,a,e,r);s=f,o=new lK(f);break;default:return null}return new CG(n,t,i,a,s,o,u)}(s,n,t);return o?(o.fIt&&(o.fIt.Wg=d.playbackRate),o):null},Pt=function(t){tn({sources:t})},Bt=function(n,i){var e=E,r=e.SN,u=!1,o=!d.paused,a=et,h=d.playbackRate,c=d.gGt;J&&(J.Ed(),J=null),nn();var f=n&&n.JIt||null;n&&n.KIt,O=n&&n.hC||null,L=f&&f.configuration||null,et=n&&n.ZIt||SZ.VTt,$t();var v={type:"yGt",mGt:n,uc:L,pGt:i};if(d.dispatchEvent(v),et!==SZ.VTt){if(p){d.pause();var l=a===et||a===SZ.rGt&&et===SZ.eGt||a===SZ.eGt&&et===SZ.rGt,_=i&&!F.un;if(l&&!_)p.reset(),g.bw();else{if(_?(k=p,r=(e=ot(e)).SN):r=p.unload(),!(u=RZ.hGt(et,t,e)))return void st();p=u,vt(),lt(r)}Ht(),G=!1,Y=sy.Ng,$=!1,Q=!1,K=NaN,P=null,d.dispatchEvent("durationchange"),B.qVt=0,B.vJ=0,B._Gt=!0,d.dispatchEvent("timeupdate")}else{if(!(u=RZ.hGt(et,t,e)))return void st();p=u,e.SN.removeAttribute("poster"),vt(),lt(e.SN)}switch(E=e,s.dGt=E.DF,A=p.um,k?(T=k.um,S=!0):(T=ot(e).SN,S=!1),at(),L.crossOrigin){case ny.Ag:case ny.Tg:E.SN.setAttribute("crossorigin",L.crossOrigin);break;default:E.SN.removeAttribute("crossorigin")}if(c!==d.gGt&&d.dispatchEvent(Bf.pf),xt(),Ot(),!O)return x=null,void(d.initialized=!1);!function(t,n){switch(et){case SZ.eGt:case SZ.rGt:ht(t);break;case SZ.sGt:case SZ.uGt:ct(t,n);break;default:return}t.cC=d,t.fRt(j)}(J=n,L),p.src=O,g.cXt(f&&f.textTracks),d.playbackRate=h,x=O;var w={type:"kGt",mGt:n,uc:L,pGt:i};d.dispatchEvent(w),d.initialized=!0,d.dispatchEvent("initialized"),pt(),Ft("start"),p.configuration.useNativeVideoPlayback&&F.un&&o&&Gt()&&(d.play(),d.pause()),f&&d.dispatchEvent({type:"sourcechange",sourceDescription:f})}else st()},xt=function(){var t=it;(it=d.ZXt)!==t&&d.dispatchEvent("bGt")},Ot=function(){l&&(l.Nq=tt&&nt)},Lt=function(){return p&&p.yHt?p.volume:M},Mt=function(){if(!Q)return"start"===P?0:P||0;if(!p||B._Gt)return B.qVt;if(c){var t=c.Zjt;return"start"===t?0:t}return p.tHt()},Ft=function(t){if(!Q){var n=Mt();return P=t,void(n!==Mt()&&jt())}if(P=null,"start"===t&&(t=d.live?1/0:0),t=y(t)||0,t=Kt(t),p){if(w.abs(B.qVt-t)<.001&&VI()-B.vJ<50)return;jt(),c?c.Zjt=t:p.PHt(t),p.seeking||Ht(),B={qVt:t,vJ:VI()}}},jt=function(){z=!0,zt(),rt=a(Xt,100)},Ht=function(){z&&(z=!1,rt&&Xt(),d.dispatchEvent("seeked"))},Xt=function(){zt(),d.dispatchEvent("seeking")},zt=function(){rt&&(h(rt),rt=null)},Vt=function(){Q||(Q=!m(K)&&Qt().length>0&&($||!d.live))&&d.dispatchEvent("vqt")},qt=function t(){d.removeEventListener("vqt",t),null!==P&&(Q?Ft(P):d.addEventListener("vqt",t))},Wt=function(){return p&&p.yHt?p.muted:U},Gt=function(){return X},Yt=function(t){if(t&&t.code===UW.XTt)return n=!X,Pt(J.hC),void(n&&Et());var n;Gt()||It(),q=t,d.dispatchEvent({type:"error",error:q})},$t=function(){q=null},Qt=function(){return FG(c?c.pm:K>0?new jG([{IC:0,NC:K}]):HG)},Kt=function(t){var n=Qt();return n.length?Ut(t,n.start(0),n.end(n.length-1)):0},Zt=function(){var t=p?p.$w:sy.Ng;return G&&(t=w.max(sy.Cg,t)),t},Jt=function(){var t=Zt();t!==Y&&(Y=t,d.dispatchEvent(Ty.ow))},tn=function(t){var n=Dt(t);Bt(n,!1)},nn=function(){if(k){var t=k.unload();k=null,S=!1,T=t||ot(E).SN,at()}};d.initialized=!1,d.warning=null,d.play=Et,d.pause=It,d.load=function(){if(!d.initialized||!p){var t=new jW(UW.HTt,{code:"MGB7330"});throw Yt(t),t}St(),Ft("start")},d.AGt=Dt,d.TGt=Bt,d.Ls=function(){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(d.Ps=!0,d.tu(),x&&Pt(null),l&&(l.Ed(),l=null),f&&(f.bw(),f=null),nn(),p&&(p.unload(),p=null),!I.SN){i.next=11;break}return i.next=10,Mr.awrap(n.XN(I));case 10:I=null;case 11:if(!R.SN){i.next=15;break}return i.next=14,Mr.awrap(n.XN(R));case 14:R=null;case 15:s.Ed(),t=null;case 17:case"end":return i.stop()}},null,null,null,Ye)},d.Fy=tn,d.qy=function(){b=!0,at()},d.Wy=function(){b=!1,at()},d.Gy=function(){return p&&p.Gy()},d.cm=function(){return Fr({},{fm:0,vm:0,lm:0,dm:0,_m:0,wm:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},p?gN(p.IHt):{fm:0,vm:0,lm:0},{dm:Jg()})},_.defineProperty(d,"buffered",{get:function(){return FG(p?p.nm:HG)}}),_.defineProperty(d,"played",{get:function(){return p?FG(p.played):HG}}),_.defineProperty(d,"seekable",{get:Qt}),_.defineProperty(d,"live",{get:function(){return!(!o||!KW.oy(o.jIt.A_t))}}),_.defineProperty(d,"volume",{get:Lt,set:function(t){(t=y(t))!==Lt()&&(p&&(p.volume=t),M=t,d.dispatchEvent("volumechange"))}}),_.defineProperty(d,"currentTime",{get:Mt,set:Ft}),_.defineProperty(d,"dimensions",{get:function(){return s}}),_.defineProperty(d,"currentProgramDateTime",{get:function(){return c?c.im:null},set:function(t){var n,i;(i=t)&&"function"==typeof i.getTime&&!m(i.getTime())&&c&&(n=c.oLt(t),m(n)||null===n||Ft(n))}}),_.defineProperty(d,"duration",{get:function(){return K}}),_.defineProperty(d,"muted",{get:Wt,set:function(t){t!==Wt()&&(U=t,p&&(p.muted=t),U=t,d.dispatchEvent("volumechange"))}}),_.defineProperty(d,"paused",{get:Gt,set:function(t){t?It():Et()}}),_.defineProperty(d,"preload",{get:function(){return j},set:function(t){j=jS((t||"none").toLowerCase())}}),_.defineProperty(d,"ended",{get:function(){return p&&p.ended||!1}}),_.defineProperty(d,"seeking",{get:function(){return z}}),_.defineProperty(d,"error",{get:function(){return q||p&&p.error}}),_.defineProperty(d,"element",{get:function(){return t}}),_.defineProperty(d,"gGt",{get:function(){return L&&L.vr&&L.vr[360]?$S:E===I?N:C}}),_.defineProperty(d,"videoWidth",{get:function(){return p?p.$g:Z&&Z.resolution?Z.resolution.width:0}}),_.defineProperty(d,"videoHeight",{get:function(){return p?p.Yg:Z&&Z.resolution?Z.resolution.height:0}}),_.defineProperty(d,"frameRate",{get:function(){return c&&c.TEt}}),_.defineProperty(d,"frameAccurateSeekEnabled",{get:function(){return!d.live&&p&&p.paused&&d.frameRate}}),_.defineProperty(d,"currentFrame",{get:function(){return c?c.CHt(Mt()):NaN},set:function(t){d.frameAccurateSeekEnabled&&(t=y(t),Ft(c.DHt(t)))}}),_.defineProperty(d,"playbackRate",{get:function(){return c&&c.Wg||p&&p.Wg||1},set:function(t){(t=y(t))>0&&(c?c.Wg=t:p&&(p.Wg=t))}}),_.defineProperty(d,"videoTracks",{get:function(){return J&&J.Dy.X_||null}}),_.defineProperty(d,"audioTracks",{get:function(){return J&&J.Cy.X_||null}}),_.defineProperty(d,"Py",{get:function(){return f}}),_.defineProperty(d,"online",{get:function(){return W}}),_.defineProperty(d,"QXt",{get:function(){return p&&p.QXt}}),_.defineProperty(d,"KXt",{get:function(){return p&&p.KXt}}),_.defineProperty(d,"ZXt",{get:function(){return p&&p.ZXt||"inline"},set:function(t){p&&(p.ZXt=t)}}),_.defineProperty(d,"SGt",{get:function(){return nt},set:function(t){nt=!!t,Ot()}}),_.defineProperty(d,"$w",{get:Zt}),function(){if(!t)throw new v("Invalid element.");var n;d.addEventListener(Bf.Ef,function(){d.live&&Ft("start")}),d.addEventListener("playing",nn),f=new tb,l=new pK(d,f),d.addEventListener("fullscreenchange",Ot),Ot(),i.allowManualQualitySwitch&&(u=new DG),n=function(t){if("string"==typeof t)try{return FW.Wn.IK(t,d)}catch(n){throw new v("Unknown rule: "+t)}return t},i.eUt=function(t){var i,e=[];for(i=0;i<t.length;i+=1)e.push(n(t[i]));return e}(i.abrRules),d.addEventListener("durationchange",Vt),I=ut(),R=ut(),E=I,A=I.SN,T=R.SN,s=new NZ(E.DF),N=I.FN,C=R.FN,at(),Pt(null)}()};BZ.prototype=new MW,BZ.prototype.constructor=BZ;var xZ,OZ=((xZ={useSwitchOverMSE:!1,ManifestParser:"EGt",allowManualQualitySwitch:"panel",initialRendition:"default",playbackRates:!1,isEmbeddable:!1,withCredentials:!1,enableKeyboardShortcuts:!0,skipImplicitHEAACDetection:!0,abrRules:[]}).abrRules.push("DownloadMetricRule"),xZ.abrRules.push("OnlyAllowSameTrackTypeRenditionsRule"),Vb&&xZ.abrRules.push("AvoidHighBitrateStreamsRule"),F.vn&&xZ.abrRules.push("AvoidVideoResolutionGreaterThanDisplaySizeRule"),xZ);var LZ=function(t){function n(n,i){var e;(e=t.call(this)||this).IGt=void 0,e.RGt=void 0,e.Cm=void 0,e.Sm=void 0,e.H_=void 0,e.o5=void 0,e.Git=void 0,e.NGt=function(){return e.CGt()},e.DGt=function(){return e.PGt()},e.olt=function(){return e.Qs(new pm(nn(e)))},e.Cm=Am(),e.IGt=n,e.RGt=i,e.Sm=new mm;for(var r=e.IGt.qualities,s=0;s<r.length;s++){var u=r.item(s),o=e.BGt(u);o.Ks("update",e.olt),e.Sm.Em(o)}return e.IGt.qualities.addEventListener("activequalitychanged",e.NGt),e.IGt.qualities.addEventListener("targetqualitychanged",e.DGt),e.CGt(),e.PGt(),e}E(n,t);var e=n.prototype;return e.xGt=function(t){t!==this.o5&&(this.o5=t,t&&this.Qs(new RH(t)))},e.OGt=function(t,n){return t===n||!(!t||!n)&&Ks(t,n)},e.LGt=function(t){for(var n=0,i=this.Sm.Aw;n<i.length;n++){var e=i[n];if(e.MGt===t)return e}},e.FGt=function(t){for(var n=[],i=0,e=this.Sm.Aw;i<e.length;i++){var r=e[i];Ys(t,r.MGt)&&n.push(r)}return n},e.CGt=function(){var t=this.Bw?this.IGt.qualities.activeQuality:void 0,n=t&&this.LGt(t)||void 0;this.xGt(n)},e.PGt=function(){var t=this.IGt.qualities.targetQuality;t?z(t)?this.jw=this.FGt(t)||void 0:this.jw=this.FGt([t])||void 0:this.jw=void 0},e.Bm=function(t){this.Bw=t},e.Ed=function(){this.IGt.qualities.removeEventListener("activequalitychanged",this.NGt),this.IGt.qualities.removeEventListener("targetqualitychanged",this.DGt);for(var t=0,n=this.Sm.Aw;t<n.length;t++){var i=n[t];i.nu("update",this.olt),i.Ed()}this.Sm.bw()},T(n,[{key:"Pw",get:function(){return this.o5}},{key:"Bw",get:function(){return this.IGt.enabled},set:function(t){t?this.RGt.enable(this.IGt):this.RGt.disable(this.IGt)}},{key:"X_",get:function(){return this.H_||(this.H_=Og(this)),this.H_}},{key:"xw",get:function(){return this.IGt.id+""}},{key:"Ow",get:function(){return this.Cm}},{key:"Lw",get:function(){return this.IGt.kind}},{key:"Mw",get:function(){var t;return null!=(t=this.IGt.name)?t:""},set:function(t){t!==this.Mw&&(this.IGt.name=t,this.Qs(new pm(this)))}},{key:"Fw",get:function(){return this.IGt.language}},{key:"Ww",get:function(){return this.Bw?"enabled":"disabled"}},{key:"Uw",get:function(){return this.Sm}},{key:"jw",get:function(){return this.Git},set:function(t){var n=this.Git,e=void 0!==this.Pw?kM(this.Pw):void 0,r=t?t.filter(function(t){return i.Fr.Me(e,kM(t))}):void 0;r&&0===r.length||this.OGt(r,n)||(this.Git=r,this.IGt.qualities.targetQuality=r?r.map(function(t){return t.MGt}):null,this.Qs(new wM(r,this)))}}]),n}(Tu),MZ=function(t){function n(n){var i,e,r;return(r=t.call(this)||this).MGt=void 0,r.H_=void 0,r.ZD=function(){return r.Kh()},r.xw=void 0,r.Ow=void 0,r.PR=void 0,r.q0=void 0,r.VH=void 0,r.Y0=void 0,r.MGt=n,r.MGt.addEventListener("qualityupdated",r.ZD),r.xw=String(n.id),r.Ow=null!=(i=n.uid)?i:Em(),r.PR=null!=(e=n.bandwidth)?e:NaN,r.q0=n.averageBandwidth,r.VH=n.codecs,r.Y0=n.uri,r}E(n,t);var i=n.prototype;return i.Kh=function(){this.UGt()&&this.Qs(new bL(this.X_))},i.UGt=function(){var t,n,i=this.MGt,e=null!=(t=i.uid)?t:this.Ow,r=null!=(n=i.bandwidth)?n:NaN,s=i.codecs,u=i.uri,o=this.Ow!==e||!zt(this.PR,r)||this.VH!==s||this.Y0!==u;return this.Ow=e,this.PR=r,this.VH=s,this.Y0=u,o},i.Ed=function(){this.MGt.removeEventListener("qualityupdated",this.ZD)},i.cE=function(){},T(n,[{key:"Mw",get:function(){return this.MGt.name||""},set:function(t){this.Mw!==t&&(this.MGt.name=t,this.Qs(new bL(this.X_)))}},{key:"X_",get:function(){return this.H_||(this.H_=this.z_()),this.H_}},{key:"aZ",get:function(){return!0}}]),n}(Tu),FZ=function(t){function n(n){var i;return(i=t.call(this,n)||this).zJ=void 0,i.H_=void 0,i.zJ=NaN,i}return E(n,t),n.prototype.z_=function(){return pL(this)},T(n,[{key:"X_",get:function(){return this.H_||(this.H_=this.z_()),this.H_}}]),n}(MZ),UZ=function(t){function n(n,i){var e;return void 0===i&&(i=0),(e=t.call(this,n)||this).GJ=void 0,e.yp=void 0,e.uT=void 0,e.jGt=void 0,e.H_=void 0,e.GJ=n.frameRate,e.yp=n.resolution?n.resolution.width:NaN,e.uT=n.resolution?n.resolution.height:NaN,e.jGt=i,e}E(n,t);var i=n.prototype;return i.UGt=function(){var n=t.prototype.UGt.call(this),i=this.MGt,e=i.frameRate,r=i.resolution?i.resolution.width:NaN,s=i.resolution?i.resolution.height:NaN;return n=n||!zt(this.GJ,e)||!zt(this.yp,r)||!zt(this.uT,s),this.GJ=e,this.yp=r,this.uT=s,n},i.z_=function(){return mL(this)},T(n,[{key:"X_",get:function(){return this.H_||(this.H_=this.z_()),this.H_}},{key:"W0",get:function(){return this.jGt},set:function(t){this.jGt!==t&&(this.jGt=t,this.Qs(new bL(this.X_)))}}]),n}(MZ),jZ=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.BGt=function(t){return new FZ(t)},n}(LZ),HZ=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).HGt=void 0,n}E(n,t);var i=n.prototype;return i.BGt=function(t){return new UZ(t,this.HGt)},i.XGt=function(t){this.HGt=t;for(var n=0,i=this.Uw.Aw;n<i.length;n++){var e=i[n];void 0!==e.W0&&(e.W0=t)}},n}(LZ);function XZ(t,n){for(var i=0;i<t.Tw;i++){var e=t.gw(i);if(e.IGt===n)return e}}var zZ=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this)||this).bD=void 0,o.FQ=void 0,o.zGt=void 0,o.w8=void 0,o.bkt=void 0,o.Ty=void 0,o.Sy=void 0,o.ZW=void 0,o.Ey=void 0,o.lE=void 0,o.tK=void 0,o.nK=void 0,o.C8=void 0,o.tN=void 0,o.nN=void 0,o.VGt=NaN,o.q8=0,o.oN=new bS,o.aN=new RS,o.qGt=function(){o.Qs(new Iy(o.jg))},o.WGt=function(){o.Qs(new Ey(o.jg))},o.c9=function(){o.Qs(new Ly(o.jg))},o.f9=function(){o.Qs(new My(o.jg))},o.GGt=function(){o.Qs(new Py(o.jg,o.Wg))},o.YGt=function(){o.Qs(new Fy(o.jg,o.Qg))},o.$Gt=function(){o.Qs(new mC(o.jg))},o.QGt=function(){o.Qs(new xy(o.jg))},o.KGt=function(){o.Qs(new pC)},o.ZGt=function(){o.Qs(new GM)},o.JGt=function(){o.Qs(new YM)},o.tYt=function(){o.ebt(),o.bkt.bw(),o.dAt(),o.HN()},o.XF=function(){o.dAt(),o.HN(),o.RN()},o.ebt=function(){var t=o.VGt,n=o.Hg;o.VGt=n,t===n||m(t)&&m(n)||o.Qs(new Dy(n))},o.nYt=function(t){var n=t.error||o.zGt.error;if(n){var i,e=am.DECODE;n.code===UW.LTt&&ks(n.info.code,"VEE")&&(e=+n.info.code.substr("VEE".length)),n.info&&(i=n.info.code),o.tN=new vm(e,n.message,i),o.Qs(new Xy(_m(o.tN)))}},o.fN=function(){o.Qs(new By(o.jg,o.im))},o.iYt=function(){o.$g>0&&o.Yg>0&&o.Qs(new Nb)},o.eYt=function(){o.Qs(new Qg)},o.rYt=function(t){o.Sy.Aw.forEach(function(n){return n.XGt(t.ptsOffset)})},o.sYt=function(t){o.q8+=t._m,o.Qs(t)},o.uYt=function(t){return o.oYt(t.track)},o.aYt=function(t){return o.hYt(t.track)},o.cYt=function(t){var n=XZ(o.Ty,t.track);n&&n.Qs(new _g(n))},o.fYt=function(t){var n=XZ(o.Sy,t.track);n&&n.Qs(new _g(n))},o.FQ=n,o.bD=i,r=function(t){var n,i={};return i=DK(t,i),(i=DK(OZ,i)).abrRules=i.abrRules.slice(0),i.allowManualQualitySwitch=!F.Qt&&i.allowManualQualitySwitch,i.libraryLocation=m_(i.libraryLocation||"./",!0),i.initialRendition=i.initialRendition&&i.initialRendition.toLowerCase(),i.localisation=(n=i.localisation||{},function(t){return U.call(n,t)?n[t]:t}),i}(r),o.zGt=new BZ(o.FQ,o.bD,r,e,s),o.vYt(),o.w8=new VZ(o.zGt),o.bkt=new nA(o.w8,!0),o.bkt.Ks(Ny,o.$s),o.Ty=new ym,o.Sy=new ym,o.lE=new nX(nn(o),new uB),o.ZW=new dB(o.lE,o.zGt.Py),o.Ey=new SS([o.zGt.Py,o.ZW.VA]),o.tK=new HB,o.tK.RY(n),o.nK=new Vx(o.tK.um,o.zGt.dimensions,o.Py,u,o.zGt.gGt),o.RN(),o}E(n,t);var i=n.prototype;return i.Wy=function(){this.zGt.Wy(),this.tK.Wy()},i.qy=function(){this.zGt.qy(),this.tK.qy()},i.Fy=function(t,n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:this.C8=t,this.zGt.Fy({sources:{src:t.src,type:iy.pg,contentProtection:t.contentProtection},textTracks:n.textTracks,configuration:Fr({},n,{crossOrigin:t.crossOrigin,withCredentials:t.useCredentials,liveOffset:t.liveOffset,hlsDateRange:t.hlsDateRange,hls:t.hls})});case 2:case"end":return i.stop()}},null,this,null,Ye)},i.xy=function(){this.zGt.play()},i.Oy=function(){this.zGt.pause()},i.bw=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.C8=void 0,this.tN=void 0,this.nN=void 0,this.q8=0,this.zGt.Fy({sources:null}),this.bkt.bw(),this.lE.bw(),this.dAt();case 8:case"end":return t.stop()}},null,this,null,Ye)},i.Uy=function(){return!1},i.jy=function(){},i.Hy=function(){},i.Gy=function(){return this.zGt.Gy()||void 0},i.Yy=function(){return this.zGt.gGt},i.tm=function(){},i.Ed=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mr.awrap(this.bw());case 2:return this.tu(),this.bkt.Ed(),this.w8.Ed(),this.lYt(),t.next=8,Mr.awrap(this.zGt.Ls());case 8:return this.Ty.Ed(),this.Sy.Ed(),t.next=12,Mr.awrap(this.ZW.Ed());case 12:this.lE.Ed(),this.Ey.Ed(),this.nK.Ed(),this.tK.Ed();case 16:case"end":return t.stop()}},null,this,null,Ye)},i.vYt=function(){this.zGt.addEventListener("yGt",this.tYt),this.zGt.addEventListener("kGt",this.XF),this.zGt.addEventListener("durationchange",this.ebt),this.zGt.addEventListener("error",this.nYt),this.zGt.addEventListener("timeupdate",this.fN),this.zGt.addEventListener("resize",this.iYt),this.zGt.addEventListener(Bf.pf,this.eYt),this.zGt.addEventListener("Cjt",this.rYt),this.zGt.addEventListener(Bf.Ff,this.sYt),this.zGt.addEventListener("play",this.qGt),this.zGt.addEventListener("pause",this.WGt),this.zGt.addEventListener("seeking",this.c9),this.zGt.addEventListener("seeked",this.f9),this.zGt.addEventListener("ratechange",this.GGt),this.zGt.addEventListener("volumechange",this.YGt),this.zGt.addEventListener("progress",this.$Gt),this.zGt.addEventListener("ended",this.QGt),this.zGt.addEventListener("loadstart",this.KGt),this.zGt.addEventListener(Bf.Ef,this.ZGt),this.zGt.addEventListener(Bf.Sf,this.JGt),this.zGt.addEventListener(Bf.Lf,this.$s)},i.lYt=function(){this.zGt.removeEventListener("yGt",this.tYt),this.zGt.removeEventListener("kGt",this.XF),this.zGt.removeEventListener("durationchange",this.ebt),this.zGt.removeEventListener("error",this.nYt),this.zGt.removeEventListener("timeupdate",this.fN),this.zGt.removeEventListener("resize",this.iYt),this.zGt.removeEventListener(Bf.pf,this.eYt),this.zGt.removeEventListener("play",this.qGt),this.zGt.removeEventListener("pause",this.WGt),this.zGt.removeEventListener("seeking",this.c9),this.zGt.removeEventListener("seeked",this.f9),this.zGt.removeEventListener("ratechange",this.GGt),this.zGt.removeEventListener("volumechange",this.YGt),this.zGt.removeEventListener("progress",this.$Gt),this.zGt.removeEventListener("ended",this.QGt),this.zGt.removeEventListener("loadstart",this.KGt),this.zGt.removeEventListener(Bf.Ef,this.ZGt),this.zGt.removeEventListener(Bf.Sf,this.JGt),this.zGt.removeEventListener(Bf.Lf,this.$s),this.zGt.removeEventListener(Bf.Ff,this.sYt)},i.RN=function(){var t=this.zGt.audioTracks,n=this.zGt.videoTracks;if(t){for(var i=0;i<t.length;i++)this.oYt(t.item(i));t.addEventListener("addtrack",this.uYt),t.addEventListener("enabledtrack",this.cYt),t.addEventListener("disabledtrack",this.cYt)}if(n){for(var e=0;e<n.length;e++)this.hYt(n.item(e));n.addEventListener("addtrack",this.aYt),n.addEventListener("enabledtrack",this.fYt),n.addEventListener("disabledtrack",this.fYt)}},i.HN=function(){var t=this.zGt.audioTracks,n=this.zGt.videoTracks;t&&(t.removeEventListener("addtrack",this.uYt),t.removeEventListener("enabledtrack",this.cYt),t.removeEventListener("disabledtrack",this.cYt)),n&&(n.removeEventListener("addtrack",this.aYt),n.removeEventListener("enabledtrack",this.fYt),n.removeEventListener("disabledtrack",this.fYt))},i.dAt=function(){for(var t=0,n=this.Ty.Aw;t<n.length;t++){n[t].Ed()}for(var i=0,e=this.Sy.Aw;i<e.length;i++){e[i].Ed()}this.Ty.bw(),this.Sy.bw()},i.oYt=function(t){XZ(this.Ty,t)||this.Ty.yw(new jZ(t,this.zGt.audioTracks))},i.hYt=function(t){XZ(this.Sy,t)||this.Sy.yw(new HZ(t,this.zGt.videoTracks))},T(n,[{key:"Cy",get:function(){return this.Ty}},{key:"nm",get:function(){return this.zGt.buffered}},{key:"im",get:function(){var t;return null!=(t=this.zGt.currentProgramDateTime)?t:void 0},set:function(t){this.zGt.currentProgramDateTime=null!=t?t:null}},{key:"jg",get:function(){var t=this.zGt.currentTime;return t===1/0&&m(this.zGt.duration)&&(t=0),t},set:function(t){this.zGt.currentTime=t}},{key:"Hg",get:function(){var t=this.zGt.duration;return t<0?1/0:t}},{key:"Xg",get:function(){return this.zGt.ended}},{key:"mu",get:function(){return this.tN}},{key:"zg",get:function(){return this.nN}},{key:"By",get:function(){}},{key:"hm",get:function(){return!1}},{key:"cm",get:function(){return Fr({},this.zGt.cm(),{_m:this.q8})}},{key:"Vg",get:function(){return this.zGt.muted},set:function(t){this.zGt.muted=t}},{key:"gm",get:function(){return this.zGt.online}},{key:"qg",get:function(){return this.zGt.paused}},{key:"Wg",get:function(){return this.zGt.playbackRate},set:function(t){this.zGt.playbackRate=t}},{key:"ym",get:function(){return this.zGt.played}},{key:"mm",get:function(){return this.zGt.preload||FS.dC},set:function(t){this.zGt.preload=t}},{key:"$w",get:function(){return this.zGt.$w}},{key:"pm",get:function(){return this.zGt.seekable}},{key:"Gg",get:function(){return this.zGt.seeking}},{key:"YN",get:function(){}},{key:"Py",get:function(){return this.Ey}},{key:"Dy",get:function(){return this.Sy}},{key:"Yg",get:function(){return this.zGt.videoHeight}},{key:"$g",get:function(){return this.zGt.videoWidth}},{key:"Qg",get:function(){return this.zGt.volume},set:function(t){this.zGt.volume=t}},{key:"Am",get:function(){return this.aN}},{key:"Tm",get:function(){return!1},set:function(t){}},{key:"$N",get:function(){return this.oN}}]),n}(Yg),VZ=function(t){function n(n){var i;return(i=t.call(this)||this).zGt=void 0,i.dYt=function(){i.Qs(new Hy(i.jg,i.$w))},i._Yt=function(){i.Qs(new Jb(i.jg))},i.qGt=function(){i.Qs(new Iy(i.jg))},i.WGt=function(){i.Qs(new Ey(i.jg))},i.zGt=n,i.zGt.addEventListener(Ty.ow,i.dYt),i.zGt.addEventListener(Ty.Ug,i._Yt),i.zGt.addEventListener(Bf.Rf,i.qGt),i.zGt.addEventListener(Bf.If,i.WGt),i}return E(n,t),n.prototype.Ed=function(){this.tu(),this.zGt.removeEventListener(Ty.ow,this.dYt),this.zGt.removeEventListener(Ty.Ug,this._Yt),this.zGt.removeEventListener(Bf.Rf,this.qGt),this.zGt.removeEventListener(Bf.If,this.WGt)},T(n,[{key:"jg",get:function(){var t=this.zGt.currentTime;return t===1/0&&m(this.zGt.duration)&&(t=0),t}},{key:"Xg",get:function(){return this.zGt.ended}},{key:"mu",get:function(){return this.zGt.error||void 0}},{key:"qg",get:function(){return this.zGt.paused}},{key:"$w",get:function(){return this.zGt.$w}}]),n}(Tu);LS(new(function(){function t(){this.QN=gS.ER}var i=t.prototype;return i.kI=function(t,n,i,e,r,s){return new zZ(t,n,i,e,r,s)},i.KN=function(i,e){var r;if((F.un||F.Xn)&&!e.manifestMetadataTrack)return!1;if(!vy(i.type))return!1;if(i.useNativePlayback)return!1;if(!1===(null==(r=i.hls)?void 0:r.useLegacy)||i.lowLatency){if(!Ys(cC,"hls"))throw new lf(n.ErrorCode.SOURCE_NOT_SUPPORTED,'The given source requires the "hls" feature to be enabled.');return!1}var s=i.contentProtection;return!(s&&!MA(s)&&!t.pZ(s))&&!!function(t){return PZ(t,{})!==SZ.VTt}(i)},t.pZ=function(t){return!!t.aes128},i.ZN=function(){return!0},t}()));var qZ,WZ,GZ=function(t){function n(){return t.call(this,"wYt")||this}return E(n,t),n}(Eu),YZ=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).gYt=void 0,r.yYt=void 0,r.mYt=void 0,r.C8=void 0,r.pYt=void 0,r.dE=void 0,r.vW=void 0,r.kYt=void 0,r.bYt=function(){r.Qs(new GZ)},r.C8=n,r.pYt=Fr({},i,{crossOrigin:r.C8.crossOrigin,withCredentials:r.C8.useCredentials,liveOffset:r.C8.liveOffset,hlsDateRange:r.C8.hlsDateRange}),r.dE=e,r.yYt=[],r.vW=!1,r}E(n,t);var i=n.prototype;return i.AYt=function(){if(this.mYt)return this.mYt.wy},i.IC=function(t){var n=this;gu(CO(function(){return n.fRt()},t))},i.fRt=function(){var t,n,i,e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Mr.awrap(this.TYt());case 2:if((t=u.sent).isMasterPlaylist)for(this.gYt=t,n=0,i=t.streams;n<i.length;n++)e=i[n],r=new cQ(this.dE,this.pYt),this.yYt.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:r});else s=new cQ(this.dE,this.pYt),this.yYt.push({stream:{uri:t.uri},updater:s});this.kYt&&(this.SYt(this.kYt.width,this.kYt.height),this.kYt=void 0),this.vW=!0;case 6:case"end":return u.stop()}},null,this,null,Ye)},i.EYt=function(t,n){this.vW?this.SYt(t,n):this.kYt={width:t,height:n}},i.SYt=function(t,n){this.IYt();var i=this.RYt(t,n);i&&(this.mYt=i.updater,this.mYt.addEventListener("kxt",this.bYt),i.updater.IC(i.stream.uri))},i.IYt=function(){this.mYt&&(this.mYt.Ly(),this.mYt.removeEventListener("kxt",this.bYt),this.mYt=void 0)},i.RYt=function(t,n){return 1===this.yYt.length?this.yYt[0]:zs(this.yYt,function(i){return i.stream.width===t&&i.stream.height===n})},i.TYt=function(){var t,n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t=new hQ(this.pYt,RO.Wn.jZ,this.dE),i.next=3,Mr.awrap(t.$h(this.C8.src,{}));case 3:return n=i.sent,i.abrupt("return",n.wy);case 5:case"end":return i.stop()}},null,this,null,Ye)},i.Ed=function(){this.IYt();for(var t=0,n=this.yYt;t<n.length;t++){n[t].updater.Ed()}Qs(this.yYt)},n}(Tu),$Z=function(t){function n(n,i,e){var r;return(r=t.call(this,n)||this).NYt=void 0,r.CYt=void 0,r.MM=void 0,r.DYt=!1,r.hyt=void 0,r.tG=void 0,r.handleManifestUpdate=function(){var t=r.NYt.AYt();if(t){var n=r.YN;if(n){var i=n.getTime(),e=r.hyt;e||(e=new SV,r.hyt=e),e.Kh(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!r.DYt&&e.Qw.Tw>0&&(r.Py.yw(e),r.tG.yw(e),r.DYt=!0)}}},r.iYt=function(){r.NYt&&r.NYt.EYt(r.$g,r.Yg)},r.CYt=i,r.MM=e,r.tG=new aB(nn(r)),r.Ks(Bf.Pf,r.iYt),r}E(n,t);var i=n.prototype;return i.Fy=function(n,i,e){return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Mr.awrap(t.prototype.Fy.call(this,n,i,e));case 2:n.hlsDateRange&&this.V0(n,i,e);case 3:case"end":return r.stop()}},null,this,null,Ye)},i.V0=function(t,n,i){this.NYt&&(this.NYt.nu("wYt",this.handleManifestUpdate),this.NYt.Ed()),this.NYt=new YZ(t,n,this.CYt),this.NYt.Ks("wYt",this.handleManifestUpdate),this.NYt.IC(i)},i.bw=function(){return this.hyt&&(this.Py.mw(this.hyt),this.tG.mw(this.hyt),this.hyt.Ed(),this.hyt=void 0,this.DYt=!1),this.tG.bw(),t.prototype.bw.call(this)},i.Ed=function(){return this.nu(Bf.Pf,this.iYt),this.NYt&&(this.NYt.nu("wYt",this.handleManifestUpdate),this.NYt.Ed()),this.tG.Ed(),t.prototype.Ed.call(this)},n}(function(t){function n(n){var i;(i=t.call(this)||this).PYt=void 0,i.PYt=n;for(var e=0;e<HS.length;e++){var r=HS[e];i.PYt.Ks(r,i.$s)}return i}E(n,t);var i=n.prototype;return i.Uy=function(){return this.PYt.Uy()},i.Yy=function(){return this.PYt.Yy()},i.Gy=function(){return this.PYt.Gy()},i.Wy=function(){return this.PYt.Wy()},i.tm=function(){return this.PYt.tm()},i.Oy=function(){return this.PYt.Oy()},i.xy=function(){return this.PYt.xy()},i.bw=function(){return this.PYt.bw()},i.Fy=function(t,n,i){return this.PYt.Fy(t,n,i)},i.qy=function(){return this.PYt.qy()},i.jy=function(){return this.PYt.jy()},i.Hy=function(){return this.PYt.Hy()},i.Ed=function(){this.tu();for(var t=0;t<HS.length;t++){var n=HS[t];this.PYt.nu(n,this.$s)}return this.PYt.Ed()},T(n,[{key:"Cy",get:function(){return this.PYt.Cy}},{key:"nm",get:function(){return this.PYt.nm}},{key:"im",get:function(){return this.PYt.im},set:function(t){this.PYt.im=t}},{key:"jg",get:function(){return this.PYt.jg},set:function(t){this.PYt.jg=t}},{key:"Hg",get:function(){return this.PYt.Hg}},{key:"Xg",get:function(){return this.PYt.Xg}},{key:"zg",get:function(){return this.PYt.zg}},{key:"By",get:function(){return this.PYt.By}},{key:"mu",get:function(){return this.PYt.mu}},{key:"hm",get:function(){return this.PYt.hm}},{key:"cm",get:function(){return this.PYt.cm}},{key:"Vg",get:function(){return this.PYt.Vg},set:function(t){this.PYt.Vg=t}},{key:"gm",get:function(){return this.PYt.gm}},{key:"qg",get:function(){return this.PYt.qg}},{key:"Wg",get:function(){return this.PYt.Wg},set:function(t){this.PYt.Wg=t}},{key:"ym",get:function(){return this.PYt.ym}},{key:"mm",get:function(){return this.PYt.mm},set:function(t){this.PYt.mm=t}},{key:"$w",get:function(){return this.PYt.$w}},{key:"pm",get:function(){return this.PYt.pm}},{key:"Gg",get:function(){return this.PYt.Gg}},{key:"YN",get:function(){return this.PYt.YN}},{key:"Py",get:function(){return this.PYt.Py}},{key:"Yg",get:function(){return this.PYt.Yg}},{key:"Dy",get:function(){return this.PYt.Dy}},{key:"$g",get:function(){return this.PYt.$g}},{key:"Qg",get:function(){return this.PYt.Qg},set:function(t){this.PYt.Qg=t}},{key:"Am",get:function(){return this.PYt.Am}},{key:"Tm",get:function(){return this.PYt.Tm},set:function(t){this.PYt.Tm=t}},{key:"$N",get:function(){return this.PYt.$N}}]),n}(Yg));qZ=function(t,n,i){return new $Z(t,n,i)},xS.nC().iC(qZ),function(t){t.BYt="statechange"}(WZ||(WZ={}));var QZ,KZ=function(t){function n(n){var i;return(i=t.call(this,WZ.BYt)||this).v$=n,i}return E(n,t),n}(Eu),ZZ=function(t){function n(n,i){var e;return void 0===i&&(i=""),(e=t.call(this,"An error occurred while casting.")||this).errorCode=n,e.description=i,e}return E(n,t),T(n,[{key:"name",get:function(){return"CastError"}}]),n}(rn),JZ=function(){function t(){this.sXt=void 0}var n=t.prototype;return n.xYt=function(){return this.sXt||(this.sXt=this.OYt().catch(function(){throw new ZZ("API_NOT_INITIALIZED","The Chromecast library could not be loaded successfully.")})),this.sXt},n.OYt=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(nJ()){t.next=4;break}return t.next=3,Mr.awrap(this.LYt());case 3:0;case 4:if(tJ()){t.next=9;break}return i.pr('Detected the Chromecast library was loaded without the CAF framework. It is strongly encouraged to load it with the CAF framework by using this URL: "//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"'),t.next=8,Mr.awrap(or("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js"));case 8:0;case 9:return t.abrupt("return");case 10:case"end":return t.stop()}},null,this,null,Ye)},n.LYt=function(){return new Ye(function(t,n){var i=r.__onGCastApiAvailable;r.__onGCastApiAvailable=function(e,s){e?t():n(new v(s)),r.__onGCastApiAvailable=i,i&&i(e,s)}})},t}();function tJ(){return Boolean("undefined"!=typeof cast&&cast.framework)}function nJ(){return"undefined"!=typeof chrome&&chrome&&chrome.cast&&chrome.cast.isAvailable}JZ.Wn=new JZ,function(t){t.MYt="receiver_info",t.Vvt="event",t.FYt="propertychange",t.UYt="trackevent"}(QZ||(QZ={}));var iJ,eJ,rJ="urn:x-cast:com.theoplayer.cast",sJ=function(){function t(t){var n=this;this.jYt=void 0,this.HYt=[],this.Ws=[],this.XYt=void 0,this.zYt=function(t,i){var e=n.VYt(i);if(e)if(e.type===QZ.FYt)for(var r=0,s=n.HYt;r<s.length;r++){var u=s[r];for(var o in e.properties)u(o,e.properties[o])}else if(e.type===QZ.Vvt)for(var a=0,h=n.Ws;a<h.length;a++){(0,h[a])(e.event)}else e.type===QZ.UYt&&n.XYt&&e.event.trackState&&n.XYt(e.event.trackId,e.event.trackState.targetQualityIds)},this.jYt=t,this.jYt.qYt(rJ,this.zYt)}var n=t.prototype;return n.VYt=function(t){var n;try{n=JSON.parse(t)}catch(t){0}return n},n.WYt=function(t){this.HYt.push(t)},n.GYt=function(t){Ws(this.HYt,t)},n.Ks=function(t){this.Ws.push(t)},n.nu=function(t){Ws(this.Ws,t)},n.YYt=function(t){this.XYt=t},n.$Yt=function(t){this.XYt=void 0},n.lK=function(t,n,i,e){var r=i||Z,s=e||Z;this.jYt.lK(t,n).then(r).catch(s)},n.Ed=function(){this.jYt.QYt(rJ,this.zYt),Qs(this.Ws),Qs(this.HYt),this.XYt=void 0},t}();!function(t){t.MYt="theoplayer_receiver_info",t.UYt="theoplayer_trackpropertychange",t.KYt="theoplayer_propertychange"}(iJ||(iJ={})),function(t){t.ZYt="medialoadedchange",t.Xf="volumechange",t.JYt="casterror",t.t$t="playererror",t.n$t="targetqualitychanged",t.i$t="receiverinfochanged"}(eJ||(eJ={}));var uJ,oJ=function(t){function n(){return t.call(this,eJ.ZYt)||this}return E(n,t),n}(Eu),aJ=function(t){function n(n,i){var e;return(e=t.call(this,eJ.Xf)||this).Qg=n,e.Vg=i,e}return E(n,t),n}(Eu),hJ=function(t){function n(n){var i;return(i=t.call(this,eJ.JYt)||this).mu=n,i}return E(n,t),n}(Eu),cJ=function(t){function n(n){var i;return(i=t.call(this,eJ.t$t)||this).mu=n,i}return E(n,t),n}(Eu),fJ=function(t){function n(n,i){var e;return(e=t.call(this,eJ.n$t)||this).eT=n,e.e$t=i,e}return E(n,t),n}(Eu),vJ=function(t){function n(){return t.call(this,eJ.i$t)||this}return E(n,t),n}(Eu),lJ=function(t){function n(n){var i;return(i=t.call(this)||this).jYt=void 0,i.r$t=void 0,i.s$t=void 0,i.u$t=function(t){i.Qs(new hJ(t))},i.o$t=function(t,n){"error"===t&&i.Qs(new cJ(n))},i.a$t=function(t,n){i.Qs(new fJ(t,n))},i.h$t=function(t,n){var e=JSON.parse(n);e.type===QZ.MYt&&(i.s$t=e.info,i.Qs(new vJ))},i.jYt=n,i.r$t=new sJ(i.jYt),i.r$t.WYt(i.o$t),i.r$t.YYt(i.a$t),i.c$t(),i}E(n,t);var i=n.prototype;return i.f$t=function(t,n,i){this.r$t.lK(rJ,function(t,n,i){return{type:iJ.UYt,trackID:t,trackType:n,properties:{targetQuality:i}}}(t,n,i),Z,this.u$t)},i.c$t=function(){this.jYt.qYt(rJ,this.h$t),this.r$t.lK(rJ,{type:iJ.MYt})},i.v$t=function(){return this.s$t},i.Ed=function(){this.tu(),this.jYt.QYt(rJ,this.h$t),this.r$t.GYt(this.o$t),this.r$t.$Yt(this.a$t),this.r$t.Ed(),this.jYt.Ed()},n}(Tu);!function(t){t.VU="bufferedchange",t.Hf="timeupdate",t.gf="durationchange",t.ow="readystatechange",t.KYt="playbackratechange",t.l$t="played",t.Rf="play",t.If="pause",t.d$t="programdatetimechange",t.mf="ended",t._$t="mediastopped",t.JYt="error",t.xf="seeking",t.Bf="seeked",t.w$t="seekablechange",t.Pf="resize",t.g$t="sourceupdate",t.y$t="trackupdate",t.m$t="activetrackupdate",t.Fg="waiting",t.Ug="playing",t.Df="representationchange",t.Of="segmentnotfound",t.pu="encrypted",t.lf="contentprotectionerror",t.df="contentprotectionsuccess"}(uJ||(uJ={}));var dJ,_J,wJ=function(t){function n(n){var i;return(i=t.call(this,uJ.VU)||this).nm=n,i}return E(n,t),n}(Eu),gJ=function(t){function n(n){var i;return(i=t.call(this,uJ.Hf)||this).jg=n,i}return E(n,t),n}(Eu),yJ=function(t){function n(n){var i;return(i=t.call(this,uJ.d$t)||this).g_t=n,i}return E(n,t),n}(Eu),mJ=function(t){function n(n){var i;return(i=t.call(this,uJ.gf)||this).Hg=n,i}return E(n,t),n}(Eu),pJ=function(t){function n(){return t.call(this,uJ.mf)||this}return E(n,t),n}(Eu),kJ=function(t){function n(n){var i;return(i=t.call(this,uJ.JYt)||this).mu=n,i}return E(n,t),n}(Eu),bJ=function(t){function n(n){var i;return(i=t.call(this,uJ.If)||this).qg=n,i}return E(n,t),n}(Eu),AJ=function(t){function n(n){var i;return(i=t.call(this,uJ.KYt)||this).Wg=n,i}return E(n,t),n}(Eu),TJ=function(t){function n(n){var i;return(i=t.call(this,uJ.l$t)||this).ym=n,i}return E(n,t),n}(Eu),SJ=function(t){function n(n){var i;return(i=t.call(this,uJ.ow)||this).$w=n,i}return E(n,t),n}(Eu),EJ=function(t){function n(n){var i;return(i=t.call(this,uJ.w$t)||this).pm=n,i}return E(n,t),n}(Eu),IJ=function(t){function n(n,i){var e;return(e=t.call(this,uJ.g$t)||this).Jy=n,e.hC=i,e}return E(n,t),n}(Eu),RJ=function(t){function n(n){var i;return(i=t.call(this,uJ.xf)||this).jg=n,i}return E(n,t),n}(Eu),NJ=function(t){function n(n){var i;return(i=t.call(this,uJ.Bf)||this).jg=n,i}return E(n,t),n}(Eu),CJ=function(t){function n(n,i){var e;return(e=t.call(this,uJ.Pf)||this).$g=n,e.Yg=i,e}return E(n,t),n}(Eu),DJ=function(t){function n(){return t.call(this,uJ._$t)||this}return E(n,t),n}(Eu),PJ=function(t){function n(n,i,e){var r;return(r=t.call(this,uJ.y$t)||this).audioTracks=n,r.videoTracks=i,r.textTracks=e,r}return E(n,t),n}(Eu),BJ=function(t){function n(n){var i;return(i=t.call(this,uJ.m$t)||this).trackIds=n,i}return E(n,t),n}(Eu),xJ=function(t){function n(n){var i;return(i=t.call(this,uJ.Fg)||this).jg=n,i}return E(n,t),n}(Eu),OJ=function(t){function n(n){var i;return(i=t.call(this,uJ.Ug)||this).jg=n,i}return E(n,t),n}(Eu),LJ=function(t){function n(n,i){var e;return(e=t.call(this,uJ.Df)||this).cit=n,e.Oht=i,e}return E(n,t),n}(Eu),MJ=function(t){function n(n,i,e,r,s,u){var o;return void 0===u&&(u=0),(o=t.call(this,uJ.Of)||this).ait=n,o.mu=i,o.b5=e,o.V_=r,o.C1=s,o.p$t=u,o}return E(n,t),n}(Eu),FJ=function(t){function n(n,i,e){var r;return(r=t.call(this,uJ.pu)||this).ds=n,r.Su=i,r.jg=e,r}return E(n,t),n}(Eu),UJ=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,uJ.lf)||this).mu=n,o.k$t=i,o.Vl=e,o.Gl=r,o.b$t=s,o.$u=u,o}return E(n,t),n}(Eu),jJ=function(t){function n(){return t.call(this,uJ.df)||this}return E(n,t),n}(Eu),HJ=function(t){function n(n){var i;return(i=t.call(this)||this).r$t=void 0,i.u$t=function(t){i.Qs(new kJ(t))},i.A$t=function(t,n){switch(t){case"buffered":i.Qs(new wJ(new WS(n)));break;case"currentProgramDateTime":i.Qs(new yJ(new Date(n)));break;case"played":i.Qs(new TJ(new WS(n)));break;case"seekable":i.Qs(new EJ(new WS(n)));break;case"videoHeight":i.Qs(new CJ(void 0,n));break;case"videoWidth":i.Qs(new CJ(n,void 0))}},i.Wz=function(t){switch(t.type){case Ty.ow:i.Qs(new SJ(t.readyState));break;case Bf.xf:i.Qs(new RJ(t.currentTime));break;case Bf.Bf:i.Qs(new NJ(t.currentTime));break;case Ty.Fg:i.Qs(new xJ(t.currentTime));break;case Ty.Ug:i.Qs(new OJ(t.currentTime));break;case Bf.Df:i.Qs(new LJ(t.representation,t.previousRepresentation));break;case Bf.Of:i.Qs(new MJ(t.segmentStartTime,t.error,t.trackType,t.track,t.quality,t.retryCount));break;case Bf.pu:i.Qs(new FJ(t.initDataType,t.initData,t.currentTime));break;case Bf.lf:i.Qs(new UJ(t.error,t.licenseAcquisitionURL,t.status,t.statusText,t.licenseAcquisitionMessage,t.systemCode));break;case Bf.df:i.Qs(new jJ)}},i.r$t=n,i.r$t.Ks(i.Wz),i.r$t.WYt(i.A$t),i}E(n,t);var i=n.prototype;return i.qL=function(t){this.r$t.lK(rJ,function(t){return{type:iJ.KYt,properties:{playbackRate:t}}}(t),Z,this.u$t)},i.Ed=function(){this.tu(),this.r$t.nu(this.Wz),this.r$t.GYt(this.A$t)},n}(Tu);function XJ(t){return t.type===dJ._d}function zJ(t){return t.type===dJ.wd}function VJ(t){return t.type===dJ.Jn}function qJ(t){switch(t){case chrome.cast.ErrorCode.CANCEL:return"CANCEL";case chrome.cast.ErrorCode.TIMEOUT:return"TIMEOUT";case chrome.cast.ErrorCode.API_NOT_INITIALIZED:return"API_NOT_INITIALIZED";case chrome.cast.ErrorCode.INVALID_PARAMETER:return"INVALID_PARAMETER";case chrome.cast.ErrorCode.EXTENSION_NOT_COMPATIBLE:return"EXTENSION_NOT_COMPATIBLE";case chrome.cast.ErrorCode.EXTENSION_MISSING:return"EXTENSION_MISSING";case chrome.cast.ErrorCode.RECEIVER_UNAVAILABLE:return"RECEIVER_UNAVAILABLE";case chrome.cast.ErrorCode.SESSION_ERROR:return"SESSION_ERROR";case chrome.cast.ErrorCode.CHANNEL_ERROR:return"CHANNEL_ERROR";case chrome.cast.ErrorCode.LOAD_MEDIA_FAILED:return"LOAD_MEDIA_FAILED";default:return"CANCEL"}}!function(t){t.Jn="TEXT",t._d="AUDIO",t.wd="VIDEO"}(dJ||(dJ={})),function(t){t.Qb="SUBTITLES",t.tE="CAPTIONS",t.nE="DESCRIPTIONS",t.iE="CHAPTERS",t.Zb="METADATA"}(_J||(_J={}));var WJ=function(t){function n(n,i,e){var r;(r=t.call(this,i)||this).T$t=void 0,r.S$t=void 0,r.E$t=void 0,r.I$t=function(t){r.R$t(),r.mV(),r.Yzt(),r.oqt(),r.nEt(),r.N$t(),r.C$t(),r.D$t(),t||(GJ(r.S$t)&&r.Qs(new pJ),r.Qs(new DJ))},r.P$t=function(t){var n,i=new ZZ(qJ(t.code),null!=(n=t.description)?n:void 0);r.u$t(i)},r.T$t=n,r.S$t=e;var s=new chrome.cast.media.GetStatusRequest;return r.S$t.getStatus(s,function(){r.B$t()},Z),r.S$t.addUpdateListener(r.I$t),r.x$t(),r.I$t(!0),r}E(n,t);var i=n.prototype;return i.O$t=function(){return this.S$t.getEstimatedTime()},i.D$t=function(){var t=this.S$t.activeTrackIds;t&&this.Qs(new BJ(t))},i.C$t=function(){var t,n=null==(t=this.S$t.media)?void 0:t.tracks;if(n){var i=n.filter(XJ),e=n.filter(zJ),r=n.filter(VJ);this.Qs(new PJ(i,e,r))}},i.B$t=function(){var t,n,i,e;null!=(t=this.T$t.v$t())&&t.version?i=null==(e=this.S$t.customData)?void 0:e.sourceDescription:i=aI({sources:this.S$t.media.contentId},Vy({}));this.Qs(new IJ(null==(n=this.S$t.customData)?void 0:n.currentSource,i))},i.nEt=function(){var t=this.O$t();this.Qs(new gJ(t))},i.x$t=function(){this.E$t=c(this.nEt.bind(this),n.TIMEUPDATE_INTERVAL)},i.L$t=function(){f(this.E$t)},i.N$t=function(){this.L$t(),this.x$t()},i.R$t=function(){var t=this.S$t,n=Boolean(t.customData)?t.customData.buffers:void 0;n&&this.Qs(new EJ(new WS(n.seekable)))},i.mV=function(){var t,n=this.S$t.media;t=Boolean(n)&&n.streamType===chrome.cast.media.StreamType.LIVE?1/0:n&&n.duration||NaN,this.Qs(new mJ(t))},i.Yzt=function(){var t,n=void 0!==(t=this.S$t)&&t.playerState===chrome.cast.media.PlayerState.PAUSED||GJ(this.S$t);this.Qs(new bJ(n))},i.oqt=function(){var t=this.S$t.playbackRate;this.Qs(new AJ(t))},i.Oy=function(){var t=new chrome.cast.media.PauseRequest;this.S$t.pause(t,Z,this.P$t)},i.Ly=function(){var t=new chrome.cast.media.StopRequest;this.S$t.stop(t,Z,this.P$t)},i.xy=function(){var t=new chrome.cast.media.PlayRequest;this.S$t.play(t,Z,this.P$t)},i.Lu=function(t,n){var i=this,e=new chrome.cast.media.SeekRequest;return e.currentTime=t,e.resumeState=n?chrome.cast.media.ResumeState.PLAYBACK_PAUSE:chrome.cast.media.ResumeState.PLAYBACK_START,new Ye(function(t,n){i.S$t.seek(e,t,function(t){var i;n(new ZZ(qJ(t.code),null!=(i=t.description)?i:void 0))})})},i.M$t=function(t){var n=new chrome.cast.media.EditTracksInfoRequest(t);this.S$t.editTracksInfo(n,Z,this.P$t)},i.Ed=function(){this.L$t(),this.S$t.removeUpdateListener(this.I$t),t.prototype.Ed.call(this)},n}(HJ);function GJ(t){return void 0!==t&&t.playerState===chrome.cast.media.PlayerState.IDLE&&t.idleReason===chrome.cast.media.IdleReason.FINISHED}WJ.TIMEUPDATE_INTERVAL=250;var YJ=function(){function t(t){this.T$t=void 0,this.T$t=t}var n=t.prototype;return n.qYt=function(t,n){this.T$t.addMessageListener(t,n)},n.QYt=function(t,n){this.T$t.removeMessageListener(t,n)},n.lK=function(t,n){var i=this;return new Ye(function(e,r){i.T$t.sendMessage(t,n,e,function(t){r(new ZZ(qJ(t.code),t.description))})})},n.Ed=function(){},t}(),$J=function(t){function n(n){var i;(i=t.call(this,new YJ(n.getSessionObj()))||this).T$t=void 0,i.F$t=void 0,i.U$t=function(){var t=i.j$t();i.Qs(new aJ(t.receiver.volume.level,t.receiver.volume.muted))},i.H$t=function(){return i.X$t(i.T$t.getMediaSession())},i.z$t=function(){var t;null==(t=i.F$t)||t.nu(uJ._$t,i.z$t),i.F$t=void 0,i.Qs(new oJ)},i.V$t=function(t){var n=new ZZ(qJ(t.code),t.description);i.u$t(n)},i.T$t=n,i.T$t.addEventListener(cast.framework.SessionEventType.MEDIA_SESSION,i.H$t),i.j$t().addUpdateListener(i.U$t),i.U$t();var e=i.T$t.getMediaSession();return e&&i.X$t(e),i}E(n,t);var i=n.prototype;return i.j$t=function(){return this.T$t.getSessionObj()},i.X$t=function(t){!this.F$t&&t&&t.idleReason!==chrome.cast.media.IdleReason.FINISHED&&(this.F$t=new WJ(this,this.r$t,t),this.U$t(),this.F$t.Ks(uJ._$t,this.z$t),this.Qs(new oJ))},i.q$t=function(){return this.F$t},i.W$t=function(t){var n,i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=QJ(t.JIt,t.jg,t.G$t),e.prev=1,e.next=4,Mr.awrap(this.T$t.loadMedia(n));case 4:i=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),i=e.t0;case 10:if(!i){e.next=12;break}throw new ZZ(qJ(i));case 12:case"end":return e.stop()}},null,this,[[1,7]],Ye)},i.HL=function(t){this.j$t().setReceiverMuted(t,Z,this.V$t)},i.eM=function(t){this.j$t().setReceiverVolumeLevel(t,Z,this.V$t)},i.Y$t=function(){return this.j$t().receiver.friendlyName},i.Ed=function(){this.T$t.removeEventListener(cast.framework.SessionEventType.MEDIA_SESSION,this.H$t),this.j$t().removeUpdateListener(this.U$t),t.prototype.Ed.call(this)},n}(lJ);function QJ(t,n,i){var e=function(t){var n=ZE(t)||"",i=KE(t)||"",e=new chrome.cast.media.MediaInfo(n,i);return e.metadata=function(t,n,i){var e=new n.cast.media.GenericMediaMetadata;if(i&&(e.images=[new n.cast.Image(i)]),!t)return e;if(t.images)if(e.images||(e.images=[]),G(t.images))e.images.push(new n.cast.Image(t.images));else for(var r=0,s=t.images;r<s.length;r++){var u=s[r];if(G(u)){var o=new n.cast.Image(u);e.images.push(o)}else{var a=new n.cast.Image(u.src);a.height=u.height||void 0,a.width=u.width||void 0,e.images.push(a)}}return t.releaseDate&&(e.releaseDate=t.releaseDate),t.releaseYear&&(e.releaseYear=t.releaseYear),t.subtitle&&(e.subtitle=t.subtitle),t.title&&(e.title=t.title),t.type&&(e.metadataType=function(t,n){switch(t){case"movie":return n.cast.media.MetadataType.MOVIE;case"audio":return n.cast.media.MetadataType.MUSIC_TRACK;case"tv-show":return n.cast.media.MetadataType.TV_SHOW;case"generic":default:return n.cast.media.MetadataType.GENERIC}}(t.type,n)),e}(t.metadata,chrome,t.poster),e}(t),r=new chrome.cast.media.LoadRequest(e);return r.autoplay=!0,r.currentTime=n,r.customData=i,r}var KJ=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).$$t=void 0,n.Q$t=void 0,n.K$t=void 0,n.IM=function(){var t=n.uOt();n.Q$t=t===EE.CONNECTED?new $J(n.$$t.getCurrentSession()):void 0,n.Qs(new KZ(t))},n}E(n,t);var i=n.prototype;return i.Z$t=function(t){this.K$t=t},i.J$t=function(){return this.K$t},i.tQt=function(){return this.Q$t},i.uOt=function(){switch(this.$$t.getCastState()){case cast.framework.CastState.CONNECTED:return EE.CONNECTED;case cast.framework.CastState.CONNECTING:return EE.CONNECTING;case cast.framework.CastState.NOT_CONNECTED:return EE.AVAILABLE;case cast.framework.CastState.NO_DEVICES_AVAILABLE:default:return EE.UNAVAILABLE}},i.gL=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(JZ.Wn.xYt());case 2:this.$$t=cast.framework.CastContext.getInstance(),this.$$t.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,this.IM),this.$$t.setOptions({receiverApplicationId:t.appID,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED});case 5:case"end":return n.stop()}},null,this,null,Ye)},i.nQt=function(){var t;return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Mr.awrap(this.$$t.requestSession());case 3:if(!(t=n.sent)){n.next=6;break}throw t;case 6:n.next=11;break;case 8:throw n.prev=8,n.t0=n.catch(0),new ZZ(qJ(n.t0));case 11:case"end":return n.stop()}},null,this,[[0,8]],Ye)},i.iQt=function(t){var n,i=new ea,e=null==(n=this.K$t)?void 0:n.onStart(t),r=e?aI(e,Vy({})):void 0;return i.Wu(r),i.Hu},i.eQt=function(t){var n,i=new ea,e=null==(n=this.K$t)?void 0:n.onStop(t),r=e?aI(e,Vy({})):void 0;return i.Wu(r),i.Hu},i.rQt=function(t){var n,i=new ea,e=null==(n=this.K$t)?void 0:n.onJoin(t),r=e?aI(e,Vy({})):void 0;return i.Wu(r),i.Hu},i.sQt=function(t){var n,i=new ea,e=null==(n=this.K$t)?void 0:n.onLeave(t),r=e?aI(e,Vy({})):void 0;return i.Wu(r),i.Hu},i.uQt=function(t){this.$$t.endCurrentSession(t)},n}(Tu),ZJ=1;var JJ,t0=function(t){function n(n,i,e,r,s,u,o,a,h,c,f){var v;return(v=t.call(this)||this).gD=void 0,v.oa=void 0,v.TV=void 0,v.mD=void 0,v.pD=void 0,v.oQt=void 0,v.aQt=void 0,v.Ty=void 0,v.Sy=void 0,v.Ey=void 0,v.gC=n,v.gD=i,v.oa=e,v.TV=r,v.mD=s,v.pD=u,v.oQt=c,v.aQt=f,v.Ty=o,v.Ty.bw(),v.Sy=a,v.Sy.bw(),v.Ey=h,v.Ey.bw(),v}E(n,t);var i=n.prototype;return i.RL=function(){return WS.vD().qN()},i.PL=function(){return this.gD},i.CL=function(){},i.xL=function(){return this.oa},i.LL=function(){return this.TV},i.ML=function(){},i.zL=function(){return this.mD},i.hQt=function(){},i.VL=function(){return this.pD},i.qL=function(t){this.pD!==t&&(this.pD=t,this.Qs(new Py(this.gC.jg,t)))},i.$L=function(){return sy.Ng},i.WL=function(){return WS.vD().qN()},i.QL=function(){return WS.vD().qN()},i.KL=function(){return!1},i.IL=function(){return this.Ty},i.tM=function(){return this.Sy},i.ZL=function(){return this.Ey},i.M$t=function(t){},i.nM=function(){return this.oQt},i.JL=function(){return this.aQt},i.xy=function(){},i.Oy=function(){},i.Lu=function(t){},i.Ly=function(){},i.Ed=function(){},n}(Tu);!function(t){t.cQt="ccmodechangerequest",t.fQt="cctargetqualitychangerequest",t.vQt="cctrackchangerequest"}(JJ||(JJ={}));var n0=function(t){function n(n,i,e){var r;return(r=t.call(this,JJ.cQt)||this).track=n,r.trackId=i,r.mode=e,r}return E(n,t),n}(Eu),i0=function(t){function n(n){var i;(i=t.call(this)||this).xw=void 0,i.Ow=void 0,i.qw=void 0,i.Lw=void 0,i.Fw=void 0,i.$w=void 0,i.vs=void 0,i.Nm=void 0,i.jV=void 0,i.WV=void 0,i.GV=void 0,i.YV=void 0,i.HD=void 0,i.lQt=void 0,i.H_=void 0;var e,r=n.customData;return i.Ow=+n.trackId||0,i.xw=(r&&r.id||i.Ow)+"",i.Nm=r&&r.label||n.name||"",i.Fw=r&&r.language||n.language||"",i.qw=r&&r.inBandMetadataTrackDispatchType||"",i.Lw=r&&r.kind||function(t){switch(t){case _J.Qb:return Jk.Qb;case _J.tE:return Jk.tE;case _J.nE:return Jk.nE;case _J.iE:return Jk.iE;case _J.Zb:return Jk.Zb}return}(n.subtype)||"subtitles",i.$w=Pm.NONE,i.vs=r&&void 0!==r.type?Mm(e=r.type)?e:Bm.DEFAULT:Bm.WEBVTT,i.jV=[],i.GV=new $D(i.jV),i.WV=[],i.YV=new $D(i.WV),i.HD=Hg(r&&r.mode||Fg.Hw),i.lQt=i.HD,i}E(n,t);var i=n.prototype;return i.Gw=function(t){this.Ww=t},i.dQt=function(t){},i.Ed=function(){},i.bw=function(){},T(n,[{key:"X_",get:function(){return this.H_||(this.H_=zg(this)),this.H_}},{key:"Mw",get:function(){return this.Nm},set:function(t){t!==this.Nm&&(this.Nm=t,this.Qs(new pm(this)))}},{key:"Kw",get:function(){return this.YV}},{key:"Qw",get:function(){return this.GV}},{key:"Ww",get:function(){return this.HD},set:function(t){t=Hg(t),this.HD!==t&&(this.HD=t,this.lQt!==t&&this.Qs(new n0(this,this.Ow,t)),this.Qs(new _g(this)))}},{key:"_Qt",get:function(){return this.lQt},set:function(t){t=Hg(t);var n=this.HD!==t;this.HD=t,this.lQt=t,n&&this.Qs(new _g(this))}}]),n}(Tu);var e0,r0=function(t){function n(n,i){var e;return(e=t.call(this,JJ.vQt)||this).trackId=n,e.enabled=i,e}return E(n,t),n}(Eu),s0=function(t){function n(n,i){var e;return(e=t.call(this,JJ.fQt)||this).track=n,e.targetQuality=i,e}return E(n,t),n}(Eu);!function(t){t._d="audio",t.wd="video",t.Jn="text"}(e0||(e0={}));var u0,o0=function(t){function n(n){var i;(i=t.call(this)||this).xw=void 0,i.Ow=void 0,i.Lw=void 0,i.Fw=void 0,i.Ez=void 0,i.Nm=void 0,i.o5=void 0,i.Sm=new mm,i.f5=void 0,i.Dm=void 0,i.wQt=void 0,i.H_=void 0,i.olt=function(){return i.Qs(new pm(nn(i)))};var e=n.customData;if(i.Ow=+n.trackId||0,i.xw=(e&&e.id||i.Ow)+"",i.Nm=e&&e.label||n.name||"",i.Fw=e&&e.language||n.language||"",i.Lw=e&&e.kind||"main",i.Dm=e&&e.enabled,i.wQt=i.Dm,XJ(n)){i.Ez=e0._d;var r=n.customData&&n.customData.qualities;if(r)for(var s=0;s<r.length;s++){var u=r[s],o=new SL(u.id,u.bandwidth,u.codecs,u.name,"",u.audioSamplingRate);o.Ks("update",i.olt),i.Sm.Em(o)}}else{i.Ez=e0.wd;var a=n.customData&&n.customData.qualities;if(a)for(var h=0;h<a.length;h++){var c=a[h],f=new TL(c.id,c.bandwidth,c.codecs,c.name,"",c.frameRate,c.width,c.height);f.Ks("update",i.olt),i.Sm.Em(f)}}return i}E(n,t);var i=n.prototype;return i.Bm=function(t){this.Bw=t},i.dQt=function(t){if(t.targetQualityIds){for(var n=[],i=0;i<this.Sm.Tw;i++){var e=this.Sm.gw(i);t.targetQualityIds.indexOf(e.xw)>-1&&n.push(e)}var r=n.length?n:void 0;this.PGt(r)}},i.PGt=function(t){var n,i;n=this.f5,i=t,(!n&&i||n&&!i||n&&i&&!Ks(n,i))&&(this.f5=t&&this.Sm.Im(t)?t:void 0,this.Qs(new wM(this.f5,this)))},i.unload=function(){for(var t=0,n=this.Sm.Aw;t<n.length;t++){n[t].nu("update",this.olt)}this.Sm.bw()},T(n,[{key:"Pw",get:function(){return this.o5}},{key:"jw",get:function(){return this.f5},set:function(t){this.PGt(t),this.Qs(new s0(this,t))}},{key:"Uw",get:function(){return this.Sm}},{key:"Mw",get:function(){return this.Nm}},{key:"label",set:function(t){t!==this.Nm&&(this.Nm=t,this.Qs(new pm(this)))}},{key:"Bw",get:function(){return this.Dm},set:function(t){this.Dm!==t&&(this.Dm=t,this.wQt!==t&&this.Qs(new r0(this.Ow,t)),this.Qs(new _g(this)))}},{key:"gQt",get:function(){return this.wQt},set:function(t){var n=this.Dm!==t;this.Dm=t,this.wQt=t,n&&this.Qs(new _g(this))}},{key:"X_",get:function(){return this.H_||(this.H_=Og(this)),this.H_}},{key:"Ww",get:function(){return this.Bw?"enabled":"disabled"}}]),n}(Tu);!function(t){t.yQt="legacy",t.mQt="caf"}(u0||(u0={}));var a0=function(t){function i(i,e,r){var s;return(s=t.call(this)||this).T$t=void 0,s.S$t=void 0,s.cft=WS.vD(),s.gD=void 0,s.pQt=void 0,s.oa=void 0,s.TV=!1,s.tN=void 0,s.mD=void 0,s.pD=void 0,s.kQt=void 0,s.SV=sy.Ng,s.aG=WS.vD(),s.cV=WS.vD(),s.kD=!1,s.oQt=void 0,s.aQt=void 0,s.Ty=void 0,s.Sy=void 0,s.Ey=void 0,s.bQt=void 0,s.AQt=!1,s.TQt=function(t){s.Qs(new Zb(t.jg))},s.lN=function(t){s.Qs(new Jb(t.jg))},s.SQt=function(t){s.Qs(new JU(t.cit,t.Oht))},s.EQt=function(t){s.Qs(new BU(t.ait,t.mu,t.b5,t.V_,t.C1,t.p$t))},s.IQt=function(t){s.Qs(new NM(t.jg,t.ds,t.Su))},s.RQt=function(t){s.Qs(new gB(new fm(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.mu,void 0,t.k$t,t.Vl,t.Gl,t.b$t,t.$u)))},s.NQt=function(){s.Qs(new yB)},s.Htt=function(t){s.kD||t.jg===s.PL()||(s.gD=t.jg,s.Qs(new By(s.PL(),s.CL())))},s.wV=function(t){s.cft=t.nm,s.Qs(new mC(s.PL()))},s.CQt=function(t){s.pQt=t.g_t.getTime()-s.PL()},s.DQt=function(t){s.$s(t)},s.PQt=function(t){s.aG=t.ym},s.BQt=function(t){s.cV=t.pm},s.xQt=function(t){var n,i;s.aQt=null!=(n=t.Yg)?n:s.aQt,s.oQt=null!=(i=t.$g)?i:s.oQt,s.Qs(new Nb)},s.qz=function(t){s.SV=t.$w,s.Qs(new Hy(s.PL(),t.$w))},s.dV=function(t){s.kD=!0,s.gD=t.jg,s.Qs(new Ly(t.jg))},s.vN=function(t){s.kD=!1,s.gD=t.jg,s.Qs(new By(s.PL(),s.CL())),s.Qs(new My(t.jg))},s.vVt=function(t){var n=t.Hg;s.oa===n||m(s.oa)&&m(n)||(s.oa=n,s.Qs(new Dy(s.oa)))},s.sbt=function(){s.TV=!0,s.gD=s.xL(),s.Qs(new xy(s.PL()))},s.ubt=function(t){var n=t.qg;s.AQt=n,s.mD!==n&&(s.mD=n,s.mD?s.Qs(new Ey(s.PL())):s.Qs(new Iy(s.PL())))},s.OQt=function(t){var n=t.Wg;s.kQt!==n&&(s.kQt=void 0,s.pD!==n&&(s.pD=n,s.Qs(new Py(s.PL(),n))))},s.LQt=function(t){c0(s.Ty,t.audioTracks.map(function(t){return t.trackId})),c0(s.Sy,t.videoTracks.map(function(t){return t.trackId})),c0(s.Ey,t.textTracks.map(function(t){return t.trackId}));var n=t.videoTracks;if(s.MQt()&&0===n.length&&0!==s.nM()){var i=s.FQt();n.push(i)}var e=t.audioTracks;if(s.MQt()&&0===e.length){var r=s.UQt();e.push(r)}f0(e,s.Ty),f0(n,s.Sy),function(t,n){for(var i=!1,e=0;e<t.length;e++){var r=t[e],s=h0(n,r.trackId);s||(s=new i0(r),n.yw(s),i=!0)}}(t.textTracks,s.Ey)},s.jQt=function(t){var n=t.trackIds;if(s.MQt()){var i=s.Sy.Aw.map(function(t){return t.xw}),e=s.Ty.Aw.map(function(t){return t.xw});Ys(i.concat(e),"0")&&n.push(0)}v0(n,s.Ty),v0(n,s.Sy),function(t,n){for(var i=0,e=n.Aw;i<e.length;i++){var r=e[i];r._Qt=Ys(t,r.Ow)?Fg.zw:Fg.Hw}}(n,s.Ey)},s.u$t=function(t){s.bQt=void 0,s.Qs(new kJ(t))},s.T$t=i,s.S$t=e,s.gD=r.PL(),s.oa=r.xL(),s.mD=r.zL(),s.pD=r.VL(),s.oQt=r.nM(),s.aQt=r.JL(),s.Ty=r.IL(),s.Sy=r.tM(),s.Ey=r.ZL(),s.S$t.Ks(uJ.mf,s.sbt),s.S$t.Ks(uJ.If,s.ubt),s.S$t.Ks(uJ.Pf,s.xQt),s.S$t.Ks(uJ.Bf,s.vN),s.S$t.Ks(uJ.Ug,s.lN),s.S$t.Ks(uJ.xf,s.dV),s.S$t.Ks(uJ.Fg,s.TQt),s.S$t.Ks(uJ.pu,s.IQt),s.S$t.Ks(uJ.JYt,s.DQt),s.S$t.Ks(uJ.Hf,s.Htt),s.S$t.Ks(uJ.y$t,s.LQt),s.S$t.Ks(uJ.l$t,s.PQt),s.S$t.Ks(uJ.VU,s.wV),s.S$t.Ks(uJ.gf,s.vVt),s.S$t.Ks(uJ.w$t,s.BQt),s.S$t.Ks(uJ.Of,s.EQt),s.S$t.Ks(uJ.ow,s.qz),s.S$t.Ks(uJ.m$t,s.jQt),s.S$t.Ks(uJ.KYt,s.OQt),s.S$t.Ks(uJ.Df,s.SQt),s.S$t.Ks(uJ.d$t,s.CQt),s.S$t.Ks(uJ.lf,s.RQt),s.S$t.Ks(uJ.df,s.NQt),s}E(i,t);var e=i.prototype;return e.hQt=function(){this.mD=!1,this.Qs(new Iy(this.PL()))},e.RL=function(){return this.cft.qN()},e.PL=function(){return this.gD},e.CL=function(){if(this.pQt)return new Date(this.PL()+this.pQt)},e.xL=function(){return this.oa},e.ML=function(){return this.tN},e.LL=function(){return this.TV},e.zL=function(){return this.mD},e.VL=function(){return this.pD},e.qL=function(t){this.pD!==t&&(this.kQt=this.pD,this.pD=t,this.Qs(new Py(this.PL(),t)),this.S$t.qL(t))},e.$L=function(){return this.SV},e.WL=function(){return this.aG.qN()},e.QL=function(){var t=this,n=this.cV.qN(),i=n.end;return n.end=function(n){var e=t.PL();return i(n)<e?e:i(n)},n},e.KL=function(){return this.kD},e.IL=function(){return this.Ty},e.tM=function(){return this.Sy},e.ZL=function(){return this.Ey},e.FQt=function(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",frameRate:0,height:this.JL(),id:"0",name:"",width:this.nM()},enabled:!0,id:"0",kind:"main",label:"",language:"",qualities:[],uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:dJ.wd}},e.UQt=function(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",id:"0",name:"",audioSamplingRate:0},qualities:[],enabled:!0,id:"0",kind:"main",label:"",language:"",uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:dJ._d}},e.MQt=function(){var t,n;return!(void 0!==(null==(t=this.T$t.v$t())?void 0:t.version))||(null==(n=this.T$t.v$t())?void 0:n.sdkType)===u0.mQt},e.M$t=function(t){this.MQt()&&Ws(t,0),this.S$t.M$t(t)},e.nM=function(){return this.oQt},e.JL=function(){return this.aQt},e.xy=function(){this.mD&&(this.mD=!1,this.AQt=!1,this.Qs(new Iy(this.PL()))),this.S$t.xy()},e.Oy=function(){this.mD||(this.mD=!0,this.AQt=!0,this.Qs(new Ey(this.PL()))),this.S$t.Oy()},e.Lu=function(t){var n,i,e=void 0!==this.bQt;(this.bQt=t,this.AQt=this.zL(),e)||(null!=(n=null==(i=this.T$t.v$t())?void 0:i.version)&&n&&this.dV(new RJ(t)),this.vY(t))},e.vY=function(t){this.S$t.Lu(t,this.AQt).then(this.HQt(t)).catch(this.u$t)},e.HQt=function(t){var n=this;return function(){void 0!==n.bQt&&(n.bQt===t?n.bQt=void 0:n.vY(n.bQt))}},e.Ly=function(){this.S$t.Ly()},e.Ed=function(){this.S$t.nu(uJ.mf,this.sbt),this.S$t.nu(uJ.If,this.ubt),this.S$t.nu(uJ.Pf,this.xQt),this.S$t.nu(uJ.Bf,this.vN),this.S$t.nu(uJ.Ug,this.lN),this.S$t.nu(uJ.xf,this.dV),this.S$t.nu(uJ.Fg,this.TQt),this.S$t.nu(uJ.pu,this.IQt),this.S$t.nu(uJ.JYt,this.DQt),this.S$t.nu(uJ.Hf,this.Htt),this.S$t.nu(uJ.y$t,this.LQt),this.S$t.nu(uJ.l$t,this.PQt),this.S$t.nu(uJ.VU,this.wV),this.S$t.nu(uJ.gf,this.vVt),this.S$t.nu(uJ.w$t,this.BQt),this.S$t.nu(uJ.Of,this.EQt),this.S$t.nu(uJ.ow,this.qz),this.S$t.nu(uJ.m$t,this.jQt),this.S$t.nu(uJ.KYt,this.OQt),this.S$t.nu(uJ.Df,this.SQt),this.S$t.nu(uJ.d$t,this.CQt),this.S$t.nu(uJ.lf,this.RQt),this.S$t.nu(uJ.df,this.NQt),this.S$t.Ed()},i}(Tu);function h0(t,n){for(var i=0,e=t.Aw;i<e.length;i++){var r=e[i];if(r.Ow===n)return r}}function c0(t,n){for(var i=!1,e=0;e<t.Tw;e++){var r=t.gw(e);-1===n.indexOf(r.Ow)&&(t.mw(r),e--,i=!0)}return i}function f0(t,n){for(var i=!1,e=0;e<t.length;e++){var r=t[e],s=h0(n,r.trackId);s||(s=new o0(r),n.yw(s),i=!0)}return i}function v0(t,n){for(var i=0,e=n.Aw;i<e.length;i++){var r=e[i];r.gQt=Ys(t,r.Ow)}return!1}var l0=[Bf.mf,Bf.gf,Bf.Cf,Bf.Pf,Bf.If,Bf.Rf,Bf.Nf,Bf.Hf,Bf.xf,Bf.Bf,Ty.Fg,Ty.Ug,Bf.Df,Bf.Of,Bf.pu,Bf.lf,Bf.df],d0=50,_0=function(t){function n(n,i){var e;return(e=t.call(this)||this).rp=!1,e.XQt=Z,e.zQt=0,e.TE=sy.Ng,e.IE=!1,e.EE=!1,e.VQt=!1,e.qQt=void 0,e.T$t=void 0,e.Ca=void 0,e.yD=void 0,e.ye=void 0,e.F$t=void 0,e.yC=void 0,e.C8=void 0,e.tN=void 0,e.nN=void 0,e.WQt=function(t){var n,i;(t.Qg&&!jt(t.Qg,e.Ca,1e-5)||t.Vg&&t.Vg!==e.yD)&&(e.Ca=null!=(n=t.Qg)?n:e.Ca,e.yD=null!=(i=t.Vg)?i:e.yD,e.Qs(new Fy(e.jg,e.Ca)))},e.GQt=function(){var t,n=e.T$t.q$t();null==(t=e.F$t)||t.nu(uJ.g$t,e.YQt),n?(e.F$t=n,e.F$t.Ks(uJ.g$t,e.YQt),e.v$=new a0(e.T$t,n,e.ye)):e.v$=e.$Qt()},e.YQt=function(t){e.TC(t.Jy),e.B$t(t.hC)},e.QQt=function(t){var n=e.KQt(t.eT);if(n){var i={targetQualityIds:t.e$t};n.dQt(i)}},e.DQt=function(t){e.ZQt(t.mu)},e.ZQt=function(t){e.XQt&&e.XQt(t)},e.JQt=function(t){e.tN=t.mu,e.nN=_m(e.tN),e.Qs(new Xy(e.nN))},e.tKt=function(t){if(t.enabled)for(var n=0,i=(e.Dy.Aw.some(function(n){return n.Ow===t.trackId})?e.Dy:e.Cy).Aw;n<i.length;n++){var r=i[n];r.Bw&&r.Ow!==t.trackId&&(r.Bw=!1)}},e.nKt=function(t){var n,i;if(t.mode===Fg.zw)for(var r=0,s=e.Py.Aw;r<s.length;r++){var u=s[r];u.Ww===Fg.zw&&u.Ow!==t.trackId&&(n=u.Lw,i=t.track.Lw,ib(n)&&ib(i)&&(n===i||n===Jk.Qb&&i===Jk.tE||n===Jk.tE&&i===Jk.Qb))&&(u.Ww=Fg.Hw)}},e.D$t=nt(function(){e.iKt()},d0),e.qht=function(t){var n=e.eKt(t.targetQuality),i=t.track;e.T$t.f$t(i.Ow,i.Ez,n)},e.RE=function(t){e.Qs(t);var n=t.readyState;!e.IE&&e.TE===sy.Ng&&n>=sy.Cg&&(e.IE=!0,e.Qs(new Cy(t.currentTime))),!e.EE&&e.TE<=sy.Cg&&n>=sy.Dg&&(e.EE=!0,e.Qs(new Oy(t.currentTime))),e.TE<=sy.Dg&&n>=sy.Pg&&e.Qs(new Uy(t.currentTime)),e.TE<=sy.Pg&&n===sy.Bg&&e.Qs(new jy(t.currentTime)),e.TE=n},e.gC=n,e.Ca=e.gC.Qg,e.yD=e.gC.Vg,e.T$t=i,e.T$t.Ks(eJ.JYt,e.DQt),e.T$t.Ks(eJ.t$t,e.JQt),e.T$t.Ks(eJ.Xf,e.WQt),e.T$t.Ks(eJ.ZYt,e.GQt),e.T$t.Ks(eJ.n$t,e.QQt),e.yC=e.gC.Jy,e.C8=e.gC.My(),e.v$=new t0(nn(e),e.gC.jg,e.gC.Hg,e.gC.Xg,e.gC.qg,e.gC.Wg,new ym,new ym,new tb,e.gC.$g,e.gC.Yg),e.rKt(),e}E(n,t);var i=n.prototype;return i.TC=function(t){t&&(bg(this.yC&&Sg(this.yC),t&&Sg(t))||(this.yC=t,this.Qs(new Kg(t))))},i.B$t=function(t){t&&(bg(this.C8&&Sg(this.C8),t&&Sg(t))||(this.zQt=0,this.C8=t,this.Qs(new JN(t)),this.ye.hQt()))},i.KQt=function(t){for(var n=0,i=this.Dy.Aw;n<i.length;n++){var e=i[n];if(e.Ow===t)return e}for(var r=0,s=this.Cy.Aw;r<s.length;r++){var u=s[r];if(u.Ow===t)return u}},i.$h=function(){var t=this.qQt||this.gC.My();this.rp&&t&&this.W$t(t,!this.gC.qg,this.gC.jg)},i.My=function(){return this.C8},i.Fy=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.C8=t,n.next=3,Mr.awrap(this.W$t(t,!0,0));case 3:this.qQt=void 0;case 4:case"end":return n.stop()}},null,this,null,Ye)},i.Gy=function(){},i.Yy=function(){return $S},i.$y=function(){return[]},i.Xy=function(){},i.xy=function(){this.T$t.q$t()||this.VQt||!this.C8?this.ye.xy():this.W$t(this.C8,!0,0)},i.Oy=function(){this.ye.Oy()},i.Ly=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.ye.Ly();case 1:case"end":return t.stop()}},null,this,null,Ye)},i.zy=function(t){this.rp=!0},i.Vy=function(){this.yC=void 0;var t=this.Qg,n=this.Vg;this.rp=!1,t===this.gC.Qg&&n===this.gC.Vg||this.Qs(new Fy(this.jg,this.Qg))},i.Qy=function(t){return!1},i.qy=function(){},i.Wy=function(){},i.Uy=function(){return!1},i.jy=function(){},i.Hy=function(){},i.W$t=function(t,n,i){this.VQt=!0,this.bw(),this.zQt=this.gC.pm.length>0?this.gC.pm.start(0):0;var e=this.Hg===1/0,r=function(t,n,i){return{theoplayer_version:ZJ,streamStart:t,isLive:n,sourceDescription:i}}(this.zQt,e,t),s={JIt:t,jg:i?i-this.zQt:0,G$t:r};return this.sKt(s)},i.sKt=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Mr.awrap(this.T$t.W$t(t));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),this.ZQt(n.t0);case 8:return n.prev=8,this.VQt=!1,n.finish(8);case 11:case"end":return n.stop()}},null,this,[[0,5,8,11]],Ye)},i.rKt=function(){this.uKt(this.Cy,"audio"),this.uKt(this.Dy,"video"),this.uKt(this.Py,"text")},i.uKt=function(t,n){for(var i=this,e=0,r=t.Aw;e<r.length;e++){var s=r[e];this.oKt(s,n)}t.Ks(eg.M_,function(t){i.oKt(t.V_,n)})},i.oKt=function(t,n){"text"!==n?(t.Ks(JJ.fQt,this.qht),t.Ks(JJ.vQt,this.tKt),t.Ks(JJ.vQt,this.D$t)):(t.Ks(JJ.cQt,this.nKt),t.Ks(JJ.cQt,this.D$t))},i.iKt=function(){for(var t=[],n=0,i=this.Dy.Aw;n<i.length;n++){var e=i[n];e.Bw&&t.push(e.Ow)}for(var r=0,s=this.Cy.Aw;r<s.length;r++){var u=s[r];u.Bw&&t.push(u.Ow)}for(var o=0,a=this.Py.Aw;o<a.length;o++){var h=a[o];h.Ww===Fg.zw&&t.push(h.Ow)}this.ye.M$t(t)},i.eKt=function(t){var n,i;return!!t&&((null!=(n=null==(i=this.T$t.v$t())?void 0:i.version)?n:-1)>=2?t.map(function(t){return t.xw}):[t[0].xw])},i.aKt=function(t){this.XQt=t},i.tm=function(){},i.bw=function(){return this.TE=sy.Ng,this.IE=!1,this.EE=!1,this.tN=void 0,this.nN=void 0,Ye.resolve()},i.Ed=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mr.awrap(this.bw());case 2:this.tu(),this.v$=this.$Qt(),this.T$t.nu(eJ.JYt,this.DQt),this.T$t.nu(eJ.t$t,this.JQt),this.T$t.nu(eJ.Xf,this.WQt),this.T$t.nu(eJ.ZYt,this.GQt),this.T$t.nu(eJ.n$t,this.QQt),this.T$t.Ed();case 10:case"end":return t.stop()}},null,this,null,Ye)},i.$Qt=function(){return new t0(this,this.ye.PL(),this.ye.xL(),this.ye.LL(),this.ye.zL(),this.ye.VL(),this.ye.IL(),this.ye.tM(),this.ye.ZL(),this.ye.nM(),this.ye.JL())},T(n,[{key:"v$",set:function(t){var n,i,e;null==(n=this.ye)||n.nu(uJ.JYt,this.DQt),null==(i=this.ye)||i.nu(l0,this.$s),null==(e=this.ye)||e.nu(Ty.ow,this.RE);var r=this.ye;this.ye=t,null==r||r.Ed(),this.ye.Ks(uJ.JYt,this.DQt),this.ye.Ks(l0,this.$s),this.ye.Ks(Ty.ow,this.RE)}},{key:"cp",get:function(){return this.rp}},{key:"Cy",get:function(){return this.ye.IL()}},{key:"nm",get:function(){return this.ye.RL()}},{key:"hKt",get:function(){return this.qQt||this.C8},set:function(t){this.qQt=t}},{key:"im",get:function(){return this.ye.CL()}},{key:"Jy",get:function(){return this.yC}},{key:"jg",get:function(){return this.ye.PL()+this.zQt},set:function(t){this.VQt||(this.T$t.q$t()||this.VQt||!this.C8?this.ye.Lu(t-this.zQt):this.W$t(this.C8,!0,t))}},{key:"Hg",get:function(){return this.ye.xL()}},{key:"um",get:function(){return this.gC.um}},{key:"Xg",get:function(){return this.ye.LL()}},{key:"mu",get:function(){return this.tN}},{key:"zg",get:function(){return this.nN}},{key:"By",get:function(){}},{key:"cm",get:function(){return{fm:0,vm:0,lm:0,dm:0,_m:0,wm:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Vg",get:function(){return this.rp?this.yD:this.gC.Vg},set:function(t){this.yD=t,this.Qs(new Fy(this.jg,this.Qg)),this.T$t.HL(t)}},{key:"gm",get:function(){return!0}},{key:"qg",get:function(){return this.ye.zL()}},{key:"Wg",get:function(){return this.ye.VL()},set:function(t){this.ye.qL(t)}},{key:"ym",get:function(){return this.ye.WL()}},{key:"mm",get:function(){return FS.lC},set:function(t){}},{key:"$w",get:function(){return this.ye.$L()}},{key:"pm",get:function(){return this.ye.QL()}},{key:"Gg",get:function(){return this.ye.KL()}},{key:"Py",get:function(){return this.ye.ZL()}},{key:"Yg",get:function(){return this.ye.JL()}},{key:"$g",get:function(){return this.ye.nM()}},{key:"Dy",get:function(){return this.ye.tM()}},{key:"Qg",get:function(){return this.rp?this.Ca:this.gC.Qg},set:function(t){this.Ca=t,this.Qs(new Fy(this.jg,this.Qg)),this.T$t.eM(t)}},{key:"Am",get:function(){return this.gC.Am}},{key:"Tm",get:function(){return!1},set:function(t){}},{key:"hm",get:function(){return!1}}]),n}($g),w0=function(t){function n(n){var i;return(i=t.call(this,"error")||this).mu=n,i}return E(n,t),n.prototype.z_=function(){return new g0(this.mu)},n}(sg),g0=function(t){function n(n){var i;return(i=t.call(this,"error")||this).error=n,i}return E(n,t),n}(Eu),y0=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return E(n,t),n}(Eu);function m0(t,n){var i=void 0;return{get casting(){return t.RM},get error(){return t.mu},get receiverName(){return t.cKt},get state(){return t.v$},start:function(){t.IC()},stop:function(){t.Ly()},join:function(){t.fKt()},leave:function(){t.vKt()},set connectionCallback(t){null==n||n.Z$t(t)},get connectionCallback(){return null==n?void 0:n.J$t()},get source(){return i||t.hC},set source(n){i=n,t.hC=n?aI(n):void 0},addEventListener:function(n,i){var e=Dg(n,Ng);t.Ks(e,i)},removeEventListener:function(n,i){var e=Dg(n,Ng);t.nu(e,i)}}}var p0=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Bc=void 0,r.tN=void 0,r.H_=void 0,r.lKt=void 0,r.gC=void 0,r.ye=EE.UNAVAILABLE,r.dKt=void 0,r._Kt=void 0,r.wKt=void 0,r.gKt=void 0,r.yKt=!1,r.mKt=function(t){var n=t.v$;n!==EE.UNAVAILABLE&&n!==EE.AVAILABLE||r.pKt(!1),r.v$=n},r.qQt=void 0,r.gW=function(t){t instanceof ZZ&&(r.tN=t,r.Qs(new w0(t).X_))},r.wKt=n,r.gKt=e,r.Bc=i.chromecast,r.dKt=i.strategy,r._Kt=r.gKt.gL(r.Bc),r._Kt.then(function(){r.gKt.Ks(WZ.BYt,r.mKt),r.v$=r.gKt.uOt()}).catch(r.gW),r}E(n,t);var i=n.prototype;return i.kKt=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this._Kt){t.next=2;break}throw new v("Chromecast must be initialized before starting a session");case 2:return t.next=4,Mr.awrap(this._Kt);case 4:if(this.gKt.tQt()){t.next=7;break}return t.next=7,Mr.awrap(this.gKt.nQt());case 7:case"end":return t.stop()}},null,this,null,Ye)},i.IC=function(){var t,n,i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.yKt=!0,r.prev=1,this.v$=EE.CONNECTING,r.next=5,Mr.awrap(this.kKt());case 5:if(this.bKt(),!this.gC){r.next=13;break}return i=null==(n=this.lKt)?void 0:n.My(),r.next=10,Mr.awrap(this.gKt.iQt(i));case 10:(e=r.sent)?this.gC.hKt=e:this.qQt?this.gC.hKt=this.qQt:this.gC.hKt=i,this.gC.$h();case 13:this.v$=EE.CONNECTED,null==(t=this.lKt)||t.bw(),r.next=23;break;case 17:return r.prev=17,r.t0=r.catch(1),r.next=21,Mr.awrap(this.pKt(!1));case 21:this.v$=EE.AVAILABLE,au(r.t0)||this.gW(r.t0);case 23:case"end":return r.stop()}},null,this,[[1,17]],Ye)},i.fKt=function(){var t,n,i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.yKt=!0,r.prev=1,this.v$=EE.CONNECTING,r.next=5,Mr.awrap(this.kKt());case 5:if(this.bKt(),!this.gC){r.next=12;break}return i=null==(n=this.lKt)?void 0:n.My(),r.next=10,Mr.awrap(this.gKt.rQt(i));case 10:(e=r.sent)&&(this.gC.hKt=e);case 12:this.v$=EE.CONNECTED,null==(t=this.lKt)||t.bw(),r.next=22;break;case 16:return r.prev=16,r.t0=r.catch(1),r.next=20,Mr.awrap(this.pKt(!0));case 20:this.v$=EE.AVAILABLE,au(r.t0)||this.gW(r.t0);case 22:case"end":return r.stop()}},null,this,[[1,16]],Ye)},i.AKt=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.gKt.tQt()){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Mr.awrap(this.IC());case 4:case"end":return t.stop()}},null,this,null,Ye)},i.bKt=function(){this.lKt=this.wKt.kM.Cw,this.gC||(this.gC=this.TKt(this.lKt)),this.tN=void 0,this.lKt.Oy(),this.wKt.kM.Cw=this.gC},i.TKt=function(t){var n=new _0(t,this.gKt.tQt());return n.aKt(this.gW),this.wKt.kM.Ny(n),n},i.SKt=function(){this.gC&&(this.wKt.kM.Ky(this.gC),this.gC.Ed(),this.gC=void 0)},i.pKt=function(t){var n,i,e,r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(this.yKt=!1,this.gC){s.next=4;break}return s.abrupt("return");case 4:if(n=this.gC.cp,this.wKt.kM.Cw=this.lKt,i=this.gC.My(),e=this.gC.jg,this.SKt(),!n){s.next=20;break}if(!t){s.next=16;break}return s.next=13,Mr.awrap(this.gKt.sQt(i));case 13:r=s.sent,s.next=19;break;case 16:return s.next=18,Mr.awrap(this.gKt.eQt(i));case 18:r=s.sent;case 19:(r||i)&&(this.wKt.X_.source=r||i,this.wKt.BL(e),this.wKt.xy());case 20:case"end":return s.stop()}},null,this,null,Ye)},i.vKt=function(){this.RM&&(this.gKt.uQt(!1),this.pKt(!0))},i.Ly=function(){this.RM&&(this.gKt.uQt(!0),this.pKt(!1))},i.Ed=function(){this.tu(),this.SKt()},T(n,[{key:"RM",get:function(){return this.v$===EE.CONNECTING||this.v$===EE.CONNECTED}},{key:"mu",get:function(){return this.tN}},{key:"X_",get:function(){return this.H_||(this.H_=m0(this,this.gKt)),this.H_}},{key:"cKt",get:function(){var t;return null==(t=this.gKt.tQt())?void 0:t.Y$t()}},{key:"hC",get:function(){var t;return this.qQt?this.qQt:null==(t=this.gC)?void 0:t.hKt},set:function(t){this.qQt=t,t&&this.gC&&(this.gC.hKt=t,this.gC.$h())}},{key:"v$",get:function(){return this.ye},set:function(t){this.yKt||t!==EE.CONNECTING&&t!==EE.CONNECTED||(t=EE.AVAILABLE),this.ye!==t&&(this.ye=t,this.Qs(new y0(this.v$)))}}]),n}(Yg);p0.EKt="ChromecastController",jN(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.z_=function(){var n=this.CF.X_;return pg(t.prototype.z_.call(this),{get cast(){return n}})},n}(t)},xN.xF);var k0=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).H_=void 0,n}E(n,t);var i=n.prototype;return i.fKt=function(){console.warn("Joining a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.vKt=function(){console.warn("Leaving a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.IC=function(){console.warn("Starting a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.Ly=function(){console.warn("Stopping a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.AKt=function(){return Ye.resolve()},i.Ed=function(){},T(n,[{key:"RM",get:function(){return!1}},{key:"mu",get:function(){}},{key:"cKt",get:function(){}},{key:"hC",get:function(){},set:function(t){}},{key:"v$",get:function(){return EE.UNAVAILABLE}},{key:"X_",get:function(){return this.H_||(this.H_=m0(this)),this.H_}}]),n}(Yg);var b0=function(){function t(t){this._Kt=void 0,this.H_=void 0,this.gKt=void 0,this.gKt=t}var n=t.prototype;return n.gL=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this._Kt||(this._Kt=this.IKt(t)),n.next=3,Mr.awrap(this._Kt);case 3:case"end":return n.stop()}},null,this,null,Ye)},n.IKt=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(this.gKt.gL(t));case 2:case"end":return n.stop()}},null,this,null,Ye)},n.nQt=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this._Kt){t.next=2;break}throw new v("Chromecast must be initialized before starting a session");case 2:return t.next=4,Mr.awrap(this._Kt);case 4:if(this.gKt.tQt()){t.next=7;break}return t.next=7,Mr.awrap(this.gKt.nQt());case 7:case"end":return t.stop()}},null,this,null,Ye)},n.RKt=function(){this.gKt.uQt(!1)},n.NKt=function(){this.gKt.uQt(!0)},T(t,[{key:"X_",get:function(){var t;return this.H_||(this.H_=(t=this,{initialize:function(n){var i=t.gL(ay(n));return i.catch(Z),i},startSession:function(){var n=t.nQt();return n.catch(Z),n},endSession:function(){t.NKt()}})),this.H_}}]),t}();var A0,T0=new KJ,S0=new b0(T0),E0={get chromecast(){return S0.X_}};jN((A0=T0,function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).CKt=void 0,e.uc.cast.strategy!==ty.DISABLED?(e.CKt=new p0(nn(e),e.uc.cast,A0),e.CF.NM(e.CKt)):e.CKt=new k0,e}E(n,t);var i=n.prototype;return i.z_=function(){var n=this,i=t.prototype.z_.call(this);return pg(i.cast,{get chromecast(){return n.CKt.X_}}),i},i.My=function(){var n,i,e=t.prototype.My.call(this);return!e&&null!=(n=this.CKt)&&n.RM&&null!=(i=this.CKt)&&i.hC?this.CKt.hC:e},i.xy=function(){t.prototype.xy.call(this),this.uc.cast.strategy===ty.AUTO&&this.CKt&&!this.CKt.RM&&this.CKt.AKt()},i.Ed=function(){this.CKt&&this.CKt.Ed(),t.prototype.Ed.call(this)},n}(t)}),xN.xF);var I0,R0=function(t){function n(n,e,r){var s;return(s=t.call(this,n,e)||this).DKt=void 0,s.PKt=void 0,s.BKt=void 0,s.xKt=void 0,s.OKt=function(){var t,n=null==(t=s.KO.My())?void 0:t.sources.filter(Ay);i.Fr.ze&&null!=n&&n.some(DS)?s.LKt(EE.AVAILABLE):s.LKt(EE.UNAVAILABLE)},s.handleAirplayPlayerTimeUpdate=function(t){s.PKt=t.currentTime,s.BKt=s.KO.im},s.DKt=r,s.DKt.Wy(),e.Ny(r),s.MKt(),s}E(n,t);var e=n.prototype;return e.FKt=function(){this.gC&&this.gC.nu(Bf.uf,this.handleAirplayChangedEvent),this.UKt?this.gC=this.KO:this.gC=this.DKt,this.gC.Ks(Bf.uf,this.handleAirplayChangedEvent)},e.jKt=function(){var t,n,i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.gC){e.next=2;break}return e.abrupt("return");case 2:if(this.UKt){e.next=24;break}return this.PKt=this.KO.jg,this.BKt=this.KO.im,this.DKt.Ks("timeupdate",this.handleAirplayPlayerTimeUpdate),this.xKt=this.KO.Cw,this.KO.Cw=this.DKt,this.xKt.Oy(),this.xKt.Wy(),this.DKt.qy(),this.DKt.Vg=this.xKt.Vg,this.DKt.Wg=this.xKt.Wg,this.DKt.Qg=this.xKt.Qg,t=this.DKt.fu("seeked"),this.DKt.jg=this.xKt.jg,e.next=18,Mr.awrap(t);case 18:this.DKt.xy(),this.DKt.Vg=this.xKt.Vg,this.DKt.Wg=this.xKt.Wg,this.DKt.Qg=this.xKt.Qg,e.next=30;break;case 24:if(this.gC.qg){e.next=29;break}return n=new Ye(function(t){return a(t,800)}),i=this.gC.fu(Bf.If,this.HKt.qs),e.next=29,Mr.awrap(Ye.race([i,n]));case 29:this.gC.xy();case 30:this.LKt(EE.CONNECTED);case 31:case"end":return e.stop()}},null,this,null,Ye)},e.XKt=function(){this.xKt?(this.DKt.nu("timeupdate",this.handleAirplayPlayerTimeUpdate),this.xKt.Vg=this.DKt.Vg,this.xKt.Wg=this.DKt.Wg,this.xKt.Qg=this.DKt.Qg,F.Pn&&!F.un&&this.KO.Hg===1/0?this.BKt?this.xKt.im=this.BKt:this.xKt.jg=1/0:this.xKt.jg=this.PKt,this.BKt=void 0,this.PKt=void 0,this.xKt.qy(),this.DKt.Wy(),this.DKt.qg||this.xKt.xy(),this.KO.Cw=this.xKt,this.DKt.bw(),this.xKt=void 0):this.gC&&(this.gC.jg=this.gC.jg+1e-4);this.LKt(EE.AVAILABLE)},e.jy=function(){i.Fr.ze&&(this.Xht.Xy(),this.HKt.Xs(),this.HKt=new uu,this.UKt?gu(this.zKt(this.HKt.qs)):gu(this.VKt(this.HKt.qs)))},e.VKt=function(t){var n,i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mr.awrap(this.DKt.bw());case 3:if(void 0!==(n=this.KO.My())){e.next=6;break}throw new v("Not possible to start Airplay without a source");case 6:return e.next=8,Mr.awrap(this.DKt.Fy(n,t));case 8:return i=this.DKt.fu("playing",t),this.DKt.xy(),e.next=12,Mr.awrap(pu(i,3e3));case 12:this.DKt.Oy(),hu(t),this.DKt.jy(),e.next=22;break;case 17:if(e.prev=17,e.t0=e.catch(0),!au(e.t0)){e.next=21;break}return e.abrupt("return");case 21:0;case 22:case"end":return e.stop()}},null,this,[[0,17]],Ye)},e.Ed=function(){var n;t.prototype.Ed.call(this),this.KO.Ky(this.DKt),null==(n=this.DKt)||n.Ed()},T(n,[{key:"UKt",get:function(){return this.KO.Uy()}}]),n}(function(t){function n(n,i){var e;return(e=t.call(this)||this).H_=void 0,e.Xht=void 0,e.gC=void 0,e.KO=void 0,e.ye=EE.UNAVAILABLE,e.HKt=new uu,e.OKt=void 0,e.handleAirplayChangedEvent=function(){e.gC&&e.gC.hm?e.jKt():e.v$===EE.CONNECTED&&e.XKt()},e.Xht=n,e.KO=i,e}E(n,t);var e=n.prototype;return e.MKt=function(){this.FKt(),this.Xht.Ks("sourcechange",this.OKt),i.Fr.ze&&this.LKt(EE.AVAILABLE)},e.preloadPlayer=function(t){if(hu(t),this.gC.$w<sy.Cg){var n=this.gC.fu("loadedmetadata",t);return this.gC.mm=FS.Zb,n}return Ye.resolve()},e.LKt=function(t){t!==this.ye&&(this.ye=t,this.Qs(new y0(this.ye)))},e.zKt=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(this.preloadPlayer(t));case 2:this.KO.jy();case 3:case"end":return n.stop()}},null,this,null,Ye)},e.Hy=function(){i.Fr.ze&&this.gC.Hy()},e.Ed=function(){this.tu(),this.Xht.nu("sourcechange",this.OKt),this.HKt.Xs()},T(n,[{key:"RM",get:function(){return this.v$===EE.CONNECTED}},{key:"v$",get:function(){return this.ye}},{key:"X_",get:function(){var t;return this.H_||(this.H_=(t=this,{get casting(){return t.RM},get state(){return t.v$},start:function(){t.jy()},stop:function(){t.Hy()},addEventListener:function(n,i){var e=Dg(n,Ng);t.Ks(e,i)},removeEventListener:function(n,i){var e=Dg(n,Ng);t.nu(e,i)}})),this.H_}}]),n}(Tu)),N0=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this)||this).vC=void 0,o.qKt=void 0,o.WKt=void 0,o.yC=void 0,o.C8=void 0,o.Ty=new jg,o.Sy=new jg,o.Ey=new Gg,o.vC=n,o.qKt=new de(s,u,1,[gm.wd]),o.qKt.ND(n),o.WKt=new CS(n,o.qKt,i,e,r),o.WKt.Js(o.$s),o.Ty.Cw=o.WKt.Cy,o.Sy.Cw=o.WKt.Dy,o.Ey.Cw=o.WKt.Py,o}E(n,t);var i=n.prototype;return i.Uy=function(){return this.WKt.Uy()},i.jy=function(){this.WKt.jy()},i.Hy=function(){this.WKt.Hy()},i.xy=function(){gu(this.WKt.xy())},i.Oy=function(){this.WKt.Oy()},i.Ly=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,Ye)},i.My=function(){return this.C8},i.Fy=function(t,n){var i,e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(hu(n),this.C8=t,!yy(t.sources)){u.next=6;break}i=GE({src:""}),u.next=16;break;case 6:e=t.sources.filter(Ay),r=0;case 8:if(!(r<e.length)){u.next=16;break}if(!DS(s=e[r])){u.next=13;break}return i=s,u.abrupt("break",16);case 13:r++,u.next=8;break;case 16:if(i){u.next=18;break}throw new v("Unsupported source.");case 18:return u.next=20,Mr.awrap(this.WKt.Fy(i,t,n));case 20:this.TC(i);case 21:case"end":return u.stop()}},null,this,null,Ye)},i.TC=function(t){this.yC!==t&&(this.yC=t,this.Qs(new Kg(t)))},i.Gy=function(){},i.GKt=function(){},i.$y=function(){return[]},i.Xy=function(){this.qKt.CD()},i.zy=function(t){Wy(this,t)},i.Vy=function(){},i.Qy=function(t){return!1},i.tm=function(){},i.bw=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.yC=void 0,this.C8=void 0,t.next=4,Mr.awrap(this.WKt.bw());case 4:case"end":return t.stop()}},null,this,null,Ye)},i.qy=function(){this.WKt.qy()},i.Wy=function(){this.WKt.Wy()},i.Yy=function(){return this.WKt.Yy()},i.Ed=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.tu(),this.qKt.Ed(),t.next=4,Mr.awrap(this.WKt.Ed());case 4:this.Ty.Ed(),this.Sy.Ed(),this.Ey.Ed();case 7:case"end":return t.stop()}},null,this,null,Ye)},T(n,[{key:"Cy",get:function(){return this.WKt.Cy}},{key:"nm",get:function(){return this.WKt.nm}},{key:"Jy",get:function(){return this.yC}},{key:"jg",get:function(){return this.WKt.jg},set:function(t){this.WKt.jg=t}},{key:"im",get:function(){return this.WKt.im}},{key:"Hg",get:function(){return this.WKt.Hg}},{key:"um",get:function(){return this.vC}},{key:"Xg",get:function(){return this.WKt.Xg}},{key:"mu",get:function(){return this.WKt.mu}},{key:"hm",get:function(){return this.WKt.hm}},{key:"cm",get:function(){return{fm:0,vm:0,lm:0,dm:0,_m:0,wm:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Vg",get:function(){return this.WKt.Vg},set:function(t){this.WKt.Vg=t}},{key:"gm",get:function(){return this.WKt.gm}},{key:"qg",get:function(){return this.WKt.qg}},{key:"Wg",get:function(){return this.WKt.Wg},set:function(t){this.WKt.Wg=t}},{key:"ym",get:function(){return this.WKt.ym}},{key:"mm",get:function(){return this.WKt.mm},set:function(t){this.WKt.mm=t}},{key:"$w",get:function(){return this.WKt.$w}},{key:"pm",get:function(){return this.WKt.pm}},{key:"Gg",get:function(){return this.WKt.Gg}},{key:"Py",get:function(){return this.WKt.Py}},{key:"Yg",get:function(){return this.WKt.Yg}},{key:"$g",get:function(){return this.WKt.$g}},{key:"Dy",get:function(){return this.WKt.Dy}},{key:"Qg",get:function(){return this.WKt.Qg},set:function(t){this.WKt.Qg=t}}]),n}(Yg);jN(function(t){return function(t){function n(n,i){var e;(e=t.call(this,n,i)||this).YKt=void 0;var r=new N0(e.kM.um,e.L_,e.uc,e.RF,e.dF,e.BF);return e.YKt=new R0(nn(e),e.kM,r),e.CF.NM(e.YKt),e.Ks("currentsourcechange",function(){e.YKt.FKt()}),e}E(n,t);var i=n.prototype;return i.z_=function(){var n=this,i=t.prototype.z_.call(this);return pg(i.cast,{get airplay(){return n.YKt.X_}}),i},i.Ed=function(){this.YKt.Ed(),t.prototype.Ed.call(this)},n}(t)},xN.xF),function(t){t.$Kt="readonly",t.QKt="readwrite"}(I0||(I0={}));var C0=function(t){function n(n,i){return t.call(this,n,i)||this}return E(n,t),T(n,[{key:"name",get:function(){return"KKt"}}]),n}(rn);function D0(t,n){if("function"==typeof t.getAll)return P0(void 0===n?t.getAll():t.getAll(n));var i,e,r,s=void 0===n?t.openCursor():t.openCursor(n);return i=s,e=new ea,r=[],i.onsuccess=function(){var t=i.result;t&&t.value?(r.push(t.value),t.continue()):e.Wu(r),$e()},i.onerror=function(){e.Gu(i.error),$e()},e.Hu}function P0(t){return new Ye(function(n,i){t.onsuccess=function(){n(t.result),$e()},t.onerror=function(){i(t.error),$e()}})}var B0=function(){function t(t){var n=this;this.zZ=void 0,this.Hu=void 0,this.cp=void 0,this.zZ=t,this.cp=!0,this.Hu=new Ye(function(t,i){n.zZ.oncomplete=function(){n.cp=!1,t(),$e()},n.zZ.onerror=function(){n.cp&&(n.cp=!1,i(n.zZ.error||new v("Transaction error")),$e())},n.zZ.onabort=function(){n.cp=!1,i(new v("Transaction aborted")),$e()}})}return t.prototype.Xs=function(){if(this.cp)try{this.zZ.abort(),this.cp=!1}catch(t){}},t}();function x0(t,n,i){var e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return e=new B0(t),u.prev=1,u.next=4,Mr.awrap(Ye.all([n(i),e.Hu]));case 4:return r=u.sent,s=r[0],u.abrupt("return",s);case 9:if(u.prev=9,u.t0=u.catch(1),e.cp){u.next=13;break}throw new C0("IDBTransaction committed prematurely",u.t0);case 13:throw u.t0;case 14:return u.prev=14,e.Xs(),u.finish(14);case 17:case"end":return u.stop()}},null,null,[[1,9,14,17]],Ye)}var O0=function(){function t(t,n){this.b_=void 0,this.ZKt=void 0,this.b_=t,this.ZKt=n}var n=t.prototype;return n.NZ=function(t){return Ye.resolve("persistent"===t)},n.CZ=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?Ye.reject(pO(n)):P0(this.JKt(I0.QKt).put(t))},n.DZ=function(t,n){var i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===n&&(n="persistent"),"persistent"===n){r.next=3;break}return r.abrupt("return",Ye.reject(pO(n)));case 3:i=0;case 4:if(!(i<t.length)){r.next=11;break}return e=t[i],r.next=8,Mr.awrap(this.CZ(e,n));case 8:i++,r.next=4;break;case 11:case"end":return r.stop()}},null,this,null,Ye)},n.Iu=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Boolean,n.next=3,Mr.awrap(this.Ru(t));case 3:return n.t1=n.sent,n.abrupt("return",(0,n.t0)(n.t1));case 5:case"end":return n.stop()}},null,this,null,Ye)},n.Ru=function(t){return P0(this.JKt(I0.$Kt).get(t))},n.PZ=function(t,n){return P0(this.JKt(I0.$Kt).index(n).get(t))},n.EZ=function(t){var n,i,e,r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0;case 2:if(!(i<t.length)){s.next=11;break}return e=t[i],s.next=6,Mr.awrap(this.Ru(e));case 6:(r=s.sent)&&n.push(r);case 8:i++,s.next=2;break;case 11:return s.abrupt("return",n);case 12:case"end":return s.stop()}},null,this,null,Ye)},n.BZ=function(){return D0(this.JKt(I0.$Kt))},n.xZ=function(t){return D0(this.JKt(I0.$Kt),t)},n.OZ=function(t,n){return D0(this.JKt(I0.$Kt).index(n),t)},n.Qh=function(t){return P0(this.JKt(I0.QKt).delete(t))},n.LZ=function(t){var n,i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<t.length)){e.next=8;break}return i=t[n],e.next=5,Mr.awrap(this.Qh(i));case 5:n++,e.next=1;break;case 8:case"end":return e.stop()}},null,this,null,Ye)},n.MZ=function(){return P0(this.JKt(I0.QKt).clear())},n.JKt=function(t){if(!this.ZKt)throw new v("Lock was released");if(n=t,i=this.ZKt.mode,(n!==I0.$Kt||i!==I0.$Kt)&&i!==I0.QKt)throw new v("Incompatible transaction mode: "+this.ZKt.mode+", expected "+t);var n,i;return this.ZKt.objectStore(this._i)},n.tZt=function(){this.b_.nZt(this),this.ZKt=void 0},T(t,[{key:"_i",get:function(){return this.b_._i}}]),t}();var L0=function(){function t(t,n){this.iZt=void 0,this._i=void 0,this.hft=void 0,this.hU=new QN,this.iZt=t,this._i=n}var n=t.prototype;return n.NZ=function(t){return Ye.resolve("persistent"===t)},n.CZ=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?Ye.reject(pO(n)):this.zZ(I0.QKt,function(n){return n.CZ(t)})},n.DZ=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?Ye.reject(pO(n)):this.zZ(I0.QKt,function(n){return n.DZ(t)})},n.Iu=function(t){return this.zZ(I0.$Kt,function(n){return n.Iu(t)})},n.Ru=function(t){return this.zZ(I0.$Kt,function(n){return n.Ru(t)})},n.PZ=function(t,n){return this.zZ(I0.$Kt,function(i){return i.PZ(t,n)})},n.EZ=function(t){return this.zZ(I0.$Kt,function(n){return n.EZ(t)})},n.BZ=function(){return this.zZ(I0.$Kt,function(t){return t.BZ()})},n.xZ=function(t){return this.zZ(I0.$Kt,function(n){return n.xZ(t)})},n.OZ=function(t,n){return this.zZ(I0.$Kt,function(i){return i.OZ(t,n)})},n.Qh=function(t){return this.zZ(I0.QKt,function(n){return n.Qh(t)})},n.LZ=function(t){return this.zZ(I0.QKt,function(n){return n.LZ(t)})},n.MZ=function(){return this.zZ(I0.QKt,function(t){return t.MZ()})},n.bft=function(t){return this.eZt(),this.hft=new O0(this,t),this.hft},n.eZt=function(){if(void 0!==this.hft)throw new v("Already locked")},n.nZt=function(t){if(this.hft!==t)throw new v("Incorrect lock");this.hft=void 0},n.ZF=function(t){return this.hU.ZF(t)},n.zZ=function(t,n){var i=this;return this.ZF(function(){return i.rZt(t,n)})},n.rZt=function(t,n){var i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.eZt(),i=this.iZt.transaction(this._i,t),e=this.bft(i),r.prev=3,r.next=6,Mr.awrap(x0(i,n,e));case 6:return r.abrupt("return",r.sent);case 7:return r.prev=7,e.tZt(),r.finish(7);case 10:case"end":return r.stop()}},null,this,[[3,,7,10]],Ye)},n.sZt=function(t){this.eZt();var n=this.iZt.transaction(this._i,t);return this.bft(n)},t.uZt=function(t,n){var i,e=new Ye(function(t){i=t}),r=t.reduce(function(t,n){return t.then(function(){var t,i=new Ye(function(n){t=n});return n.ZF(function(){return t(),e}).catch(Z),i})},Ye.resolve());return i(r.then(n)),e},t}(),M0={IA:17,oZt:function(t){var n,i,e,r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(n=t.transaction,i=t.database,(e=n.objectStoreNames)&&e.length)for(r=0;r<e.length;r++)i.deleteObjectStore(e[r]);i.createObjectStore(X0,{keyPath:"id"}),i.createObjectStore(z0,{keyPath:"key"}),i.createObjectStore(V0,{keyPath:"key"}),i.createObjectStore(q0,{keyPath:"segmentURLsegmentByteRange"}).createIndex("manifestURL","manifestURL"),i.createObjectStore(W0,{keyPath:"segmentURLsegmentByteRange"}).createIndex("manifestURL","manifestURL");case 10:case"end":return s.stop()}},null,null,null,Ye)}},F0=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),T(n,[{key:"aZt",get:function(){return[M0]}}]),n}(function(){function t(t){this.hZt=t}return t.prototype.cZt=function(t){var n,i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.aZt;case 1:if(!(n<i.length)){r.next=9;break}if(e=i[n],!(this.hZt<e.IA)){r.next=6;break}return r.next=6,Mr.awrap(e.oZt(t));case 6:n++,r.next=1;break;case 9:case"end":return r.stop()}},null,this,null,Ye)},t}()),U0=new(function(){function t(){this.fZt=function(t){return new F0(t)}}var n=t.prototype;return n.vZt=function(t){this.fZt=t},n.IK=function(t){return this.fZt(t)},t}()),j0="theoplayer-cache-database",H0=18,X0="cachingTask",z0="licences",V0="manifest",q0="segment",W0="segmentMetadata";function G0(t){var n,i,e,r,s,u;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.oldVersion<=H0?t.oldVersion:-1,i=t.target,e=i.result,r=i.transaction,s=U0.IK(n),u={database:e,transaction:r},o.next=8,Mr.awrap(x0(r,function(t){return s.cZt(t)},u));case 8:case"end":return o.stop()}},null,null,null,Ye)}function Y0(){if("undefined"==typeof indexedDB)throw new v("Indexed database unavailable")}var $0=function(){function t(){}return T(t,null,[{key:"Wn",get:function(){var t;return this.aJ||(this.aJ=Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return Y0(),(t=indexedDB.open(j0,H0)).addEventListener("upgradeneeded",G0),n.next=5,Mr.awrap(P0(t));case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}},null,null,null,Ye)),this.aJ}}]),t}();$0.aJ=void 0;var Q0=function(){function t(t,n){this.FZ=void 0,this.UZ=void 0,this.jZ=void 0,this.HZ=void 0,this.XZ=void 0,this.FZ=t.FZ.bft(n),this.UZ=t.UZ.bft(n),this.jZ=t.jZ.bft(n),this.HZ=t.HZ.bft(n),this.XZ=t.XZ.bft(n)}var n=t.prototype;return n.zZ=function(t){return t(this)},n.tZt=function(){this.FZ.tZt(),this.UZ.tZt(),this.jZ.tZt(),this.HZ.tZt(),this.XZ.tZt()},t}(),K0=function(){function t(t){this.iZt=void 0,this.FZ=void 0,this.UZ=void 0,this.jZ=void 0,this.HZ=void 0,this.XZ=void 0,this.iZt=t,this.FZ=new L0(t,W0),this.UZ=new L0(t,q0),this.jZ=new L0(t,V0),this.HZ=new L0(t,X0),this.XZ=new L0(t,z0)}t.IK=function(){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Mr.awrap($0.Wn);case 2:return n=i.sent,i.abrupt("return",new t(n));case 4:case"end":return i.stop()}},null,null,null,Ye)};var n=t.prototype;return n.zZ=function(t){var n=this,i=this.allCollections;return L0.uZt(i,function(){return n.rZt(i,t)})},n.rZt=function(t,n){var i,e,r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=t.map(function(t){return t._i}),e=this.iZt.transaction(i,I0.QKt),r=new Q0(this,e),s.prev=3,s.next=6,Mr.awrap(x0(e,n,r));case 6:return s.abrupt("return",s.sent);case 7:return s.prev=7,r.tZt(),s.finish(7);case 10:case"end":return s.stop()}},null,this,[[3,,7,10]],Ye)},T(t,[{key:"allCollections",get:function(){return[this.UZ,this.FZ,this.jZ,this.HZ,this.XZ]}}]),t}();RO.mU(K0.IK);var Z0,J0=function(t){function n(){return t.call(this,"Ttt")||this}return E(n,t),n.prototype.z_=function(){return new t1},n}(sg),t1=function(t){function n(){return t.call(this,"statechange")||this}return E(n,t),n}(Eu);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(Z0||(Z0={}));var n1=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).lZt=new Yg,n.$s=function(t){n.Qs(t)},n}E(n,t);var i=n.prototype;return i.z_=function(){return n=function(t){var n=t.dZt.map(function(t){return t.X_});return n.item=function(n){n|=0;var i=t.gw(n);return i&&i.X_||void 0},n}(t=this),i=new cN(t,n),n.addEventListener=function(t,n){i.Ks(t,n)},n.removeEventListener=function(t,n){i.nu(t,n)},n;var t,n,i},i.Ks=function(t,n){this.lZt.Ks(t,n)},i.Js=function(t){this.lZt.Js(t)},i.tu=function(){this.lZt.tu()},i.Qs=function(t){this.lZt.Qs(t)},i.nu=function(t,n){this.lZt.nu(t,n)},i.ou=function(t){this.lZt.ou(t)},i.au=function(t){this.lZt.au(t)},i.fu=function(t,n){return this.lZt.fu(t,n)},n}(function(){function t(){this.Eu=[],this.H_=void 0}var n=t.prototype;return n.gw=function(t){return this.Eu[t]},n.Em=function(t){this.Eu.push(t),this.H_&&this.H_.push(t.X_),this._Zt(t)},n.wZt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Em(i)}},n.gZt=function(t,n){n>=0&&n<=this.Eu.length&&(this.Eu.splice(n,0,t),this.H_&&this.H_.splice(n,0,t.X_),this._Zt(t))},n.Im=function(t){return Ys(this.Eu,t)},n.Qh=function(t){this.yZt(this.Eu.indexOf(t))},n.yZt=function(t){if(t>=0&&t<this.Eu.length){var n=this.Eu[t];Gs(this.Eu,t),this.H_&&Gs(this.H_,t),this.mZt(n)}},n.Du=function(){var t=this.Eu.slice();Qs(this.Eu),this.H_&&Qs(this.H_);for(var n=0;n<t.length;n++){var i=t[n];this.mZt(i)}},T(t,[{key:"dZt",get:function(){return this.Eu}},{key:"Tw",get:function(){return this.Eu.length}},{key:"X_",get:function(){return this.H_||(this.H_=this.z_()),this.H_}}]),t}());var i1,e1=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return E(n,t),n}(Eu),r1=function(t){function n(n){var i;return(i=t.call(this,"kZt")||this).pZt=n,i}return E(n,t),n.prototype.z_=function(){return new e1(this.pZt.X_)},n}(sg),s1=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return E(n,t),n}(Eu),u1=function(t){function n(n){var i;return(i=t.call(this,"bZt")||this).task=n,i}return E(n,t),n.prototype.z_=function(){return new s1(this.task.X_)},n}(sg),o1=function(t){function n(){return t.call(this)||this}E(n,t);var i=n.prototype;return i._Zt=function(t){this.Qs(new r1(t))},i.mZt=function(t){this.Qs(new u1(t))},n}(n1);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(i1||(i1={}));var a1,h1=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Ptt=i1.UNINITIALISED,r.WF=new o1,r.O6=void 0,r.AZt=void 0,r.TZt=void 0,r.TZt=i,r.AZt=e,r.O6=n,r.Xy(),r}E(n,t);var i=n.prototype;return i.Xy=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mr.awrap(this.SZt());case 2:this.Gtt(i1.INITIALISED);case 3:case"end":return t.stop()}},null,this,null,Ye)},i.SZt=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mr.awrap(this.EZt());case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},null,this,[[0,5]],Ye)},i.EZt=function(){var t,n,i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Mr.awrap(this.O6.BZ());case 2:for(t=r.sent,n=0;n<t.length;n++)i=t[n],e=this.TZt.IZt(i.id,i.sourceDescription,i.parameters,this.AZt),this.RZt(e),this.WF.Em(e);case 4:case"end":return r.stop()}},null,this,null,Ye)},i.Gtt=function(t){this.Ptt=t,this.Qs(new J0)},i.IZt=function(t,n,i){void 0===i&&(i="persistent");var e=this.TZt.NZt(t,n,i);return this.CZt(e,i),this.WF.Em(e),this.RZt(e),e},i.CZt=function(t,n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Mr.awrap(this.DZt(t,n));case 3:i.next=8;break;case 5:throw i.prev=5,i.t0=i.catch(0),v("Unable to persist task - "+i.t0);case 8:case"end":return i.stop()}},null,this,[[0,5]],Ye)},i.DZt=function(t,n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Mr.awrap(this.O6.CZ({key:t.xw,id:t.xw,sourceDescription:t.hC,parameters:t.wc},n));case 2:case"end":return i.stop()}},null,this,null,Ye)},i.RZt=function(t){var n=this;t.Ks("Ttt",function(){t.Vl===Z0.EVICTED&&n.WF.Qh(t)})},T(n,[{key:"Vl",get:function(){return this.Ptt}},{key:"PZt",get:function(){return this.WF}}]),n}(Tu),c1=function(t){function n(){return t.call(this,"progress")||this}return E(n,t),n}(Eu),f1=function(t){function n(){return t.call(this,"GIt")||this}return E(n,t),n.prototype.z_=function(){return new c1},n}(sg),v1=function(){function t(t,n,i){if(this.BZt=void 0,this.xZt=t,this.Sm=n,this.OZt=i,0===this.Sm.size)this.BZt=WS.vD();else{var e=new WS([-1/0,1/0]);this.Sm.forEach(function(t){e=e.XC(t.timeRanges)}),this.BZt=e}}return t.prototype.hp=function(t){return!!bg(this.Sm,t.Sm)&&(!!zt(this.xZt,t.xZt)&&(!!zt(this.aD,t.aD)&&(!!zt(this.LZt,t.LZt)&&this.MZt.iD(t.MZt))))},t.FZt=function(){return d1},T(t,[{key:"aD",get:function(){return this.OZt}},{key:"UZt",get:function(){return this.xZt}},{key:"LZt",get:function(){return this.MZt.aD}},{key:"jZt",get:function(){var t=0,n=0;return this.Sm.forEach(function(i){t+=i.timeRanges.aD,n+=i.totalQualityDurationToCache}),0===n?0:w.min(1,t/n)}},{key:"MZt",get:function(){return this.BZt}}]),t}(),l1=jr(),d1=new v1(0,l1,NaN);function _1(t,n){if(G(t)){if(ps(t,"%"))return y(t)/100*n;throw new v("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}function w1(t,n,i){var e,r,s,u,o;return Mr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.j0;r<s.length;r++)u=s[r],e.push(g1(u,n,i));return a.next=4,Mr.awrap(Ye.all(e));case 4:return o=a.sent,a.abrupt("return",{Hg:t.M0.cJ(),HZt:[t.C4],j0:o});case 6:case"end":return a.stop()}},null,null,null,Ye)}function g1(t,n,i){var e,r,s,u,o;return Mr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.X3;r<s.length;r++)u=s[r],e.push(y1(u,n,i));return a.next=4,Mr.awrap(Ye.all(e));case 4:return o=a.sent,a.abrupt("return",{XZt:o});case 6:case"end":return a.stop()}},null,null,null,Ye)}function y1(t,n,i){var e,r,s,u,o;return Mr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.I0;r<s.length;r++)m1(u=s[r])||e.push(b1(u,n,i));return a.next=4,Mr.awrap(Ye.all(e));case 4:return o=a.sent,a.abrupt("return",{VA:o,vs:t.vs});case 6:case"end":return a.stop()}},null,null,null,Ye)}function m1(t){return t.p0.every(k1)}!function(t){t[t.yg=0]="yg",t[t.pg=1]="pg"}(a1||(a1={}));var p1=1;function k1(t){return t.YJ!==p1&&Boolean(t.YJ)}function b1(t,n,i){var e,r,s,u,o,a,h,c,f;return Mr.async(function(v){for(;;)switch(v.prev=v.next){case 0:for(e=[],r=0,s=t.p0;r<s.length;r++)k1(u=s[r])||e.push(T1(u,i));return v.next=4,Mr.awrap(Ye.all(e));case 4:return o=v.sent,a=t.VH[0],h=t.qJ,c=h?A1(a,h):void 0,f=uF(t,n),v.abrupt("return",{Uw:o,Fw:t.uQ,vs:t.vs,NN:c,a7:f});case 10:case"end":return v.stop()}},null,null,null,Ye)}function A1(t,n){for(var i=[],e=function(t){return t?ps(t,"avc")?Xc.VIDEO_H264:ps(t,"hev")||ps(t,"hvc")||ps(t,"hvt")||ps(t,"lhv")||ps(t,"lhe")||ps(t,"lht")?Xc.VIDEO_H265:ps(t,"mp4")?Xc.VIDEO_MP4:ps(t,"mpeg2")?Xc.VIDEO_MPEG2:ps(t,"mpeg")?Xc.VIDEO_MPEG:Xc.VIDEO_UNKNOWN:Xc.VIDEO_UNKNOWN}(t),r=0;r<n.length;r++){var s=n[r],u=s.pJ.split(":").pop(),o=s.mJ;i.push({mimeType:e,uuid:u,data:o})}return{type:a1.yg,schemeType:Zr,schemeDatas:i}}function T1(t,n){var i,e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Mr.awrap(S1(t,n));case 2:r=u.sent,s={xw:I1(t),qS:r,PR:t.PR,rr:t.rr,uT:t.uT,vs:t.vs,yp:t.yp},u.t0=t.vs,u.next=u.t0===gm.Jn?7:u.t0===gm.wd?8:u.t0===gm._d?10:12;break;case 7:return u.abrupt("break",13);case 8:return s.GJ=null!=(i=null==(e=t.GJ)?void 0:e.pp())?i:NaN,u.abrupt("break",13);case 10:return s.audioSamplingRate=t.zJ,u.abrupt("break",13);case 12:0;case 13:return u.abrupt("return",s);case 14:case"end":return u.stop()}},null,null,null,Ye)}function S1(t,n){var i,e,r,s,u,o,a,h;return Mr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=t.LJ,t.I1&&i.push({Vm:0,Hg:0,zZt:t.I1}),r=e.W1(),s=r;case 5:if(!s){c.next=17;break}if(!t._1(s)){c.next=13;break}return c.next=9,Mr.awrap(t.w1(s,n,(new uu).qs));case 9:for(u=c.sent,o=0;o<u.Tw;o++)i.push(E1(u.a3(o),t));c.next=14;break;case 13:i.push(E1(s,t));case 14:s=e.a2(s),c.next=5;break;case 17:return a=e.Z1(),h=a.qm-r.Vm,c.abrupt("return",{Hg:h,UZ:i});case 20:case"end":return c.stop()}},null,null,null,Ye)}function E1(t,n){return{Vm:t.Vm,Hg:t.Hg,zZt:n.c1(t)}}function I1(t){return t.N1.IC+"-"+(""+t.xw)}function R1(t,n){return function(t,n){for(var i={},e=0;e<VX.length;e++){var r=VX[e],s=t[r],u={};for(var o in s){for(var a=[],h=s[o],c=0;c<h.length;c++){var f=h[c],v=N1(f,r,n);a.push(v)}u[o]=a}i[r]=u}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var e=t[i];n[e.$vt]||(n[e.$vt]={vs:e.vs,JA:[]}),n[e.$vt].JA.push(e)}return n}(t),i={};for(var e in n)for(var r=n[e],s=0,u=r.JA;s<u.length;s++){var o,a,h=u[s],c=null!=(a=i[o=r.vs])?a:i[o]={};c[h._i]||(c[h._i]=[]),c[h._i].push(h)}return i}(t),n)}function N1(t,n,i){for(var e=t.$vt,r={vlt:t,Mlt:[]},s=0;s<i.length;s++){var u=i[s];MV(n,e,u)&&r.Mlt.push(u)}return r}function C1(t,n){var i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mr.awrap(n.Z4([t],{}));case 2:return i=e.sent,e.abrupt("return",dV(i.Ql,{},i.J4));case 4:case"end":return e.stop()}},null,null,null,Ye)}function D1(t,n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!UX(t)){i.next=4;break}return i.abrupt("return",P1(t,n));case 4:return i.abrupt("return",(r=void 0,{Hg:(r=H1(e=t)).Hg,HZt:[e.Y0],j0:[{XZt:[{vs:gm.Jl,VA:[{vs:gm.Jl,Fw:fj,Uw:[{xw:e.Y0,qS:r,PR:0,rr:"",uT:0,vs:gm.Jl,yp:0}]}]}]}]}));case 5:case"end":return i.stop()}var e,r},null,null,null,Ye)}function P1(t,n){var i,e,r;return Mr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=R1(t.JA,t.v_t),s.next=3,Mr.awrap(O1(i,n));case 3:return e=s.sent,s.next=6,Mr.awrap(x1(t.v_t,n));case 6:return r=s.sent,e.push(r),s.abrupt("return",{Hg:B1(e),HZt:[t.Y0],j0:[{XZt:e}]});case 9:case"end":return s.stop()}},null,null,null,Ye)}function B1(t){for(var n=-1/0,i=0;i<t.length;i++)for(var e=0,r=t[i].VA;e<r.length;e++){var s=r[e];n=w.max.apply(w,[n].concat(s.Uw.map(function(t){return t.qS.Hg})))}return n}function x1(t,n){var i,e,r,s,u,o,a,h;return Mr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=0;case 2:if(!(e<t.length)){c.next=15;break}return a=t[e],c.next=6,Mr.awrap(j1(a.Y0,n));case 6:(h=c.sent).PR=a.PR,h.rr=a.VH?[(f=a.VH).zH,f.XH,f.qH].filter(H).join(","):"",h.uT=null!=(r=null==(s=a.Elt)?void 0:s.uT)?r:0,h.yp=null!=(u=null==(o=a.Elt)?void 0:o.yp)?u:0,i.push(h);case 12:e++,c.next=2;break;case 15:return c.abrupt("return",{vs:gm.Jl,VA:[{Fw:fj,vs:gm.Jl,Uw:i}]});case 16:case"end":return c.stop()}var f},null,null,null,Ye)}function O1(t,n){var i,e,r,s,u;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=0;case 2:if(!(e<VX.length)){o.next=13;break}if(r=VX[e],!(s=t[r])){o.next=10;break}return o.next=8,Mr.awrap(L1(s,r,n));case 8:u=o.sent,i.push(u);case 10:e++,o.next=2;break;case 13:return o.abrupt("return",i);case 14:case"end":return o.stop()}},null,null,null,Ye)}function L1(t,n,i){var e,r,s,u;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=[],o.t0=Mr.keys(t);case 2:if((o.t1=o.t0()).done){o.next=11;break}return r=o.t1.value,s=t[r],o.next=7,Mr.awrap(M1(s,i));case 7:u=o.sent,e.push(u),o.next=2;break;case 11:return o.abrupt("return",{vs:F1(n),VA:e});case 12:case"end":return o.stop()}},null,null,null,Ye)}function M1(t,n){var i,e,r,s,u;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=t[0].vlt,r=0;case 3:if(!(r<t.length)){o.next=12;break}return s=t[r],o.next=7,Mr.awrap(U1(s,n));case 7:u=o.sent,i.push(u);case 9:r++,o.next=3;break;case 12:return o.abrupt("return",{Fw:e.Fw||fj,vs:F1(e.vs),Uw:i});case 13:case"end":return o.stop()}},null,null,null,Ye)}function F1(t){switch(t){case DX._d:return gm._d;case DX.wd:return gm.wd;case DX.Qb:case DX.Rvt:return gm.Jn;default:return gm.Jl}}function U1(t,n){var i,e,r;return j1((e=(i=t).vlt.Y0,r=i.Mlt.map(function(t){return t.Y0}),e||(r.length?r[0]:void 0)),n)}function j1(t,n){var i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i={Hg:0,UZ:[]},!t){r.next=6;break}return r.next=4,Mr.awrap(C1(t,n));case 4:jX(e=r.sent)&&(i=H1(e));case 6:return r.abrupt("return",{xw:t||"default",VZt:t,qS:i,PR:0,rr:"",uT:0,vs:gm.Jl,yp:0});case 7:case"end":return r.stop()}},null,null,null,Ye)}function H1(t){for(var n,i=[],e=0,r=0,s=t.UZ;r<s.length;r++){var u=s[r],o=e;!u.w_t||void 0!==n&&GX(u.w_t.Y0,n)||(i.push(X1(u.w_t,o)),n=u.w_t.Y0),i.push(z1(u,o)),e+=u.Hg}return{Hg:e,UZ:i}}function X1(t,n){return{Vm:n,Hg:0,zZt:V1(t.Y0)}}function z1(t,n){return{Vm:n,Hg:t.Hg,zZt:V1(t.Y0)}}function V1(t){return{Kl:t.Ai,bJ:t.l3?[t.l3.IC,t.l3.IC+t.l3.Tw]:void 0,Ad:!1}}var q1=function(){function t(t,n,i){this.L4=t,this.ret=n,this.qZt=i}var n=t.prototype;return n.WZt=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.src){i.next=2;break}throw new v("Invalid typed source");case 2:if(!vy(n=t.type)){i.next=9;break}return i.next=6,Mr.awrap(this.GZt(t));case 6:return i.abrupt("return",i.sent);case 9:if(!fy(n)){i.next=15;break}return i.next=12,Mr.awrap(this.YZt(t));case 12:return i.abrupt("return",i.sent);case 15:throw new v("Unexpected source type");case 16:case"end":return i.stop()}},null,this,null,Ye)},n.GZt=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Mr.awrap(C1(t.src,this.L4));case 3:return n=i.sent,i.next=6,Mr.awrap(D1(n,this.L4));case 6:return i.abrupt("return",i.sent);case 9:throw i.prev=9,i.t0=i.catch(0),new v("Unable to fetch HLS manifest");case 12:case"end":return i.stop()}},null,this,[[0,9]],Ye)},n.YZt=function(t){var n;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new lM({Zw:i.Or(t.src),O4:t.liveOffset,I4:t.timeServer,Ad:t.useCredentials},this.qZt,g_.Pd,this.L4),e.next=4,Mr.awrap(n.n5);case 4:return e.next=6,Mr.awrap(w1(n.t5.v1,t.contentProtection,this.ret));case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),new v("Unable to fetch DASH manifest");case 12:case"end":return e.stop()}},null,this,[[0,9]],Ye)},t}(),W1=function(){function t(t){this.$Zt=void 0,this.QZt=[],this.KZt=0,this.$Zt=t}var n=t.prototype;return n.ZZt=function(){var t=new ea;return this.QZt.push(t),this.JZt(),t.Hu},n.tJt=function(t,n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Mr.awrap(t);case 2:this.KZt-=1,this.JZt(),0===this.QZt.length&&0===this.KZt&&n.Wu(!0);case 5:case"end":return i.stop()}},null,this,null,Ye)},n.JZt=function(){this.QZt.length>0&&this.KZt<this.$Zt&&(this.QZt.shift().Wu(),this.KZt+=1)},t}();function G1(t,n){for(var i=0,e=0,r=t.qS.UZ.map(function(t){return t.Hg});e<r.length;e++){if((i+=r[e])>=n)return i}return i}var Y1=function(t){function n(n,i,e,r,s,u,o,a){var h;void 0===a&&(a=JH()),(h=t.call(this)||this).L6=void 0,h.nJt=void 0,h.iJt=new ea,h.eJt=void 0,h.BEt=void 0,h.rJt=v1.FZt(),h.OZt=void 0,h.sJt=void 0,h.Ay=void 0,h.uJt=void 0,h.WZ=void 0,h.L4=void 0,h.fit=void 0,h.ret=void 0,h.qZt=void 0,h.AZt=void 0,h.L6=n,h.WZ=i,h.L4=e,h.uJt=r,h.fit=s,h.ret=u,h.qZt=a,h.AZt=o,h.sJt=-1;var c=h.L6.hC.sources[0];return h.eJt=c,h.Ay=h.Xy(),h.nJt=new W1(h.L6.wc.parallelTasksThreshold),h}E(n,t);var i=n.prototype;return i.Xy=function(){var t,n,i,e,r,s,u,o,a,h,c,f,v,l,d,_,g,y,m,p,k,b,A,T,S,E,I,R=this;return Mr.async(function(N){for(;;)switch(N.prev=N.next){case 0:return t=new q1(this.L4,this.ret,this.qZt),N.next=3,Mr.awrap(t.WZt(this.eJt));case 3:return this.BEt=N.sent,n=this.L6.wc.amount,i=this.BEt.Hg,e=_1(n,i),this.OZt=e,s=fO(this.BEt.HZt[0]),N.next=11,Mr.awrap(this.WZ.FZ.OZ(s,"manifestURL"));case 11:for(u=N.sent.filter(function(t){return Ys(t.references,R.L6.xw)}),o=[],a=this.L6.wc.bandwidth,h=0,c=this.BEt.j0;h<c.length;h++)for(f=c[h],v=0,l=f.XZt;v<l.length;v++)for(d=l[v],_=0,g=Q1(d.VA);_<g.length;_++)for(y=g[_],m=0,p=K1(y.Uw,a);m<p.length;m++)k=p[m],o.push(k);if(this.sJt=w.ceil(o.map(function(t){return t.PR*G1(t,e)/8}).reduce(function(t,n){return t+n},0)),b=jr(),u&&0!==u.length){for(A=u.reduce(function(t,n){return t+n.byteSize},0),T=function(t){var n=u[t],i=n.qualityId,e=new WS(n.startsAndEnds);if(b.has(i))b.get(i).timeRanges=b.get(i).timeRanges.YC(e).GC(5e-4);else{var r,s=zs(o,function(t){return t.xw===i}),a=w.min(R.OZt,null!=(r=null==s?void 0:s.qS.Hg)?r:1/0);b.set(i,{timeRanges:e,totalQualityDurationToCache:a})}},S=0;S<u.length;S++)T(S);r=new v1(A,b,this.OZt)}else{for(E=0;E<o.length;E++)I=o[E],b.set(I.xw,{timeRanges:WS.vD(),totalQualityDurationToCache:w.min(I.qS.Hg,this.OZt)});r=new v1(0,b,this.OZt)}this.oJt=r;case 19:case"end":return N.stop()}},null,this,null,Ye)},i.aJt=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(this.Ay);case 2:return n.next=4,Mr.awrap(this.hJt(this.BEt,t));case 4:return n.next=6,Mr.awrap(this.iJt.Hu);case 6:case"end":return n.stop()}},null,this,null,Ye)},i.hJt=function(t,n){var i,e,r,s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t.HZt){u.next=2;break}throw new v("Unexpected - manifest is missing locations");case 2:return u.next=4,Mr.awrap(this.cJt());case 4:for(i=[],e=0,r=t.j0;e<r.length;e++)s=r[e],i.push(this.fJt(s,t.HZt[0],n));return u.abrupt("return",Ye.all(i));case 7:case"end":return u.stop()}},null,this,null,Ye)},i.cJt=function(){var t,n,i,e;return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Mr.awrap(this.uJt.BZ());case 2:t=r.sent,n=0;case 4:if(!(n<t.length)){r.next=25;break}return i=t[n],r.next=8,Mr.awrap(this.WZ.jZ.Ru(i.key));case 8:if(!(e=r.sent)){r.next=14;break}return r.next=12,Mr.awrap($1(e,this.L6.xw,this.WZ.jZ,this.AZt));case 12:r.next=22;break;case 14:return r.prev=14,r.next=17,Mr.awrap(this.WZ.jZ.CZ(i,this.AZt));case 17:r.next=22;break;case 19:throw r.prev=19,r.t0=r.catch(14),new C0("Unable to store manifest with url: "+i.locationURL,r.t0);case 22:n++,r.next=4;break;case 25:return r.next=27,Mr.awrap(this.uJt.MZ());case 27:case"end":return r.stop()}},null,this,[[14,19]],Ye)},i.fJt=function(t,n,i){var e,r,s,u,o,a,h;return Mr.async(function(c){for(;;)switch(c.prev=c.next){case 0:for(e=[],r=0,s=t.XZt;r<s.length;r++)for(u=s[r],o=Q1(u.VA),a=0;a<o.length;a++)h=o[a],e.push(this.vJt(h,n,i));return c.abrupt("return",Ye.all(e));case 3:case"end":return c.stop()}},null,this,null,Ye)},i.vJt=function(t,n,i){var e,r,s,u,o;return Mr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(e=this.L6.wc.bandwidth,r=K1(t.Uw,e),t.vs!==gm.wd||!t.a7||!t.a7.HE.widevine||"persistent"!==t.a7.HE.widevine.licenseType){a.next=6;break}return a.next=5,Mr.awrap(this.lJt(t.a7));case 5:hu(i);case 6:for(s=[],u=0;u<r.length;u++)o=r[u],s.push(this.dJt(o,n,i));return a.abrupt("return",Ye.all(s));case 9:case"end":return a.stop()}},null,this,null,Ye)},i.dJt=function(t,n,i){var e,r,s,u,o;return Mr.async(function(a){for(;;)switch(a.prev=a.next){case 0:hu(i),e=t.qS.UZ[0].Vm,r=e+this.OZt,s=0,u=t.qS.UZ;case 4:if(!(s<u.length)){a.next=16;break}if(!((o=u[s]).Vm>=r)){a.next=8;break}return a.abrupt("break",16);case 8:return a.next=10,Mr.awrap(this._Jt(i));case 10:return a.next=12,Mr.awrap(this.nJt.ZZt());case 12:gu(this.nJt.tJt(this.wJt(o,t,n),this.iJt));case 13:s++,a.next=4;break;case 16:case"end":return a.stop()}},null,this,null,Ye)},i._Jt=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(null==t||!t.Ds){n.next=4;break}return n.next=3,Mr.awrap(this.iJt.Hu);case 3:throw new ou;case 4:case"end":return n.stop()}},null,this,null,Ye)},i.gJt=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mr.awrap(this.Ay);case 2:return t.abrupt("return",this.BEt);case 3:case"end":return t.stop()}},null,this,null,Ye)},i.lJt=function(t){return Ye.resolve()},i.yJt=function(){return Mr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return ht("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},null,null,null,Ye)},i.wJt=function(t,n,i){var e,r,s,u,o,a,h,c=this;return Mr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return e=this.WZ.FZ,r=vO(t.zZt.Kl,t.zZt.bJ),f.next=4,Mr.awrap(e.Ru(r));case 4:if(!(s=f.sent)){f.next=11;break}return f.next=8,Mr.awrap($1(s,this.L6.xw,e,this.AZt));case 8:this.mJt(s,!1),f.next=24;break;case 11:return f.prev=11,f.next=14,Mr.awrap(this.pJt(t.zZt));case 14:return u=f.sent,o=this.kJt(t,n,i,u),a=o.segmentMetadataEntry,h=o.segmentEntry,f.next=18,Mr.awrap(this.WZ.zZ(function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(t.FZ.CZ(a,c.AZt));case 2:return n.next=4,Mr.awrap(t.UZ.CZ(h,c.AZt));case 4:case"end":return n.stop()}},null,null,null,Ye)}));case 18:this.mJt(a,!0),f.next=24;break;case 21:throw f.prev=21,f.t0=f.catch(11),new C0("Unable to store segment with url: "+t.zZt.Kl,f.t0);case 24:case"end":return f.stop()}},null,this,[[11,21]],Ye)},i.pJt=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Mr.awrap(this.fit.ont(t,!1));case 2:return n=i.sent,i.next=5,Mr.awrap(this._it(n));case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}},null,this,null,Ye)},i._it=function(t){var n;return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Mr.awrap(t.Cl());case 2:return n=i.sent,i.abrupt("return",{buffer:n});case 4:case"end":return i.stop()}},null,null,null,Ye)},i.kJt=function(t,n,i,e){var r=vO(t.zZt.Kl,t.zZt.bJ),s=t.Vm,u=t.Hg,o=this.bJt(e);return{segmentMetadataEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:fO(i),qualityId:n.xw,byteSize:o,startsAndEnds:new WS([s,s+u]).BC,references:[this.L6.xw]},segmentEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:fO(i),data:e}}},i.bJt=function(t){return t.buffer.byteLength},i.mJt=function(t,n){var i=t.qualityId,e=this.rJt,r=e.Sm;r.get(i).timeRanges=r.get(i).timeRanges.YC(new WS(t.startsAndEnds)).GC(5e-4),this.oJt=new v1(n?e.UZt+t.byteSize:e.UZt,r,this.OZt)},T(n,[{key:"AJt",get:function(){return this.sJt}},{key:"oJt",get:function(){return this.rJt},set:function(t){this.rJt.hp(t)||(this.rJt=t,t.hp(v1.FZt())||this.Qs(new f1))}}]),n}(Tu);function $1(t,n,i,e){return Mr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(Ys(t.references,n)){r.next=4;break}return t.references.push(n),r.next=4,Mr.awrap(i.CZ(t,e));case 4:case"end":return r.stop()}},null,null,null,Ye)}function Q1(t){return t.length?[t[0]]:[]}function K1(t,n){if(!t.length)return[];var i=[].concat(t).sort(FM),e=i.filter(function(t){return t.PR<=n});return e.length>0?[e.pop()]:[i.shift()]}var Z1={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new WS([0,0]).BC,references:[]},J1={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},t2=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n)||this).TJt=void 0,u.SJt=void 0,u.WZ=void 0,u.AZt=void 0,u.TJt=new RU(i),u.WZ=e,u.SJt=r,u.AZt=s,u}E(n,t);var i=n.prototype;return i.m3=function(n,i,e,r){var s;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Mr.awrap(t.prototype.m3.call(this,n,i,e,r));case 3:return u.abrupt("return",u.sent);case 6:u.prev=6,u.t0=u.catch(0),cu(u.t0);case 9:return u.next=11,Mr.awrap(this.TJt.m3(n,i,e,r));case 11:return s=u.sent,u.next=14,Mr.awrap(this.EJt(n,i,s));case 14:return u.abrupt("return",s);case 15:case"end":return u.stop()}},null,this,[[0,6]],Ye)},i.EJt=function(t,i,e){var r,s,u,o,a,h,c,f=this;return Mr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(void 0!==this.SJt){v.next=2;break}return v.abrupt("return");case 2:return r=this.WZ.FZ,s=vO(t,i),v.next=6,Mr.awrap(r.Ru(s));case 6:if(!(u=v.sent)){v.next=12;break}return v.next=10,Mr.awrap($1(u,this.SJt,r,this.AZt));case 10:v.next=22;break;case 12:return v.prev=12,o={buffer:e},a=n.kJt(s,o,this.SJt),h=a.segmentMetadataEntry,c=a.segmentEntry,v.next=17,Mr.awrap(this.WZ.zZ(function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(t.FZ.CZ(h,f.AZt));case 2:return n.next=4,Mr.awrap(t.UZ.CZ(c,f.AZt));case 4:case"end":return n.stop()}},null,null,null,Ye)}));case 17:v.next=22;break;case 19:throw v.prev=19,v.t0=v.catch(12),new C0("Unable to store segment with url: "+t,v.t0);case 22:case"end":return v.stop()}},null,this,[[12,19]],Ye)},n.kJt=function(t,n,i){return{segmentMetadataEntry:Fr({},Z1,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:Fr({},J1,{key:t,segmentURLsegmentByteRange:t,data:n})}},n}(NU);var n2=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.IJt=function(t,n,i,e,r,s,u){return new Y1(t,n,i,e,r,s,u)},n}(function(){function t(t){this.dE=t}return t.prototype.IK=function(t,n,i){void 0===i&&(i="persistent");var e=Boolean(t.hC.sources[0].useCredentials),r=new FF(this.dE,l_.Jl),s=new HM(this.dE,e),u=new lO(n.jZ,n.FZ,n.UZ,n.XZ),o=function(t,n,i,e,r){return new t2(n,t,i,e,r)}(this.dE,u,n,t.xw,i),a=new kO,h=new WM(qM(s,u),a,t);return this.IJt(t,n,h,a,r,o,i)},t}());var i2=function(){function t(t,n,i){this.L6=t,this.WZ=n,this.BEt=i}var n=t.prototype;return n.RJt=function(){var t=this;return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mr.awrap(this.WZ.zZ(function(n){return Mr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Mr.awrap(t.NJt(n));case 2:return i.next=4,Mr.awrap(t.CJt(n));case 4:return i.next=6,Mr.awrap(t.DJt(n));case 6:return i.next=8,Mr.awrap(t.PJt(n));case 8:case"end":return i.stop()}},null,null,null,Ye)}));case 2:case"end":return n.stop()}},null,this,null,Ye)},n.NJt=function(t){var n,i;return Mr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.HZ,i=this.L6.xw,e.next=4,Mr.awrap(n.Qh(i));case 4:case"end":return e.stop()}},null,this,null,Ye)},n.CJt=function(t){var n,i,e,r,s,u,o,a=this;return Mr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(n=t.FZ,i=t.UZ,wy(e=this.L6.hC.sources[0])){h.next=5;break}return h.abrupt("return");case 5:return r=fO(e.src),h.next=8,Mr.awrap(n.OZ(r,"manifestURL"));case 8:s=h.sent.filter(function(t){return Ys(t.references,a.L6.xw)}),u=0;case 10:if(!(u<s.length)){h.next=25;break}if(Ws((o=s[u]).references,this.L6.xw),0!==o.references.length){h.next=20;break}return h.next=16,Mr.awrap(n.Qh(o.key));case 16:return h.next=18,Mr.awrap(i.Qh(o.key));case 18:h.next=22;break;case 20:return h.next=22,Mr.awrap(n.CZ(o));case 22:u++,h.next=10;break;case 25:case"end":return h.stop()}},null,this,null,Ye)},n.DJt=function(t){var n,i,e,r,s,u=this;return Mr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.jZ,i=this.BJt(),o.next=4,Mr.awrap(n.EZ(i));case 4:e=o.sent.filter(function(t){return Ys(t.references,u.L6.xw)}),r=0;case 6:if(!(r<e.length)){o.next=19;break}if(Ws((s=e[r]).references,this.L6.xw),0!==s.references.length){o.next=14;break}return o.next=12,Mr.awrap(n.Qh(s.key));case 12:o.next=16;break;case 14:return o.next=16,Mr.awrap(n.CZ(s));case 16:r++,o.next=6;break;case 19:case"end":return o.stop()}},null,this,null,Ye)},n.BJt=function(){if(!this.BEt)return[];var t=this.L6.hC.sources[0];if(!wy(t))return[];var n=fO(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,e=t.j0;i<e.length;i++)for(var r=0,s=e[i].XZt;r<s.length;r++)for(var u=0,o=s[r].VA;u<o.length;u++)for(var a=0,h=o[u].Uw;a<h.length;a++){var c=h[a];c.VZt&&n.push(c.VZt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.BEt).map(function(t){return{src:t}}).map(function(t){return fO(t.src)});return[n].concat(i)},n.PJt=function(t){var n,i,e,r,s=this;return Mr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.XZ,u.next=3,Mr.awrap(n.BZ());case 3:i=u.sent.filter(function(t){return Ys(t.references,s.L6.xw)}),e=0;case 5:if(!(e<i.length)){u.next=19;break}if(Ws((r=i[e]).references,this.L6.xw),0!==r.references.length){u.next=14;break}return u.next=11,Mr.awrap(n.Qh(r.key));case 11:this.xJt(r),u.next=16;break;case 14:return u.next=16,Mr.awrap(n.CZ(r));case 16:e++,u.next=5;break;case 19:case"end":return u.stop()}},null,this,null,Ye)},n.xJt=function(t){},t}(),e2=new(function(){function t(){}return t.prototype.IK=function(t,n,i){return new i2(t,n,i)},t}());var r2=function(){function t(t,n){this.H_=void 0,this.b_=t,this.OJt=n}var n=t.prototype;return n.cDt=function(t){this.LJt(t)},n.LJt=function(t){return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Mr.awrap(this.OJt.yJt(t));case 3:n.next=9;break;case 5:n.prev=5,n.t0=n.catch(0),this.b_.Gtt(Z0.ERROR);case 9:case"end":return n.stop()}},null,this,[[0,5]],Ye)},T(t,[{key:"X_",get:function(){var t;return this.H_||(this.H_=(t=this,{renew:function(n){t.cDt(n)}})),this.H_}}]),t}(),s2=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this)||this).Oh=void 0,o.Ptt=void 0,o.H_=void 0,o.C8=void 0,o.MJt=void 0,o.WZ=void 0,o.OJt=void 0,o.FJt=new uu,o.UJt=void 0,o.evictOnLoading=function(){o.nu("Ttt",o.evictOnLoading),o.jJt()},o.Oh=n,o.C8=i,o.MJt=e,o.WZ=r,o.OJt=s.IK(nn(o),o.WZ,u),o.UJt=new r2(nn(o),o.OJt),o.Ptt=1===o.OJt.oJt.jZt?Z0.DONE:Z0.IDLE,o.OJt.Ks("GIt",function(t){o.$s(t),1===o.HJt&&o.Gtt(Z0.DONE)});var h=new Date,c=o.MJt.expirationDate.getTime()-h.getTime();return c<2147483647&&a(function(){return o.jJt()},c),o}E(n,t);var i=n.prototype;return i.Gtt=function(t){this.Ptt!==t&&(this.Ptt=t,this.Qs(new J0))},i.IC=function(){this.Ptt===Z0.EVICTED||this.Ptt===Z0.DONE||this.XJt()},i.XJt=function(){var t;return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.Gtt(Z0.LOADING),t=new uu,this.FJt=t,n.next=6,Mr.awrap(this.OJt.aJt(t.qs));case 6:this.Gtt(Z0.DONE),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),au(n.t0)?this.Gtt(Z0.IDLE):this.Gtt(Z0.ERROR);case 12:return n.prev=12,this.FJt.Ls(),n.finish(12);case 15:case"end":return n.stop()}},null,this,[[0,9,12,15]],Ye)},i.Oy=function(){this.FJt.Xs()},i.Qh=function(){this.Vl===Z0.LOADING?(this.Ks("Ttt",this.evictOnLoading),this.Oy()):this.jJt()},i.jJt=function(){var t;return Mr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Mr.awrap(this.OJt.gJt());case 3:return t=n.sent,n.next=6,Mr.awrap(e2.IK(this,this.WZ,t).RJt());case 6:this.OJt.oJt=v1.FZt(),this.Gtt(Z0.EVICTED),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),this.Gtt(Z0.ERROR);case 14:case"end":return n.stop()}},null,this,[[0,10]],Ye)},T(n,[{key:"X_",get:function(){var t,n,i;return this.H_||(this.H_=(i={get id(){return t.xw},get status(){return t.Vl},get source(){return t.hC},get parameters(){return t.wc},get duration(){return t.Hg},get cached(){return t.zJt.qN()},get secondsCached(){return t.VJt},get percentageCached(){return t.HJt},get bytes(){return t.qJt},get bytesCached(){return t.WJt},get license(){return t.lx.X_},start:function(){t.IC()},pause:function(){t.Oy()},remove:function(){t.Qh()},addEventListener:function(t,i){n.Ks(t,i)},removeEventListener:function(t,i){n.nu(t,i)}},n=new hN(t=this,["GIt","Ttt"],i),i)),this.H_}},{key:"xw",get:function(){return this.Oh}},{key:"lx",get:function(){return this.UJt}},{key:"Vl",get:function(){return this.Ptt}},{key:"hC",get:function(){return this.C8}},{key:"wc",get:function(){return this.MJt}},{key:"Hg",get:function(){return this.OJt.oJt.aD}},{key:"zJt",get:function(){return this.OJt.oJt.MZt}},{key:"VJt",get:function(){return this.OJt.oJt.LZt}},{key:"HJt",get:function(){return this.OJt.oJt.jZt}},{key:"qJt",get:function(){return this.OJt.AJt}},{key:"WJt",get:function(){return this.OJt.oJt.UZt}}]),n}(Yg);var u2=function(){function t(t,n){this.WZ=t,this.GJt=n}var n=t.prototype;return n.NZt=function(t,n,i){var e=HI();return this.IZt(e,t,n,i)},n.IZt=function(t,n,i,e){return new s2(t,n,i,this.WZ,this.GJt,e)},t}(),o2=30,a2=5;function h2(t){if(!t)throw new v("Unexpected - The cache parameters are undefined");var n=function(t){if(G(t)&&!ps(t,"%"))return g(t);return t}(t.amount);!function(t){if(i=t,G(i)&&ps(i,"%")){var n=y(t);if(m(n)||n<0||n>100)throw new v("The amount as percentage must be between 0 and 100 percent.")}var i;if(!G(t)&&m(t))throw new v("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+o2),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(Q(n)&&n>new Date)))throw new v("Invalid expiration date for the cache parameters");var n}(i);var e=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(m(t)||t<0)throw new v("The bandwidth must be between zero and infinity.")}(e),{amount:n,expirationDate:i,bandwidth:e,parallelTasksThreshold:function(t){if(!t)return a2;if(m(t))throw new v("The amount must be a number");return t}(t.numberOfParallelTasks)}}var c2=function(t){function n(n,i){var e;return(e=t.call(this)||this).H_=void 0,e.YJt=n,e.mF=i,e.YJt.Ks("Ttt",e.$s),e}return E(n,t),n.prototype.$Jt=function(t,n,i){var e,r;if(!t)throw new v("Unexpected - The source description is undefined");if(e=aI(t),r=h2(n),QE(e))throw new v("Invalid source description");return this.YJt.IZt(e,r).X_},T(n,[{key:"X_",get:function(){var t,n,i;return this.H_||(this.H_=(i={get status(){return t.Vl},get tasks(){return t.PZt},get network(){return t.PF.X_},createTask:function(n,i){return t.$Jt(n,i)},addEventListener:function(t,i){n.Ks(t,i)},removeEventListener:function(t,i){n.nu(t,i)}},n=new cN(t=this,i),i)),this.H_}},{key:"Vl",get:function(){return this.YJt.Vl}},{key:"PZt",get:function(){return this.YJt.PZt.X_}},{key:"PF",get:function(){return this.mF}}]),n}(Yg);var f2,v2,l2,d2,_2,w2,g2=(f2=new VR(i.L_,!1),v2=RO.Wn,l2=new n2(f2),d2=new u2(v2,l2),_2=new WR(f2),w2=new h1(v2.HZ,d2,"persistent"),new c2(w2,_2)).X_;function y2(t){return{get ratio(){return t.QJt},get thresholds(){return t.KJt.slice()}}}function m2(t){var n=[],i=w.floor(1/t);if(m(i))return[];for(var e=0;e<=i;e++){var r=Ut(e*t,0,1);n.push(r)}return n}var p2=function(){function t(t,n,i){this.ZJt=1,this.JJt=void 0,this.t0t=void 0,this.H_=void 0,this.JJt=m2(n);var e=this.n0t(i);this.t0t=new r.IntersectionObserver(e,{root:null,threshold:this.JJt}),this.t0t.observe(t)}var n=t.prototype;return n.n0t=function(t){var n=this;return function(i){var e=i[i.length-1];n.ZJt=e.intersectionRatio,t(e.intersectionRatio)}},n.Ly=function(){this.t0t.disconnect()},T(t,[{key:"QJt",get:function(){return this.ZJt}},{key:"KJt",get:function(){return this.JJt}},{key:"X_",get:function(){return this.H_||(this.H_=y2(this)),this.H_}}]),t}(),k2=function(t){function n(n,i,e){var s;return(s=t.call(this,i,e)||this).i0t=void 0,s.e0t=tt(function(){return s.r0t(s.s0t())},50),s.i0t=n,r.addEventListener("scroll",s.e0t,!!wR&&{passive:!0}),wu(function(){return s.r0t(s.s0t())}),s}E(n,t);var i=n.prototype;return i.s0t=function(){var t=this.i0t.getBoundingClientRect();return Ut(w.max(0,w.min(r.innerWidth,t.right)-w.max(0,t.left))*w.max(0,w.min(r.innerHeight,t.bottom)-w.max(0,t.top))/(t.width*t.height),0,1)},i.Ly=function(){r.removeEventListener("scroll",this.e0t)},n}(function(){function t(t,n){this.JJt=void 0,this.u0t=void 0,this.ZJt=1,this.o0t=-1,this.H_=void 0,this.JJt=m2(t),this.u0t=n}return t.prototype.r0t=function(t){this.ZJt=t;var n=this.JJt,i=0;if(t>0)for(;i<n.length&&n[i]<=t;)++i;this.o0t!==i&&(this.o0t=i,this.u0t(t))},T(t,[{key:"QJt",get:function(){return this.ZJt}},{key:"KJt",get:function(){return this.JJt}},{key:"X_",get:function(){return this.H_||(this.H_=y2(this)),this.H_}}]),t}());function b2(t){throw new v('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var A2={exports:{}},T2=Or(A2.exports=function t(n,i,e){function r(u,o){if(!i[u]){if(!n[u]){var a=b2;if(!o&&a)return a(u,!0);if(s)return s(u,!0);var h=new v("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[u]={exports:{}};n[u][0].call(c.exports,function(t){var i=n[u][1][t];return r(i||t)},c,c.exports,t,n,i,e)}return i[u].exports}for(var s=b2,u=0;u<e.length;u++)r(e[u]);return r}({1:[function(t,n,i){i.__esModule=!0;var e=t(2),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.a0t=!1,r.on("mousedown",r.handleMouseDown),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-big-play-button"},n.prototype.handleClick=function(t){var n=this.cC.play();if(!(this.a0t&&t.clientX&&t.clientY)){var i=this.cC.getChild("controlBar"),e=i&&i.getChild("playToggle");if(e){var r=function(){return e.focus()};n&&n.then?n.then(r,function(){}):this.setTimeout(r,1)}else this.cC.focus()}},n.prototype.handleKeyPress=function(n){this.a0t=!1,t.prototype.handleKeyPress.call(this,n)},n.prototype.handleMouseDown=function(t){this.a0t=!0},n}(r.default);a.prototype.h0t="Play Video",u.default.registerComponent("BigPlayButton",a),i.default=a},{2:2,5:5}],2:[function(t,n,i){i.__esModule=!0;var e=t(3),r=c(e),s=t(5),u=c(s),o=t(87),a=c(o),h=t(89);function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"button",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=(0,h.assign)({className:this.buildCSSClass()},n),"button"!==t&&(a.default.warn("Creating a Button with an HTML element of "+t+" is deprecated; use ClickableComponent instead."),n=(0,h.assign)({tabIndex:0},n),i=(0,h.assign)({role:"button"},i)),i=(0,h.assign)({type:"button","aria-live":"polite"},i);var e=u.default.prototype.createEl.call(this,t,n,i);return this.createControlTextEl(e),e},n.prototype.addChild=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.constructor.name;return a.default.warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),u.default.prototype.addChild.call(this,t,n)},n.prototype.enable=function(){t.prototype.enable.call(this),this.c0t.removeAttribute("disabled")},n.prototype.disable=function(){t.prototype.disable.call(this),this.c0t.setAttribute("disabled","disabled")},n.prototype.handleKeyPress=function(n){32!==n.which&&13!==n.which&&t.prototype.handleKeyPress.call(this,n)},n}(r.default);u.default.registerComponent("Button",f),i.default=f},{3:3,5:5,87:87,89:89}],3:[function(t,n,i){i.__esModule=!0;var e=t(5),r=y(e),s=t(81),u=g(s),o=t(82),a=g(o),h=t(83),c=g(h),f=t(87),v=y(f),d=t(85),w=t(89);function g(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function y(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.emitTapEvents(),r.on(i,"languagechange",r.handleLanguagechange),r.enable(),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i=(0,w.assign)({className:this.buildCSSClass(),tabIndex:0},i),"button"===n&&v.default.error("Creating a ClickableComponent with an HTML element of "+n+" is not supported; use a Button instead."),e=(0,w.assign)({role:"button","aria-live":"polite"},e),this.f0t=i.tabIndex;var r=t.prototype.createEl.call(this,n,i,e);return this.createControlTextEl(r),r},n.prototype.createControlTextEl=function(t){return this.v0t=u.createEl("span",{className:"vjs-control-text"}),t&&t.appendChild(this.v0t),this.controlText(this.h0t,t),this.v0t},n.prototype.controlText=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===t)return this.h0t||"Need Text";var i=this.localize(t);return this.h0t=t,this.v0t.innerHTML=i,this.nonIconControl||n.setAttribute("title",i),this},n.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},n.prototype.enable=function(){return this.removeClass("vjs-disabled"),this.c0t.setAttribute("aria-disabled","false"),void 0!==this.f0t&&this.c0t.setAttribute("tabIndex",this.f0t),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this},n.prototype.disable=function(){return this.addClass("vjs-disabled"),this.c0t.setAttribute("aria-disabled","true"),void 0!==this.f0t&&this.c0t.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this},n.prototype.handleLanguagechange=function(){this.controlText(this.h0t)},n.prototype.handleClick=function(t){},n.prototype.handleFocus=function(t){a.on(d.document,"keydown",c.bind(this,this.handleKeyPress))},n.prototype.handleKeyPress=function(n){32===n.which||13===n.which?(n.preventDefault(),this.handleClick(n)):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,n)},n.prototype.handleBlur=function(t){a.off(d.document,"keydown",c.bind(this,this.handleKeyPress))},n}(r.default);r.default.registerComponent("ClickableComponent",m),i.default=m},{5:5,81:81,82:82,83:83,85:85,87:87,89:89}],4:[function(t,n,i){i.__esModule=!0;var e=t(2),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.controlText(e&&e.controlText||"Close"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},n.prototype.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},n}(r.default);u.default.registerComponent("CloseButton",a),i.default=a},{2:2,5:5}],5:[function(t,n,i){i.__esModule=!0;var e=t(85),r=t(81),s=S(r),u=t(83),o=S(u),a=t(86),h=S(a),c=t(82),f=S(c),d=t(87),m=T(d),p=t(92),k=T(p),b=t(88),A=T(b);function T(t){return t&&t.__esModule?t:{default:t}}function S(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var E=function(){function t(n,i,e){if(function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,t),!n&&this.play?this.cC=n=this:this.cC=n,this.l0t=(0,A.default)({},this.l0t),i=this.l0t=(0,A.default)(this.l0t,i),this.xw=i.id||i.el&&i.el.id,!this.xw){var r=n&&n.id&&n.id()||"no_player";this.xw=r+"d0t"+h.newGUID()}this._i=i.name||null,i.el?this.c0t=i.el:!1!==i.createEl&&(this.c0t=this.createEl()),this.Pi=[],this._0t={},this.w0t={},!1!==i.initChildren&&this.initChildren(),this.ready(e),!1!==i.reportTouchActivity&&this.enableTouchActivity()}return t.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.Pi)for(var t=this.Pi.length-1;t>=0;t--)this.Pi[t].dispose&&this.Pi[t].dispose();this.Pi=null,this._0t=null,this.w0t=null,this.off(),this.c0t.parentNode&&this.c0t.parentNode.removeChild(this.c0t),s.removeElData(this.c0t),this.c0t=null},t.prototype.player=function(){return this.cC},t.prototype.options=function(t){return m.default.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t?(this.l0t=(0,A.default)(this.l0t,t),this.l0t):this.l0t},t.prototype.el=function(){return this.c0t},t.prototype.createEl=function(t,n,i){return s.createEl(t,n,i)},t.prototype.localize=function(t){var n=this.cC.language&&this.cC.language(),i=this.cC.languages&&this.cC.languages();if(!n||!i)return t;var e=i[n];if(e&&e[t])return e[t];var r=n.split("-")[0],s=i[r];return s&&s[t]?s[t]:t},t.prototype.contentEl=function(){return this.g0t||this.c0t},t.prototype.id=function(){return this.xw},t.prototype.name=function(){return this._i},t.prototype.children=function(){return this.Pi},t.prototype.getChildById=function(t){return this._0t[t]},t.prototype.getChild=function(t){if(t)return t=(0,k.default)(t),this.w0t[t]},t.prototype.addChild=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.Pi.length,r=void 0,s=void 0;if("string"==typeof n){s=(0,k.default)(n),i||(i={}),!0===i&&(m.default.warn("Initializing a child component with `true` is deprecated.Children should be defined in an array when possible, but if necessary use an object instead of `true`."),i={});var u=i.componentClass||s;i.name=s;var o=t.getComponent(u);if(!o)throw new v("Component "+u+" does not exist");if("function"!=typeof o)return null;r=new o(this.cC||this,i)}else r=n;if(this.Pi.splice(e,0,r),"function"==typeof r.id&&(this._0t[r.id()]=r),(s=s||r.name&&(0,k.default)(r.name()))&&(this.w0t[s]=r),"function"==typeof r.el&&r.el()){var a=this.contentEl().children,h=a[e]||null;this.contentEl().insertBefore(r.el(),h)}return r},t.prototype.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.Pi){for(var n=!1,i=this.Pi.length-1;i>=0;i--)if(this.Pi[i]===t){n=!0,this.Pi.splice(i,1);break}if(n){this._0t[t.id()]=null,this.w0t[t.name()]=null;var e=t.el();e&&e.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},t.prototype.initChildren=function(){var n=this,i=this.l0t.children;if(i){var e=this.l0t,r=void 0,s=t.getComponent("Tech");(r=Array.isArray(i)?i:_.keys(i)).concat(_.keys(this.l0t).filter(function(t){return!r.some(function(n){return"string"==typeof n?t===n:t===n.name})})).map(function(t){var e=void 0,r=void 0;return"string"==typeof t?r=i[e=t]||n.l0t[e]||{}:(e=t.name,r=t),{name:e,opts:r}}).filter(function(n){var i=t.getComponent(n.opts.componentClass||(0,k.default)(n.name));return i&&!s.isTech(i)}).forEach(function(t){var i=t.name,r=t.opts;if(void 0!==e[i]&&(r=e[i]),!1!==r){!0===r&&(r={}),r.playerOptions=n.l0t.playerOptions;var s=n.addChild(i,r);s&&(n[i]=s)}})}},t.prototype.buildCSSClass=function(){return""},t.prototype.on=function(t,n,i){var e=this;if("string"==typeof t||Array.isArray(t))f.on(this.c0t,t,o.bind(this,n));else{var r=t,s=n,u=o.bind(this,i),a=function(){return e.off(r,s,u)};a.guid=u.guid,this.on("dispose",a);var h=function(){return e.off("dispose",a)};h.guid=u.guid,t.nodeName?(f.on(r,s,u),f.on(r,"dispose",h)):"function"==typeof t.on&&(r.on(s,u),r.on("dispose",h))}return this},t.prototype.off=function(t,n,i){if(!t||"string"==typeof t||Array.isArray(t))f.off(this.c0t,t,n);else{var e=t,r=n,s=o.bind(this,i);this.off("dispose",s),t.nodeName?(f.off(e,r,s),f.off(e,"dispose",s)):(e.off(r,s),e.off("dispose",s))}return this},t.prototype.one=function(t,n,i){var e=this,r=arguments;if("string"==typeof t||Array.isArray(t))f.one(this.c0t,t,o.bind(this,n));else{var s=t,u=n,a=o.bind(this,i),h=function t(){e.off(s,u,t),a.apply(null,r)};h.guid=a.guid,this.on(s,u,h)}return this},t.prototype.trigger=function(t,n){return f.trigger(this.c0t,t,n),this},t.prototype.ready=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(this.y0t?n?t.call(this):this.setTimeout(t,1):(this.m0t=this.m0t||[],this.m0t.push(t))),this},t.prototype.triggerReady=function(){this.y0t=!0,this.setTimeout(function(){var t=this.m0t;this.m0t=[],t&&t.length>0&&t.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},t.prototype.$=function(t,n){return s.$(t,n||this.contentEl())},t.prototype.$$=function(t,n){return s.$$(t,n||this.contentEl())},t.prototype.hasClass=function(t){return s.hasElClass(this.c0t,t)},t.prototype.addClass=function(t){return s.addElClass(this.c0t,t),this},t.prototype.removeClass=function(t){return s.removeElClass(this.c0t,t),this},t.prototype.toggleClass=function(t,n){return s.toggleElClass(this.c0t,t,n),this},t.prototype.show=function(){return this.removeClass("vjs-hidden"),this},t.prototype.hide=function(){return this.addClass("vjs-hidden"),this},t.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},t.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},t.prototype.getAttribute=function(t){return s.getAttribute(this.c0t,t)},t.prototype.setAttribute=function(t,n){return s.setAttribute(this.c0t,t,n),this},t.prototype.removeAttribute=function(t){return s.removeAttribute(this.c0t,t),this},t.prototype.width=function(t,n){return this.dimension("width",t,n)},t.prototype.height=function(t,n){return this.dimension("height",t,n)},t.prototype.dimensions=function(t,n){return this.width(t,!0).height(n)},t.prototype.dimension=function(t,n,i){if(void 0!==n)return null!==n&&n==n||(n=0),-1!==(""+n).indexOf("%")||-1!==(""+n).indexOf("px")?this.c0t.style[t]=n:this.c0t.style[t]="auto"===n?"":n+"px",i||this.trigger("resize"),this;if(!this.c0t)return 0;var e=this.c0t.style[t],r=e.indexOf("px");return g(-1!==r?e.slice(0,r):this.c0t["offset"+(0,k.default)(t)],10)},t.prototype.currentDimension=function(t){var n=0;if("width"!==t&&"height"!==t)throw new v("currentDimension only accepts width or height value");if("function"==typeof e.window.getComputedStyle){var i=e.window.getComputedStyle(this.c0t);n=i.getPropertyValue(t)||i[t]}if(0===(n=y(n))){var r="offset"+(0,k.default)(t);n=this.c0t[r]}return n},t.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.prototype.currentWidth=function(){return this.currentDimension("width")},t.prototype.currentHeight=function(){return this.currentDimension("height")},t.prototype.focus=function(){this.c0t.focus()},t.prototype.blur=function(){this.c0t.blur()},t.prototype.emitTapEvents=function(){var t=0,n=null,i=void 0;this.on("touchstart",function(e){1===e.touches.length&&(n={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY},t=(new Date).getTime(),i=!0)}),this.on("touchmove",function(t){if(t.touches.length>1)i=!1;else if(n){var e=t.touches[0].pageX-n.pageX,r=t.touches[0].pageY-n.pageY,s=w.sqrt(e*e+r*r);s>10&&(i=!1)}});var e=function(){i=!1};this.on("touchleave",e),this.on("touchcancel",e),this.on("touchend",function(e){if(n=null,!0===i){var r=(new Date).getTime()-t;r<200&&(e.preventDefault(),this.trigger("tap"))}})},t.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t=o.bind(this.player(),this.player().reportUserActivity),n=void 0;this.on("touchstart",function(){t(),this.clearInterval(n),n=this.setInterval(t,250)});var i=function(i){t(),this.clearInterval(n)};this.on("touchmove",t),this.on("touchend",i),this.on("touchcancel",i)}},t.prototype.setTimeout=function(t,n){t=o.bind(this,t);var i=e.window.setTimeout(t,n),r=function(){this.clearTimeout(i)};return r.guid="vjs-timeout-"+i,this.on("dispose",r),i},t.prototype.clearTimeout=function(t){e.window.clearTimeout(t);var n=function(){};return n.guid="vjs-timeout-"+t,this.off("dispose",n),t},t.prototype.setInterval=function(t,n){t=o.bind(this,t);var i=e.window.setInterval(t,n),r=function(){this.clearInterval(i)};return r.guid="vjs-interval-"+i,this.on("dispose",r),i},t.prototype.clearInterval=function(t){e.window.clearInterval(t);var n=function(){};return n.guid="vjs-interval-"+t,this.off("dispose",n),t},t.registerComponent=function(n,i){if(n){if(n=(0,k.default)(n),t.p0t||(t.p0t={}),"Player"===n&&t.p0t[n]){var e=t.p0t[n];if(e.players&&_.keys(e.players).length>0&&_.keys(e.players).map(function(t){return e.players[t]}).every(Boolean))throw new v("Can not register Player component after player has been created")}return t.p0t[n]=i,i}},t.getComponent=function(n){if(n)return n=(0,k.default)(n),t.p0t&&t.p0t[n]?t.p0t[n]:e.window&&e.window.videojs&&e.window.videojs[n]?(m.default.warn("The "+n+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),e.window.videojs[n]):void 0},t.extend=function(n){n=n||{},m.default.warn("Component.extend({}) has been deprecated,  use videojs.extend(Component, {}) instead");var i=n.init||n.init||this.prototype.init||this.prototype.init||function(){},e=function(){i.apply(this,arguments)};for(var r in(e.prototype=_.create(this.prototype)).constructor=e,e.extend=t.extend,n)n.hasOwnProperty(r)&&(e.prototype[r]=n[r]);return e},t}();E.registerComponent("Component",E),i.default=E},{81:81,82:82,83:83,85:85,86:86,87:87,88:88,92:92}],6:[function(t,n,i){i.__esModule=!0;var e=t(36),r=h(e),s=t(5),u=h(s),o=t(7),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n),e.tracks=i.audioTracks&&i.audioTracks();var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.c0t.setAttribute("aria-label","Audio Menu"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},n.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.k0t=1;var n=this.cC.audioTracks&&this.cC.audioTracks();if(!n)return t;for(var i=0;i<n.length;i++){var e=n[i];t.push(new a.default(this.cC,{track:e,selectable:!0}))}return t},n}(r.default);c.prototype.h0t="Audio Track",u.default.registerComponent("AudioTrackButton",c),i.default=c},{36:36,5:5,7:7}],7:[function(t,n,i){i.__esModule=!0;var e=t(48),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=e.track,s=i.audioTracks();e.label=r.label||r.language||"Unknown",e.selected=r.enabled;var u=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));if(u.track=r,s){var o=a.bind(u,u.handleTracksChange);s.addEventListener("change",o),u.on("dispose",function(){s.removeEventListener("change",o)})}return u}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(n){var i=this.cC.audioTracks();if(t.prototype.handleClick.call(this,n),i)for(var e=0;e<i.length;e++){var r=i[e];r.enabled=r===this.track}},n.prototype.handleTracksChange=function(t){this.selected(this.track.enabled)},n}(r.default);u.default.registerComponent("AudioTrackMenuItem",c),i.default=c},{48:48,5:5,83:83}],8:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e};t(12),t(32),t(33),t(35),t(34),t(10),t(18),t(9),t(38),t(40),t(11),t(25),t(27),t(29),t(24),t(6),t(13),t(21);var u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},n}(s.default);u.prototype.l0t={children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]},s.default.registerComponent("ControlBar",u),i.default=u},{10:10,11:11,12:12,13:13,18:18,21:21,24:24,25:25,27:27,29:29,32:32,33:33,34:34,35:35,38:38,40:40,5:5,6:6,9:9}],9:[function(t,n,i){i.__esModule=!0;var e=t(2),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"fullscreenchange",r.handleFullscreenChange),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},n.prototype.handleFullscreenChange=function(t){this.cC.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.prototype.handleClick=function(t){this.cC.isFullscreen()?this.cC.exitFullscreen():this.cC.requestFullscreen()},n}(r.default);a.prototype.h0t="Fullscreen",u.default.registerComponent("FullscreenToggle",a),i.default=a},{2:2,5:5}],10:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85),h=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.updateShowing(),r.on(r.player(),"durationchange",r.updateShowing),r.on(r.player(),"languagechange",r.handleLanguagechange),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.g0t=o.createEl("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.v0t=o.createEl("span",{className:"vjs-control-text",innerHTML:this.localize("Stream Type")}),this.b0t=a.document.createTextNode(this.localize("LIVE")),this.g0t.appendChild(this.v0t),this.g0t.appendChild(this.b0t),n.appendChild(this.g0t),n},n.prototype.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},n.prototype.handleLanguagechange=function(){this.v0t.innerHTML=this.localize("Stream Type"),this.b0t.innerHTML=this.localize("LIVE")},n}(s.default);s.default.registerComponent("LiveDisplay",h),i.default=h},{5:5,81:81,85:85}],11:[function(t,n,i){i.__esModule=!0;var e=t(2),r=h(e),s=t(5),u=h(s),o=t(81),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"volumechange",r.update),i.A0t&&!1===i.A0t.featuresVolumeControl&&r.addClass("vjs-hidden"),r.on(i,"loadstart",function(){this.update(),!1===i.A0t.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},n.prototype.handleClick=function(t){this.cC.muted(!this.cC.muted())},n.prototype.update=function(t){var n=this.cC.volume(),i=3;this.cC.muted()?i=0:n<.33?i=1:n<.67&&(i=2);var e=this.cC.muted()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e);for(var r=0;r<4;r++)a.removeElClass(this.c0t,"vjs-vol-"+r);a.addElClass(this.c0t,"vjs-vol-"+i)},n}(r.default);c.prototype.h0t="Mute",u.default.registerComponent("MuteToggle",c),i.default=c},{2:2,5:5,81:81}],12:[function(t,n,i){i.__esModule=!0;var e=t(2),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"play",r.handlePlay),r.on(i,"pause",r.handlePause),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},n.prototype.handleClick=function(t){this.cC.paused()?this.cC.play():this.cC.pause()},n.prototype.handlePlay=function(t){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.prototype.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n}(r.default);a.prototype.h0t="Play",u.default.registerComponent("PlayToggle",a),i.default=a},{2:2,5:5}],13:[function(t,n,i){i.__esModule=!0;var e=t(47),r=d(e),s=t(49),u=d(s),o=t(14),a=d(o),h=t(5),c=d(h),f=t(81),v=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(f);function d(t){return t&&t.__esModule?t:{default:t}}var w=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.updateVisibility(),r.updateLabel(),r.on(i,"loadstart",r.updateVisibility),r.on(i,"ratechange",r.updateLabel),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this);return this.T0t=v.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),n.appendChild(this.T0t),n},n.prototype.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},n.prototype.createMenu=function(){var t=new u.default(this.player()),n=this.playbackRates();if(n)for(var i=n.length-1;i>=0;i--)t.addChild(new a.default(this.player(),{rate:n[i]+"x"}));return t},n.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.prototype.handleClick=function(t){for(var n=this.player().playbackRate(),i=this.playbackRates(),e=i[0],r=0;r<i.length;r++)if(i[r]>n){e=i[r];break}this.player().playbackRate(e)},n.prototype.playbackRates=function(){return this.l0t.playbackRates||this.l0t.playerOptions&&this.l0t.playerOptions.playbackRates},n.prototype.playbackRateSupported=function(){return this.player().A0t&&this.player().A0t.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.prototype.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.prototype.updateLabel=function(t){this.playbackRateSupported()&&(this.T0t.innerHTML=this.player().playbackRate()+"x")},n}(r.default);w.prototype.h0t="Playback Rate",c.default.registerComponent("PlaybackRateMenuButton",w),i.default=w},{14:14,47:47,49:49,5:5,81:81}],14:[function(t,n,i){i.__esModule=!0;var e=t(48),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=e.rate,s=y(r,10);e.label=r,e.selected=1===s,e.selectable=!0;var u=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return u.label=r,u.rate=s,u.on(i,"ratechange",u.update),u}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(n){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.prototype.update=function(t){this.selected(this.player().playbackRate()===this.rate)},n}(r.default);a.prototype.contentElType="button",u.default.registerComponent("PlaybackRateMenuItem",a),i.default=a},{48:48,5:5}],15:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85),h=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.S0t=[],r.on(i,"progress",r.update),r.on(i,"languagechange",r.handleLanguagechange),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"});return this.E0t=o.createEl("span",{innerHTML:this.localize("Loaded")}),this.I0t=a.document.createTextNode(": 0%"),this.v0t=o.createEl("span",{className:"vjs-control-text"}),this.v0t.appendChild(this.E0t),this.v0t.appendChild(this.I0t),n.appendChild(this.v0t),n},n.prototype.update=function(t){var n=this.cC.buffered(),i=this.cC.duration(),e=this.cC.bufferedEnd(),r=this.S0t,s=function(t,n){var i=t/n||0;return 100*(i>=1?1:i)+"%"};this.c0t.style.width=s(e,i);for(var u=0;u<n.length;u++){var a=n.start(u),h=n.end(u),c=r[u];c||(c=this.c0t.appendChild(o.createEl()),r[u]=c),c.style.left=s(a,e),c.style.width=s(h-a,e)}for(var f=r.length;f>n.length;f--)this.c0t.removeChild(r[f-1]);r.length=n.length},n.prototype.handleLanguagechange=function(){this.E0t.innerHTML=this.localize("Loaded")},n}(s.default);s.default.registerComponent("LoadProgressBar",h),i.default=h},{5:5,81:81,85:85}],16:[function(t,n,i){i.__esModule=!0;var e=t(5),r=g(e),s=t(81),u=d(s),o=t(83),a=d(o),h=t(84),c=g(h),f=t(80),v=g(f);function d(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function g(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return e.playerOptions&&e.playerOptions.controlBar&&e.playerOptions.controlBar.progressControl&&e.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=e.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&(r.tooltip=u.createEl("div",{className:"vjs-time-tooltip"}),r.el().appendChild(r.tooltip),r.addClass("vjs-keep-tooltips-inside")),r.update(0,0),i.on("ready",function(){r.on(i.controlBar.progressControl.el(),"mousemove",a.throttle(a.bind(r,r.handleMouseMove),25))}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.prototype.handleMouseMove=function(t){var n=this.cC.duration(),i=this.calculateDistance(t)*n,e=t.pageX-u.findElPosition(this.el().parentNode).left;this.update(i,e)},n.prototype.update=function(t,n){var i=(0,c.default)(t,this.cC.duration());if(this.el().style.left=n+"px",this.el().setAttribute("data-current-time",i),this.keepTooltipsInside){var e=this.R0t(n),r=n-e+1,s=y((0,v.default)(this.tooltip,"width")),u=s/2;this.tooltip.innerHTML=i,this.tooltip.style.right="-"+(u-r)+"px"}},n.prototype.calculateDistance=function(t){return u.getPointerPosition(this.el().parentNode,t).x},n.prototype.R0t=function(t){if(!this.keepTooltipsInside)return t;var n=y((0,v.default)(this.player().el(),"width")),i=y((0,v.default)(this.tooltip,"width")),e=i/2,r=t;return t<e?r=w.ceil(e):t>n-e&&(r=w.floor(n-e)),r},n}(r.default);r.default.registerComponent("MouseTimeDisplay",m),i.default=m},{5:5,80:80,81:81,83:83,84:84}],17:[function(t,n,i){i.__esModule=!0;var e=t(5),r=d(e),s=t(83),u=v(s),o=t(84),a=d(o),h=t(81),c=v(h),f=t(85);function v(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function d(t){return t&&t.__esModule?t:{default:t}}var w=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.updateDataAttr(),r.on(i,"timeupdate",r.updateDataAttr),r.on(i,"languagechange",r.handleLanguagechange),i.ready(u.bind(r,r.updateDataAttr)),e.playerOptions&&e.playerOptions.controlBar&&e.playerOptions.controlBar.progressControl&&e.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=e.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&r.addClass("vjs-keep-tooltips-inside"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"});return this.N0t=c.createEl("span",{innerHTML:this.localize("Progress")}),this.C0t=f.document.createTextNode(": 0%"),this.v0t=c.createEl("span",{className:"vjs-control-text"}),this.v0t.appendChild(this.N0t),this.v0t.appendChild(this.C0t),n.appendChild(this.v0t),n},n.prototype.updateDataAttr=function(t){var n=this.cC.scrubbing()?this.cC.getCache().currentTime:this.cC.currentTime();this.c0t.setAttribute("data-current-time",(0,a.default)(n,this.cC.duration()))},n.prototype.handleLanguagechange=function(){this.N0t.innerHTML=this.localize("Progress")},n}(r.default);r.default.registerComponent("PlayProgressBar",w),i.default=w},{5:5,81:81,83:83,84:84,85:85}],18:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e};t(19),t(16);var u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n}(s.default);u.prototype.l0t={children:["seekBar"]},s.default.registerComponent("ProgressControl",u),i.default=u},{16:16,19:19,5:5}],19:[function(t,n,i){i.__esModule=!0;var e=t(57),r=d(e),s=t(5),u=d(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o),h=t(84),c=d(h),f=t(80),v=d(f);function d(t){return t&&t.__esModule?t:{default:t}}t(15),t(17),t(20);var g=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"timeupdate",r.updateProgress),r.on(i,"ended",r.updateProgress),i.ready(a.bind(r,r.updateProgress)),e.playerOptions&&e.playerOptions.controlBar&&e.playerOptions.controlBar.progressControl&&e.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=e.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&(r.tooltipProgressBar=r.addChild("TooltipProgressBar")),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},n.prototype.updateProgress=function(t){if(this.updateAriaAttributes(this.c0t),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.c0t),this.tooltipProgressBar.c0t.style.width=this.bar.c0t.style.width;var n=y((0,v.default)(this.player().el(),"width")),i=y((0,v.default)(this.tooltipProgressBar.tooltip,"width")),e=this.tooltipProgressBar.el().style;e.maxWidth=w.floor(n-i/2)+"px",e.minWidth=w.ceil(i/2)+"px",e.right="-"+i/2+"px"}},n.prototype.updateAriaAttributes=function(t){var n=this.cC.scrubbing()?this.cC.getCache().currentTime:this.cC.currentTime();t.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),t.setAttribute("aria-valuetext",(0,c.default)(n,this.cC.duration()))},n.prototype.getPercent=function(){var t=this.cC.currentTime()/this.cC.duration();return t>=1?1:t},n.prototype.handleMouseDown=function(n){this.cC.scrubbing(!0),this.videoWasPlaying=!this.cC.paused(),this.cC.pause(),t.prototype.handleMouseDown.call(this,n)},n.prototype.handleMouseMove=function(t){var n=this.calculateDistance(t)*this.cC.duration();n===this.cC.duration()&&(n-=.1),this.cC.currentTime(n)},n.prototype.handleMouseUp=function(n){t.prototype.handleMouseUp.call(this,n),this.cC.scrubbing(!1),this.videoWasPlaying&&this.cC.play()},n.prototype.stepForward=function(){this.cC.currentTime(this.cC.currentTime()+5)},n.prototype.stepBack=function(){this.cC.currentTime(this.cC.currentTime()-5)},n}(r.default);g.prototype.l0t={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},g.prototype.playerEvent="timeupdate",u.default.registerComponent("SeekBar",g),i.default=g},{15:15,17:17,20:20,5:5,57:57,80:80,83:83,84:84}],20:[function(t,n,i){i.__esModule=!0;var e=t(5),r=d(e),s=t(83),u=v(s),o=t(84),a=d(o),h=t(81),c=v(h),f=t(85);function v(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function d(t){return t&&t.__esModule?t:{default:t}}var w=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.updateDataAttr(),r.on(i,"timeupdate",r.updateDataAttr),r.on(i,"languagechange",r.handleLanguagechange),i.ready(u.bind(r,r.updateDataAttr)),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar"});return this.tooltip=c.createEl("div",{className:"vjs-time-tooltip"}),this.N0t=c.createEl("span",{innerHTML:this.localize("Progress")}),this.C0t=f.document.createTextNode(": 0%"),this.v0t=c.createEl("span",{className:"vjs-control-text"}),this.v0t.appendChild(this.N0t),this.v0t.appendChild(this.C0t),n.appendChild(this.tooltip),n.appendChild(this.v0t),n},n.prototype.updateDataAttr=function(t){var n=this.cC.scrubbing()?this.cC.getCache().currentTime:this.cC.currentTime(),i=(0,a.default)(n,this.cC.duration());this.c0t.setAttribute("data-current-time",i),this.tooltip.innerHTML=i},n.prototype.handleLanguagechange=function(){this.N0t.innerHTML=this.localize("Progress")},n}(r.default);r.default.registerComponent("TooltipProgressBar",w),i.default=w},{5:5,81:81,83:83,84:84,85:85}],21:[function(t,n,i){i.__esModule=!0;var e=t(22),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return n.innerHTML="&nbsp;",n},n}(r.default);u.default.registerComponent("CustomControlSpacer",a),i.default=a},{22:22,5:5}],22:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},n}(s.default);s.default.registerComponent("Spacer",u),i.default=u},{5:5}],23:[function(t,n,i){i.__esModule=!0;var e=t(31),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n),e.track={player:i,kind:e.kind,label:e.kind+" settings",selectable:!1,default:!1,mode:"disabled"},e.selectable=!1;var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.addClass("vjs-texttrack-settings"),r.controlText(", opens "+e.kind+" settings dialog"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").show(),this.player().getChild("textTrackSettings").c0t.focus()},n}(r.default);u.default.registerComponent("CaptionSettingsMenuItem",a),i.default=a},{31:31,5:5}],24:[function(t,n,i){i.__esModule=!0;var e=t(30),r=h(e),s=t(5),u=h(s),o=t(23),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));return s.c0t.setAttribute("aria-label","Captions Menu"),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},n.prototype.createItems=function(){var n=[];return this.player().A0t&&this.player().A0t.featuresNativeTextTracks||(n.push(new a.default(this.cC,{kind:this.Lw})),this.k0t+=1),t.prototype.createItems.call(this,n)},n}(r.default);c.prototype.Lw="captions",c.prototype.h0t="Captions",u.default.registerComponent("CaptionsButton",c),i.default=c},{23:23,30:30,5:5}],25:[function(t,n,i){i.__esModule=!0;var e=t(30),r=f(e),s=t(5),u=f(s),o=t(26),a=f(o),h=t(92),c=f(h);function f(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));return s.c0t.setAttribute("aria-label","Chapters Menu"),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},n.prototype.update=function(n){this.V_&&(!n||"addtrack"!==n.type&&"removetrack"!==n.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},n.prototype.setTrack=function(t){if(this.V_!==t){if(this.D0t||(this.D0t=this.update.bind(this)),this.V_){var n=this.cC.remoteTextTrackEls().P0t(this.V_);n&&n.removeEventListener("load",this.D0t),this.V_=null}if(this.V_=t,this.V_){this.V_.mode="hidden";var i=this.cC.remoteTextTrackEls().P0t(this.V_);i&&i.addEventListener("load",this.D0t)}}},n.prototype.findChaptersTrack=function(){for(var t=this.cC.textTracks()||[],n=t.length-1;n>=0;n--){var i=t[n];if(i.kind===this.Lw)return i}},n.prototype.getMenuCaption=function(){return this.V_&&this.V_.label?this.V_.label:this.localize((0,c.default)(this.Lw))},n.prototype.createMenu=function(){return this.l0t.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},n.prototype.createItems=function(){var t=[];if(!this.V_)return t;var n=this.V_.cues;if(!n)return t;for(var i=0,e=n.length;i<e;i++){var r=n[i],s=new a.default(this.cC,{track:this.V_,cue:r});t.push(s)}return t},n}(r.default);v.prototype.Lw="chapters",v.prototype.h0t="Chapters",u.default.registerComponent("ChaptersButton",v),i.default=v},{26:26,30:30,5:5,92:92}],26:[function(t,n,i){i.__esModule=!0;var e=t(48),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=e.track,s=e.cue,u=i.currentTime();e.selectable=!0,e.label=s.text,e.selected=s.startTime<=u&&u<s.endTime;var o=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return o.track=r,o.cue=s,r.addEventListener("cuechange",a.bind(o,o.update)),o}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(n){t.prototype.handleClick.call(this),this.cC.currentTime(this.cue.startTime),this.update(this.cue.startTime)},n.prototype.update=function(t){var n=this.cue,i=this.cC.currentTime();this.selected(n.startTime<=i&&i<n.endTime)},n}(r.default);u.default.registerComponent("ChaptersTrackMenuItem",c),i.default=c},{48:48,5:5,83:83}],27:[function(t,n,i){i.__esModule=!0;var e=t(30),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));s.c0t.setAttribute("aria-label","Descriptions Menu");var u=i.textTracks();if(u){var o=a.bind(s,s.handleTracksChange);u.addEventListener("change",o),s.on("dispose",function(){u.removeEventListener("change",o)})}return s}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleTracksChange=function(t){for(var n=this.player().textTracks(),i=!1,e=0,r=n.length;e<r;e++){var s=n[e];if(s.kind!==this.Lw&&"showing"===s.mode){i=!0;break}}i?this.disable():this.enable()},n.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},n}(r.default);c.prototype.Lw="descriptions",c.prototype.h0t="Descriptions",u.default.registerComponent("DescriptionsButton",c),i.default=c},{30:30,5:5,83:83}],28:[function(t,n,i){i.__esModule=!0;var e=t(31),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n),e.track={player:i,kind:e.kind,label:e.kind+" off",default:!1,mode:"disabled"},e.selectable=!0;var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.selected(!0),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleTracksChange=function(t){for(var n=this.player().textTracks(),i=!0,e=0,r=n.length;e<r;e++){var s=n[e];if(s.kind===this.track.kind&&"showing"===s.mode){i=!1;break}}this.selected(i)},n}(r.default);u.default.registerComponent("OffTextTrackMenuItem",a),i.default=a},{31:31,5:5}],29:[function(t,n,i){i.__esModule=!0;var e=t(30),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));return s.c0t.setAttribute("aria-label","Subtitles Menu"),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},n}(r.default);a.prototype.Lw="subtitles",a.prototype.h0t="Subtitles",u.default.registerComponent("SubtitlesButton",a),i.default=a},{30:30,5:5}],30:[function(t,n,i){i.__esModule=!0;var e=t(36),r=f(e),s=t(5),u=f(s),o=t(31),a=f(o),h=t(28),c=f(h);function f(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n),e.tracks=i.textTracks(),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e))}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.push(new c.default(this.cC,{kind:this.Lw})),this.k0t+=1;var n=this.cC.textTracks();if(!n)return t;for(var i=0;i<n.length;i++){var e=n[i];e.kind===this.Lw&&t.push(new a.default(this.cC,{track:e,selectable:!0}))}return t},n}(r.default);u.default.registerComponent("TextTrackButton",v),i.default=v},{28:28,31:31,36:36,5:5}],31:[function(t,n,i){i.__esModule=!0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=t(48),s=f(r),u=t(5),o=f(u),a=t(83),h=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(a),c=t(85);function f(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function n(i,r){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var s=r.track,u=i.textTracks();r.label=s.label||s.language||"Unknown",r.selected=s.default||"showing"===s.mode;var o=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,r));if(o.track=s,u){var a=h.bind(o,o.handleTracksChange);i.on(["loadstart","texttrackchange"],a),u.addEventListener("change",a),o.on("dispose",function(){u.removeEventListener("change",a)})}if(u&&void 0===u.onchange){var f=void 0;o.on(["tap","click"],function(){if("object"!==e(c.window.Event))try{f=new c.window.Event("change")}catch(t){}f||(f=c.document.createEvent("Event")).initEvent("change",!0,!0),u.dispatchEvent(f)})}return o}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(n){var i=this.track.kind,e=this.cC.textTracks();if(t.prototype.handleClick.call(this,n),e)for(var r=0;r<e.length;r++){var s=e[r];s.kind===i&&(s===this.track?"showing"!==s.mode&&(s.mode="showing"):"disabled"!==s.mode&&(s.mode="disabled"))}},n.prototype.handleTracksChange=function(t){this.selected("showing"===this.track.mode)},n}(s.default);o.default.registerComponent("TextTrackMenuItem",v),i.default=v},{48:48,5:5,83:83,85:85}],32:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(81),u=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(s),o=t(84),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"timeupdate",r.updateContent),r.on(i,"languagechange",r.updateContent),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.g0t=u.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),n.appendChild(this.g0t),n},n.prototype.updateContent=function(t){var n=this.cC.scrubbing()?this.cC.getCache().currentTime:this.cC.currentTime(),i=this.localize("Current Time"),e=(0,a.default)(n,this.cC.duration());e!==this.B0t&&(this.B0t=e,this.g0t.innerHTML='<span class="vjs-control-text">'+i+"</span> "+e)},n}(r.default);r.default.registerComponent("CurrentTimeDisplay",c),i.default=c},{5:5,81:81,84:84}],33:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(81),u=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(s),o=t(84),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"durationchange",r.updateContent),r.on(i,"timeupdate",r.updateContent),r.on(i,"loadedmetadata",r.updateContent),r.on(i,"languagechange",r.updateContent),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.g0t=u.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),n.appendChild(this.g0t),n},n.prototype.updateContent=function(t){var n=this.cC.duration();if(n&&this.Hg!==n){this.Hg=n;var i=this.localize("Duration Time"),e=(0,a.default)(n);this.g0t.innerHTML='<span class="vjs-control-text">'+i+"</span> "+e}},n}(r.default);r.default.registerComponent("DurationDisplay",c),i.default=c},{5:5,81:81,84:84}],34:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(81),u=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(s),o=t(84),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"timeupdate",r.updateContent),r.on(i,"durationchange",r.updateContent),r.on(i,"languagechange",r.updateContent),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.g0t=u.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),n.appendChild(this.g0t),n},n.prototype.updateContent=function(t){if(this.cC.duration()){var n=this.localize("Remaining Time"),i=(0,a.default)(this.cC.remainingTime());i!==this.B0t&&(this.B0t=i,this.g0t.innerHTML='<span class="vjs-control-text">'+n+"</span> -"+i)}},n}(r.default);r.default.registerComponent("RemainingTimeDisplay",c),i.default=c},{5:5,81:81,84:84}],35:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},n}(s.default);s.default.registerComponent("TimeDivider",u),i.default=u},{5:5}],36:[function(t,n,i){i.__esModule=!0;var e=t(47),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}function c(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var f=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=e.tracks,s=c(this,t.call(this,i,e));if(s.items.length<=1&&s.hide(),!r)return c(s);var u=a.bind(s,s.update);return r.addEventListener("removetrack",u),r.addEventListener("addtrack",u),s.cC.on("dispose",function(){r.removeEventListener("removetrack",u),r.removeEventListener("addtrack",u)}),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(r.default);u.default.registerComponent("TrackButton",f),i.default=f},{47:47,5:5,83:83}],37:[function(t,n,i){i.__esModule=!0;var e=t(57),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}t(39);var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"volumechange",r.updateARIAAttributes),i.ready(a.bind(r,r.updateARIAAttributes)),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},n.prototype.handleMouseMove=function(t){this.checkMuted(),this.cC.volume(this.calculateDistance(t))},n.prototype.checkMuted=function(){this.cC.muted()&&this.cC.muted(!1)},n.prototype.getPercent=function(){return this.cC.muted()?0:this.cC.volume()},n.prototype.stepForward=function(){this.checkMuted(),this.cC.volume(this.cC.volume()+.1)},n.prototype.stepBack=function(){this.checkMuted(),this.cC.volume(this.cC.volume()-.1)},n.prototype.updateARIAAttributes=function(t){var n=(100*this.cC.volume()).toFixed(2);this.c0t.setAttribute("aria-valuenow",n),this.c0t.setAttribute("aria-valuetext",n+"%")},n}(r.default);c.prototype.l0t={children:["volumeLevel"],barName:"volumeLevel"},c.prototype.playerEvent="volumechange",u.default.registerComponent("VolumeBar",c),i.default=c},{39:39,5:5,57:57,83:83}],38:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e};t(37);var u=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return i.A0t&&!1===i.A0t.featuresVolumeControl&&r.addClass("vjs-hidden"),r.on(i,"loadstart",function(){!1===i.A0t.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},n}(s.default);u.prototype.l0t={children:["volumeBar"]},s.default.registerComponent("VolumeControl",u),i.default=u},{37:37,5:5}],39:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},n}(s.default);s.default.registerComponent("VolumeLevel",u),i.default=u},{5:5}],40:[function(t,n,i){i.__esModule=!0;var e=t(83),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=t(5),u=g(s),o=t(54),a=g(o),h=t(53),c=g(h),f=t(11),v=g(f),d=t(37),w=g(d);function g(t){return t&&t.__esModule?t:{default:t}}var y=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n),void 0===e.inline&&(e.inline=!0),void 0===e.vertical&&(e.inline?e.vertical=!1:e.vertical=!0),e.volumeBar=e.volumeBar||{},e.volumeBar.vertical=!!e.vertical;var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));function s(){i.A0t&&!1===i.A0t.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}return r.on(i,"volumechange",r.volumeUpdate),r.on(i,"loadstart",r.volumeUpdate),s.call(r),r.on(i,"loadstart",s),r.on(r.volumeBar,["slideractive","focus"],function(){this.addClass("vjs-slider-active")}),r.on(r.volumeBar,["sliderinactive","blur"],function(){this.removeClass("vjs-slider-active")}),r.on(r.volumeBar,["focus"],function(){this.addClass("vjs-lock-showing")}),r.on(r.volumeBar,["blur"],function(){this.removeClass("vjs-lock-showing")}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){var n="";return n=this.l0t.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+t.prototype.buildCSSClass.call(this)+" "+n},n.prototype.createPopup=function(){var t=new a.default(this.cC,{contentElType:"div"}),n=new w.default(this.cC,this.l0t.volumeBar);return t.addChild(n),this.menuContent=t,this.volumeBar=n,this.attachVolumeBarEvents(),t},n.prototype.handleClick=function(n){v.default.prototype.handleClick.call(this),t.prototype.handleClick.call(this)},n.prototype.attachVolumeBarEvents=function(){this.menuContent.on(["mousedown","touchdown"],r.bind(this,this.handleMouseDown))},n.prototype.handleMouseDown=function(t){this.on(["mousemove","touchmove"],r.bind(this.volumeBar,this.volumeBar.handleMouseMove)),this.on(this.c0t.ownerDocument,["mouseup","touchend"],this.handleMouseUp)},n.prototype.handleMouseUp=function(t){this.off(["mousemove","touchmove"],r.bind(this.volumeBar,this.volumeBar.handleMouseMove))},n}(c.default);y.prototype.volumeUpdate=v.default.prototype.update,y.prototype.h0t="Mute",u.default.registerComponent("VolumeMenuButton",y),i.default=y},{11:11,37:37,5:5,53:53,54:54,83:83}],41:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(50),u=h(s),o=t(88),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"error",r.open),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},n.prototype.content=function(){var t=this.player().error();return t?this.localize(t.message):""},n}(u.default);c.prototype.l0t=(0,a.default)(u.default.prototype.l0t,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),r.default.registerComponent("ErrorDisplay",c),i.default=c},{5:5,50:50,88:88}],42:[function(t,n,i){i.__esModule=!0;var e=t(82),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=function(){};s.prototype.x0t={},s.prototype.on=function(t,n){var i=this.addEventListener;this.addEventListener=function(){},r.on(this,t,n),this.addEventListener=i},s.prototype.addEventListener=s.prototype.on,s.prototype.off=function(t,n){r.off(this,t,n)},s.prototype.removeEventListener=s.prototype.off,s.prototype.one=function(t,n){var i=this.addEventListener;this.addEventListener=function(){},r.one(this,t,n),this.addEventListener=i},s.prototype.trigger=function(t){var n=t.type||t;"string"==typeof t&&(t={type:n}),t=r.fixEvent(t),this.x0t[n]&&this["on"+n]&&this["on"+n](t),r.trigger(this,t)},s.prototype.dispatchEvent=s.prototype.trigger,i.default=s},{82:82}],43:[function(t,n,i){i.__esModule=!0;var e,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=t(87),u=(e=s)&&e.__esModule?e:{default:e},o=t(89);i.default=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=function(){t.apply(this,arguments)},e={};for(var s in(0,o.isObject)(n)?("function"==typeof n.init&&(u.default.warn("Constructor logic via init() is deprecated; please use constructor() instead."),n.constructor=n.init),n.constructor!==_.prototype.constructor&&(i=n.constructor),e=n):"function"==typeof n&&(i=n),function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+(void 0===n?"undefined":r(n)));t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(t.O0t=n)}(i,t),e)e.hasOwnProperty(s)&&(i.prototype[s]=e[s]);return i}},{87:87,89:89}],44:[function(t,n,i){i.__esModule=!0;for(var e=t(85),r={prefixed:!0},s=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],u=s[0],o=void 0,a=0;a<s.length;a++)if(s[a][1]in e.document){o=s[a];break}if(o){for(var h=0;h<o.length;h++)r[u[h]]=o[h];r.prefixed=o[0]!==u[0]}i.default=r},{85:85}],45:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},n}(s.default);s.default.registerComponent("LoadingSpinner",u),i.default=u},{5:5}],46:[function(t,n,i){i.__esModule=!0;var e=t(89);function r(t){if(t instanceof r)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:(0,e.isObject)(t)&&("number"==typeof t.code&&(this.code=t.code),(0,e.assign)(this,t)),this.message||(this.message=r.defaultMessages[this.code]||"")}r.prototype.code=0,r.prototype.message="",r.prototype.status=null,r.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],r.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var s=0;s<r.errorTypes.length;s++)r[r.errorTypes[s]]=s,r.prototype[r.errorTypes[s]]=s;i.default=r},{89:89}],47:[function(t,n,i){i.__esModule=!0;var e=t(3),r=y(e),s=t(5),u=y(s),o=t(49),a=y(o),h=t(81),c=g(h),f=t(83),v=g(f),d=t(92),w=y(d);function g(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function y(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.update(),r.Bw=!0,r.c0t.setAttribute("aria-haspopup","true"),r.c0t.setAttribute("role","menuitem"),r.on("keydown",r.handleSubmenuKeyPress),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.update=function(){var t=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=t,this.addChild(t),this.L0t=!1,this.c0t.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.k0t?this.hide():this.show()},n.prototype.createMenu=function(){var t=new a.default(this.cC);if(this.k0t=0,this.l0t.title){var n=c.createEl("li",{className:"vjs-menu-title",innerHTML:(0,w.default)(this.l0t.title),tabIndex:-1});this.k0t+=1,t.Pi.unshift(n),c.insertElFirst(n,t.contentEl())}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)t.addItem(this.items[i]);return t},n.prototype.createItems=function(){},n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},n.prototype.buildCSSClass=function(){var n="vjs-menu-button";return!0===this.l0t.inline?n+="-inline":n+="-popup","vjs-menu-button "+n+" "+t.prototype.buildCSSClass.call(this)},n.prototype.handleClick=function(t){this.one(this.menu.contentEl(),"mouseleave",v.bind(this,function(t){this.unpressButton(),this.c0t.blur()})),this.L0t?this.unpressButton():this.pressButton()},n.prototype.handleKeyPress=function(n){27===n.which||9===n.which?(this.L0t&&this.unpressButton(),9!==n.which&&n.preventDefault()):38===n.which||40===n.which?this.L0t||(this.pressButton(),n.preventDefault()):t.prototype.handleKeyPress.call(this,n)},n.prototype.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.L0t&&this.unpressButton(),9!==t.which&&t.preventDefault())},n.prototype.pressButton=function(){this.Bw&&(this.L0t=!0,this.menu.lockShowing(),this.c0t.setAttribute("aria-expanded","true"),this.menu.focus())},n.prototype.unpressButton=function(){this.Bw&&(this.L0t=!1,this.menu.unlockShowing(),this.c0t.setAttribute("aria-expanded","false"),this.c0t.focus())},n.prototype.disable=function(){return this.L0t=!1,this.menu.unlockShowing(),this.c0t.setAttribute("aria-expanded","false"),this.Bw=!1,t.prototype.disable.call(this)},n.prototype.enable=function(){return this.Bw=!0,t.prototype.enable.call(this)},n}(r.default);u.default.registerComponent("MenuButton",m),i.default=m},{3:3,49:49,5:5,81:81,83:83,92:92}],48:[function(t,n,i){i.__esModule=!0;var e=t(3),r=h(e),s=t(5),u=h(s),o=t(89),a=t(85);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.selectable=e.selectable,r.selected(e.selected),r.selectable?r.c0t.setAttribute("role","menuitemcheckbox"):r.c0t.setAttribute("role","menuitem"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(n,i,e){this.nonIconControl=!0;var r=t.prototype.createEl.call(this,"li",(0,o.assign)({className:"vjs-menu-item",tabIndex:-1},i),e);return this.T0t=a.document.createTextNode(this.localize(this.l0t.label)),r.appendChild(this.T0t),r},n.prototype.handleClick=function(t){this.selected(!0)},n.prototype.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.c0t.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.c0t.setAttribute("aria-checked","false"),this.controlText("")))},n.prototype.handleLanguagechange=function(){t.prototype.handleLanguagechange.call(this),this.T0t.innerHTML=this.localize(this.l0t.label)},n}(r.default);u.default.registerComponent("MenuItem",c),i.default=c},{3:3,5:5,85:85,89:89}],49:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=v(u),a=t(83),h=v(a),c=t(82),f=v(c);function v(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var d=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.M0t=-1,r.on("keydown",r.handleKeyPress),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.addItem=function(t){this.addChild(t),t.on("click",h.bind(this,function(t){this.unlockShowing()}))},n.prototype.createEl=function(){var n=this.l0t.contentElType||"ul";this.g0t=o.createEl(n,{className:"vjs-menu-content"}),this.g0t.setAttribute("role","menu");var i=t.prototype.createEl.call(this,"div",{append:this.g0t,className:"vjs-menu"});return i.setAttribute("role","presentation"),i.appendChild(this.g0t),f.on(i,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),i},n.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepForward()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepBack())},n.prototype.stepForward=function(){var t=0;void 0!==this.M0t&&(t=this.M0t+1),this.focus(t)},n.prototype.stepBack=function(){var t=0;void 0!==this.M0t&&(t=this.M0t-1),this.focus(t)},n.prototype.focus=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=this.children().slice(),i=n.length&&n[0].className&&/vjs-menu-title/.test(n[0].className);i&&n.shift(),n.length>0&&(t<0?t=0:t>=n.length&&(t=n.length-1),this.M0t=t,n[t].c0t.focus())},n}(s.default);s.default.registerComponent("Menu",d),i.default=d},{5:5,81:81,82:82,83:83}],50:[function(t,n,i){i.__esModule=!0;var e,r=t(81),s=c(r),u=t(83),o=c(u),a=t(5),h=(e=a)&&e.__esModule?e:{default:e};function c(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var f="vjs-modal-dialog",v=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.F0t=r.U0t=r.j0t=!1,r.closeable(!r.l0t.uncloseable),r.content(r.l0t.content),r.g0t=s.createEl("div",{className:f+"-content"},{role:"document"}),r.H0t=s.createEl("p",{className:f+"-description vjs-offscreen",id:r.el().getAttribute("aria-describedby")}),s.textContent(r.H0t,r.description()),r.c0t.appendChild(r.H0t),r.c0t.appendChild(r.g0t),r.on(i,"languagechange",r.handleLanguagechange),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"X0t","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.prototype.buildCSSClass=function(){return f+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},n.prototype.handleKeyPress=function(t){27===t.which&&this.closeable()&&this.close()},n.prototype.label=function(){return this.l0t.label||this.localize("Modal Window")},n.prototype.description=function(){var t=this.l0t.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},n.prototype.open=function(){if(!this.F0t){var t=this.player();this.trigger("beforemodalopen"),this.F0t=!0,(this.l0t.fillAlways||!this.U0t&&!this.j0t)&&this.fill(),this.z0t=!t.paused(),this.l0t.pauseOnOpen&&this.z0t&&t.pause(),this.closeable()&&this.on(this.c0t.ownerDocument,"keydown",o.bind(this,this.handleKeyPress)),t.controls(!1),this.show(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.U0t=!0}return this},n.prototype.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.F0t},n.prototype.close=function(){if(this.F0t){var t=this.player();this.trigger("beforemodalclose"),this.F0t=!1,this.z0t&&this.l0t.pauseOnOpen&&t.play(),this.closeable()&&this.off(this.c0t.ownerDocument,"keydown",o.bind(this,this.handleKeyPress)),t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.l0t.temporary&&this.dispose()}return this},n.prototype.closeable=function(t){if("boolean"==typeof t){var n=this.V0t=!!t,i=this.getChild("closeButton");if(n&&!i){var e=this.g0t;this.g0t=this.c0t,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.g0t=e,this.on(i,"close",this.close)}!n&&i&&(this.off(i,"close",this.close),this.removeChild(i),i.dispose())}return this.V0t},n.prototype.fill=function(){return this.fillWith(this.content())},n.prototype.fillWith=function(t){var n=this.contentEl(),i=n.parentNode,e=n.nextSibling;return this.trigger("beforemodalfill"),this.j0t=!0,i.removeChild(n),this.empty(),s.insertContent(n,t),this.trigger("modalfill"),e?i.insertBefore(n,e):i.appendChild(n),this},n.prototype.empty=function(){return this.trigger("beforemodalempty"),s.emptyEl(this.contentEl()),this.trigger("modalempty"),this},n.prototype.content=function(t){return void 0!==t&&(this.Wm=t),this.Wm},n.prototype.handleLanguagechange=function(){this.c0t.setAttribute("aria-label",this.label()),s.textContent(this.H0t,this.description()),this.opened()?this.fill():(this.U0t||this.j0t)&&(this.U0t=!1,this.j0t=!1,this.empty())},n}(h.default);v.prototype.l0t={pauseOnOpen:!0,temporary:!0},h.default.registerComponent("ModalDialog",v),i.default=v},{5:5,81:81,83:83}],51:[function(t,n,i){i.__esModule=!0;var e=t(5),r=Q(e),s=t(85),u=t(82),o=$(u),a=t(81),h=$(a),c=t(83),f=$(c),d=t(86),g=$(d),p=t(78),k=$(p),b=t(87),A=Q(b),T=t(92),S=Q(T),E=t(91),I=t(79),R=t(90),N=$(R),C=t(44),D=Q(C),P=t(46),B=Q(P),x=t(116),O=Q(x),L=t(89),M=t(88),F=Q(M),U=t(69),j=Q(U),H=t(50),X=Q(H),z=t(62),V=Q(z),q=t(63),W=Q(q),G=t(76),Y=Q(G);function $(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function Q(t){return t&&t.__esModule?t:{default:t}}t(61),t(59),t(55),t(68),t(45),t(1),t(4),t(8),t(41),t(71),t(60);var K=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","volumechange","texttrackchange"],Z=function(t){function n(i,e,r){if(function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n),i.id=i.id||["vjs_video",g.newGUID()].join("_"),(e=(0,L.assign)(n.getTagSettings(i),e)).initChildren=!1,e.createEl=!1,e.reportTouchActivity=!1,!e.language)if("function"==typeof i.closest){var s=i.closest("[lang]");s&&(e.language=s.getAttribute("lang"))}else for(var u=i;u&&1===u.nodeType;){if(h.getElAttributes(u).hasOwnProperty("lang")){e.language=u.getAttribute("lang");break}u=u.parentNode}var o=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,null,e,r));if(!o.l0t||!o.l0t.techOrder||!o.l0t.techOrder.length)throw new v("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(o.tag=i,o.tagAttributes=i&&h.getElAttributes(i),o.language(o.l0t.language),e.languages){var a={};_.getOwnPropertyNames(e.languages).forEach(function(t){a[t.toLowerCase()]=e.languages[t]}),o.q0t=a}else o.q0t=n.prototype.l0t.languages;o.aJt={},o.pU=e.poster||"",o.W0t=!!e.controls,i.controls=!1,o.G0t=!1,o.c0t=o.createEl();var c=(0,F.default)(o.l0t);if(e.plugins){var f=e.plugins;_.getOwnPropertyNames(f).forEach(function(t){"function"==typeof this[t]?this[t](f[t]):A.default.error("Unable to find plugin:",t)},o)}o.l0t.playerOptions=c,o.initChildren(),o.isAudio("audio"===i.nodeName.toLowerCase()),o.controls()?o.addClass("vjs-controls-enabled"):o.addClass("vjs-controls-disabled"),o.c0t.setAttribute("role","region"),o.isAudio()?o.c0t.setAttribute("aria-label","audio player"):o.c0t.setAttribute("aria-label","video player"),o.isAudio()&&o.addClass("vjs-audio"),o.Y0t()&&o.addClass("vjs-no-flex"),k.IS_IOS||o.addClass("vjs-workinghover"),n.players[o.xw]=o;var d="5.20.6-opentelly.9".split(".")[0];return o.addClass("vjs-v"+d),o.userActive(!0),o.reportUserActivity(),o.$0t(),o.on("fullscreenchange",o.$D),o.on("stageclick",o.Q0t),o}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.K0t&&this.K0t.parentNode&&this.K0t.parentNode.removeChild(this.K0t),n.players[this.xw]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.c0t&&this.c0t.player&&(this.c0t.player=null),this.A0t&&this.A0t.dispose(),t.prototype.dispose.call(this)},n.prototype.createEl=function(){var n=this.tag,i=void 0,e=this.Z0t=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player");i=this.c0t=e?n.parentNode:t.prototype.createEl.call(this,"div"),n.setAttribute("tabindex","-1"),n.removeAttribute("width"),n.removeAttribute("height");var r=h.getElAttributes(n);if(_.getOwnPropertyNames(r).forEach(function(t){"class"===t?i.className+=" "+r[t]:i.setAttribute(t,r[t])}),n.playerId=n.id,n.id+="J0t",n.className="vjs-tech",n.player=i.player=this,this.addClass("vjs-paused"),!0!==s.window.VIDEOJS_NO_DYNAMIC_STYLE){this.K0t=N.createStyleElement("vjs-styles-dimensions");var u=h.$(".vjs-styles-defaults"),o=h.$("head");o.insertBefore(this.K0t,u?u.nextSibling:o.firstChild)}this.width(this.l0t.width),this.height(this.l0t.height),this.fluid(this.l0t.fluid),this.aspectRatio(this.l0t.aspectRatio);for(var a=n.getElementsByTagName("a"),c=0;c<a.length;c++){var f=a.item(c);h.addElClass(f,"vjs-hidden"),f.setAttribute("hidden","hidden")}return n.t1t=n.networkState,n.parentNode&&!e&&n.parentNode.insertBefore(i,n),h.insertElFirst(n,i),this.Pi.unshift(n),this.c0t=i,i},n.prototype.width=function(t){return this.dimension("width",t)},n.prototype.height=function(t){return this.dimension("height",t)},n.prototype.dimension=function(t,n){var i="width"===t?"yp":"uT";if(void 0===n)return this[i]||0;if(""===n)this[i]=void 0;else{var e=y(n);if(m(e))return A.default.error('Improper value "'+n+'" supplied for for '+t),this;this[i]=e}return this.n1t(),this},n.prototype.fluid=function(t){if(void 0===t)return!!this.i1t;this.i1t=!!t,t?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.n1t()},n.prototype.aspectRatio=function(t){if(void 0===t)return this.e1t;if(!/^\d+\:\d+$/.test(t))throw new v("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.e1t=t,this.fluid(!0),this.n1t()},n.prototype.n1t=function(){if(!0!==s.window.VIDEOJS_NO_DYNAMIC_STYLE){var t=void 0,n=void 0,i=void 0,e=(void 0!==this.e1t&&"auto"!==this.e1t?this.e1t:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),r=e[1]/e[0];t=void 0!==this.yp?this.yp:void 0!==this.uT?this.uT/r:this.videoWidth()||300,n=void 0!==this.uT?this.uT:t*r,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),N.setTextContent(this.K0t,"\n      ."+i+" {\n        width: "+t+"px;\n        height: "+n+"px;\n      }\n\n      ."+i+".vjs-fluid {\n        padding-top: "+100*r+"%;\n      }\n    ")}else{var u="number"==typeof this.yp?this.yp:this.l0t.width,o="number"==typeof this.uT?this.uT:this.l0t.height,a=this.A0t&&this.A0t.el();a&&(u>=0&&(a.width=u),o>=0&&(a.height=o))}},n.prototype.r1t=function(t,n){var i=this;this.A0t&&this.s1t(),"Html5"!==t&&this.tag&&(V.default.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.u1t=t,this.y0t=!1;var e=(0,L.assign)({source:n,nativeControlsForTouch:this.l0t.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+t+"o1t",videoTracks:this.Dy,textTracks:this.Py,audioTracks:this.Cy,autoplay:this.l0t.autoplay,playsinline:this.l0t.playsinline,preload:this.l0t.preload,loop:this.l0t.loop,muted:this.l0t.muted,poster:this.poster(),language:this.language(),playerElIngest:this.Z0t||!1,"vtt.js":this.l0t["vtt.js"]},this.l0t[t.toLowerCase()]);this.tag&&(e.tag=this.tag),n&&(this.a1t=n.type,n.src===this.aJt.src&&this.aJt.currentTime>0&&(e.startTime=this.aJt.currentTime),this.aJt.sources=null,this.aJt.source=n,this.aJt.src=n.src);var s=V.default.getTech(t);s||(s=r.default.getComponent(t)),this.A0t=new s(e),this.A0t.ready(f.bind(this,this.h1t),!0),j.default.jsonToTextTracks(this.c1t||[],this.A0t),K.forEach(function(t){i.on(i.A0t,t,i["handleTech"+(0,S.default)(t)+"_"])}),this.on(this.A0t,"loadstart",this.f1t),this.on(this.A0t,"waiting",this.v1t),this.on(this.A0t,"canplay",this.l1t),this.on(this.A0t,"canplaythrough",this.d1t),this.on(this.A0t,"playing",this._1t),this.on(this.A0t,"ended",this.w1t),this.on(this.A0t,"seeking",this.g1t),this.on(this.A0t,"seeked",this.y1t),this.on(this.A0t,"play",this.m1t),this.on(this.A0t,"firstplay",this.p1t),this.on(this.A0t,"pause",this.k1t),this.on(this.A0t,"durationchange",this.b1t),this.on(this.A0t,"fullscreenchange",this.A1t),this.on(this.A0t,"error",this.T1t),this.on(this.A0t,"loadedmetadata",this.n1t),this.on(this.A0t,"resize",this.n1t),this.on(this.A0t,"posterchange",this.S1t),this.on(this.A0t,"textdata",this.E1t),this.usingNativeControls(this.I1t("controls")),this.controls()&&!this.usingNativeControls()&&this.R1t(),this.A0t.el().parentNode===this.contentEl()||"Html5"===t&&this.tag||h.insertElFirst(this.A0t.el(),this.contentEl()),this.tag&&(this.tag.player=null,this.tag=null)},n.prototype.s1t=function(){this.Dy=this.videoTracks(),this.Py=this.textTracks(),this.Cy=this.audioTracks(),this.c1t=j.default.textTracksToJson(this.A0t),this.y0t=!1,this.A0t.dispose(),this.A0t=!1},n.prototype.tech=function(t){if(t&&t.IWillNotUseThisInPlugins)return this.A0t;var n="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw s.window.alert(n),new v(n)},n.prototype.R1t=function(){this.N1t(),this.on(this.A0t,"mousedown",this.C1t),this.on(this.A0t,"touchstart",this.D1t),this.on(this.A0t,"touchmove",this.P1t),this.on(this.A0t,"touchend",this.B1t),this.on(this.A0t,"tap",this.x1t)},n.prototype.N1t=function(){this.off(this.A0t,"tap",this.x1t),this.off(this.A0t,"touchstart",this.D1t),this.off(this.A0t,"touchmove",this.P1t),this.off(this.A0t,"touchend",this.B1t),this.off(this.A0t,"mousedown",this.C1t)},n.prototype.h1t=function(){if(this.triggerReady(),this.aJt.volume&&this.O1t("setVolume",this.aJt.volume),this.S1t(),this.b1t(),(this.src()||this.currentSrc())&&this.tag&&this.l0t.autoplay&&this.paused()){try{delete this.tag.poster}catch(t){(0,A.default)("deleting tag.poster throws in some browsers",t)}this.play()}},n.prototype.f1t=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},n.prototype.hasStarted=function(t){return void 0!==t?(this.L1t!==t&&(this.L1t=t,t?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.L1t},n.prototype.m1t=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.prototype.v1t=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return t.removeClass("vjs-waiting")})},n.prototype.l1t=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.prototype.d1t=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.prototype._1t=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.prototype.g1t=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.prototype.y1t=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},n.prototype.p1t=function(){this.l0t.starttime&&(A.default.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.l0t.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.prototype.k1t=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.prototype.w1t=function(){this.addClass("vjs-ended"),this.l0t.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.prototype.b1t=function(){this.duration(this.I1t("duration"))},n.prototype.C1t=function(t){0===t.button&&this.controls()&&(void 0!==this.l0t&&void 0!==this.l0t.userActions&&void 0!==this.l0t.userActions.click&&!1===this.l0t.userActions.click||(void 0!==this.l0t&&void 0!==this.l0t.userActions&&"function"==typeof this.l0t.userActions.click?this.l0t.userActions.click.call(this,t):this.paused()?this.play():this.pause()))},n.prototype.x1t=function(){this.userActive(!this.userActive())},n.prototype.D1t=function(){this.userWasActive=this.userActive()},n.prototype.P1t=function(){this.userWasActive&&this.reportUserActivity()},n.prototype.B1t=function(t){t.cancelable&&t.preventDefault()},n.prototype.$D=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.prototype.Q0t=function(){this.reportUserActivity()},n.prototype.A1t=function(t,n){n&&this.isFullscreen(n.isFullscreen),this.trigger("fullscreenchange")},n.prototype.T1t=function(){var t=this.A0t.error();this.error(t)},n.prototype.E1t=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},n.prototype.getCache=function(){return this.aJt},n.prototype.O1t=function(t,n){if(this.A0t&&!this.A0t.y0t)this.A0t.ready(function(){this[t](n)},!0);else try{this.A0t&&this.A0t[t](n)}catch(t){throw(0,A.default)(t),t}},n.prototype.I1t=function(t){if(this.A0t&&this.A0t.y0t)try{return this.A0t[t]()}catch(n){throw void 0===this.A0t[t]?(0,A.default)("Video.js: "+t+" method not defined for "+this.u1t+" playback technology.",n):"TypeError"===n.name?((0,A.default)("Video.js: "+t+" unavailable on "+this.u1t+" playback technology element.",n),this.A0t.y0t=!1):(0,A.default)(n),n}},n.prototype.play=function(){return this.src()||this.currentSrc()?this.O1t("play"):this.A0t.one("loadstart",function(){this.play()}),this},n.prototype.pause=function(){return this.O1t("pause"),this},n.prototype.paused=function(){return!1!==this.I1t("paused")},n.prototype.scrubbing=function(t){return void 0!==t?(this.G0t=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.G0t},n.prototype.currentTime=function(t){return void 0!==t?(this.O1t("setCurrentTime",t),this):(this.aJt.currentTime=this.I1t("currentTime")||0,this.aJt.currentTime)},n.prototype.duration=function(t){return void 0===t?void 0!==this.aJt.duration?this.aJt.duration:NaN:((t=y(t))<0&&(t=1/0),t!==this.aJt.duration&&(this.aJt.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},n.prototype.remainingTime=function(){return this.duration()-this.currentTime()},n.prototype.buffered=function(){var t=this.I1t("buffered");return t&&t.length||(t=(0,E.createTimeRange)(0,0)),t},n.prototype.bufferedPercent=function(){return(0,I.bufferedPercent)(this.buffered(),this.duration())},n.prototype.bufferedEnd=function(){var t=this.buffered(),n=this.duration(),i=t.end(t.length-1);return i>n&&(i=n),i},n.prototype.volume=function(t){var n=void 0;return void 0!==t?(n=w.max(0,w.min(1,y(t))),this.aJt.volume=n,this.O1t("setVolume",n),this):(n=y(this.I1t("volume")),m(n)?1:n)},n.prototype.muted=function(t){return void 0!==t?(this.O1t("setMuted",t),this):this.I1t("muted")||!1},n.prototype.supportsFullScreen=function(){return this.I1t("supportsFullScreen")||!1},n.prototype.isFullscreen=function(t){return void 0!==t?(this.dD=!!t,this):!!this.dD},n.prototype.requestFullscreen=function(t){var n=D.default,i=void 0;return this.isFullscreen(!0),n.requestFullscreen?(o.on(s.document,n.fullscreenchange,f.bind(this,function t(i){this.isFullscreen(s.document[n.fullscreenElement]),!1===this.isFullscreen()&&o.off(s.document,n.fullscreenchange,t),this.trigger("fullscreenchange")})),n.prefixed||(i=this.l0t.fullscreenOptions,void 0!==t&&(i=t)),this.c0t[n.requestFullscreen](i)):this.A0t.supportsFullScreen()?this.O1t("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},n.prototype.exitFullscreen=function(){var t=D.default;return this.isFullscreen(!1),t.requestFullscreen?s.document[t.exitFullscreen]():this.A0t.supportsFullScreen()?this.O1t("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},n.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=s.document.documentElement.style.overflow,o.on(s.document,"keydown",f.bind(this,this.fullWindowOnEscKey)),s.document.documentElement.style.overflow="hidden",h.addElClass(s.document.body,"vjs-full-window"),this.trigger("enterFullWindow")},n.prototype.fullWindowOnEscKey=function(t){27===t.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},n.prototype.exitFullWindow=function(){this.isFullWindow=!1,o.off(s.document,"keydown",this.fullWindowOnEscKey),s.document.documentElement.style.overflow=this.docOrigOverflow,h.removeElClass(s.document.body,"vjs-full-window"),this.trigger("exitFullWindow")},n.prototype.canPlayType=function(t){for(var n=void 0,i=0,e=this.l0t.techOrder;i<e.length;i++){var s=(0,S.default)(e[i]),u=V.default.getTech(s);if(u||(u=r.default.getComponent(s)),u){if(u.isSupported()&&(n=u.canPlayType(t)))return n}else A.default.error('The "'+s+'" tech is undefined. Skipped browser support check for that tech.')}return""},n.prototype.selectSource=function(t){var n,i=this,e=this.l0t.techOrder.map(S.default).map(function(t){return[t,V.default.getTech(t)||r.default.getComponent(t)]}).filter(function(t){var n=t[0],i=t[1];return i?i.isSupported():(A.default.error('The "'+n+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),s=function(t,n,i){var e=void 0;return t.some(function(t){return n.some(function(n){if(e=i(t,n))return!0})}),e},u=function(t,n){var e=t[0],r=t[1];if(r.canPlaySource(n,i.l0t[e.toLowerCase()]))return{source:n,tech:e}};return(this.l0t.sourceOrder?s(t,e,(n=u,function(t,i){return n(i,t)})):s(e,t,u))||!1},n.prototype.src=function(t){if(void 0===t)return this.I1t("src");var n=V.default.getTech(this.u1t);return n||(n=r.default.getComponent(this.u1t)),Array.isArray(t)?this.M1t(t):"string"==typeof t?this.src({src:t}):t instanceof _&&(t.type&&!n.canPlaySource(t,this.l0t[this.u1t.toLowerCase()])?this.M1t([t]):(this.aJt.sources=null,this.aJt.source=t,this.aJt.src=t.src,this.a1t=t.type||"",this.ready(function(){n.prototype.hasOwnProperty("setSource")?this.O1t("setSource",t):this.O1t("src",t.src),"auto"===this.l0t.preload&&this.load(),this.l0t.autoplay&&this.play()},!0))),this},n.prototype.M1t=function(t){var n=this.selectSource(t);n?(n.tech===this.u1t?this.src(n.source):this.r1t(n.tech,n.source),this.aJt.sources=t):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.l0t.notSupportedMessage)})},0),this.triggerReady())},n.prototype.load=function(){return this.O1t("load"),this},n.prototype.reset=function(){return this.r1t((0,S.default)(this.l0t.techOrder[0]),null),this.O1t("reset"),this},n.prototype.currentSources=function(){var t=this.currentSource(),n=[];return 0!==_.keys(t).length&&n.push(t),this.aJt.sources||n},n.prototype.currentSource=function(){var t={},n=this.currentSrc();return n&&(t.src=n),this.aJt.source||t},n.prototype.currentSrc=function(){return this.I1t("currentSrc")||this.aJt.src||""},n.prototype.currentType=function(){return this.a1t||""},n.prototype.preload=function(t){return void 0!==t?(this.O1t("setPreload",t),this.l0t.preload=t,this):this.I1t("preload")},n.prototype.autoplay=function(t){return void 0!==t?(this.O1t("setAutoplay",t),this.l0t.autoplay=t,this):this.I1t("autoplay",t)},n.prototype.playsinline=function(t){return void 0!==t?(this.O1t("setPlaysinline",t),this.l0t.playsinline=t,this):this.I1t("playsinline")},n.prototype.loop=function(t){return void 0!==t?(this.O1t("setLoop",t),this.l0t.loop=t,this):this.I1t("loop")},n.prototype.poster=function(t){return void 0===t?this.pU:(t||(t=""),this.pU=t,this.O1t("setPoster",t),this.trigger("posterchange"),this)},n.prototype.S1t=function(){!this.pU&&this.A0t&&this.A0t.poster&&(this.pU=this.A0t.poster()||"",this.trigger("posterchange"))},n.prototype.controls=function(t){return void 0!==t?(t=!!t,this.W0t!==t&&(this.W0t=t,this.usingNativeControls()&&this.O1t("setControls",t),t?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.R1t()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.N1t())),this):!!this.W0t},n.prototype.usingNativeControls=function(t){return void 0!==t?(t=!!t,this.F1t!==t&&(this.F1t=t,t?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.F1t},n.prototype.error=function(t){return void 0===t?this.mu||null:null===t?(this.mu=t,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close(),this):(this.mu=new B.default(t),this.addClass("vjs-error"),A.default.error("(CODE:"+this.mu.code+" "+B.default.errorTypes[this.mu.code]+")",this.mu.message,this.mu),this.trigger("error"),this)},n.prototype.reportUserActivity=function(t){this.U1t=!0},n.prototype.userActive=function(t){return void 0!==t?((t=!!t)!==this.j1t&&(this.j1t=t,t?(this.U1t=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.U1t=!1,this.A0t&&this.A0t.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.j1t},n.prototype.$0t=function(){var t=void 0,n=void 0,i=void 0,e=f.bind(this,this.reportUserActivity);this.on("mousedown",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)}),this.on("mousemove",function(t){t.screenX===n&&t.screenY===i||(n=t.screenX,i=t.screenY,e())}),this.on("mouseup",function(n){e(),this.clearInterval(t)}),this.on("keydown",e),this.on("keyup",e);var r=void 0;this.setInterval(function(){if(this.U1t){this.U1t=!1,this.userActive(!0),this.clearTimeout(r);var t=this.l0t.inactivityTimeout;t>0&&(r=this.setTimeout(function(){this.U1t||this.userActive(!1)},t))}},250)},n.prototype.playbackRate=function(t){return void 0!==t?(this.O1t("setPlaybackRate",t),this):this.A0t&&this.A0t.featuresPlaybackRate?this.I1t("playbackRate"):1},n.prototype.isAudio=function(t){return void 0!==t?(this.H1t=!!t,this):!!this.H1t},n.prototype.videoTracks=function(){return this.A0t?this.A0t.videoTracks():(this.Dy=this.Dy||new Y.default,this.Dy)},n.prototype.audioTracks=function(){return this.A0t?this.A0t.audioTracks():(this.Cy=this.Cy||new W.default,this.Cy)},n.prototype.textTracks=function(){if(this.A0t)return this.A0t.textTracks()},n.prototype.remoteTextTracks=function(){if(this.A0t)return this.A0t.remoteTextTracks()},n.prototype.remoteTextTrackEls=function(){if(this.A0t)return this.A0t.remoteTextTrackEls()},n.prototype.addTextTrack=function(t,n,i){if(this.A0t)return this.A0t.addTextTrack(t,n,i)},n.prototype.addRemoteTextTrack=function(t,n){if(this.A0t)return this.A0t.addRemoteTextTrack(t,n)},n.prototype.removeRemoteTextTrack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.track,i=void 0===n?arguments[0]:n;if(this.A0t)return this.A0t.removeRemoteTextTrack(i)},n.prototype.getVideoPlaybackQuality=function(){return this.I1t("getVideoPlaybackQuality")},n.prototype.videoWidth=function(){return this.A0t&&this.A0t.videoWidth&&this.A0t.videoWidth()||0},n.prototype.videoHeight=function(){return this.A0t&&this.A0t.videoHeight&&this.A0t.videoHeight()||0},n.prototype.language=function(t){return void 0===t?this.Fw:(this.Fw!==String(t).toLowerCase()&&(this.Fw=String(t).toLowerCase(),void 0!==this.c0t&&this.trigger("languagechange")),this)},n.prototype.languages=function(){return(0,F.default)(n.prototype.l0t.languages,this.q0t)},n.prototype.toJSON=function(){var t=(0,F.default)(this.l0t),n=t.tracks;t.tracks=[];for(var i=0;i<n.length;i++){var e=n[i];(e=(0,F.default)(e)).player=void 0,t.tracks[i]=e}return t},n.prototype.createModal=function(t,n){var i=this;(n=n||{}).content=t||"";var e=new X.default(this,n);return this.addChild(e),e.on("dispose",function(){i.removeChild(e)}),e.open()},n.getTagSettings=function(t){var n={sources:[],tracks:[]},i=h.getElAttributes(t),e=i["data-setup"];if(h.hasElClass(t,"vjs-fluid")&&(i.fluid=!0),null!==e){var r=(0,O.default)(e||"{}"),s=r[0],u=r[1];s&&A.default.error(s),(0,L.assign)(i,u)}if((0,L.assign)(n,i),t.hasChildNodes())for(var o=t.childNodes,a=0,c=o.length;a<c;a++){var f=o[a],v=f.nodeName.toLowerCase();"source"===v?n.sources.push(h.getElAttributes(f)):"track"===v&&n.tracks.push(h.getElAttributes(f))}return n},n.prototype.Y0t=function(){var t=s.document.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},n}(r.default);Z.players={};var J=s.window.navigator;Z.prototype.l0t={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:J&&(J.languages&&J.languages[0]||J.userLanguage||J.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreenOptions:{navigationUI:"hide"}},["ended","seeking","seekable","networkState","readyState"].forEach(function(t){Z.prototype[t]=function(){return this.I1t(t)}}),K.forEach(function(t){Z.prototype["handleTech"+(0,S.default)(t)+"_"]=function(){return this.trigger(t)}}),r.default.registerComponent("Player",Z),i.default=Z},{1:1,116:116,4:4,41:41,44:44,45:45,46:46,5:5,50:50,55:55,59:59,60:60,61:61,62:62,63:63,68:68,69:69,71:71,76:76,78:78,79:79,8:8,81:81,82:82,83:83,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:92}],52:[function(t,n,i){i.__esModule=!0;var e,r=t(51),s=(e=r)&&e.__esModule?e:{default:e};i.default=function(t,n){s.default.prototype[t]=n}},{51:51}],53:[function(t,n,i){i.__esModule=!0;var e=t(3),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.update(),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.update=function(){var t=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=t,this.addChild(t),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},n.prototype.createPopup=function(){},n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},n.prototype.buildCSSClass=function(){var n="vjs-menu-button";return!0===this.l0t.inline?n+="-inline":n+="-popup","vjs-menu-button "+n+" "+t.prototype.buildCSSClass.call(this)},n}(r.default);u.default.registerComponent("PopupButton",a),i.default=a},{3:3,5:5}],54:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=v(u),a=t(83),h=v(a),c=t(82),f=v(c);function v(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var d=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.addItem=function(t){this.addChild(t),t.on("click",h.bind(this,function(){this.unlockShowing()}))},n.prototype.createEl=function(){var n=this.l0t.contentElType||"ul";this.g0t=o.createEl(n,{className:"vjs-menu-content"});var i=t.prototype.createEl.call(this,"div",{append:this.g0t,className:"vjs-menu"});return i.appendChild(this.g0t),f.on(i,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),i},n}(s.default);s.default.registerComponent("Popup",d),i.default=d},{5:5,81:81,82:82,83:83}],55:[function(t,n,i){i.__esModule=!0;var e=t(3),r=w(e),s=t(5),u=w(s),o=t(83),a=d(o),h=t(81),c=d(h),f=t(78),v=d(f);function d(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function w(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.update(),i.on("posterchange",a.bind(r,r.update)),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},n.prototype.createEl=function(){var t=c.createEl("div",{className:"vjs-poster",tabIndex:-1});return v.BACKGROUND_SIZE_SUPPORTED||(this.X1t=c.createEl("img"),t.appendChild(this.X1t)),t},n.prototype.update=function(t){var n=this.player().poster();this.setSrc(n),n?this.show():this.hide()},n.prototype.setSrc=function(t){if(this.X1t)this.X1t.src=t;else{var n="";t&&(n='url("'+t+'")'),this.c0t.style.backgroundImage=n}},n.prototype.handleClick=function(t){this.cC.controls()&&(this.cC.paused()?this.cC.play():this.cC.pause())},n}(r.default);u.default.registerComponent("PosterImage",g),i.default=g},{3:3,5:5,78:78,81:81,83:83}],56:[function(t,n,i){i.__esModule=!0,i.hasLoaded=i.autoSetupTimeout=i.autoSetup=void 0;var e=t(81),r=a(e),s=t(82),u=a(s),o=t(85);function a(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var h=!1,c=void 0,f=function(){if(r.isReal()){var t=o.document.getElementsByTagName("video"),n=o.document.getElementsByTagName("audio"),i=[];if(t&&t.length>0)for(var e=0,s=t.length;e<s;e++)i.push(t[e]);if(n&&n.length>0)for(var u=0,a=n.length;u<a;u++)i.push(n[u]);if(i&&i.length>0)for(var f=0,l=i.length;f<l;f++){var d=i[f];if(!d||!d.getAttribute){v(1);break}if(void 0===d.player){var _=d.getAttribute("data-setup");null!==_&&c(d)}}else h||v(1)}};function v(t,n){n&&(c=n),o.window.setTimeout(f,t)}r.isReal()&&"complete"===o.document.readyState?h=!0:u.one(o.window,"load",function(){h=!0}),i.autoSetup=f,i.autoSetupTimeout=v,i.hasLoaded=function(){return h}},{81:81,82:82,85:85}],57:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(89),h=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.bar=r.getChild(r.l0t.barName),r.vertical(!!r.l0t.vertical),r.on("mousedown",r.handleMouseDown),r.on("touchstart",r.handleMouseDown),r.on("focus",r.handleFocus),r.on("blur",r.handleBlur),r.on("click",r.handleClick),r.on(i,"controlsvisible",r.update),r.on(i,r.playerEvent,r.update),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.className=i.className+" vjs-slider",i=(0,a.assign)({tabIndex:0},i),e=(0,a.assign)({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},e),t.prototype.createEl.call(this,n,i,e)},n.prototype.handleMouseDown=function(t){var n=this.bar.c0t.ownerDocument;t.preventDefault(),o.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(n,"mousemove",this.handleMouseMove),this.on(n,"mouseup",this.handleMouseUp),this.on(n,"touchmove",this.handleMouseMove),this.on(n,"touchend",this.handleMouseUp),this.handleMouseMove(t)},n.prototype.handleMouseMove=function(t){},n.prototype.handleMouseUp=function(){var t=this.bar.c0t.ownerDocument;o.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},n.prototype.update=function(){if(this.c0t){var t=this.getPercent(),n=this.bar;if(n){("number"!=typeof t||t!=t||t<0||t===1/0)&&(t=0);var i=(100*t).toFixed(2)+"%";this.vertical()?n.el().style.height=i:n.el().style.width=i}}},n.prototype.calculateDistance=function(t){var n=o.getPointerPosition(this.c0t,t);return this.vertical()?n.y:n.x},n.prototype.handleFocus=function(){this.on(this.bar.c0t.ownerDocument,"keydown",this.handleKeyPress)},n.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepForward())},n.prototype.handleBlur=function(){this.off(this.bar.c0t.ownerDocument,"keydown",this.handleKeyPress)},n.prototype.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},n.prototype.vertical=function(t){return void 0===t?this.tp||!1:(this.tp=!!t,this.tp?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"),this)},n}(s.default);s.default.registerComponent("Slider",h),i.default=h},{5:5,81:81,89:89}],58:[function(t,n,i){i.__esModule=!0,i.default=function(t){return t.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},t.streamFromParts=function(t,n){return t+"&"+n},t.streamToParts=function(t){var n={connection:"",stream:""};if(!t)return n;var i=t.search(/&(?!\w+=)/),e=void 0;return-1!==i?e=i+1:0===(i=e=t.lastIndexOf("/")+1)&&(i=e=t.length),n.connection=t.substring(0,i),n.stream=t.substring(e,t.length),n},t.isStreamingType=function(n){return n in t.streamingFormats},t.RTMP_RE=/^rtmp[set]?:\/\//i,t.isStreamingSrc=function(n){return t.RTMP_RE.test(n)},t.rtmpSourceHandler={},t.rtmpSourceHandler.canPlayType=function(n){return t.isStreamingType(n)?"maybe":""},t.rtmpSourceHandler.canHandleSource=function(n,i){var e=t.rtmpSourceHandler.canPlayType(n.type);return e||(t.isStreamingSrc(n.src)?"maybe":"")},t.rtmpSourceHandler.handleSource=function(n,i,e){var r=t.streamToParts(n.src);i.setRtmpConnection(r.connection),i.setRtmpStream(r.stream)},t.registerSourceHandler(t.rtmpSourceHandler),t}},{}],59:[function(t,n,i){i.__esModule=!0;var e=t(62),r=m(e),s=t(81),u=y(s),o=t(93),a=y(o),h=t(91),c=t(58),f=m(c),v=t(5),d=m(v),w=t(85),g=t(89);function y(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function m(t){return t&&t.__esModule?t:{default:t}}var p=w.window.navigator,k=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return i.source&&r.ready(function(){this.setSource(i.source)},!0),i.startTime&&r.ready(function(){this.load(),this.play(),this.currentTime(i.startTime)},!0),w.window.videojs=w.window.videojs||{},w.window.videojs.Flash=w.window.videojs.Flash||{},w.window.videojs.Flash.onReady=n.onReady,w.window.videojs.Flash.onEvent=n.onEvent,w.window.videojs.Flash.onError=n.onError,r.on("seeked",function(){this.z1t=void 0}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var t=this.l0t;t.swf||(t.swf="//vjs.zencdn.net/swf/5.4.1/video-js.swf");var i=t.techId,e=(0,g.assign)({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:t.autoplay,preload:t.preload,loop:t.loop,muted:t.muted},t.flashVars),r=(0,g.assign)({wmode:"opaque",bgcolor:"#000000"},t.params),s=(0,g.assign)({id:i,name:i,class:"vjs-tech"},t.attributes);return this.c0t=n.embed(t.swf,e,r,s),this.c0t.tech=this,this.c0t},n.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.c0t.vjs_play()},n.prototype.pause=function(){this.c0t.vjs_pause()},n.prototype.src=function(t){return void 0===t?this.currentSrc():this.setSrc(t)},n.prototype.setSrc=function(t){var n=this;t=a.getAbsoluteURL(t),this.c0t.vjs_src(t),this.autoplay()&&this.setTimeout(function(){return n.play()},0)},n.prototype.seeking=function(){return void 0!==this.z1t},n.prototype.setCurrentTime=function(n){var i=this.seekable();i.length&&(n=(n=n>i.start(0)?n:i.start(0))<i.end(i.length-1)?n:i.end(i.length-1),this.z1t=n,this.trigger("seeking"),this.c0t.vjs_setProperty("currentTime",n),t.prototype.setCurrentTime.call(this))},n.prototype.currentTime=function(){return this.seeking()?this.z1t||0:this.c0t.vjs_getProperty("currentTime")},n.prototype.currentSrc=function(){return this.Jy?this.Jy.src:this.c0t.vjs_getProperty("currentSrc")},n.prototype.duration=function(){if(0===this.readyState())return NaN;var t=this.c0t.vjs_getProperty("duration");return t>=0?t:1/0},n.prototype.load=function(){this.c0t.vjs_load()},n.prototype.poster=function(){this.c0t.vjs_getProperty("poster")},n.prototype.setPoster=function(){},n.prototype.seekable=function(){var t=this.duration();return 0===t?(0,h.createTimeRange)():(0,h.createTimeRange)(0,t)},n.prototype.buffered=function(){var t=this.c0t.vjs_getProperty("buffered");return 0===t.length?(0,h.createTimeRange)():(0,h.createTimeRange)(t[0][0],t[0][1])},n.prototype.supportsFullScreen=function(){return!1},n.prototype.enterFullScreen=function(){return!1},n.prototype.getVideoPlaybackQuality=function(){var t=this.c0t.vjs_getProperty("getVideoPlaybackQuality");return w.window.performance&&"function"==typeof w.window.performance.now?t.creationTime=w.window.performance.now():w.window.performance&&w.window.performance.timing&&"number"==typeof w.window.performance.timing.navigationStart&&(t.creationTime=w.window.Date.now()-w.window.performance.timing.navigationStart),t},n}(r.default),b=k.prototype,A="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),T="networkState,readyState,initialTime,startOffsetTime,paused,ended,videoWidth,videoHeight".split(",");function S(t){var n=t.charAt(0).toUpperCase()+t.slice(1);b["set"+n]=function(n){return this.c0t.vjs_setProperty(t,n)}}function E(t){b[t]=function(){return this.c0t.vjs_getProperty(t)}}for(var I=0;I<A.length;I++)E(A[I]),S(A[I]);for(var R=0;R<T.length;R++)E(T[R]);k.isSupported=function(){return k.version()[0]>=10},r.default.withSourceHandlers(k),k.nativeSourceHandler={},k.nativeSourceHandler.canPlayType=function(t){return t in k.formats?"maybe":""},k.nativeSourceHandler.canHandleSource=function(t,n){var i,e,r=void 0;return r=t.type?t.type.replace(/;.*/,"").toLowerCase():(i=t.src,(e=a.getFileExtension(i))?"video/"+e:""),k.nativeSourceHandler.canPlayType(r)},k.nativeSourceHandler.handleSource=function(t,n,i){n.setSrc(t.src)},k.nativeSourceHandler.dispose=function(){},k.registerSourceHandler(k.nativeSourceHandler),k.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},k.onReady=function(t){var n=u.getEl(t),i=n&&n.tech;i&&i.el()&&k.checkReady(i)},k.checkReady=function(t){t.el()&&(t.el().vjs_getProperty?t.triggerReady():this.setTimeout(function(){k.checkReady(t)},50))},k.onEvent=function(t,n){var i=u.getEl(t).tech,e=Array.prototype.slice.call(arguments,2);i.setTimeout(function(){i.trigger(n,e)},1)},k.onError=function(t,n){var i=u.getEl(t).tech;if("srcnotfound"===n)return i.error(4);i.error("FLASH: "+n)},k.version=function(){var t="0,0,0";try{t=new w.window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(n){try{p.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=(p.plugins["Shockwave Flash 2.0"]||p.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(t){}}return t.split(",")},k.embed=function(t,n,i,e){var r=k.getEmbedCode(t,n,i,e),s=u.createEl("div",{innerHTML:r}).childNodes[0];return s},k.getEmbedCode=function(t,n,i,e){var r="",s="",u="";return n&&_.getOwnPropertyNames(n).forEach(function(t){r+=t+"="+n[t]+"&amp;"}),i=(0,g.assign)({movie:t,flashvars:r,allowScriptAccess:"always",allowNetworking:"all"},i),_.getOwnPropertyNames(i).forEach(function(t){s+='<param name="'+t+'" value="'+i[t]+'" />'}),e=(0,g.assign)({data:t,width:"100%",height:"100%"},e),_.getOwnPropertyNames(e).forEach(function(t){u+=t+'="'+e[t]+'" '}),'<object type="application/x-shockwave-flash" '+u+">"+s+"</object>"},(0,f.default)(k),d.default.registerComponent("Flash",k),r.default.registerTech("Flash",k),i.default=k},{5:5,58:58,62:62,81:81,85:85,89:89,91:91,93:93}],60:[function(t,n,i){i.__esModule=!0;var e,r=((e=["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]).raw=["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],e),s=t(62),u=C(s),o=t(5),a=C(o),h=t(81),c=N(h),f=t(93),v=N(f),d=t(83),w=N(d),g=t(87),y=C(g),m=t(121),p=C(m),k=t(78),b=N(k),A=t(85),T=t(89),S=t(88),E=C(S),I=t(92),R=C(I);function N(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function C(t){return t&&t.__esModule?t:{default:t}}var D=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e)),u=i.source,o=!1;if(u&&(s.c0t.currentSrc!==u.src||i.tag&&3===i.tag.t1t)?s.setSource(u):s.V1t(s.c0t),s.c0t.hasChildNodes()){for(var a=s.c0t.childNodes,h=a.length,c=[];h--;){var f=a[h],d=f.nodeName.toLowerCase();"track"===d&&(s.featuresNativeTextTracks?(s.remoteTextTrackEls().q1t(f),s.remoteTextTracks().yw(f.track),o||s.c0t.hasAttribute("crossorigin")||!v.isCrossOrigin(f.src)||(o=!0)):c.push(f))}for(var _=0;_<c.length;_++)s.c0t.removeChild(c[_])}return["audio","video"].forEach(function(t){var n=s.el()[t+"Tracks"],i=s[t+"Tracks"](),e=(0,R.default)(t);s["featuresNative"+e+"Tracks"]&&n&&n.addEventListener&&(s["handle"+e+"W1t"]=function(t){i.trigger({type:"change",target:i,currentTarget:i,srcElement:i})},s["handle"+e+"G1t"]=function(t){return i.addTrack(t.track)},s["handle"+e+"Y1t"]=function(t){return i.removeTrack(t.track)},n.addEventListener("change",s["handle"+e+"W1t"]),n.addEventListener("addtrack",s["handle"+e+"G1t"]),n.addEventListener("removetrack",s["handle"+e+"Y1t"]),s["removeOld"+e+"$1t"]=function(t){return s.Q1t(i,n)},s.on("loadstart",s["removeOld"+e+"$1t"]))}),s.featuresNativeTextTracks&&(o&&y.default.warn((0,p.default)(r)),s.K1t=w.bind(s,s.handleTextTrackChange),s.Z1t=w.bind(s,s.handleTextTrackAdd),s.J1t=w.bind(s,s.handleTextTrackRemove),s.t2t()),s.n2t(),(b.TOUCH_ENABLED||b.IS_IPHONE||b.IS_NATIVE_ANDROID)&&!0===i.nativeControlsForTouch&&s.setControls(!0),s.i2t(),s.triggerReady(),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.dispose=function(){var i=this;["audio","video","text"].forEach(function(t){var n=(0,R.default)(t),e=i.c0t[t+"Tracks"];e&&e.removeEventListener&&(e.removeEventListener("change",i["handle"+n+"W1t"]),e.removeEventListener("addtrack",i["handle"+n+"G1t"]),e.removeEventListener("removetrack",i["handle"+n+"Y1t"])),e&&i.off("loadstart",i["removeOld"+n+"$1t"])}),n.disposeMediaElement(this.c0t),t.prototype.dispose.call(this)},n.prototype.n2t=function(){var t=this.textTracks(),n=void 0,i=function(){n=[];for(var i=0;i<t.length;i++){var e=t[i];"metadata"===e.kind&&n.push({track:e,storedMode:e.mode})}};i(),t.addEventListener("change",i);var e=function i(){for(var e=0;e<n.length;e++){var r=n[e];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}t.removeEventListener("change",i)};this.on("webkitbeginfullscreen",function(){t.removeEventListener("change",i),t.removeEventListener("change",e),t.addEventListener("change",e)}),this.on("webkitendfullscreen",function(){t.removeEventListener("change",i),t.addEventListener("change",i),t.removeEventListener("change",e)})},n.prototype.createEl=function(){var t=this.l0t.tag;if(!t||!this.l0t.playerElIngest&&!this.movingMediaElementInDOM){if(t){var i=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(i,t),n.disposeMediaElement(t),t=i}else{t=A.document.createElement("video");var e=this.l0t.tag&&c.getElAttributes(this.l0t.tag),r=(0,E.default)({},e);b.TOUCH_ENABLED&&!0===this.l0t.nativeControlsForTouch||delete r.controls,c.setElAttributes(t,(0,T.assign)(r,{id:this.l0t.techId,class:"vjs-tech"}))}t.playerId=this.l0t.playerId}void 0!==this.l0t.preload&&c.setAttribute(t,"preload",this.l0t.preload);for(var s=["loop","muted","playsinline","autoplay"],u=s.length-1;u>=0;u--){var o=s[u],a=this.l0t[o];void 0!==a&&(a?c.setAttribute(t,o,o):c.removeAttribute(t,o),t[o]=a)}return t},n.prototype.V1t=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var n=!1,i=function(){n=!0};this.on("loadstart",i);var e=function(){n||this.trigger("loadstart")};return this.on("loadedmetadata",e),void this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",e),n||this.trigger("loadstart")})}var r=["loadstart"];r.push("loadedmetadata"),t.readyState>=2&&r.push("loadeddata"),t.readyState>=3&&r.push("canplay"),t.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(t){this.trigger(t)},this)})}},n.prototype.t2t=function(){var t=this.el().textTracks;if(t){for(var n=0;n<t.length;n++)this.textTracks().yw(t[n]);t.addEventListener&&(t.addEventListener("change",this.K1t),t.addEventListener("addtrack",this.Z1t),t.addEventListener("removetrack",this.J1t)),this.on("loadstart",this.e2t)}},n.prototype.handleTextTrackChange=function(t){var n=this.textTracks();this.textTracks().trigger({type:"change",target:n,currentTarget:n,srcElement:n})},n.prototype.handleTextTrackAdd=function(t){this.textTracks().yw(t.track)},n.prototype.handleTextTrackRemove=function(t){this.textTracks().mw(t.track)},n.prototype.Q1t=function(t,n){var i=[];if(n){for(var e=0;e<t.length;e++){for(var r=t[e],s=!1,u=0;u<n.length;u++)if(n[u]===r){s=!0;break}s||i.push(r)}for(var o=0;o<i.length;o++){var a=i[o];t.mw(a)}}},n.prototype.e2t=function(t){var n=this.textTracks(),i=this.el().textTracks;this.Q1t(n,i)},n.prototype.play=function(){var t=this.c0t.play();void 0!==t&&"function"==typeof t.then&&t.then(null,function(t){})},n.prototype.setCurrentTime=function(t){try{this.c0t.currentTime=t}catch(t){(0,y.default)(t,"Video is not ready. (Video.js)")}},n.prototype.duration=function(){var t=this;return this.c0t.duration===1/0&&b.IS_ANDROID&&b.IS_CHROME&&0===this.c0t.currentTime?(this.on("timeupdate",function n(){t.c0t.currentTime>0&&(t.c0t.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",n))}),NaN):this.c0t.duration||NaN},n.prototype.width=function(){return this.c0t.offsetWidth},n.prototype.height=function(){return this.c0t.offsetHeight},n.prototype.i2t=function(){var t=this;if("webkitDisplayingFullscreen"in this.c0t){var n=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},i=function(){"webkitPresentationMode"in this.c0t&&"picture-in-picture"!==this.c0t.webkitPresentationMode&&(this.one("webkitendfullscreen",n),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",function(){t.off("webkitbeginfullscreen",i),t.off("webkitendfullscreen",n)})}},n.prototype.supportsFullScreen=function(){if("function"==typeof this.c0t.webkitEnterFullScreen){var t=A.window.navigator&&A.window.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},n.prototype.enterFullScreen=function(){var t=this.c0t;t.paused&&t.networkState<=t.HAVE_METADATA?(this.c0t.play(),this.setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},n.prototype.exitFullScreen=function(){this.c0t.webkitExitFullScreen()},n.prototype.src=function(t){if(void 0===t)return this.c0t.src;this.setSrc(t)},n.prototype.reset=function(){n.resetMediaElement(this.c0t)},n.prototype.currentSrc=function(){return this.Jy?this.Jy.src:this.c0t.currentSrc},n.prototype.setControls=function(t){this.c0t.controls=!!t},n.prototype.addTextTrack=function(n,i,e){return this.featuresNativeTextTracks?this.c0t.addTextTrack(n,i,e):t.prototype.addTextTrack.call(this,n,i,e)},n.prototype.createRemoteTextTrack=function(n){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,n);var i=A.document.createElement("track");return n.kind&&(i.kind=n.kind),n.label&&(i.label=n.label),(n.language||n.srclang)&&(i.srclang=n.language||n.srclang),n.default&&(i.default=n.default),n.id&&(i.id=n.id),n.src&&(i.src=n.src),i},n.prototype.addRemoteTextTrack=function(n,i){var e=t.prototype.addRemoteTextTrack.call(this,n,i);return this.featuresNativeTextTracks&&this.el().appendChild(e),e},n.prototype.removeRemoteTextTrack=function(n){if(t.prototype.removeRemoteTextTrack.call(this,n),this.featuresNativeTextTracks)for(var i=this.$$("track"),e=i.length;e--;)n!==i[e]&&n!==i[e].track||this.el().removeChild(i[e])},n.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),A.window.performance&&"function"==typeof A.window.performance.now?t.creationTime=A.window.performance.now():A.window.performance&&A.window.performance.timing&&"number"==typeof A.window.performance.timing.navigationStart&&(t.creationTime=A.window.Date.now()-A.window.performance.timing.navigationStart),t},n}(u.default);if(c.isReal()){D.TEST_VID=A.document.createElement("video");var P=A.document.createElement("track");P.kind="captions",P.srclang="en",P.label="English",D.TEST_VID.appendChild(P)}D.isSupported=function(){try{D.TEST_VID.volume=.5}catch(t){return!1}return!(!D.TEST_VID||!D.TEST_VID.canPlayType)},D.canControlVolume=function(){try{var t=D.TEST_VID.volume;return D.TEST_VID.volume=t/2+.1,t!==D.TEST_VID.volume}catch(t){return!1}},D.canControlPlaybackRate=function(){if(b.IS_ANDROID&&b.IS_CHROME&&b.CHROME_VERSION<58)return!1;try{var t=D.TEST_VID.playbackRate;return D.TEST_VID.playbackRate=t/2+.1,t!==D.TEST_VID.playbackRate}catch(t){return!1}},D.supportsNativeTextTracks=function(){return b.IS_ANY_SAFARI},D.supportsNativeVideoTracks=function(){return!(!D.TEST_VID||!D.TEST_VID.videoTracks)},D.supportsNativeAudioTracks=function(){return!(!D.TEST_VID||!D.TEST_VID.audioTracks)},D.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],D.prototype.featuresVolumeControl=D.canControlVolume(),D.prototype.featuresPlaybackRate=D.canControlPlaybackRate(),D.prototype.movingMediaElementInDOM=!b.IS_IOS,D.prototype.featuresFullscreenResize=!0,D.prototype.featuresProgressEvents=!0,D.prototype.featuresTimeupdateEvents=!0,D.prototype.featuresNativeTextTracks=D.supportsNativeTextTracks(),D.prototype.featuresNativeVideoTracks=D.supportsNativeVideoTracks(),D.prototype.featuresNativeAudioTracks=D.supportsNativeAudioTracks();var B=D.TEST_VID&&D.TEST_VID.constructor.prototype.canPlayType,x=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,O=/^video\/mp4/i;D.patchCanPlayType=function(){b.ANDROID_VERSION>=4&&!b.IS_FIREFOX?D.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&x.test(t)?"maybe":B.call(this,t)}:b.IS_OLD_ANDROID&&(D.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&O.test(t)?"maybe":B.call(this,t)})},D.unpatchCanPlayType=function(){var t=D.TEST_VID.constructor.prototype.canPlayType;return D.TEST_VID.constructor.prototype.canPlayType=B,t},D.patchCanPlayType(),D.disposeMediaElement=function(t){if(t){var n=t.nodeName.toLowerCase();if("video"===n||"audio"===n){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}}},D.resetMediaElement=function(t){if(t){for(var n=t.querySelectorAll("source"),i=n.length;i--;)t.removeChild(n[i]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){D.prototype[t]=function(){return this.c0t[t]||this.c0t.hasAttribute(t)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){D.prototype["set"+(0,R.default)(t)]=function(n){this.c0t[t]=n,n?this.c0t.setAttribute(t,t):this.c0t.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(t){D.prototype[t]=function(){return this.c0t[t]}}),["volume","src","poster","preload","playbackRate"].forEach(function(t){D.prototype["set"+(0,R.default)(t)]=function(n){this.c0t[t]=n}}),["pause","load"].forEach(function(t){D.prototype[t]=function(){return this.c0t[t]()}}),u.default.withSourceHandlers(D),D.nativeSourceHandler={},D.nativeSourceHandler.canPlayType=function(t){try{return D.TEST_VID.canPlayType(t)}catch(t){return""}},D.nativeSourceHandler.canHandleSource=function(t,n){if(t.type)return D.nativeSourceHandler.canPlayType(t.type);if(t.src){var i=v.getFileExtension(t.src);return D.nativeSourceHandler.canPlayType("video/"+i)}return""},D.nativeSourceHandler.handleSource=function(t,n,i){n.setSrc(t.src)},D.nativeSourceHandler.dispose=function(){},D.registerSourceHandler(D.nativeSourceHandler),a.default.registerComponent("Html5",D),u.default.registerTech("Html5",D),i.default=D},{121:121,5:5,62:62,78:78,81:81,83:83,85:85,87:87,88:88,89:89,92:92,93:93}],61:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(62),u=h(s),o=t(92),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e,s){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var o=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,s));if(e.playerOptions.sources&&0!==e.playerOptions.sources.length)i.src(e.playerOptions.sources);else for(var h=0,c=e.playerOptions.techOrder;h<c.length;h++){var f=(0,a.default)(c[h]),v=u.default.getTech(f);if(f||(v=r.default.getComponent(f)),v&&v.isSupported()){i.r1t(f);break}}return o}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(r.default);r.default.registerComponent("MediaLoader",c),i.default=c},{5:5,62:62,92:92}],62:[function(t,n,i){i.__esModule=!0;var e=t(5),r=P(e),s=t(66),u=P(s),o=t(65),a=P(o),h=t(88),c=P(h),f=t(72),d=P(f),w=t(70),g=P(w),y=t(76),m=P(y),p=t(63),k=P(p),b=t(83),A=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(b),T=t(87),S=P(T),E=t(91),I=t(79),R=t(46),N=P(R),C=t(85),D=t(89);function P(t){return t&&t.__esModule?t:{default:t}}var B=function(t){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n),i.reportTouchActivity=!1;var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,null,i,e));return r.L1t=!1,r.on("playing",function(){this.L1t=!0}),r.on("loadstart",function(){this.L1t=!1}),r.Py=i.textTracks,r.Dy=i.videoTracks,r.Cy=i.audioTracks,r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(t){!1===i["native"+t+"Tracks"]&&(r["featuresNative"+t+"Tracks"]=!1)}),!1===i.nativeCaptions&&(r.featuresNativeTextTracks=!1),r.featuresNativeTextTracks||r.emulateTextTracks(),r.r2t=new g.default,r.initTextTrackListeners(),r.initTrackListeners(),i.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r._i=r.constructor.name||"Unknown Tech"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},n.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},n.prototype.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(A.bind(this,function(){var t=this.bufferedPercent();this.s2t!==t&&this.trigger("progress"),this.s2t=t,1===t&&this.stopTrackingProgress()}),500)},n.prototype.onDurationChange=function(t){this.Hg=this.duration()},n.prototype.buffered=function(){return(0,E.createTimeRange)(0,0)},n.prototype.bufferedPercent=function(){return(0,I.bufferedPercent)(this.buffered(),this.Hg)},n.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},n.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},n.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},n.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.prototype.dispose=function(){this.clearTracks(["audio","video","text"]),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},n.prototype.clearTracks=function(t){var n=this;(t=[].concat(t)).forEach(function(t){for(var i=n[t+"Tracks"]()||[],e=i.length;e--;){var r=i[e];"text"===t&&n.removeRemoteTextTrack(r),i.mw(r)}})},n.prototype.cleanupAutoTextTracks=function(){for(var t=this.r2t||[],n=t.length;n--;){var i=t[n];this.removeRemoteTextTrack(i)}},n.prototype.reset=function(){},n.prototype.error=function(t){return void 0!==t&&(this.mu=new N.default(t),this.trigger("error")),this.mu},n.prototype.played=function(){return this.L1t?(0,E.createTimeRange)(0,0):(0,E.createTimeRange)()},n.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.prototype.initTextTrackListeners=function(){var t=A.bind(this,function(){this.trigger("texttrackchange")}),n=this.textTracks();n&&(n.addEventListener("removetrack",t),n.addEventListener("addtrack",t),this.on("dispose",A.bind(this,function(){n.removeEventListener("removetrack",t),n.removeEventListener("addtrack",t)})))},n.prototype.initTrackListeners=function(){var t=this;["video","audio"].forEach(function(n){var i=function(){t.trigger(n+"trackchange")},e=t[n+"Tracks"]();e.addEventListener("removetrack",i),e.addEventListener("addtrack",i),t.on("dispose",function(){e.removeEventListener("removetrack",i),e.removeEventListener("addtrack",i)})})},n.prototype.u2t=function(){var t=this;if(!C.window.WebVTT)if(C.document.body.contains(this.el())){var n={};if(!this.l0t["vtt.js"]&&(0,D.isPlain)(n)&&_.keys(n).length>0)return void this.trigger("vttjsloaded");var i=C.document.createElement("script");i.src=this.l0t["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",i.onload=function(){t.trigger("vttjsloaded")},i.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){i.onload=null,i.onerror=null}),C.window.WebVTT=!0,this.el().parentNode.appendChild(i)}else this.ready(this.u2t)},n.prototype.emulateTextTracks=function(){var t=this,n=this.textTracks();if(n){var i=this.remoteTextTracks(),e=function(t){return n.yw(t.track)},r=function(t){return n.mw(t.track)};i.on("addtrack",e),i.on("removetrack",r),this.u2t();var s=function(){return t.trigger("texttrackchange")},u=function(){s();for(var t=0;t<n.length;t++){var i=n[t];i.removeEventListener("cuechange",s),"showing"===i.mode&&i.addEventListener("cuechange",s)}};u(),n.addEventListener("change",u),n.addEventListener("addtrack",u),n.addEventListener("removetrack",u),this.on("dispose",function(){i.off("addtrack",e),i.off("removetrack",r),n.removeEventListener("change",u),n.removeEventListener("addtrack",u),n.removeEventListener("removetrack",u);for(var t=0;t<n.length;t++){var o=n[t];o.removeEventListener("cuechange",s)}})}},n.prototype.videoTracks=function(){return this.Dy=this.Dy||new m.default,this.Dy},n.prototype.audioTracks=function(){return this.Cy=this.Cy||new k.default,this.Cy},n.prototype.textTracks=function(){return this.Py=this.Py||new g.default,this.Py},n.prototype.remoteTextTracks=function(){return this.o2t=this.o2t||new g.default,this.o2t},n.prototype.remoteTextTrackEls=function(){return this.a2t=this.a2t||new a.default,this.a2t},n.prototype.addTextTrack=function(t,n,i){if(!t)throw new v("TextTrack kind is required but was not provided");return function(t,n,i,e){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=t.textTracks();r.kind=n,i&&(r.label=i),e&&(r.language=e),r.tech=t;var u=new d.default(r);return s.yw(u),u}(this,t,n,i)},n.prototype.createRemoteTextTrack=function(t){var n=(0,c.default)(t,{tech:this});return new u.default(n)},n.prototype.addRemoteTextTrack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],i=this.createRemoteTextTrack(t);return!0!==n&&!1!==n&&(S.default.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().q1t(i),this.remoteTextTracks().yw(i.track),!0!==n&&this.r2t.yw(i.track),i},n.prototype.removeRemoteTextTrack=function(t){var n=this.remoteTextTrackEls().P0t(t);this.remoteTextTrackEls().h2t(n),this.remoteTextTracks().mw(t),this.r2t.mw(t)},n.prototype.getVideoPlaybackQuality=function(){return{}},n.prototype.setPoster=function(){},n.prototype.playsinline=function(){},n.prototype.setPlaysinline=function(){},n.prototype.canPlayType=function(){return""},n.isTech=function(t){return t.prototype instanceof n||t instanceof n||t===n},n.registerTech=function(t,i){if(n.c2t||(n.c2t={}),!n.isTech(i))throw new v("Tech "+t+" must be a Tech");return n.c2t[t]=i,i},n.getTech=function(t){return n.c2t&&n.c2t[t]?n.c2t[t]:C.window&&C.window.videojs&&C.window.videojs[t]?(S.default.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),C.window.videojs[t]):void 0},n}(r.default);B.prototype.Py,B.prototype.Cy,B.prototype.Dy,B.prototype.featuresVolumeControl=!0,B.prototype.featuresFullscreenResize=!1,B.prototype.featuresPlaybackRate=!1,B.prototype.featuresProgressEvents=!1,B.prototype.featuresTimeupdateEvents=!1,B.prototype.featuresNativeTextTracks=!1,B.withSourceHandlers=function(t){t.registerSourceHandler=function(n,i){var e=t.sourceHandlers;e||(e=t.sourceHandlers=[]),void 0===i&&(i=e.length),e.splice(i,0,n)},t.canPlayType=function(n){for(var i=t.sourceHandlers||[],e=void 0,r=0;r<i.length;r++)if(e=i[r].canPlayType(n))return e;return""},t.selectSourceHandler=function(n,i){for(var e=t.sourceHandlers||[],r=0;r<e.length;r++)if(e[r].canHandleSource(n,i))return e[r];return null},t.canPlaySource=function(n,i){var e=t.selectSourceHandler(n,i);return e?e.canHandleSource(n,i):""},["seekable","duration"].forEach(function(t){var n=this[t];"function"==typeof n&&(this[t]=function(){return this.f2t&&this.f2t[t]?this.f2t[t].apply(this.f2t,arguments):n.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(n){var i=t.selectSourceHandler(n,this.l0t);return i||(t.nativeSourceHandler?i=t.nativeSourceHandler:S.default.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),i!==t.nativeSourceHandler&&(this.Jy=n,this.off(this.c0t,"loadstart",t.prototype.v2t),this.off(this.c0t,"loadstart",t.prototype.l2t),this.one(this.c0t,"loadstart",t.prototype.v2t)),this.f2t=i.handleSource(n,this,this.l0t),this.on("dispose",this.disposeSourceHandler),this},t.prototype.v2t=function(){this.one(this.c0t,"loadstart",t.prototype.l2t)},t.prototype.l2t=function(){this.disposeSourceHandler(),this.one(this.c0t,"loadstart",t.prototype.l2t)},t.prototype.disposeSourceHandler=function(){this.Jy&&(this.clearTracks(["audio","video"]),this.Jy=null),this.cleanupAutoTextTracks(),this.f2t&&(this.off(this.c0t,"loadstart",t.prototype.v2t),this.off(this.c0t,"loadstart",t.prototype.l2t),this.f2t.dispose&&this.f2t.dispose(),this.f2t=null)}},r.default.registerComponent("Tech",B),r.default.registerComponent("MediaTechController",B),B.registerTech("Tech",B),i.default=B},{46:46,5:5,63:63,65:65,66:66,70:70,72:72,76:76,79:79,83:83,85:85,87:87,88:88,89:89,91:91}],63:[function(t,n,i){i.__esModule=!0;var e,r=t(74),s=(e=r)&&e.__esModule?e:{default:e},u=t(78),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85);function h(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var c=function(t,n){for(var i=0;i<t.length;i++)n.id!==t[i].id&&(t[i].enabled=!1)},f=function(t){function n(){var i,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);for(var r=void 0,u=e.length-1;u>=0;u--)if(e[u].enabled){c(e,e[u]);break}if(o.IS_IE8){for(var f in r=a.document.createElement("custom"),s.default.prototype)"constructor"!==f&&(r[f]=s.default.prototype[f]);for(var v in n.prototype)"constructor"!==v&&(r[v]=n.prototype[v])}return i=h(this,t.call(this,e,r)),(r=i).d2t=!1,h(i,r)}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.yw=function(n){var i=this;n.enabled&&c(this,n),t.prototype.yw.call(this,n),n.addEventListener&&n.addEventListener("enabledchange",function(){i.d2t||(i.d2t=!0,c(i,n),i.d2t=!1,i.trigger("change"))})},n.prototype.addTrack=function(t){this.yw(t)},n.prototype.removeTrack=function(n){t.prototype.mw.call(this,n)},n}(s.default);i.default=f},{74:74,78:78,85:85}],64:[function(t,n,i){i.__esModule=!0;var e=t(73),r=t(75),s=c(r),u=t(88),o=c(u),a=t(78),h=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(a);function c(t){return t&&t.__esModule?t:{default:t}}function f(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var v=function(t){function n(){var i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var s=(0,o.default)(r,{kind:e.AudioTrackKind[r.kind]||""}),u=i=f(this,t.call(this,s)),a=!1;if(h.IS_IE8)for(var c in n.prototype)"constructor"!==c&&(u[c]=n.prototype[c]);return _.defineProperty(u,"enabled",{get:function(){return a},set:function(t){"boolean"==typeof t&&t!==a&&(a=t,this.trigger("enabledchange"))}}),s.enabled&&(u.enabled=s.enabled),u.n5=!0,f(i,u)}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(s.default);i.default=v},{73:73,75:75,78:78,88:88}],65:[function(t,n,i){i.__esModule=!0;var e=t(78),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=t(85),u=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,t);var i=this;if(r.IS_IE8)for(var e in i=s.document.createElement("custom"),t.prototype)"constructor"!==e&&(i[e]=t.prototype[e]);i._2t=[],_.defineProperty(i,"length",{get:function(){return this._2t.length}});for(var u=0,o=n.length;u<o;u++)i.q1t(n[u]);if(r.IS_IE8)return i}return t.prototype.q1t=function(t){var n=this._2t.length;""+n in this||_.defineProperty(this,n,{get:function(){return this._2t[n]}}),-1===this._2t.indexOf(t)&&this._2t.push(t)},t.prototype.P0t=function(t){for(var n=void 0,i=0,e=this._2t.length;i<e;i++)if(t===this._2t[i].track){n=this._2t[i];break}return n},t.prototype.h2t=function(t){for(var n=0,i=this._2t.length;n<i;n++)if(t===this._2t[n]){this._2t.splice(n,1);break}},t}();i.default=u},{78:78,85:85}],66:[function(t,n,i){i.__esModule=!0;var e=t(78),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=t(85),u=t(42),o=c(u),a=t(72),h=c(a);function c(t){return t&&t.__esModule?t:{default:t}}function f(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var v=0,d=2,w=function(t){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var e=f(this,t.call(this)),u=void 0,o=e;if(r.IS_IE8)for(var a in o=s.document.createElement("custom"),n.prototype)"constructor"!==a&&(o[a]=n.prototype[a]);var c=new h.default(i);return o.kind=c.kind,o.src=c.src,o.srclang=c.language,o.label=c.label,o.default=c.default,_.defineProperty(o,"readyState",{get:function(){return u}}),_.defineProperty(o,"track",{get:function(){return c}}),u=v,c.addEventListener("loadeddata",function(){u=d,o.trigger({type:"load",target:o})}),r.IS_IE8?f(e,o):e}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(o.default);w.prototype.x0t={load:"load"},w.NONE=v,w.LOADING=1,w.LOADED=d,w.ERROR=3,i.default=w},{42:42,72:72,78:78,85:85}],67:[function(t,n,i){i.__esModule=!0;var e=t(78),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=t(85),u=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,t);var i=this;if(r.IS_IE8)for(var e in i=s.document.createElement("custom"),t.prototype)"constructor"!==e&&(i[e]=t.prototype[e]);if(t.prototype.w2t.call(i,n),_.defineProperty(i,"length",{get:function(){return this.Tw}}),r.IS_IE8)return i}return t.prototype.w2t=function(t){var n=this.length||0,i=0,e=t.length;this.Qw=t,this.Tw=t.length;var r=function(t){""+t in this||_.defineProperty(this,""+t,{get:function(){return this.Qw[t]}})};if(n<e)for(i=n;i<e;i++)r.call(this,i)},t.prototype.getCueById=function(t){for(var n=null,i=0,e=this.length;i<e;i++){var r=this[i];if(r.id===t){n=r;break}}return n},t}();i.default=u},{78:78,85:85}],68:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(83),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85),h={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function c(t,n){return"rgba("+g(t[1]+t[1],16)+","+g(t[2]+t[2],16)+","+g(t[3]+t[3],16)+","+n+")"}function f(t,n,i){try{t.style[n]=i}catch(t){return}}var v=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));return i.on("loadstart",o.bind(s,s.toggleDisplay)),i.on("texttrackchange",o.bind(s,s.updateDisplay)),i.ready(o.bind(s,function(){if(i.A0t&&i.A0t.featuresNativeTextTracks)this.hide();else{i.on("fullscreenchange",o.bind(this,this.updateDisplay));for(var t=this.l0t.playerOptions.tracks||[],n=0;n<t.length;n++)this.cC.addRemoteTextTrack(t[n],!0);var e={captions:1,subtitles:1},r=this.cC.textTracks(),s=void 0,u=void 0;if(r){for(var a=0;a<r.length;a++){var h=r[a];h.default&&("descriptions"!==h.kind||s?h.kind in e&&!u&&(u=h):s=h)}u?u.mode="showing":s&&(s.mode="showing")}}})),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.toggleDisplay=function(){this.cC.A0t&&this.cC.A0t.featuresNativeTextTracks?this.hide():this.show()},n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},n.prototype.clearDisplay=function(){"function"==typeof a.window.WebVTT&&a.window.WebVTT.processCues(a.window,[],this.c0t)},n.prototype.updateDisplay=function(){var t=this.cC.textTracks();if(this.clearDisplay(),t){for(var n=null,i=null,e=t.length;e--;){var r=t[e];"showing"===r.mode&&("descriptions"===r.kind?n=r:i=r)}i?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):n&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(n))}},n.prototype.updateForTrack=function(t){if("function"==typeof a.window.WebVTT&&t.activeCues){for(var n=this.cC.textTrackSettings.getValues(),i=[],e=0;e<t.activeCues.length;e++)i.push(t.activeCues[e]);a.window.WebVTT.processCues(a.window,i,this.c0t);for(var r=i.length;r--;){var s=i[r];if(s){var u=s.displayState;if(n.color&&(u.firstChild.style.color=n.color),n.textOpacity&&f(u.firstChild,"color",c(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(u.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&f(u.firstChild,"backgroundColor",c(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?f(u,"backgroundColor",c(n.windowColor,n.windowOpacity)):u.style.backgroundColor=n.windowColor),n.edgeStyle&&("dropshadow"===n.edgeStyle?u.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===n.edgeStyle?u.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===n.edgeStyle?u.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===n.edgeStyle&&(u.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),n.fontPercent&&1!==n.fontPercent){var o=a.window.parseFloat(u.style.fontSize);u.style.fontSize=o*n.fontPercent+"px",u.style.height="auto",u.style.top="auto",u.style.bottom="2px"}n.fontFamily&&"default"!==n.fontFamily&&("small-caps"===n.fontFamily?u.firstChild.style.fontVariant="small-caps":u.firstChild.style.fontFamily=h[n.fontFamily])}}}},n}(s.default);s.default.registerComponent("TextTrackDisplay",v),i.default=v},{5:5,83:83,85:85}],69:[function(t,n,i){i.__esModule=!0;var e=function(t){var n=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(n,i,e){return t[i]&&(n[i]=t[i]),n},{cues:t.cues&&Array.prototype.map.call(t.cues,function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}})});return n};i.default={textTracksToJson:function(t){var n=t.$$("track"),i=Array.prototype.map.call(n,function(t){return t.track});return Array.prototype.map.call(n,function(t){var n=e(t.track);return t.src&&(n.src=t.src),n}).concat(Array.prototype.filter.call(t.textTracks(),function(t){return-1===i.indexOf(t)}).map(e))},jsonToTextTracks:function(t,n){return t.forEach(function(t){var i=n.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach(function(t){return i.addCue(t)})}),n.textTracks()},g2t:e}},{}],70:[function(t,n,i){i.__esModule=!0;var e,r=t(74),s=(e=r)&&e.__esModule?e:{default:e},u=t(83),o=f(u),a=t(78),h=f(a),c=t(85);function f(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function v(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var d=function(t){function n(){var i,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=void 0;if(h.IS_IE8){for(var u in r=c.document.createElement("custom"),s.default.prototype)"constructor"!==u&&(r[u]=s.default.prototype[u]);for(var o in n.prototype)"constructor"!==o&&(r[o]=n.prototype[o])}return i=v(this,t.call(this,e,r)),v(i,r=i)}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.yw=function(n){t.prototype.yw.call(this,n),n.addEventListener("modechange",o.bind(this,function(){this.trigger("change")}))},n}(s.default);i.default=d},{74:74,78:78,83:83,85:85}],71:[function(t,n,i){i.__esModule=!0;var e=t(85),r=t(5),s=w(r),u=t(81),o=t(83),a=d(o),h=t(89),c=d(h),f=t(87),v=w(f);function d(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function w(t){return t&&t.__esModule?t:{default:t}}var g=["#000","Black"],y=["#00F","Blue"],m=["#0FF","Cyan"],p=["#0F0","Green"],k=["#F0F","Magenta"],b=["#F00","Red"],A=["#FFF","White"],T=["#FF0","Yellow"],S=["1","Opaque"],E=["0.5","Semi-Transparent"],I=["0","Transparent"],R={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[g,A,b,p,y,T,k,m]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[S,E,I]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[A,g,b,p,y,T,k,m]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[S,E]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[I,E,S]}};function N(t,n){if(n&&(t=n(t)),t&&"none"!==t)return t}R.windowColor.options=R.backgroundColor.options;var C=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.setDefaults(),r.hide(),r.updateDisplay=a.bind(r,r.updateDisplay),void 0===e.persistTextTrackSettings&&(r.l0t.persistTextTrackSettings=r.l0t.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",function(){r.saveSettings(),r.hide()}),r.on(r.$(".vjs-default-button"),"click",function(){r.setDefaults(),r.updateDisplay()}),c.each(R,function(t){r.on(r.$(t.selector),"change",r.updateDisplay)}),r.l0t.persistTextTrackSettings&&r.restoreSettings(),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.y2t=function(t){var n=this,i=R[t],e=i.id.replace("%s",this.xw);return[(0,u.createEl)("label",{className:"vjs-label",textContent:i.label},{for:e}),(0,u.createEl)("select",{id:e},void 0,i.options.map(function(t){return(0,u.createEl)("option",{textContent:n.localize(t[1]),value:t[0]})}))]},n.prototype.m2t=function(){var t=(0,u.createEl)("legend",{textContent:this.localize("Text")}),n=this.y2t("color"),i=(0,u.createEl)("span",{className:"vjs-text-opacity vjs-opacity"},void 0,this.y2t("textOpacity"));return(0,u.createEl)("fieldset",{className:"vjs-fg-color vjs-tracksetting"},void 0,[t].concat(n,i))},n.prototype.p2t=function(){var t=(0,u.createEl)("legend",{textContent:this.localize("Background")}),n=this.y2t("backgroundColor"),i=(0,u.createEl)("span",{className:"vjs-bg-opacity vjs-opacity"},void 0,this.y2t("backgroundOpacity"));return(0,u.createEl)("fieldset",{className:"vjs-bg-color vjs-tracksetting"},void 0,[t].concat(n,i))},n.prototype.k2t=function(){var t=(0,u.createEl)("legend",{textContent:this.localize("Window")}),n=this.y2t("windowColor"),i=(0,u.createEl)("span",{className:"vjs-window-opacity vjs-opacity"},void 0,this.y2t("windowOpacity"));return(0,u.createEl)("fieldset",{className:"vjs-window-color vjs-tracksetting"},void 0,[t].concat(n,i))},n.prototype.b2t=function(){return(0,u.createEl)("div",{className:"vjs-tracksettings-colors"},void 0,[this.m2t(),this.p2t(),this.k2t()])},n.prototype.A2t=function(){var t=(0,u.createEl)("div",{className:"vjs-font-percent vjs-tracksetting"},void 0,this.y2t("fontPercent")),n=(0,u.createEl)("div",{className:"vjs-edge-style vjs-tracksetting"},void 0,this.y2t("edgeStyle")),i=(0,u.createEl)("div",{className:"vjs-font-family vjs-tracksetting"},void 0,this.y2t("fontFamily"));return(0,u.createEl)("div",{className:"vjs-tracksettings-font"},void 0,[t,n,i])},n.prototype.T2t=function(){var t=(0,u.createEl)("button",{className:"vjs-default-button",textContent:this.localize("Defaults")}),n=(0,u.createEl)("button",{className:"vjs-done-button",textContent:"Done"});return(0,u.createEl)("div",{className:"vjs-tracksettings-controls"},void 0,[t,n])},n.prototype.createEl=function(){var t=(0,u.createEl)("div",{className:"vjs-tracksettings"},void 0,[this.b2t(),this.A2t(),this.T2t()]),n=(0,u.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogLabel-"+this.xw,textContent:"Caption Settings Dialog"},{"aria-level":"1",role:"heading"}),i=(0,u.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogDescription-"+this.xw,textContent:"Beginning of dialog window. Escape will cancel and close the window."}),e=(0,u.createEl)("div",void 0,{role:"document"},[n,i,t]);return(0,u.createEl)("div",{className:"vjs-caption-settings vjs-modal-overlay",tabIndex:-1},{role:"dialog","aria-labelledby":n.id,"aria-describedby":i.id},e)},n.prototype.getValues=function(){var t=this;return c.reduce(R,function(n,i,e){var r,s,u=(r=t.$(i.selector),s=i.parser,N(r.options[r.options.selectedIndex].value,s));return void 0!==u&&(n[e]=u),n},{})},n.prototype.setValues=function(t){var n=this;c.each(R,function(i,e){!function(t,n,i){if(n)for(var e=0;e<t.options.length;e++)if(N(t.options[e].value,i)===n){t.selectedIndex=e;break}}(n.$(i.selector),t[e],i.parser)})},n.prototype.setDefaults=function(){var t=this;c.each(R,function(n){var i=n.hasOwnProperty("default")?n.default:0;t.$(n.selector).selectedIndex=i})},n.prototype.restoreSettings=function(){var t=void 0;try{t=JSON.parse(e.window.localStorage.getItem("vjs-text-track-settings"))}catch(t){v.default.warn(t)}t&&this.setValues(t)},n.prototype.saveSettings=function(){if(this.l0t.persistTextTrackSettings){var t=this.getValues();try{_.keys(t).length?e.window.localStorage.setItem("vjs-text-track-settings",JSON.stringify(t)):e.window.localStorage.removeItem("vjs-text-track-settings")}catch(t){v.default.warn(t)}}},n.prototype.updateDisplay=function(){var t=this.cC.getChild("textTrackDisplay");t&&t.updateDisplay()},n}(s.default);s.default.registerComponent("TextTrackSettings",C),i.default=C},{5:5,81:81,83:83,85:85,87:87,89:89}],72:[function(t,n,i){i.__esModule=!0;var e=t(67),r=T(e),s=t(83),u=A(s),o=t(73),a=t(87),h=T(a),c=t(85),f=t(75),d=T(f),w=t(93),g=t(122),y=T(g),m=t(88),p=T(m),k=t(78),b=A(k);function A(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function T(t){return t&&t.__esModule?t:{default:t}}function S(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var E=function(t,n){var i=new c.window.WebVTT.Parser(c.window,c.window.vttjs,c.window.WebVTT.StringDecoder()),e=[];i.oncue=function(t){n.addCue(t)},i.onparsingerror=function(t){e.push(t)},i.onflush=function(){n.trigger({type:"loadeddata",target:n})},i.parse(t),e.length>0&&(c.window.console&&c.window.console.groupCollapsed&&c.window.console.groupCollapsed("Text Track parsing errors for "+n.src),e.forEach(function(t){return h.default.error(t)}),c.window.console&&c.window.console.groupEnd&&c.window.console.groupEnd()),i.flush()},I=function(t,n){var i={uri:t},e=(0,w.isCrossOrigin)(t);e&&(i.cors=e),(0,y.default)(i,u.bind(this,function(t,i,e){if(t)return h.default.error(t,i);if(n.n5=!0,"function"!=typeof c.window.WebVTT){if(n.A0t){var r=function(){return E(e,n)};n.A0t.on("vttjsloaded",r),n.A0t.on("vttjserror",function(){h.default.error("vttjs failed to load, stopping trying to process "+n.src),n.A0t.off("vttjsloaded",r)})}}else E(e,n)}))},R=function(t){function n(){var i,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n),!e.tech)throw new v("A tech was not provided.");var s=(0,p.default)(e,{kind:o.TextTrackKind[e.kind]||"subtitles",language:e.language||e.srclang||""}),a=o.TextTrackMode[s.mode]||"disabled",h=s.default;"metadata"!==s.kind&&"chapters"!==s.kind||(a="hidden");var c=i=S(this,t.call(this,s));if(c.A0t=s.tech,b.IS_IE8)for(var f in n.prototype)"constructor"!==f&&(c[f]=n.prototype[f]);c.Qw=[],c.Kw=[];var d=new r.default(c.Qw),w=new r.default(c.Kw),g=!1,y=u.bind(c,function(){this.activeCues,g&&(this.trigger("cuechange"),g=!1)});return"disabled"!==a&&c.A0t.ready(function(){c.A0t.on("timeupdate",y)},!0),_.defineProperty(c,"default",{get:function(){return h},set:function(){}}),_.defineProperty(c,"mode",{get:function(){return a},set:function(t){var n=this;o.TextTrackMode[t]&&("showing"===(a=t)&&this.A0t.ready(function(){n.A0t.on("timeupdate",y)},!0),this.trigger("modechange"))}}),_.defineProperty(c,"cues",{get:function(){return this.n5?d:null},set:function(){}}),_.defineProperty(c,"activeCues",{get:function(){if(!this.n5)return null;if(0===this.cues.length)return w;for(var t=this.A0t.currentTime(),n=[],i=0,e=this.cues.length;i<e;i++){var r=this.cues[i];r.startTime<=t&&r.endTime>=t?n.push(r):r.startTime===r.endTime&&r.startTime<=t&&r.startTime+.5>=t&&n.push(r)}if(g=!1,n.length!==this.Kw.length)g=!0;else for(var s=0;s<n.length;s++)-1===this.Kw.indexOf(n[s])&&(g=!0);return this.Kw=n,w.w2t(this.Kw),w},set:function(){}}),s.src?(c.src=s.src,I(s.src,c)):c.n5=!0,S(i,c)}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.addCue=function(t){var n=t;if(c.window.vttjs&&!(t instanceof c.window.vttjs.VTTCue)){for(var i in n=new c.window.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)i in n||(n[i]=t[i]);n.id=t.id,n.S2t=t}var e=this.A0t.textTracks();if(e)for(var r=0;r<e.length;r++)e[r]!==this&&e[r].removeCue(n);this.Qw.push(n),this.cues.w2t(this.Qw)},n.prototype.removeCue=function(t){for(var n=this.Qw.length;n--;){var i=this.Qw[n];if(i===t||i.S2t&&i.S2t===t){this.Qw.splice(n,1),this.cues.w2t(this.Qw);break}}},n}(d.default);R.prototype.x0t={cuechange:"cuechange"},i.default=R},{122:122,67:67,73:73,75:75,78:78,83:83,85:85,87:87,88:88,93:93}],73:[function(t,n,i){i.__esModule=!0,i.VideoTrackKind={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},i.AudioTrackKind={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},i.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},i.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"}},{}],74:[function(t,n,i){i.__esModule=!0;var e,r=t(42),s=(e=r)&&e.__esModule?e:{default:e},u=t(78),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85);function h(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var c=function(t){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var r=h(this,t.call(this));if(!e&&(e=r,o.IS_IE8))for(var s in e=a.document.createElement("custom"),n.prototype)"constructor"!==s&&(e[s]=n.prototype[s]);e.VA=[],_.defineProperty(e,"length",{get:function(){return this.VA.length}});for(var u=0;u<i.length;u++)e.yw(i[u]);return h(r,e)}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.yw=function(t){var n=this.VA.length;""+n in this||_.defineProperty(this,n,{get:function(){return this.VA[n]}}),-1===this.VA.indexOf(t)&&(this.VA.push(t),this.trigger({track:t,type:"addtrack"}))},n.prototype.mw=function(t){for(var n=void 0,i=0,e=this.length;i<e;i++)if(this[i]===t){(n=this[i]).off&&n.off(),this.VA.splice(i,1);break}n&&this.trigger({track:n,type:"removetrack"})},n.prototype.getTrackById=function(t){for(var n=null,i=0,e=this.length;i<e;i++){var r=this[i];if(r.id===t){n=r;break}}return n},n}(s.default);for(var f in c.prototype.x0t={change:"change",addtrack:"addtrack",removetrack:"removetrack"},c.prototype.x0t)c.prototype["on"+f]=null;i.default=c},{42:42,78:78,85:85}],75:[function(t,n,i){i.__esModule=!0;var e,r=t(78),s=f(r),u=t(85),o=t(86),a=f(o),h=t(42),c=(e=h)&&e.__esModule?e:{default:e};function f(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function v(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var d=function(t){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var e=v(this,t.call(this)),r=e;if(s.IS_IE8)for(var o in r=u.document.createElement("custom"),n.prototype)"constructor"!==o&&(r[o]=n.prototype[o]);var h={id:i.id||["vjs_track",a.newGUID()].join("_"),kind:i.kind||"",label:i.label||"",language:i.language||""},c=function(t){_.defineProperty(r,t,{get:function(){return h[t]},set:function(){}})};for(var f in h)c(f);return v(e,r)}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(c.default);i.default=d},{42:42,78:78,85:85,86:86}],76:[function(t,n,i){i.__esModule=!0;var e,r=t(74),s=(e=r)&&e.__esModule?e:{default:e},u=t(78),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85);function h(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var c=function(t,n){for(var i=0;i<t.length;i++)n.id!==t[i].id&&(t[i].selected=!1)},f=function(t){function n(){var i,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);for(var r=void 0,u=e.length-1;u>=0;u--)if(e[u].selected){c(e,e[u]);break}if(o.IS_IE8){for(var f in r=a.document.createElement("custom"),s.default.prototype)"constructor"!==f&&(r[f]=s.default.prototype[f]);for(var v in n.prototype)"constructor"!==v&&(r[v]=n.prototype[v])}return i=h(this,t.call(this,e,r)),(r=i).d2t=!1,_.defineProperty(r,"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),h(i,r)}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.yw=function(n){var i=this;n.selected&&c(this,n),t.prototype.yw.call(this,n),n.addEventListener&&n.addEventListener("selectedchange",function(){i.d2t||(i.d2t=!0,c(i,n),i.d2t=!1,i.trigger("change"))})},n.prototype.addTrack=function(t){this.yw(t)},n.prototype.removeTrack=function(n){t.prototype.mw.call(this,n)},n}(s.default);i.default=f},{74:74,78:78,85:85}],77:[function(t,n,i){i.__esModule=!0;var e=t(73),r=t(75),s=c(r),u=t(88),o=c(u),a=t(78),h=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(a);function c(t){return t&&t.__esModule?t:{default:t}}function f(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var v=function(t){function n(){var i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}(this,n);var s=(0,o.default)(r,{kind:e.VideoTrackKind[r.kind]||""}),u=i=f(this,t.call(this,s)),a=!1;if(h.IS_IE8)for(var c in n.prototype)"constructor"!==c&&(u[c]=n.prototype[c]);return _.defineProperty(u,"selected",{get:function(){return a},set:function(t){"boolean"==typeof t&&t!==a&&(a=t,this.trigger("selectedchange"))}}),s.selected&&(u.selected=s.selected),f(i,u)}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function, not "+typeof n);t.prototype=_.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(_.setPrototypeOf?_.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(s.default);i.default=v},{73:73,75:75,78:78,88:88}],78:[function(t,n,i){i.__esModule=!0,i.BACKGROUND_SIZE_SUPPORTED=i.TOUCH_ENABLED=i.IS_ANY_SAFARI=i.IS_SAFARI=i.IE_VERSION=i.IS_IE8=i.CHROME_VERSION=i.IS_CHROME=i.IS_EDGE=i.IS_FIREFOX=i.IS_NATIVE_ANDROID=i.IS_OLD_ANDROID=i.ANDROID_VERSION=i.IS_ANDROID=i.IOS_VERSION=i.IS_IOS=i.IS_IPOD=i.IS_IPHONE=i.IS_IPAD=void 0;var e,r=t(81),s=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(r),u=t(85),o=u.window.navigator&&u.window.navigator.userAgent||"",a=/AppleWebKit\/([\d.]+)/i.exec(o),h=a?y(a.pop()):null,c=i.IS_IPAD=/iPad/i.test(o),f=i.IS_IPHONE=/iPhone/i.test(o)&&!c,v=i.IS_IPOD=/iPod/i.test(o),l=i.IS_IOS=f||c||v;i.IOS_VERSION=(e=o.match(/OS (\d+)_/i))&&e[1]?e[1]:null;var d=i.IS_ANDROID=/Android/i.test(o),w=i.ANDROID_VERSION=function(){var t=o.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var n=t[1]&&y(t[1]),i=t[2]&&y(t[2]);return n&&i?y(t[1]+"."+t[2]):n||null}();i.IS_OLD_ANDROID=d&&/webkit/i.test(o)&&w<2.3,i.IS_NATIVE_ANDROID=d&&w<5&&h<537,i.IS_FIREFOX=/Firefox/i.test(o);var g,m,p=i.IS_EDGE=/Edge/i.test(o),k=i.IS_CHROME=!p&&/Chrome/i.test(o);i.CHROME_VERSION=function(){var t=o.match(/Chrome\/(\d+)/);return t&&t[1]?y(t[1]):null}(),i.IS_IE8=/MSIE\s8\.0/.test(o),i.IE_VERSION=(g=/MSIE\s(\d+)\.\d/.exec(o),!(m=g&&y(g[1]))&&/Trident\/7.0/i.test(o)&&/rv:11.0/.test(o)&&(m=11),m);var b=i.IS_SAFARI=/Safari/i.test(o)&&!k&&!d&&!p;i.IS_ANY_SAFARI=b||l,i.TOUCH_ENABLED=s.isReal()&&("ontouchstart"in u.window||u.window.DocumentTouch&&u.window.document instanceof u.window.DocumentTouch),i.BACKGROUND_SIZE_SUPPORTED=s.isReal()&&"backgroundSize"in u.window.document.createElement("video").style},{81:81,85:85}],79:[function(t,n,i){i.__esModule=!0,i.bufferedPercent=function(t,n){var i=0,r=void 0,s=void 0;if(!n)return 0;t&&t.length||(t=(0,e.createTimeRange)(0,0));for(var u=0;u<t.length;u++)r=t.start(u),(s=t.end(u))>n&&(s=n),i+=s-r;return i/n};var e=t(91)},{91:91}],80:[function(t,n,i){i.__esModule=!0,i.default=function(t,n){if(!t||!n)return"";if("function"==typeof e.window.getComputedStyle){var i=e.window.getComputedStyle(t);return i?i[n]:""}return t.currentStyle[n]||""};var e=t(85)},{85:85}],81:[function(t,n,i){i.__esModule=!0,i.$$=i.$=void 0;var e,r=((e=["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]).raw=["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],e);i.isReal=function(){return s.document===s.window.document&&void 0!==s.document.createElement},i.isEl=m,i.getEl=function(t){return 0===t.indexOf("#")&&(t=t.slice(1)),s.document.getElementById(t)},i.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=arguments[3],u=s.document.createElement(t);return _.getOwnPropertyNames(n).forEach(function(t){var i=n[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(h.default.warn((0,f.default)(r,t,i)),u.setAttribute(t,i)):"textContent"===t?k(u,i):u[t]=i}),_.getOwnPropertyNames(i).forEach(function(t){u.setAttribute(t,i[t])}),e&&D(u,e),u},i.textContent=k,i.insertElFirst=function(t,n){n.firstChild?n.insertBefore(t,n.firstChild):n.appendChild(t)},i.getElData=function(t){var n=t[A];return n||(n=t[A]=o.newGUID()),b[n]||(b[n]={}),b[n]},i.hasElData=function(t){var n=t[A];return!!n&&!!_.getOwnPropertyNames(b[n]).length},i.removeElData=function(t){var n=t[A];if(n){delete b[n];try{delete t[A]}catch(n){t.removeAttribute?t.removeAttribute(A):t[A]=null}}},i.hasElClass=T,i.addElClass=S,i.removeElClass=E,i.toggleElClass=function(t,n,i){var e=T(t,n);if("function"==typeof i&&(i=i(t,n)),"boolean"!=typeof i&&(i=!e),i!==e)return i?S(t,n):E(t,n),t},i.setElAttributes=function(t,n){_.getOwnPropertyNames(n).forEach(function(i){var e=n[i];null==e||!1===e?t.removeAttribute(i):t.setAttribute(i,!0===e?"":e)})},i.getElAttributes=function(t){var n={},i=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var e=t.attributes,r=e.length-1;r>=0;r--){var s=e[r].name,u=e[r].value;"boolean"!=typeof t[s]&&-1===i.indexOf(","+s+",")||(u=null!==u),n[s]=u}return n},i.getAttribute=function(t,n){return t.getAttribute(n)},i.setAttribute=function(t,n,i){t.setAttribute(n,i)},i.removeAttribute=function(t,n){t.removeAttribute(n)},i.blockTextSelection=function(){s.document.body.focus(),s.document.onselectstart=function(){return!1}},i.unblockTextSelection=function(){s.document.onselectstart=function(){return!0}},i.findElPosition=I,i.getPointerPosition=function(t,n){var i={},e=I(t),r=t.offsetWidth,s=t.offsetHeight,u=e.top,o=e.left,a=n.pageY,h=n.pageX;return n.changedTouches&&(h=n.changedTouches[0].pageX,a=n.changedTouches[0].pageY),i.y=w.max(0,w.min(1,(u-a+s)/s)),i.x=w.max(0,w.min(1,(h-o)/r)),i},i.isTextNode=R,i.emptyEl=N,i.normalizeContent=C,i.appendContent=D,i.insertContent=function(t,n){return D(N(t),n)};var s=t(85),u=t(86),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(87),h=d(a),c=t(121),f=d(c),l=t(89);function d(t){return t&&t.__esModule?t:{default:t}}function g(t){return"string"==typeof t&&/\S/.test(t)}function y(t){if(/\s/.test(t))throw new v("class has illegal whitespace characters")}function m(t){return(0,l.isObject)(t)&&1===t.nodeType}function p(t){return function(n,i){if(!g(n))return s.document[t](null);g(i)&&(i=s.document.querySelector(i));var e=m(i)?i:s.document;return e[t]&&e[t](n)}}function k(t,n){return void 0===t.textContent?t.innerText=n:t.textContent=n,t}var b={},A="vdata"+(new Date).getTime();function T(t,n){return y(n),t.classList?t.classList.contains(n):(i=n,new RegExp("(^|\\s)"+i+"($|\\s)")).test(t.className);var i}function S(t,n){return t.classList?t.classList.add(n):T(t,n)||(t.className=(t.className+" "+n).trim()),t}function E(t,n){return t.classList?t.classList.remove(n):(y(n),t.className=t.className.split(/\s+/).filter(function(t){return t!==n}).join(" ")),t}function I(t){var n=void 0;if(t.getBoundingClientRect&&t.parentNode&&(n=t.getBoundingClientRect()),!n)return{left:0,top:0};var i=s.document.documentElement,e=s.document.body,r=i.clientLeft||e.clientLeft||0,u=s.window.pageXOffset||e.scrollLeft,o=n.left+u-r,a=i.clientTop||e.clientTop||0,h=s.window.pageYOffset||e.scrollTop,c=n.top+h-a;return{left:w.round(o),top:w.round(c)}}function R(t){return(0,l.isObject)(t)&&3===t.nodeType}function N(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function C(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map(function(t){return"function"==typeof t&&(t=t()),m(t)||R(t)?t:"string"==typeof t&&/\S/.test(t)?s.document.createTextNode(t):void 0}).filter(function(t){return t})}function D(t,n){return C(n).forEach(function(n){return t.appendChild(n)}),t}i.$=p("querySelector"),i.$$=p("querySelectorAll")},{121:121,85:85,86:86,87:87,89:89}],82:[function(t,n,i){i.__esModule=!0,i.fixEvent=d,i.on=y,i.off=m,i.trigger=function t(n,i,e){var r=s.hasElData(n)?s.getElData(n):{},u=n.parentNode||n.ownerDocument;if("string"==typeof i&&(i={type:i,target:n}),i=d(i),r.dispatcher&&r.dispatcher.call(n,i,e),u&&!i.isPropagationStopped()&&!0===i.bubbles)t.call(null,u,i,e);else if(!u&&!i.defaultPrevented){var o=s.getElData(i.target);i.target[i.type]&&(o.disabled=!0,"function"==typeof i.target[i.type]&&i.target[i.type](),o.disabled=!1)}return!i.defaultPrevented},i.one=function t(n,i,e){if(Array.isArray(i))return l(t,n,i,e);var r=function t(){m(n,i,t),e.apply(this,arguments)};r.guid=e.guid=e.guid||o.newGUID(),y(n,i,r)};var e,r=t(81),s=f(r),u=t(86),o=f(u),a=t(87),h=(e=a)&&e.__esModule?e:{default:e},c=t(85);function f(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function v(t,n){var i=s.getElData(t);0===i.handlers[n].length&&(delete i.handlers[n],t.removeEventListener?t.removeEventListener(n,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+n,i.dispatcher)),_.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===_.getOwnPropertyNames(i).length&&s.removeElData(t)}function l(t,n,i,e){i.forEach(function(i){t(n,i,e)})}function d(t){function n(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){var e=t||c.window.event;for(var r in t={},e)"layerX"!==r&&"layerY"!==r&&"keyLocation"!==r&&"webkitMovementX"!==r&&"webkitMovementY"!==r&&"path"!==r&&("returnValue"===r&&e.preventDefault||(t[r]=e[r]));if(t.target||(t.target=t.srcElement||c.document),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){e.preventDefault&&e.preventDefault(),t.returnValue=!1,e.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){e.stopPropagation&&e.stopPropagation(),t.cancelBubble=!0,e.cancelBubble=!0,t.isPropagationStopped=n},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){e.stopImmediatePropagation&&e.stopImmediatePropagation(),t.isImmediatePropagationStopped=n,t.stopPropagation()},t.isImmediatePropagationStopped=i,null!==t.clientX&&void 0!==t.clientX){var s=c.document.documentElement,u=c.document.body;t.pageX=t.clientX+(s&&s.scrollLeft||u&&u.scrollLeft||0)-(s&&s.clientLeft||u&&u.clientLeft||0),t.pageY=t.clientY+(s&&s.scrollTop||u&&u.scrollTop||0)-(s&&s.clientTop||u&&u.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}var w=!1;!function(){try{var t=_.defineProperty({},"passive",{get:function(){w=!0}});c.window.addEventListener("test",null,t)}catch(t){}}();var g=["touchstart","touchmove"];function y(t,n,i){if(Array.isArray(n))return l(y,t,n,i);var e=s.getElData(t);if(e.handlers||(e.handlers={}),e.handlers[n]||(e.handlers[n]=[]),i.guid||(i.guid=o.newGUID()),e.handlers[n].push(i),e.dispatcher||(e.disabled=!1,e.dispatcher=function(n,i){if(!e.disabled){n=d(n);var r=e.handlers[n.type];if(r)for(var s=r.slice(0),u=0,o=s.length;u<o&&!n.isImmediatePropagationStopped();u++)try{s[u].call(t,n,i)}catch(t){h.default.error(t)}}}),1===e.handlers[n].length)if(t.addEventListener){var r=!1;w&&g.indexOf(n)>-1&&(r={passive:!0}),t.addEventListener(n,e.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+n,e.dispatcher)}function m(t,n,i){if(s.hasElData(t)){var e=s.getElData(t);if(e.handlers){if(Array.isArray(n))return l(m,t,n,i);var r=function(n){e.handlers[n]=[],v(t,n)};if(n){var u=e.handlers[n];if(u)if(i){if(i.guid)for(var o=0;o<u.length;o++)u[o].guid===i.guid&&u.splice(o--,1);v(t,n)}else r(n)}else for(var a in e.handlers)r(a)}}}},{81:81,85:85,86:86,87:87}],83:[function(t,n,i){i.__esModule=!0,i.throttle=i.bind=void 0;var e=t(86);i.bind=function(t,n,i){n.guid||(n.guid=(0,e.newGUID)());var r=function(){return n.apply(t,arguments)};return r.guid=i?i+"_"+n.guid:n.guid,r},i.throttle=function(t,n){var i=Date.now();return function(){var e=Date.now();e-i>=n&&(t.apply(void 0,arguments),i=e)}}},{86:86}],84:[function(t,n,i){i.__esModule=!0,i.default=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;t=t<0?0:t;var i=w.floor(t%60),e=w.floor(t/60%60),r=w.floor(t/3600),s=w.floor(n/60%60),u=w.floor(n/3600);return(m(t)||t===1/0)&&(r=e=i="-"),(r=r>0||u>0?r+":":"")+(e=((r||s>=10)&&e<10?"0"+e:e)+":")+(i=i<10?"0"+i:i)}},{}],85:[function(n,i,e){(function(n){e.__esModule=!0;var i=void 0!==r?r:void 0!==n?n:void 0!==t?t:{},u=void 0!==s?s:{createElement:function(){}};e.window=i,e.document=u}).call(this,void 0!==xr?xr:void 0!==t?t:void 0!==r?r:{})},{}],86:[function(t,n,i){i.__esModule=!0,i.newGUID=function(){return e++};var e=1},{}],87:[function(t,n,i){i.__esModule=!0,i.logByType=void 0;var e=t(85),r=t(78),s=t(89),u=void 0,o=i.logByType=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!!r.IE_VERSION&&r.IE_VERSION<11;"log"!==t&&n.unshift(t.toUpperCase()+":"),u.history.push(n),n.unshift("VIDEOJS:");var o=e.window.console&&e.window.console[t];o&&(i&&(n=n.map(function(t){if((0,s.isObject)(t)||Array.isArray(t))try{return JSON.stringify(t)}catch(n){return String(t)}return String(t)}).join(" ")),o.apply?o[Array.isArray(n)?"apply":"call"](e.window.console,n):o(n))};(u=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];o("log",n)}).history=[],u.error=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return o("error",n)},u.warn=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return o("warn",n)},i.default=u},{78:78,85:85,89:89}],88:[function(t,n,i){i.__esModule=!0,i.default=function t(){for(var n={},i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];return r.forEach(function(i){i&&(0,e.each)(i,function(i,r){(0,e.isPlain)(i)?((0,e.isPlain)(n[r])||(n[r]={}),n[r]=t(n[r],i)):n[r]=i})}),n};var e=t(89)},{89:89}],89:[function(t,n,i){i.__esModule=!0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i.each=u,i.reduce=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return s(t).reduce(function(i,e){return n(i,t[e],e)},i)},i.assign=function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];return _.assign?_.assign.apply(_,[t].concat(i)):(i.forEach(function(n){n&&u(n,function(n,i){t[i]=n})}),t)},i.isObject=o,i.isPlain=function(t){return o(t)&&"[object Object]"===r.call(t)&&t.constructor===_};var r=_.prototype.toString,s=function(t){return o(t)?_.keys(t):[]};function u(t,n){s(t).forEach(function(i){return n(t[i],i)})}function o(t){return!!t&&"object"===(void 0===t?"undefined":e(t))}},{}],90:[function(t,n,i){i.__esModule=!0,i.setTextContent=i.createStyleElement=void 0;var e=t(85);i.createStyleElement=function(t){var n=e.document.createElement("style");return n.className=t,n},i.setTextContent=function(t,n){t.styleSheet?t.styleSheet.cssText=n:t.textContent=n}},{85:85}],91:[function(t,n,i){i.__esModule=!0,i.createTimeRange=void 0,i.createTimeRanges=a;var e,r=t(87),s=(e=r)&&e.__esModule?e:{default:e};function u(t,n,i,e){return void 0===e&&(s.default.warn("DEPRECATED: Function '"+t+"' on 'TimeRanges' called without an index argument."),e=0),function(t,n,i){if(n<0||n>i)throw new v("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+n+") is greater than or equal to the maximum bound ("+i+").")}(t,e,i.length-1),i[e][n]}function o(t){return void 0===t||0===t.length?{length:0,start:function(){throw new v("This TimeRanges object is empty")},end:function(){throw new v("This TimeRanges object is empty")}}:{length:t.length,start:u.bind(null,"start",0,t),end:u.bind(null,"end",1,t)}}function a(t,n){return Array.isArray(t)?o(t):void 0===t||void 0===n?o():o([[t,n]])}i.createTimeRange=a},{87:87}],92:[function(t,n,i){i.__esModule=!0,i.default=function(t){return"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}},{}],93:[function(t,n,i){i.__esModule=!0,i.isCrossOrigin=i.getFileExtension=i.getAbsoluteURL=i.parseUrl=void 0;var e=t(85),r=i.parseUrl=function(t){var n=["protocol","hostname","port","pathname","search","hash","host"],i=e.document.createElement("a");i.href=t;var r=""===i.host&&"file:"!==i.protocol,s=void 0;r&&((s=e.document.createElement("div")).innerHTML='<a href="'+t+'"></a>',i=s.firstChild,s.setAttribute("style","display:none; position:absolute;"),e.document.body.appendChild(s));for(var u={},o=0;o<n.length;o++)u[n[o]]=i[n[o]];return"http:"===u.protocol&&(u.host=u.host.replace(/:80$/,"")),"https:"===u.protocol&&(u.host=u.host.replace(/:443$/,"")),r&&e.document.body.removeChild(s),u};i.getAbsoluteURL=function(t){if(!t.match(/^https?:\/\//)){var n=e.document.createElement("div");n.innerHTML='<a href="'+t+'">x</a>',t=n.firstChild.href}return t},i.getFileExtension=function(t){if("string"==typeof t){var n=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(t);if(n)return n.pop().toLowerCase()}return""},i.isCrossOrigin=function(t){var n=e.window.location,i=r(t),s=":"===i.protocol?n.protocol:i.protocol,u=s+i.host!==n.protocol+n.host;return u}},{85:85}],94:[function(t,n,i){i.__esModule=!0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=t(85),s=t(78),u=Z(s),o=t(81),a=Z(o),h=t(56),c=Z(h),f=t(90),v=Z(f),d=t(5),w=K(d),g=t(42),y=K(g),m=t(82),p=Z(m),k=t(51),b=K(k),A=t(52),T=K(A),S=t(88),E=K(S),I=t(83),R=Z(I),N=t(72),C=K(N),D=t(64),P=K(D),B=t(77),x=K(B),O=t(91),L=t(84),M=K(L),F=t(87),U=K(F),j=t(93),H=Z(j),X=t(89),z=t(80),V=K(z),q=t(43),W=K(q),G=t(122),Y=K(G),$=t(62),Q=K($);function K(t){return t&&t.__esModule?t:{default:t}}function Z(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)_.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function J(t,n,i){var e=void 0;if("string"==typeof t){if(0===t.indexOf("#")&&(t=t.slice(1)),J.getPlayers()[t])return n&&U.default.warn('Player "'+t+'" is already initialised. Options will not be applied.'),i&&J.getPlayers()[t].ready(i),J.getPlayers()[t];e=a.getEl(t)}else e=t;if(!e||!e.nodeName)throw new l("The element or ID supplied is not valid. (videojs)");if(e.player||b.default.players[e.playerId])return e.player||b.default.players[e.playerId];n=n||{},J.hooks("beforesetup").forEach(function(t){var i=t(e,(0,E.default)(n));(0,X.isObject)(i)&&!Array.isArray(i)?n=(0,E.default)(n,i):U.default.error("please return an object in beforesetup hooks")});var r=w.default.getComponent("Player"),s=new r(e,n,i);return J.hooks("setup").forEach(function(t){return t(s)}),s}if("undefined"==typeof HTMLVideoElement&&a.isReal()&&(r.document.createElement("video"),r.document.createElement("audio"),r.document.createElement("track")),J.E2t={},J.hooks=function(t,n){return J.E2t[t]=J.E2t[t]||[],n&&(J.E2t[t]=J.E2t[t].concat(n)),J.E2t[t]},J.hook=function(t,n){J.hooks(t,n)},J.removeHook=function(t,n){var i=J.hooks(t).indexOf(n);return!(i<=-1||(J.E2t[t]=J.E2t[t].slice(),J.E2t[t].splice(i,1),0))},!0!==r.window.VIDEOJS_NO_DYNAMIC_STYLE&&a.isReal()){var tt=a.$(".vjs-styles-defaults");if(!tt){tt=v.createStyleElement("vjs-styles-defaults");var nt=a.$("head");nt&&nt.insertBefore(tt,nt.firstChild),v.setTextContent(tt,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}c.autoSetupTimeout(1,J),J.VERSION="5.20.6-opentelly.9",J.options=b.default.prototype.l0t,J.getPlayers=function(){return b.default.players},J.players=b.default.players,J.getComponent=w.default.getComponent,J.registerComponent=function(t,n){Q.default.isTech(n)&&U.default.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),w.default.registerComponent.call(w.default,t,n)},J.getTech=Q.default.getTech,J.registerTech=Q.default.registerTech,J.browser=u,J.TOUCH_ENABLED=u.TOUCH_ENABLED,J.extend=W.default,J.mergeOptions=E.default,J.bind=R.bind,J.plugin=T.default,J.addLanguage=function(t,n){var i;return t=(""+t).toLowerCase(),J.options.languages=(0,E.default)(J.options.languages,((i={})[t]=n,i)),J.options.languages[t]},J.log=U.default,J.createTimeRange=J.createTimeRanges=O.createTimeRanges,J.formatTime=M.default,J.parseUrl=H.parseUrl,J.isCrossOrigin=H.isCrossOrigin,J.EventTarget=y.default,J.on=p.on,J.one=p.one,J.off=p.off,J.trigger=p.trigger,J.xhr=Y.default,J.TextTrack=C.default,J.AudioTrack=P.default,J.VideoTrack=x.default,J.isEl=a.isEl,J.isTextNode=a.isTextNode,J.createEl=a.createEl,J.hasClass=a.hasElClass,J.addClass=a.addElClass,J.removeClass=a.removeElClass,J.toggleClass=a.toggleElClass,J.setAttributes=a.setElAttributes,J.getAttributes=a.getElAttributes,J.emptyEl=a.emptyEl,J.appendContent=a.appendContent,J.insertContent=a.insertContent,J.computedStyle=V.default,"object"===(void 0===i?"undefined":e(i))&&"object"===(void 0===n?"undefined":e(n))&&(n.exports=J),i.default=J},{122:122,42:42,43:43,5:5,51:51,52:52,56:56,62:62,64:64,72:72,77:77,78:78,80:80,81:81,82:82,83:83,84:84,85:85,87:87,88:88,89:89,90:90,91:91,93:93}],95:[function(t,n,i){var e=t(113),r="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),s=_.prototype.toString,u=Array.prototype.concat,o=_.defineProperty,a=o&&function(){var t={};try{for(var n in o(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),h=function(t,n,i,e){var r;n in t&&("function"!=typeof(r=e)||"[object Function]"!==s.call(r)||!e())||(a?o(t,n,{configurable:!0,enumerable:!1,value:i,writable:!0}):t[n]=i)},c=function(t,n){var i=arguments.length>2?arguments[2]:{},s=e(n);r&&(s=u.call(s,_.getOwnPropertySymbols(n)));for(var o=0;o<s.length;o+=1)h(t,s[o],n[s[o]],i[s[o]])};c.supportsDescriptors=!!a,n.exports=c},{113:113}],96:[function(t,n,i){var e=_.getOwnPropertyDescriptor?function(){return _.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new l},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,s=_.getPrototypeOf||function(t){return t.__proto__},u=void 0===p?void 0:s(p),o={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":r?s([][Symbol.iterator]()):void 0,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":void 0,"$ %AsyncFunction%":void 0,"$ %AsyncFunctionPrototype%":void 0,"$ %AsyncGenerator%":void 0,"$ %AsyncGeneratorFunction%":void 0,"$ %AsyncGeneratorPrototype%":void 0,"$ %AsyncIteratorPrototype%":void 0,"$ %Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?void 0:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":v,"$ %ErrorPrototype%":v.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":void 0,"$ %GeneratorFunction%":void 0,"$ %GeneratorPrototype%":void 0,"$ %Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":m,"$ %IteratorPrototype%":r?s(s([][Symbol.iterator]())):void 0,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?void 0:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&r?s((new Map)[Symbol.iterator]()):void 0,"$ %MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"$ %Math%":w,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":_,"$ %ObjectPrototype%":_.prototype,"$ %ObjProto_toString%":_.prototype.toString,"$ %ObjProto_valueOf%":_.prototype.valueOf,"$ %parseFloat%":y,"$ %parseInt%":g,"$ %Promise%":"undefined"==typeof Promise?void 0:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?void 0:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&r?s((new Set)[Symbol.iterator]()):void 0,"$ %SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":r?s(""[Symbol.iterator]()):void 0,"$ %StringPrototype%":String.prototype,"$ %Symbol%":r?Symbol:void 0,"$ %SymbolPrototype%":r?Symbol.prototype:void 0,"$ %SyntaxError%":d,"$ %SyntaxErrorPrototype%":d.prototype,"$ %ThrowTypeError%":e,"$ %TypedArray%":u,"$ %TypedArrayPrototype%":u?u.prototype:void 0,"$ %TypeError%":l,"$ %TypeErrorPrototype%":l.prototype,"$ %Uint8Array%":void 0===p?void 0:p,"$ %Uint8ArrayPrototype%":void 0===p?void 0:p.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype};n.exports=function(t,n){if(arguments.length>1&&"boolean"!=typeof n)throw new l('"allowMissing" argument must be a boolean');var i="$ "+t;if(!(i in o))throw new d("intrinsic "+t+" does not exist!");if(void 0===o[i]&&!n)throw new l("intrinsic "+t+" exists, but is not available. Please file an issue!");return o[i]}},{}],97:[function(t,n,i){var e=t(96),r=e("%Object%"),s=e("%TypeError%"),u=e("%String%"),o=t(98),a=t(100),h=t(99),c=t(102),f=t(101),v=t(110),d=t(103),_=t(109),g={ToPrimitive:d,ToBoolean:function(t){return!!t},ToNumber:function(t){return+t},ToInteger:function(t){var n=this.ToNumber(t);return a(n)?0:0!==n&&h(n)?c(n)*w.floor(w.abs(n)):n},ToInt32:function(t){return this.ToNumber(t)>>0},ToUint32:function(t){return this.ToNumber(t)>>>0},ToUint16:function(t){var n=this.ToNumber(t);if(a(n)||0===n||!h(n))return 0;var i=c(n)*w.floor(w.abs(n));return f(i,65536)},ToString:function(t){return u(t)},ToObject:function(t){return this.CheckObjectCoercible(t),r(t)},CheckObjectCoercible:function(t,n){if(null==t)throw new s(n||"Cannot call method on "+t);return t},IsCallable:v,SameValue:function(t,n){return t===n?0!==t||1/t==1/n:a(t)&&a(n)},Type:function(t){return null===t?"Null":void 0===t?"Undefined":"function"==typeof t||"object"==typeof t?"Object":"number"==typeof t?"Number":"boolean"==typeof t?"Boolean":"string"==typeof t?"String":void 0},IsPropertyDescriptor:function(t){if("Object"!==this.Type(t))return!1;var n={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var i in t)if(_(t,i)&&!n[i])return!1;var e=_(t,"[[Value]]"),r=_(t,"[[Get]]")||_(t,"[[Set]]");if(e&&r)throw new s("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(t){return void 0!==t&&(o(this,"Property Descriptor","Desc",t),!(!_(t,"[[Get]]")&&!_(t,"[[Set]]")))},IsDataDescriptor:function(t){return void 0!==t&&(o(this,"Property Descriptor","Desc",t),!(!_(t,"[[Value]]")&&!_(t,"[[Writable]]")))},IsGenericDescriptor:function(t){return void 0!==t&&(o(this,"Property Descriptor","Desc",t),!this.IsAccessorDescriptor(t)&&!this.IsDataDescriptor(t))},FromPropertyDescriptor:function(t){if(void 0===t)return t;if(o(this,"Property Descriptor","Desc",t),this.IsDataDescriptor(t))return{value:t["[[Value]]"],writable:!!t["[[Writable]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};if(this.IsAccessorDescriptor(t))return{get:t["[[Get]]"],set:t["[[Set]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};throw new s("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(t){if("Object"!==this.Type(t))throw new s("ToPropertyDescriptor requires an object");var n={};if(_(t,"enumerable")&&(n["[[Enumerable]]"]=this.ToBoolean(t.enumerable)),_(t,"configurable")&&(n["[[Configurable]]"]=this.ToBoolean(t.configurable)),_(t,"value")&&(n["[[Value]]"]=t.value),_(t,"writable")&&(n["[[Writable]]"]=this.ToBoolean(t.writable)),_(t,"get")){var i=t.get;if(void 0!==i&&!this.IsCallable(i))throw new l("getter must be a function");n["[[Get]]"]=i}if(_(t,"set")){var e=t.set;if(void 0!==e&&!this.IsCallable(e))throw new s("setter must be a function");n["[[Set]]"]=e}if((_(n,"[[Get]]")||_(n,"[[Set]]"))&&(_(n,"[[Value]]")||_(n,"[[Writable]]")))throw new s("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return n}};n.exports=g},{100:100,101:101,102:102,103:103,109:109,110:110,96:96,98:98,99:99}],98:[function(t,n,i){var e=t(96),r=e("%TypeError%"),s=e("%SyntaxError%"),u=t(109),o={"Property Descriptor":function(t,n){if("Object"!==t.Type(n))return!1;var i={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var e in n)if(u(n,e)&&!i[e])return!1;var s=u(n,"[[Value]]"),o=u(n,"[[Get]]")||u(n,"[[Set]]");if(s&&o)throw new r("Property Descriptors may not be both accessor and data descriptors");return!0}};n.exports=function(t,n,i,e){var u=o[n];if("function"!=typeof u)throw new s("unknown record type: "+n);if(!u(t,e))throw new r(i+" must be a "+n);console.log(u(t,e),e)}},{109:109,96:96}],99:[function(t,n,i){var e=Number.isNaN||function(t){return t!=t};n.exports=Number.isFinite||function(t){return"number"==typeof t&&!e(t)&&t!==1/0&&t!==-1/0}},{}],100:[function(t,n,i){n.exports=Number.isNaN||function(t){return t!=t}},{}],101:[function(t,n,i){n.exports=function(t,n){var i=t%n;return w.floor(i>=0?i:i+n)}},{}],102:[function(t,n,i){n.exports=function(t){return t>=0?1:-1}},{}],103:[function(t,n,i){var e=_.prototype.toString,r=t(104),s=t(110),u={"[[DefaultValue]]":function(t){var n;if((n=arguments.length>1?arguments[1]:"[object Date]"===e.call(t)?String:Number)===String||n===Number){var i,u,o=n===String?["toString","valueOf"]:["valueOf","toString"];for(u=0;u<o.length;++u)if(s(t[o[u]])&&(i=t[o[u]](),r(i)))return i;throw new l("No default value")}throw new l("invalid [[DefaultValue]] hint supplied")}};n.exports=function(t){return r(t)?t:arguments.length>1?u["[[DefaultValue]]"](t,arguments[1]):u["[[DefaultValue]]"](t)}},{104:104,110:110}],104:[function(t,n,i){n.exports=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t}},{}],105:[function(t,n,i){var e=t(110),r=_.prototype.toString,s=_.prototype.hasOwnProperty;n.exports=function(t,n,i){if(!e(n))throw new l("iterator must be a function");var u;arguments.length>=3&&(u=i),"[object Array]"===r.call(t)?function(t,n,i){for(var e=0,r=t.length;e<r;e++)s.call(t,e)&&(null==i?n(t[e],e,t):n.call(i,t[e],e,t))}(t,n,u):"string"==typeof t?function(t,n,i){for(var e=0,r=t.length;e<r;e++)null==i?n(t.charAt(e),e,t):n.call(i,t.charAt(e),e,t)}(t,n,u):function(t,n,i){for(var e in t)s.call(t,e)&&(null==i?n(t[e],e,t):n.call(i,t[e],e,t))}(t,n,u)}},{110:110}],106:[function(t,n,i){var e=Array.prototype.slice,r=_.prototype.toString;n.exports=function(t){var n=this;if("function"!=typeof n||"[object Function]"!==r.call(n))throw new l("Function.prototype.bind called on incompatible "+n);for(var i,s=e.call(arguments,1),u=w.max(0,n.length-s.length),o=[],a=0;a<u;a++)o.push("$"+a);if(i=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof i){var r=n.apply(this,s.concat(e.call(arguments)));return _(r)===r?r:this}return n.apply(t,s.concat(e.call(arguments)))}),n.prototype){var h=function(){};h.prototype=n.prototype,i.prototype=new h,h.prototype=null}return i}},{}],107:[function(t,n,i){var e=t(106);n.exports=Function.prototype.bind||e},{106:106}],108:[function(n,i,e){(function(n){i.exports=void 0!==r?r:void 0!==n?n:void 0!==t?t:{}}).call(this,void 0!==xr?xr:void 0!==t?t:void 0!==r?r:{})},{}],109:[function(t,n,i){var e=t(107);n.exports=e.call(Function.call,_.prototype.hasOwnProperty)},{107:107}],110:[function(t,n,i){var e=Function.prototype.toString,r=/^\s*class\b/,s=function(t){try{var n=e.call(t);return r.test(n)}catch(t){return!1}},u=_.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;n.exports=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(o)return function(t){try{return!s(t)&&(e.call(t),!0)}catch(t){return!1}}(t);if(s(t))return!1;var n=u.call(t);return"[object Function]"===n||"[object GeneratorFunction]"===n}},{}],111:[function(t,n,i){n.exports=function(t){var n=e.call(t);return"[object Function]"===n||"function"==typeof t&&"[object RegExp]"!==n||void 0!==r&&(t===r.setTimeout||t===r.alert||t===r.confirm||t===r.prompt)};var e=_.prototype.toString},{}],112:[function(t,n,i){var e;if(!_.keys){var s=_.prototype.hasOwnProperty,u=_.prototype.toString,o=t(114),a=_.prototype.propertyIsEnumerable,h=!a.call({toString:null},"toString"),c=a.call(function(){},"prototype"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],v=function(t){var n=t.constructor;return n&&n.prototype===t},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},w=function(){if(void 0===r)return!1;for(var t in r)try{if(!d["$"+t]&&s.call(r,t)&&null!==r[t]&&"object"==typeof r[t])try{v(r[t])}catch(t){return!0}}catch(t){return!0}return!1}();e=function(t){var n=null!==t&&"object"==typeof t,i="[object Function]"===u.call(t),e=o(t),a=n&&"[object String]"===u.call(t),d=[];if(!n&&!i&&!e)throw new l("Object.keys called on a non-object");var _=c&&i;if(a&&t.length>0&&!s.call(t,0))for(var g=0;g<t.length;++g)d.push(String(g));if(e&&t.length>0)for(var y=0;y<t.length;++y)d.push(String(y));else for(var m in t)_&&"prototype"===m||!s.call(t,m)||d.push(String(m));if(h)for(var p=function(t){if(void 0===r||!w)return v(t);try{return v(t)}catch(t){return!1}}(t),k=0;k<f.length;++k)p&&"constructor"===f[k]||!s.call(t,f[k])||d.push(f[k]);return d}}n.exports=e},{114:114}],113:[function(t,n,i){var e=Array.prototype.slice,r=t(114),s=_.keys,u=s?function(t){return s(t)}:t(112),o=_.keys;u.shim=function(){if(_.keys){var t=function(){var t=_.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(_.keys=function(t){return r(t)?o(e.call(t)):o(t)})}else _.keys=u;return _.keys||u},n.exports=u},{112:112,114:114}],114:[function(t,n,i){var e=_.prototype.toString;n.exports=function(t){var n=e.call(t),i="[object Arguments]"===n;return i||(i="[object Array]"!==n&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),i}},{}],115:[function(t,n,i){var e=t(118),r=t(105);n.exports=function(t){if(!t)return{};var n={};return r(e(t).split("\n"),function(t){var i,r=t.indexOf(":"),s=e(t.slice(0,r)).toLowerCase(),u=e(t.slice(r+1));void 0===n[s]?n[s]=u:(i=n[s],"[object Array]"===_.prototype.toString.call(i)?n[s].push(u):n[s]=[n[s],u])}),n}},{105:105,118:118}],116:[function(t,n,i){n.exports=function(t,n){var i,e=null;try{i=JSON.parse(t,n)}catch(t){e=t}return[e,i]}},{}],117:[function(t,n,i){var e=t(107),r=t(97),s=e.call(Function.call,String.prototype.replace),u=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,o=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;n.exports=function(){var t=r.ToString(r.CheckObjectCoercible(this));return s(s(t,u,""),o,"")}},{107:107,97:97}],118:[function(t,n,i){var e=t(107),r=t(95),s=t(117),u=t(119),o=t(120),a=e.call(Function.call,u());r(a,{getPolyfill:u,implementation:s,shim:o}),n.exports=a},{107:107,117:117,119:119,120:120,95:95}],119:[function(t,n,i){var e=t(117);n.exports=function(){return String.prototype.trim&&"\u200b"==="\u200b".trim()?String.prototype.trim:e}},{117:117}],120:[function(t,n,i){var e=t(95),r=t(119);n.exports=function(){var t=r();return e(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t}},{119:119,95:95}],121:[function(t,n,i){function e(t){return t.replace(/\n\r?\s*/g,"")}n.exports=function(t){for(var n="",i=0;i<arguments.length;i++)n+=e(t[i])+(arguments[i+1]||"");return n}},{}],122:[function(t,n,i){var e=t(108),r=t(111),s=t(115),u=t(123);function o(t,n,i){var e=t;return r(n)?(i=n,"string"==typeof t&&(e={uri:t})):e=u(n,{uri:t}),e.callback=i,e}function c(t,n,i){return f(n=o(t,n,i))}function f(t){if(void 0===t.callback)throw new v("callback argument missing");var n=!1,i=function(i,e,r){n||(n=!0,t.callback(i,e,r))};function e(){var t=void 0;if(t=d.response?d.response:d.responseText||function(t){if("document"===t.responseType)return t.responseXML;var n=204===t.status&&t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;return""!==t.responseType||n?null:t.responseXML}(d),k)try{t=JSON.parse(t)}catch(t){}return t}var r={body:void 0,headers:{},statusCode:0,method:g,url:w,rawRequest:d};function u(t){return h(_),t instanceof v||(t=new v(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,i(t,r)}function o(){if(!l){var n;h(_),n=t.useXDR&&void 0===d.status?200:1223===d.status?204:d.status;var u=r,o=null;return 0!==n?(u={body:e(),statusCode:n,method:g,headers:{},url:w,rawRequest:d},d.getAllResponseHeaders&&(u.headers=s(d.getAllResponseHeaders()))):o=new v("Internal XMLHttpRequest Error"),i(o,u,u.body)}}var f,l,d=t.xhr||null;d||(d=t.cors||t.useXDR?new c.XDomainRequest:new c.XMLHttpRequest);var _,w=d.url=t.uri||t.url,g=d.method=t.method||"GET",y=t.body||t.data||null,m=d.headers=t.headers||{},p=!!t.sync,k=!1;if("json"in t&&(k=!0,m.accept||m.Accept||(m.Accept="application/json"),"GET"!==g&&"HEAD"!==g&&(m["content-type"]||m["Content-Type"]||(m["Content-Type"]="application/json"),y=JSON.stringify(t.json))),d.onreadystatechange=function(){4===d.readyState&&o()},d.onload=o,d.onerror=u,d.onprogress=function(){},d.ontimeout=u,d.open(g,w,!p,t.username,t.password),p||(d.withCredentials=!!t.withCredentials),!p&&t.timeout>0&&(_=a(function(){l=!0,d.abort("timeout");var t=new v("XMLHttpRequest timeout");t.code="ETIMEDOUT",u(t)},t.timeout)),d.setRequestHeader)for(f in m)m.hasOwnProperty(f)&&d.setRequestHeader(f,m[f]);else if(t.headers&&!function(t){for(var n in t)if(t.hasOwnProperty(n))return!1;return!0}(t.headers))throw new v("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(d.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(d),d.send(y),d}n.exports=c,c.XMLHttpRequest=e.XMLHttpRequest||function(){},c.XDomainRequest="withCredentials"in new c.XMLHttpRequest?c.XMLHttpRequest:e.XDomainRequest,function(t,n){for(var i=0;i<t.length;i++)n(t[i])}(["get","put","post","patch","head","delete"],function(t){c["delete"===t?"del":t]=function(n,i,e){return(i=o(n,i,e)).method=t.toUpperCase(),f(i)}})},{108:108,111:111,115:115,123:123}],123:[function(t,n,i){n.exports=function(){for(var t={},n=0;n<arguments.length;n++){var i=arguments[n];for(var r in i)e.call(i,r)&&(t[r]=i[r])}return t};var e=_.prototype.hasOwnProperty},{}]},{},[94])(94));var S2=function(t){function n(n,i){var e;if((e=t.call(this,n,i)||this).I2t=void 0,e.controlText("Close Picture-in-Picture"),!function(t){return!!t&&Boolean(t.I2t)}(i))throw new v("Invalid Picture-in-picture options.");return e.I2t=i.I2t,e}E(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-close-button theo-pip-close"},i.handleClick=function(){this.I2t.R2t()},n}(T2.getComponent("Button"));T2.registerComponent("THEOPiPCloseButton",S2);var E2=.1,I2=function(){function t(t){this.i0t=void 0,this.N2t=1,this.C2t=0,this.D2t=[],this.H_=void 0,this.i0t=t,this.P2t(E2,this.B2t())}var n=t.prototype;return n.B2t=function(t){var n=this;return function(i){n.N2t=i,null==t||t(n.N2t)}},n.P2t=function(t,n){if(m(t))throw new l("step is not of the right type");if(t>1||t<=0)throw new RangeError("The step must be a number greater than 0 and smaller than or equal to 1");var i;return i="function"==typeof r.IntersectionObserver?new p2(this.i0t,t,this.B2t(n)):new k2(this.i0t,t,this.B2t(n)),this.D2t.push(i),i},n.x2t=function(t){t.Ly(),Ws(this.D2t,t)},n.O2t=function(t){for(var n=0,i=this.D2t;n<i.length;n++){var e=i[n];if(e.X_===t)return e}},n.Ed=function(){for(var t=0,n=this.D2t;t<n.length;t++){n[t].Ly()}Qs(this.D2t)},T(t,[{key:"L2t",get:function(){return this.N2t}},{key:"M2t",get:function(){return this.C2t},set:function(t){if(m(t)||t<0||t>1)throw new RangeError("The threshold must be a value between 0 and 1");this.C2t=t}},{key:"X_",get:function(){var t;return this.H_||(this.H_=(t=this,{get ratio(){return t.L2t},get visible(){return t.L2t>t.M2t},get visibleThreshold(){return t.M2t},set visibleThreshold(n){n=Ig(n),t.M2t=n},addObserver:function(n,i){return n=Ig(n),t.P2t(n,i).X_},removeObserver:function(n){var i=t.O2t(n);i&&t.x2t(i)}})),this.H_}}]),t}();jN(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).F2t=void 0,e.F2t=new I2(n),e}E(n,t);var i=n.prototype;return i.z_=function(){var n=this;return pg(t.prototype.z_.call(this),{get visibility(){return n.F2t.X_}})},i.Ed=function(){this.F2t&&(this.F2t.Ed(),this.F2t=void 0),t.prototype.Ed.call(this)},n}(t)},xN.OF),function(t,n){(UN[n]||(UN[n]=[])).push(t)}(function(t){return function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).F2t=void 0,r.F2t=new I2(n),r}E(n,t);var i=n.prototype;return i.z_=function(){var n=this;return pg(t.prototype.z_.call(this),{get visibility(){return n.F2t.X_}})},i.Ed=function(){this.F2t&&(this.F2t.Ed(),this.F2t=void 0),t.prototype.Ed.call(this)},n}(t)},ON.LF),n.ChromelessPlayer=oC,n.Player=oC,n.cache=g2,n.cast=E0,n.features=cC,n.playerSuiteVersion="2023.1.2",n.players=fC,n.registerContentProtectionIntegration=vC,n.utils=hC,n.version="4.8.0",_.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
